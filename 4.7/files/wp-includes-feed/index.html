<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="wordpress" data-version="4.7" data-type="file" data-id="4760"><head xmlns="http://www.w3.org/1999/xhtml"><title> wp-includes-feed | file | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, wordpress, 4.7" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.25"}};!function(e,n,t){var a;function i(e){var t=n.createElement("canvas"),a=t.getContext&&t.getContext("2d"),i=String.fromCharCode;return!(!a||!a.fillText)&&(a.textBaseline="top",a.font="600 32px Arial","flag"===e?(a.fillText(i(55356,56806,55356,56826),0,0),3e3<t.toDataURL().length):"diversity"===e?(a.fillText(i(55356,57221),0,0),t=a.getImageData(16,16,1,1).data,a.fillText(i(55356,57221,55356,57343),0,0),(t=a.getImageData(16,16,1,1).data)[0],t[1],t[2],t[3],!0):("simple"===e?a.fillText(i(55357,56835),0,0):a.fillText(i(55356,57135),0,0),0!==a.getImageData(16,16,1,1).data[0]))}function o(e){var t=n.createElement("script");t.src=e,t.type="text/javascript",n.getElementsByTagName("head")[0].appendChild(t)}t.supports={simple:i("simple"),flag:i("flag"),unicode8:i("unicode8"),diversity:i("diversity")},t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.simple&&t.supports.flag&&t.supports.unicode8&&t.supports.diversity||(a=function(){t.readyCallback()},n.addEventListener?(n.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)):(e.attachEvent("onload",a),n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&t.readyCallback()})),(a=t.source||{}).concatemoji?o(a.concatemoji):a.wpemoji&&a.twemoji&&(o(a.twemoji),o(a.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=32323313c87e6ade632a7a34c7469a59' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.25' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/wp-includes-feed/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-includes-feed%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-includes-feed%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7-file-wp-includes-feed","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wp-includes-feed" class="blog single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7." href="http://hookr.io/4.7/" class="H_VERSION"><span property="name">4.7</span></a><meta property="position" content="2"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wp-includes-feed</span><meta property="position" content="3"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="6307"><a href="http://hookr.io/4.7/all/" title="All">All <span class="count badge">6307</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/4.7/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="2531"><a href="http://hookr.io/4.7/hooks/" title="Hooks">Hooks <span class="count badge">2531</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1667"><a href="http://hookr.io/4.7/filters/" title="Filters">Filters <span class="count badge">1667</span></a></li><li class="" data-id="class" data-count="351"><a href="http://hookr.io/4.7/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="" data-id="function" data-count="2851"><a href="http://hookr.io/4.7/functions/" title="Functions">Functions <span class="count badge">2851</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/wp-includes/feed.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * WordPress Feed API</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Many of the functions used in here belong in The Loop, or The Loop for the</span>&nbsp;</div></li><li><div><span class="comment"> * Feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @package WordPress</span>&nbsp;</div></li><li><div><span class="comment"> * @subpackage Feed</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * RSS container for the bloginfo function.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * You can retrieve anything that you can using the get_bloginfo() function.</span>&nbsp;</div></li><li><div><span class="comment"> * Everything will be stripped of tags and characters converted, when the values</span>&nbsp;</div></li><li><div><span class="comment"> * are retrieved for use in the feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.1</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_bloginfo() For the list of possible values to display.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $show See get_bloginfo() for possible values.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_bloginfo_rss($show = '') {&nbsp;</div></li><li><div>  $info = strip_tags(get_bloginfo($show));&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the bloginfo for use in RSS feeds.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see convert_chars()</span>&nbsp;</div></li><li><div><span class="comment">   * @see get_bloginfo()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $info Converted string value of the blog information.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $show The type of blog information to retrieve.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_bloginfo_rss', convert_chars( $info ), $show );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display RSS container for the bloginfo function.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * You can retrieve anything that you can using the get_bloginfo() function.</span>&nbsp;</div></li><li><div><span class="comment"> * Everything will be stripped of tags and characters converted, when the values</span>&nbsp;</div></li><li><div><span class="comment"> * are retrieved for use in the feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_bloginfo() For the list of possible values to display.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $show See get_bloginfo() for possible values.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function bloginfo_rss($show = '') {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the bloginfo for display in RSS feeds.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see get_bloginfo()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $rss_container RSS container for the blog information.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $show          The type of blog information to retrieve.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'bloginfo_rss', get_bloginfo_rss( $show ), $show );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the default feed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The default feed is 'rss2', unless a plugin changes it through the</span>&nbsp;</div></li><li><div><span class="comment"> * {@see 'default_feed'} filter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Default feed, or for example 'rss2', 'atom', etc.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_default_feed() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the default feed type.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $feed_type Type of default feed. Possible values include 'rss2', 'atom'.</span>&nbsp;</div></li><li><div><span class="comment">   *                          Default 'rss2'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $default_feed = apply_filters( 'default_feed', 'rss2' );&nbsp;</div></li><li><div>  return 'rss' == $default_feed ? 'rss2' : $default_feed;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the blog title for the feed title.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.4.0 The optional `$sep` parameter was deprecated and renamed to `$deprecated`.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $deprecated Unused..</span>&nbsp;</div></li><li><div><span class="comment"> * @return string The document title.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_wp_title_rss( $deprecated = '&#8211;' ) {&nbsp;</div></li><li><div>  if ( '&#8211;' !== $deprecated ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">/** translators: %s: 'document_title_separator' filter name */</span></span>&nbsp;</div></li><li><div>      _deprecated_argument( __FUNCTION__, '4.4.0', sprintf( __( 'Use the %s filter instead.' ), '&lt;code&gt;document_title_separator&lt;/code&gt;' ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the blog title for use as the feed title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0 The `$sep` parameter was deprecated and renamed to `$deprecated`.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $title      The current blog title.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $deprecated Unused.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_wp_title_rss', wp_get_document_title(), $deprecated );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the blog title for display of the feed title.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.4.0 The optional `$sep` parameter was deprecated and renamed to `$deprecated`.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $deprecated Unused.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_title_rss( $deprecated = '&#8211;' ) {&nbsp;</div></li><li><div>  if ( '&#8211;' !== $deprecated ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">/** translators: %s: 'document_title_separator' filter name */</span></span>&nbsp;</div></li><li><div>      _deprecated_argument( __FUNCTION__, '4.4.0', sprintf( __( 'Use the %s filter instead.' ), '&lt;code&gt;document_title_separator&lt;/code&gt;' ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the blog title for display of the feed title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0 The `$sep` parameter was deprecated and renamed to `$deprecated`.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see get_wp_title_rss()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $wp_title_rss The current blog title.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $deprecated   Unused.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'wp_title_rss', get_wp_title_rss(), $deprecated );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the current post title for the feed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Current post title.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_title_rss() {&nbsp;</div></li><li><div>  $title = get_the_title();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the post title for use in a feed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $title The current post title.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'the_title_rss', $title );&nbsp;</div></li><li><div>  return $title;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the post title in the feed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_title_rss() {&nbsp;</div></li><li><div>  echo get_the_title_rss();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the post content for feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.9.0</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_the_content()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $feed_type The type of feed. rss2 | atom | rss | rdf</span>&nbsp;</div></li><li><div><span class="comment"> * @return string The filtered content.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_content_feed($feed_type = null) {&nbsp;</div></li><li><div>  if ( !$feed_type )&nbsp;</div></li><li><div>      $feed_type = get_default_feed();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** This filter is documented in wp-includes/post-template.php */</span>&nbsp;</div></li><li><div>  $content = apply_filters( 'the_content', get_the_content() );&nbsp;</div></li><li><div>  $content = str_replace(']]&gt;', ']]&gt;', $content);&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the post content for use in feeds.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.9.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $content   The current post content.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $feed_type Type of feed. Possible values include 'rss2', 'atom'.</span>&nbsp;</div></li><li><div><span class="comment">   *                          Default 'rss2'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'the_content_feed', $content, $feed_type );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the post content for feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.9.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $feed_type The type of feed. rss2 | atom | rss | rdf</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_content_feed($feed_type = null) {&nbsp;</div></li><li><div>  echo get_the_content_feed($feed_type);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the post excerpt for the feed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_excerpt_rss() {&nbsp;</div></li><li><div>  $output = get_the_excerpt();&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the post excerpt for a feed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $output The current post excerpt.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'the_excerpt_rss', $output );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the permalink to the post for use in feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_permalink_rss() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the permalink to the post for use in feeds.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $post_permalink The current post permalink.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo esc_url( apply_filters( 'the_permalink_rss', get_permalink() ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the link to the comments for the current post in an xml safe way</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @return none</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function comments_link_feed() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the comments permalink for the current post.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $comment_permalink The current comment permalink with</span>&nbsp;</div></li><li><div><span class="comment">   *                                  '#comments' appended.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo esc_url( apply_filters( 'comments_link_feed', get_comments_link() ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the feed GUID for the current comment.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Comment $comment_id Optional comment object or id. Defaults to global comment object.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function comment_guid($comment_id = null) {&nbsp;</div></li><li><div>  echo esc_url( get_comment_guid($comment_id) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the feed GUID for the current comment.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Comment $comment_id Optional comment object or id. Defaults to global comment object.</span>&nbsp;</div></li><li><div><span class="comment"> * @return false|string false on failure or guid for comment on success.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_comment_guid($comment_id = null) {&nbsp;</div></li><li><div>  $comment = get_comment($comment_id);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !is_object($comment) )&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return get_the_guid($comment-&gt;comment_post_ID) . '#comment-' . $comment-&gt;comment_ID;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the link to the comments.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.4.0 Introduced the `$comment` argument.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Comment $comment Optional. Comment object or id. Defaults to global comment object.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function comment_link( $comment = null ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the current comment's permalink.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see get_comment_link()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $comment_permalink The current comment permalink.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo esc_url( apply_filters( 'comment_link', get_comment_link( $comment ) ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the current comment author for use in the feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Comment Author</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_comment_author_rss() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the current comment author for use in a feed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see get_comment_author()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $comment_author The current comment author.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'comment_author_rss', get_comment_author() );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the current comment author in the feed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function comment_author_rss() {&nbsp;</div></li><li><div>  echo get_comment_author_rss();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the current comment content for use in the feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function comment_text_rss() {&nbsp;</div></li><li><div>  $comment_text = get_comment_text();&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the current comment content for use in a feed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $comment_text The content of the current comment.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $comment_text = apply_filters( 'comment_text_rss', $comment_text );&nbsp;</div></li><li><div>  echo $comment_text;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve all of the post categories, formatted for use in feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * All of the categories for the current post in the feed loop, will be</span>&nbsp;</div></li><li><div><span class="comment"> * retrieved and have feed markup added, so that they can easily be added to the</span>&nbsp;</div></li><li><div><span class="comment"> * RSS2, Atom, or RSS1 and RSS0.91 RDF feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $type Optional, default is the type returned by get_default_feed().</span>&nbsp;</div></li><li><div><span class="comment"> * @return string All of the post categories for displaying in the feed.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_category_rss($type = null) {&nbsp;</div></li><li><div>  if ( empty($type) )&nbsp;</div></li><li><div>      $type = get_default_feed();&nbsp;</div></li><li><div>  $categories = get_the_category();&nbsp;</div></li><li><div>  $tags = get_the_tags();&nbsp;</div></li><li><div>  $the_list = '';&nbsp;</div></li><li><div>  $cat_names = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $filter = 'rss';&nbsp;</div></li><li><div>  if ( 'atom' == $type )&nbsp;</div></li><li><div>      $filter = 'raw';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !empty($categories) ) foreach ( (array) $categories as $category ) {&nbsp;</div></li><li><div>      $cat_names[] = sanitize_term_field('name', $category-&gt;name, $category-&gt;term_id, 'category', $filter);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !empty($tags) ) foreach ( (array) $tags as $tag ) {&nbsp;</div></li><li><div>      $cat_names[] = sanitize_term_field('name', $tag-&gt;name, $tag-&gt;term_id, 'post_tag', $filter);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $cat_names = array_unique($cat_names);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( $cat_names as $cat_name ) {&nbsp;</div></li><li><div>      if ( 'rdf' == $type )&nbsp;</div></li><li><div>          $the_list .= &quot;\t\t&lt;dc:subject&gt;&lt;![CDATA[$cat_name]]&gt;&lt;/dc:subject&gt;\n&quot;;&nbsp;</div></li><li><div>      elseif ( 'atom' == $type )&nbsp;</div></li><li><div>          $the_list .= sprintf( '&lt;category scheme=&quot;%1$s&quot; term=&quot;%2$s&quot; /&gt;', esc_attr( get_bloginfo_rss( 'url' ) ), esc_attr( $cat_name ) );&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          $the_list .= &quot;\t\t&lt;category&gt;&lt;![CDATA[&quot; . @html_entity_decode( $cat_name, ENT_COMPAT, get_option('blog_charset') ) . &quot;]]&gt;&lt;/category&gt;\n&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters all of the post categories for display in a feed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $the_list All of the RSS post categories.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $type     Type of feed. Possible values include 'rss2', 'atom'.</span>&nbsp;</div></li><li><div><span class="comment">   *                         Default 'rss2'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'the_category_rss', $the_list, $type );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the post categories in the feed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_the_category_rss() For better explanation.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $type Optional, default is the type returned by get_default_feed().</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_category_rss($type = null) {&nbsp;</div></li><li><div>  echo get_the_category_rss($type);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the HTML type based on the blog setting.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The two possible values are either 'xhtml' or 'html'.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function html_type_rss() {&nbsp;</div></li><li><div>  $type = get_bloginfo('html_type');&nbsp;</div></li><li><div>  if (strpos($type, 'xhtml') !== false)&nbsp;</div></li><li><div>      $type = 'xhtml';&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      $type = 'html';&nbsp;</div></li><li><div>  echo $type;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the rss enclosure for the current post.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Uses the global $post to check whether the post requires a password and if</span>&nbsp;</div></li><li><div><span class="comment"> * the user has the password for the post. If not then it will return before</span>&nbsp;</div></li><li><div><span class="comment"> * displaying.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Also uses the function get_post_custom() to get the post's 'enclosure'</span>&nbsp;</div></li><li><div><span class="comment"> * metadata field and parses the value to display the enclosure(s). The</span>&nbsp;</div></li><li><div><span class="comment"> * enclosure(s) consist of enclosure HTML tag(s) with a URI and other</span>&nbsp;</div></li><li><div><span class="comment"> * attributes.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function rss_enclosure() {&nbsp;</div></li><li><div>  if ( post_password_required() )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( (array) get_post_custom() as $key =&gt; $val) {&nbsp;</div></li><li><div>      if ($key == 'enclosure') {&nbsp;</div></li><li><div>          foreach ( (array) $val as $enc ) {&nbsp;</div></li><li><div>              $enclosure = explode(&quot;\n&quot;, $enc);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">// only get the first element, e.g. audio/mpeg from 'audio/mpeg mpga mp2 mp3'</span>&nbsp;</div></li><li><div>              $t = preg_split('/[ \t]/', trim($enclosure[2]) );&nbsp;</div></li><li><div>              $type = $t[0];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">               * Filters the RSS enclosure HTML link tag for the current post.</span>&nbsp;</div></li><li><div><span class="comment">               *</span>&nbsp;</div></li><li><div><span class="comment">               * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">               *</span>&nbsp;</div></li><li><div><span class="comment">               * @param string $html_link_tag The HTML link tag with a URI and other attributes.</span>&nbsp;</div></li><li><div><span class="comment">               */</span>&nbsp;</div></li><li><div>              echo apply_filters( 'rss_enclosure', '&lt;enclosure url=&quot;' . trim( htmlspecialchars( $enclosure[0] ) ) . '&quot; length=&quot;' . trim( $enclosure[1] ) . '&quot; type=&quot;' . $type . '&quot; /&gt;' . &quot;\n&quot; );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the atom enclosure for the current post.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Uses the global $post to check whether the post requires a password and if</span>&nbsp;</div></li><li><div><span class="comment"> * the user has the password for the post. If not then it will return before</span>&nbsp;</div></li><li><div><span class="comment"> * displaying.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Also uses the function get_post_custom() to get the post's 'enclosure'</span>&nbsp;</div></li><li><div><span class="comment"> * metadata field and parses the value to display the enclosure(s). The</span>&nbsp;</div></li><li><div><span class="comment"> * enclosure(s) consist of link HTML tag(s) with a URI and other attributes.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function atom_enclosure() {&nbsp;</div></li><li><div>  if ( post_password_required() )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( (array) get_post_custom() as $key =&gt; $val ) {&nbsp;</div></li><li><div>      if ($key == 'enclosure') {&nbsp;</div></li><li><div>          foreach ( (array) $val as $enc ) {&nbsp;</div></li><li><div>              $enclosure = explode(&quot;\n&quot;, $enc);&nbsp;</div></li><li><div>              <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">               * Filters the atom enclosure HTML link tag for the current post.</span>&nbsp;</div></li><li><div><span class="comment">               *</span>&nbsp;</div></li><li><div><span class="comment">               * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">               *</span>&nbsp;</div></li><li><div><span class="comment">               * @param string $html_link_tag The HTML link tag with a URI and other attributes.</span>&nbsp;</div></li><li><div><span class="comment">               */</span>&nbsp;</div></li><li><div>              echo apply_filters( 'atom_enclosure', '&lt;link href=&quot;' . trim( htmlspecialchars( $enclosure[0] ) ) . '&quot; rel=&quot;enclosure&quot; length=&quot;' . trim( $enclosure[1] ) . '&quot; type=&quot;' . trim( $enclosure[2] ) . '&quot; /&gt;' . &quot;\n&quot; );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Determine the type of a string of data with the data formatted.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Tell whether the type is text, html, or xhtml, per RFC 4287 section 3.1.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * In the case of WordPress, text is defined as containing no markup, </span>&nbsp;</div></li><li><div><span class="comment"> * xhtml is defined as &quot;well formed&quot;, and html as tag soup (i.e., the rest).</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Container div tags are added to xhtml values, per section 3.1.1.3.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @link http://www.atomenabled.org/developers/syndication/atom-format-spec.php#rfc.section.3.1</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $data Input string</span>&nbsp;</div></li><li><div><span class="comment"> * @return array array(type, value)</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function prep_atom_text_construct($data) {&nbsp;</div></li><li><div>  if (strpos($data, '&lt;') === false && strpos($data, '&') === false) {&nbsp;</div></li><li><div>      return array('text', $data);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! function_exists( 'xml_parser_create' ) ) {&nbsp;</div></li><li><div>      trigger_error( __( &quot;PHP's XML extension is not available. Please contact your hosting provider to enable PHP's XML extension.&quot; ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return array( 'html', &quot;&lt;![CDATA[$data]]&gt;&quot; );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $parser = xml_parser_create();&nbsp;</div></li><li><div>  xml_parse($parser, '&lt;div&gt;' . $data . '&lt;/div&gt;', true);&nbsp;</div></li><li><div>  $code = xml_get_error_code($parser);&nbsp;</div></li><li><div>  xml_parser_free($parser);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (!$code) {&nbsp;</div></li><li><div>      if (strpos($data, '&lt;') === false) {&nbsp;</div></li><li><div>          return array('text', $data);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $data = &quot;&lt;div xmlns='http:<span class="comment">//www.w3.org/1999/xhtml'&gt;$data&lt;/div&gt;&quot;;</span>&nbsp;</div></li><li><div>          return array('xhtml', $data);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (strpos($data, ']]&gt;') === false) {&nbsp;</div></li><li><div>      return array('html', &quot;&lt;![CDATA[$data]]&gt;&quot;);&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return array('html', htmlspecialchars($data));&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays Site Icon in atom feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_site_icon_url()</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function atom_site_icon() {&nbsp;</div></li><li><div>  $url = get_site_icon_url( 32 );&nbsp;</div></li><li><div>  if ( $url ) {&nbsp;</div></li><li><div>      echo &quot;&lt;icon&gt;$url&lt;/icon&gt;\n&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays Site Icon in RSS2.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function rss2_site_icon() {&nbsp;</div></li><li><div>  $rss_title = get_wp_title_rss();&nbsp;</div></li><li><div>  if ( empty( $rss_title ) ) {&nbsp;</div></li><li><div>      $rss_title = get_bloginfo_rss( 'name' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $url = get_site_icon_url( 32 );&nbsp;</div></li><li><div>  if ( $url ) {&nbsp;</div></li><li><div>      echo '&nbsp;</div></li><li><div>&lt;image&gt;&nbsp;</div></li><li><div>  &lt;url&gt;' . convert_chars( $url ) . '&lt;/url&gt;&nbsp;</div></li><li><div>  &lt;title&gt;' . $rss_title . '&lt;/title&gt;&nbsp;</div></li><li><div>  &lt;link&gt;' . get_bloginfo_rss( 'url' ) . '&lt;/link&gt;&nbsp;</div></li><li><div>  &lt;width&gt;32&lt;/width&gt;&nbsp;</div></li><li><div>  &lt;height&gt;32&lt;/height&gt;&nbsp;</div></li><li><div>&lt;/image&gt; ' . &quot;\n&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the link for the currently displayed feed in a XSS safe way.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Generate a correct link for the atom:self element.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function self_link() {&nbsp;</div></li><li><div>  $host = @parse_url(home_url());&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the current feed URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see set_url_scheme()</span>&nbsp;</div></li><li><div><span class="comment">   * @see wp_unslash()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $feed_link The link for the feed with set URL scheme.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo esc_url( apply_filters( 'self_link', set_url_scheme( 'http:<span class="comment">//' . $host['host'] . wp_unslash( $_SERVER['REQUEST_URI'] ) ) ) );</span>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Return the content type for specified feed type.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $type Type of feed. Possible values include 'rss', rss2', 'atom', and 'rdf'.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function feed_content_type( $type = '' ) {&nbsp;</div></li><li><div>  if ( empty($type) )&nbsp;</div></li><li><div>      $type = get_default_feed();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $types = array(&nbsp;</div></li><li><div>      'rss' =&gt; 'application/rss+xml', &nbsp;</div></li><li><div>      'rss2' =&gt; 'application/rss+xml', &nbsp;</div></li><li><div>      'rss-http' =&gt; 'text/xml', &nbsp;</div></li><li><div>      'atom' =&gt; 'application/atom+xml', &nbsp;</div></li><li><div>      'rdf' =&gt; 'application/rdf+xml'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $content_type = ( !empty($types[$type]) ) ? $types[$type] : 'application/octet-stream';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the content type for a specific feed type.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $content_type Content type indicating the type of data that a feed contains.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $type         Type of feed. Possible values include 'rss', rss2', 'atom', and 'rdf'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'feed_content_type', $content_type, $type );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Build SimplePie object based on RSS or Atom feed from URL.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $url URL of feed to retrieve. If an array of URLs, the feeds are merged</span>&nbsp;</div></li><li><div><span class="comment"> * using SimplePie's multifeed feature.</span>&nbsp;</div></li><li><div><span class="comment"> * See also {@link *http://simplepie.org/wiki/faq/typical_multifeed_gotchas}</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return WP_Error|SimplePie WP_Error object on failure or SimplePie object on success</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function fetch_feed( $url ) {&nbsp;</div></li><li><div>  if ( ! class_exists( 'SimplePie', false ) ) {&nbsp;</div></li><li><div>      require_once( ABSPATH . WPINC . '/class-simplepie.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  require_once( ABSPATH . WPINC . '/class-wp-feed-cache.php' );&nbsp;</div></li><li><div>  require_once( ABSPATH . WPINC . '/class-wp-feed-cache-transient.php' );&nbsp;</div></li><li><div>  require_once( ABSPATH . WPINC . '/class-wp-simplepie-file.php' );&nbsp;</div></li><li><div>  require_once( ABSPATH . WPINC . '/class-wp-simplepie-sanitize-kses.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $feed = new SimplePie();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $feed-&gt;set_sanitize_class( 'WP_SimplePie_Sanitize_KSES' );&nbsp;</div></li><li><div>  <span class="comment">// We must manually overwrite $feed-&gt;sanitize because SimplePie's</span>&nbsp;</div></li><li><div>  <span class="comment">// constructor sets it before we have a chance to set the sanitization class</span>&nbsp;</div></li><li><div>  $feed-&gt;sanitize = new WP_SimplePie_Sanitize_KSES();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $feed-&gt;set_cache_class( 'WP_Feed_Cache' );&nbsp;</div></li><li><div>  $feed-&gt;set_file_class( 'WP_SimplePie_File' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $feed-&gt;set_feed_url( $url );&nbsp;</div></li><li><div>  <span class="comment">/** This filter is documented in wp-includes/class-wp-feed-cache-transient.php */</span>&nbsp;</div></li><li><div>  $feed-&gt;set_cache_duration( apply_filters( 'wp_feed_cache_transient_lifetime', 12 * HOUR_IN_SECONDS, $url ) );&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires just before processing the SimplePie feed object.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param object &$feed SimplePie feed object, passed by reference.</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed  $url   URL of feed to retrieve. If an array of URLs, the feeds are merged.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action_ref_array( 'wp_feed_options', array( &$feed, $url ) );&nbsp;</div></li><li><div>  $feed-&gt;init();&nbsp;</div></li><li><div>  $feed-&gt;set_output_encoding( get_option( 'blog_charset' ) );&nbsp;</div></li><li><div>  $feed-&gt;handle_content_type();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $feed-&gt;error() )&nbsp;</div></li><li><div>      return new WP_Error( 'simplepie-error', $feed-&gt;error() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $feed;&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>file</li><li><span></span></li><li><span></span>wp-include</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2021 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>