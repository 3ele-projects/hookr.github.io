<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-version="4.7.1" data-type="class" data-id="1297"><head xmlns="http://www.w3.org/1999/xhtml"><title> getid3_ac3 | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="getid3_ac3, class, wordpress, 4.7.1" /><meta name="description" content="The WordPress Core getid3 ac3 class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.25"}};!function(e,n,t){var a;function i(e){var t=n.createElement("canvas"),a=t.getContext&&t.getContext("2d"),i=String.fromCharCode;return!(!a||!a.fillText)&&(a.textBaseline="top",a.font="600 32px Arial","flag"===e?(a.fillText(i(55356,56806,55356,56826),0,0),3e3<t.toDataURL().length):"diversity"===e?(a.fillText(i(55356,57221),0,0),t=a.getImageData(16,16,1,1).data,a.fillText(i(55356,57221,55356,57343),0,0),(t=a.getImageData(16,16,1,1).data)[0],t[1],t[2],t[3],!0):("simple"===e?a.fillText(i(55357,56835),0,0):a.fillText(i(55356,57135),0,0),0!==a.getImageData(16,16,1,1).data[0]))}function o(e){var t=n.createElement("script");t.src=e,t.type="text/javascript",n.getElementsByTagName("head")[0].appendChild(t)}t.supports={simple:i("simple"),flag:i("flag"),unicode8:i("unicode8"),diversity:i("diversity")},t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.simple&&t.supports.flag&&t.supports.unicode8&&t.supports.diversity||(a=function(){t.readyCallback()},n.addEventListener?(n.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)):(e.attachEvent("onload",a),n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&t.readyCallback()})),(a=t.source||{}).concatemoji?o(a.concatemoji):a.wpemoji&&a.twemoji&&(o(a.twemoji),o(a.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=6bed1735468629bdc0c99505cbec7655' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.25' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/getid3_ac3/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fgetid3_ac3%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fgetid3_ac3%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7.1-class-getid3_ac3","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="getid3_ac3" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7.1." href="http://hookr.io/4.7.1/" class="H_VERSION"><span property="name">4.7.1</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/4.7.1/classes/" class=""><span property="name">classes</span></a><meta property="position" content="3"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">getid3_ac3</span><meta property="position" content="4"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="6308"><a href="http://hookr.io/4.7.1/all/" title="All">All <span class="count badge">6308</span></a></li><li class="" data-id="new" data-count="1"><a href="http://hookr.io/4.7.1/new/" title="New">New <span class="count badge">1</span></a></li><li class="" data-id="hooks" data-count="2531"><a href="http://hookr.io/4.7.1/hooks/" title="Hooks">Hooks <span class="count badge">2531</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7.1/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1667"><a href="http://hookr.io/4.7.1/filters/" title="Filters">Filters <span class="count badge">1667</span></a></li><li class="active" data-id="class" data-count="351"><a href="http://hookr.io/4.7.1/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7.1/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="" data-id="function" data-count="2852"><a href="http://hookr.io/4.7.1/functions/" title="Functions">Functions <span class="count badge">2852</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>getid3_ac3</strong></h1><p>The WordPress Core <strong>getid3 ac3</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/4.7.1/files/wp-includes-id3-module-audio-ac3/" class="file">/wp-includes/ID3/module.audio.ac3.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="18" class="block" start="18"><li><div>class getid3_ac3 extends getid3_handler&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>    private $AC3header = array();&nbsp;</div></li><li><div>    private $BSIoffset = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    const syncword = &quot;\x0B\x77&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function Analyze() {&nbsp;</div></li><li><div>        $info = &$this-&gt;getid3-&gt;info;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ///AH&nbsp;</div></li><li><div>        $info['ac3']['raw']['bsi'] = array();&nbsp;</div></li><li><div>        $thisfile_ac3 = &$info['ac3'];&nbsp;</div></li><li><div>        $thisfile_ac3_raw = &$thisfile_ac3['raw'];&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi = &$thisfile_ac3_raw['bsi'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // http://www.atsc.org/standards/a_52a.pdf&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $info['fileformat'] = 'ac3';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // An AC-3 serial coded audio bit stream is made up of a sequence of synchronization frames&nbsp;</div></li><li><div>        // Each synchronization frame contains 6 coded audio blocks (AB), each of which represent 256&nbsp;</div></li><li><div>        // new audio samples per channel. A synchronization information (SI) header at the beginning&nbsp;</div></li><li><div>        // of each frame contains information needed to acquire and maintain synchronization. A&nbsp;</div></li><li><div>        // bit stream information (BSI) header follows SI, and contains parameters describing the coded&nbsp;</div></li><li><div>        // audio service. The coded audio blocks may be followed by an auxiliary data (Aux) field. At the&nbsp;</div></li><li><div>        // end of each frame is an error check field that includes a CRC word for error detection. An&nbsp;</div></li><li><div>        // additional CRC word is located in the SI header, the use of which, by a decoder, is optional.&nbsp;</div></li><li><div>        //&nbsp;</div></li><li><div>        // syncinfo() | bsi() | AB0 | AB1 | AB2 | AB3 | AB4 | AB5 | Aux | CRC&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // syncinfo() {&nbsp;</div></li><li><div>        //      syncword    16&nbsp;</div></li><li><div>        //      crc1        16&nbsp;</div></li><li><div>        //      fscod        2&nbsp;</div></li><li><div>        //      frmsizecod   6&nbsp;</div></li><li><div>        // } /* end of syncinfo */&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;fseek($info['avdataoffset']);&nbsp;</div></li><li><div>        $this-&gt;AC3header['syncinfo'] = $this-&gt;fread(5);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (strpos($this-&gt;AC3header['syncinfo'], self::syncword) === 0) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw['synchinfo']['synchword'] = self::syncword;&nbsp;</div></li><li><div>            $offset = 2;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            if (!$this-&gt;isDependencyFor('matroska')) {&nbsp;</div></li><li><div>                unset($info['fileformat'], $info['ac3']);&nbsp;</div></li><li><div>                return $this-&gt;error('Expecting &quot;'.getid3_lib::PrintHexBytes(self::syncword).'&quot; at offset '.$info['avdataoffset'].', found &quot;'.getid3_lib::PrintHexBytes(substr($this-&gt;AC3header['syncinfo'], 0, 2)).'&quot;');&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $offset = 0;&nbsp;</div></li><li><div>            $this-&gt;fseek(-2, SEEK_CUR);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $info['audio']['dataformat'] = 'ac3';&nbsp;</div></li><li><div>        $info['audio']['bitrate_mode'] = 'cbr';&nbsp;</div></li><li><div>        $info['audio']['lossless'] = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw['synchinfo']['crc1'] = getid3_lib::LittleEndian2Int(substr($this-&gt;AC3header['syncinfo'], $offset, 2));&nbsp;</div></li><li><div>        $ac3_synchinfo_fscod_frmsizecod = getid3_lib::LittleEndian2Int(substr($this-&gt;AC3header['syncinfo'], ($offset + 2), 1));&nbsp;</div></li><li><div>        $thisfile_ac3_raw['synchinfo']['fscod'] = ($ac3_synchinfo_fscod_frmsizecod & 0xC0) &gt;&gt; 6;&nbsp;</div></li><li><div>        $thisfile_ac3_raw['synchinfo']['frmsizecod'] = ($ac3_synchinfo_fscod_frmsizecod & 0x3F);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3['sample_rate'] = self::sampleRateCodeLookup($thisfile_ac3_raw['synchinfo']['fscod']);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw['synchinfo']['fscod'] &lt;= 3) {&nbsp;</div></li><li><div>            $info['audio']['sample_rate'] = $thisfile_ac3['sample_rate'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3['frame_length'] = self::frameSizeLookup($thisfile_ac3_raw['synchinfo']['frmsizecod'], $thisfile_ac3_raw['synchinfo']['fscod']);&nbsp;</div></li><li><div>        $thisfile_ac3['bitrate'] = self::bitrateLookup($thisfile_ac3_raw['synchinfo']['frmsizecod']);&nbsp;</div></li><li><div>        $info['audio']['bitrate'] = $thisfile_ac3['bitrate'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;AC3header['bsi'] = getid3_lib::BigEndian2Bin($this-&gt;fread(15));&nbsp;</div></li><li><div>        $ac3_bsi_offset = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['bsid'] = $this-&gt;readHeaderBSI(5);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['bsid'] &gt; 8) {&nbsp;</div></li><li><div>            // Decoders which can decode version 8 will thus be able to decode version numbers less than 8.&nbsp;</div></li><li><div>            // If this standard is extended by the addition of additional elements or features, a value of bsid greater than 8 will be used.&nbsp;</div></li><li><div>            // Decoders built to this version of the standard will not be able to decode versions with bsid greater than 8.&nbsp;</div></li><li><div>            $this-&gt;error('Bit stream identification is version '.$thisfile_ac3_raw_bsi['bsid'].', but getID3() only understands up to version 8');&nbsp;</div></li><li><div>            unset($info['ac3']);&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['bsmod'] = $this-&gt;readHeaderBSI(3);&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['acmod'] = $this-&gt;readHeaderBSI(3);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3['service_type'] = self::serviceTypeLookup($thisfile_ac3_raw_bsi['bsmod'], $thisfile_ac3_raw_bsi['acmod']);&nbsp;</div></li><li><div>        $ac3_coding_mode = self::audioCodingModeLookup($thisfile_ac3_raw_bsi['acmod']);&nbsp;</div></li><li><div>        foreach($ac3_coding_mode as $key =&gt; $value) {&nbsp;</div></li><li><div>            $thisfile_ac3[$key] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        switch ($thisfile_ac3_raw_bsi['acmod']) {&nbsp;</div></li><li><div>            case 0:&nbsp;</div></li><li><div>            case 1:&nbsp;</div></li><li><div>                $info['audio']['channelmode'] = 'mono';&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case 3:&nbsp;</div></li><li><div>            case 4:&nbsp;</div></li><li><div>                $info['audio']['channelmode'] = 'stereo';&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            default:&nbsp;</div></li><li><div>                $info['audio']['channelmode'] = 'surround';&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $info['audio']['channels'] = $thisfile_ac3['num_channels'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['acmod'] & 0x01) {&nbsp;</div></li><li><div>            // If the lsb of acmod is a 1, center channel is in use and cmixlev follows in the bit stream.&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['cmixlev'] = $this-&gt;readHeaderBSI(2);&nbsp;</div></li><li><div>            $thisfile_ac3['center_mix_level'] = self::centerMixLevelLookup($thisfile_ac3_raw_bsi['cmixlev']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['acmod'] & 0x04) {&nbsp;</div></li><li><div>            // If the msb of acmod is a 1, surround channels are in use and surmixlev follows in the bit stream.&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['surmixlev'] = $this-&gt;readHeaderBSI(2);&nbsp;</div></li><li><div>            $thisfile_ac3['surround_mix_level'] = self::surroundMixLevelLookup($thisfile_ac3_raw_bsi['surmixlev']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['acmod'] == 0x02) {&nbsp;</div></li><li><div>            // When operating in the two channel mode, this 2-bit code indicates whether or not the program has been encoded in Dolby Surround.&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['dsurmod'] = $this-&gt;readHeaderBSI(2);&nbsp;</div></li><li><div>            $thisfile_ac3['dolby_surround_mode'] = self::dolbySurroundModeLookup($thisfile_ac3_raw_bsi['dsurmod']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['lfeon'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        $thisfile_ac3['lfe_enabled'] = $thisfile_ac3_raw_bsi['lfeon'];&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['lfeon']) {&nbsp;</div></li><li><div>            //$info['audio']['channels']++;&nbsp;</div></li><li><div>            $info['audio']['channels'] .= '.1';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3['channels_enabled'] = self::channelsEnabledLookup($thisfile_ac3_raw_bsi['acmod'], $thisfile_ac3_raw_bsi['lfeon']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // This indicates how far the average dialogue level is below digital 100 percent. Valid values are 1-31.&nbsp;</div></li><li><div>        // The value of 0 is reserved. The values of 1 to 31 are interpreted as -1 dB to -31 dB with respect to digital 100 percent.&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['dialnorm'] = $this-&gt;readHeaderBSI(5);&nbsp;</div></li><li><div>        $thisfile_ac3['dialogue_normalization'] = '-'.$thisfile_ac3_raw_bsi['dialnorm'].'dB';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['compre_flag'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['compre_flag']) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['compr'] = $this-&gt;readHeaderBSI(8);&nbsp;</div></li><li><div>            $thisfile_ac3['heavy_compression'] = self::heavyCompression($thisfile_ac3_raw_bsi['compr']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['langcode_flag'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['langcode_flag']) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['langcod'] = $this-&gt;readHeaderBSI(8);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['audprodie'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['audprodie']) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['mixlevel'] = $this-&gt;readHeaderBSI(5);&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['roomtyp'] = $this-&gt;readHeaderBSI(2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $thisfile_ac3['mixing_level'] = (80 + $thisfile_ac3_raw_bsi['mixlevel']).'dB';&nbsp;</div></li><li><div>            $thisfile_ac3['room_type'] = self::roomTypeLookup($thisfile_ac3_raw_bsi['roomtyp']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['acmod'] == 0x00) {&nbsp;</div></li><li><div>            // If acmod is 0, then two completely independent program channels (dual mono)&nbsp;</div></li><li><div>            // are encoded into the bit stream, and are referenced as Ch1, Ch2. In this case, &nbsp;</div></li><li><div>            // a number of additional items are present in BSI or audblk to fully describe Ch2.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // This indicates how far the average dialogue level is below digital 100 percent. Valid values are 1-31.&nbsp;</div></li><li><div>            // The value of 0 is reserved. The values of 1 to 31 are interpreted as -1 dB to -31 dB with respect to digital 100 percent.&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['dialnorm2'] = $this-&gt;readHeaderBSI(5);&nbsp;</div></li><li><div>            $thisfile_ac3['dialogue_normalization2'] = '-'.$thisfile_ac3_raw_bsi['dialnorm2'].'dB';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['compre_flag2'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>            if ($thisfile_ac3_raw_bsi['compre_flag2']) {&nbsp;</div></li><li><div>                $thisfile_ac3_raw_bsi['compr2'] = $this-&gt;readHeaderBSI(8);&nbsp;</div></li><li><div>                $thisfile_ac3['heavy_compression2'] = self::heavyCompression($thisfile_ac3_raw_bsi['compr2']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['langcode_flag2'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>            if ($thisfile_ac3_raw_bsi['langcode_flag2']) {&nbsp;</div></li><li><div>                $thisfile_ac3_raw_bsi['langcod2'] = $this-&gt;readHeaderBSI(8);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['audprodie2'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>            if ($thisfile_ac3_raw_bsi['audprodie2']) {&nbsp;</div></li><li><div>                $thisfile_ac3_raw_bsi['mixlevel2'] = $this-&gt;readHeaderBSI(5);&nbsp;</div></li><li><div>                $thisfile_ac3_raw_bsi['roomtyp2'] = $this-&gt;readHeaderBSI(2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $thisfile_ac3['mixing_level2'] = (80 + $thisfile_ac3_raw_bsi['mixlevel2']).'dB';&nbsp;</div></li><li><div>                $thisfile_ac3['room_type2'] = self::roomTypeLookup($thisfile_ac3_raw_bsi['roomtyp2']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['copyright'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['original'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['timecode1_flag'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['timecode1_flag']) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['timecode1'] = $this-&gt;readHeaderBSI(14);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['timecode2_flag'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['timecode2_flag']) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['timecode2'] = $this-&gt;readHeaderBSI(14);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thisfile_ac3_raw_bsi['addbsi_flag'] = (bool) $this-&gt;readHeaderBSI(1);&nbsp;</div></li><li><div>        if ($thisfile_ac3_raw_bsi['addbsi_flag']) {&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['addbsi_length'] = $this-&gt;readHeaderBSI(6);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;AC3header['bsi'] .= getid3_lib::BigEndian2Bin($this-&gt;fread($thisfile_ac3_raw_bsi['addbsi_length']));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $thisfile_ac3_raw_bsi['addbsi_data'] = substr($this-&gt;AC3header['bsi'], $this-&gt;BSIoffset, $thisfile_ac3_raw_bsi['addbsi_length'] * 8);&nbsp;</div></li><li><div>            $this-&gt;BSIoffset += $thisfile_ac3_raw_bsi['addbsi_length'] * 8;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function readHeaderBSI($length) {&nbsp;</div></li><li><div>        $data = substr($this-&gt;AC3header['bsi'], $this-&gt;BSIoffset, $length);&nbsp;</div></li><li><div>        $this-&gt;BSIoffset += $length;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return bindec($data);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function sampleRateCodeLookup($fscod) {&nbsp;</div></li><li><div>        static $sampleRateCodeLookup = array(&nbsp;</div></li><li><div>            0 =&gt; 48000, &nbsp;</div></li><li><div>            1 =&gt; 44100, &nbsp;</div></li><li><div>            2 =&gt; 32000, &nbsp;</div></li><li><div>            3 =&gt; 'reserved' // If the reserved code is indicated, the decoder should not attempt to decode audio and should mute.&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        return (isset($sampleRateCodeLookup[$fscod]) ? $sampleRateCodeLookup[$fscod] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function serviceTypeLookup($bsmod, $acmod) {&nbsp;</div></li><li><div>        static $serviceTypeLookup = array();&nbsp;</div></li><li><div>        if (empty($serviceTypeLookup)) {&nbsp;</div></li><li><div>            for ($i = 0; $i &lt;= 7; $i++) {&nbsp;</div></li><li><div>                $serviceTypeLookup[0][$i] = 'main audio service: complete main (CM)';&nbsp;</div></li><li><div>                $serviceTypeLookup[1][$i] = 'main audio service: music and effects (ME)';&nbsp;</div></li><li><div>                $serviceTypeLookup[2][$i] = 'associated service: visually impaired (VI)';&nbsp;</div></li><li><div>                $serviceTypeLookup[3][$i] = 'associated service: hearing impaired (HI)';&nbsp;</div></li><li><div>                $serviceTypeLookup[4][$i] = 'associated service: dialogue (D)';&nbsp;</div></li><li><div>                $serviceTypeLookup[5][$i] = 'associated service: commentary (C)';&nbsp;</div></li><li><div>                $serviceTypeLookup[6][$i] = 'associated service: emergency (E)';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $serviceTypeLookup[7][1] = 'associated service: voice over (VO)';&nbsp;</div></li><li><div>            for ($i = 2; $i &lt;= 7; $i++) {&nbsp;</div></li><li><div>                $serviceTypeLookup[7][$i] = 'main audio service: karaoke';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($serviceTypeLookup[$bsmod][$acmod]) ? $serviceTypeLookup[$bsmod][$acmod] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function audioCodingModeLookup($acmod) {&nbsp;</div></li><li><div>        // array(channel configuration, # channels (not incl LFE), channel order)&nbsp;</div></li><li><div>        static $audioCodingModeLookup = array (&nbsp;</div></li><li><div>            0 =&gt; array('channel_config'=&gt;'1+1', 'num_channels'=&gt;2, 'channel_order'=&gt;'Ch1, Ch2'), &nbsp;</div></li><li><div>            1 =&gt; array('channel_config'=&gt;'1/0', 'num_channels'=&gt;1, 'channel_order'=&gt;'C'), &nbsp;</div></li><li><div>            2 =&gt; array('channel_config'=&gt;'2/0', 'num_channels'=&gt;2, 'channel_order'=&gt;'L, R'), &nbsp;</div></li><li><div>            3 =&gt; array('channel_config'=&gt;'3/0', 'num_channels'=&gt;3, 'channel_order'=&gt;'L, C, R'), &nbsp;</div></li><li><div>            4 =&gt; array('channel_config'=&gt;'2/1', 'num_channels'=&gt;3, 'channel_order'=&gt;'L, R, S'), &nbsp;</div></li><li><div>            5 =&gt; array('channel_config'=&gt;'3/1', 'num_channels'=&gt;4, 'channel_order'=&gt;'L, C, R, S'), &nbsp;</div></li><li><div>            6 =&gt; array('channel_config'=&gt;'2/2', 'num_channels'=&gt;4, 'channel_order'=&gt;'L, R, SL, SR'), &nbsp;</div></li><li><div>            7 =&gt; array('channel_config'=&gt;'3/2', 'num_channels'=&gt;5, 'channel_order'=&gt;'L, C, R, SL, SR'), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        return (isset($audioCodingModeLookup[$acmod]) ? $audioCodingModeLookup[$acmod] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function centerMixLevelLookup($cmixlev) {&nbsp;</div></li><li><div>        static $centerMixLevelLookup;&nbsp;</div></li><li><div>        if (empty($centerMixLevelLookup)) {&nbsp;</div></li><li><div>            $centerMixLevelLookup = array(&nbsp;</div></li><li><div>                0 =&gt; pow(2, -3.0 / 6), // 0.707 (-3.0 dB)&nbsp;</div></li><li><div>                1 =&gt; pow(2, -4.5 / 6), // 0.595 (-4.5 dB)&nbsp;</div></li><li><div>                2 =&gt; pow(2, -6.0 / 6), // 0.500 (-6.0 dB)&nbsp;</div></li><li><div>                3 =&gt; 'reserved'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($centerMixLevelLookup[$cmixlev]) ? $centerMixLevelLookup[$cmixlev] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function surroundMixLevelLookup($surmixlev) {&nbsp;</div></li><li><div>        static $surroundMixLevelLookup;&nbsp;</div></li><li><div>        if (empty($surroundMixLevelLookup)) {&nbsp;</div></li><li><div>            $surroundMixLevelLookup = array(&nbsp;</div></li><li><div>                0 =&gt; pow(2, -3.0 / 6), &nbsp;</div></li><li><div>                1 =&gt; pow(2, -6.0 / 6), &nbsp;</div></li><li><div>                2 =&gt; 0, &nbsp;</div></li><li><div>                3 =&gt; 'reserved'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($surroundMixLevelLookup[$surmixlev]) ? $surroundMixLevelLookup[$surmixlev] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function dolbySurroundModeLookup($dsurmod) {&nbsp;</div></li><li><div>        static $dolbySurroundModeLookup = array(&nbsp;</div></li><li><div>            0 =&gt; 'not indicated', &nbsp;</div></li><li><div>            1 =&gt; 'Not Dolby Surround encoded', &nbsp;</div></li><li><div>            2 =&gt; 'Dolby Surround encoded', &nbsp;</div></li><li><div>            3 =&gt; 'reserved'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        return (isset($dolbySurroundModeLookup[$dsurmod]) ? $dolbySurroundModeLookup[$dsurmod] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function channelsEnabledLookup($acmod, $lfeon) {&nbsp;</div></li><li><div>        $lookup = array(&nbsp;</div></li><li><div>            'ch1'=&gt;(bool) ($acmod == 0), &nbsp;</div></li><li><div>            'ch2'=&gt;(bool) ($acmod == 0), &nbsp;</div></li><li><div>            'left'=&gt;(bool) ($acmod &gt; 1), &nbsp;</div></li><li><div>            'right'=&gt;(bool) ($acmod &gt; 1), &nbsp;</div></li><li><div>            'center'=&gt;(bool) ($acmod & 0x01), &nbsp;</div></li><li><div>            'surround_mono'=&gt;false, &nbsp;</div></li><li><div>            'surround_left'=&gt;false, &nbsp;</div></li><li><div>            'surround_right'=&gt;false, &nbsp;</div></li><li><div>            'lfe'=&gt;$lfeon);&nbsp;</div></li><li><div>        switch ($acmod) {&nbsp;</div></li><li><div>            case 4:&nbsp;</div></li><li><div>            case 5:&nbsp;</div></li><li><div>                $lookup['surround_mono'] = true;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case 6:&nbsp;</div></li><li><div>            case 7:&nbsp;</div></li><li><div>                $lookup['surround_left'] = true;&nbsp;</div></li><li><div>                $lookup['surround_right'] = true;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $lookup;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function heavyCompression($compre) {&nbsp;</div></li><li><div>        // The first four bits indicate gain changes in 6.02dB increments which can be&nbsp;</div></li><li><div>        // implemented with an arithmetic shift operation. The following four bits&nbsp;</div></li><li><div>        // indicate linear gain changes, and require a 5-bit multiply.&nbsp;</div></li><li><div>        // We will represent the two 4-bit fields of compr as follows:&nbsp;</div></li><li><div>        //   X0 X1 X2 X3 . Y4 Y5 Y6 Y7&nbsp;</div></li><li><div>        // The meaning of the X values is most simply described by considering X to represent a 4-bit&nbsp;</div></li><li><div>        // signed integer with values from -8 to +7. The gain indicated by X is then (X + 1) * 6.02 dB. The&nbsp;</div></li><li><div>        // following table shows this in detail.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Meaning of 4 msb of compr&nbsp;</div></li><li><div>        //  7    +48.16 dB&nbsp;</div></li><li><div>        //  6    +42.14 dB&nbsp;</div></li><li><div>        //  5    +36.12 dB&nbsp;</div></li><li><div>        //  4    +30.10 dB&nbsp;</div></li><li><div>        //  3    +24.08 dB&nbsp;</div></li><li><div>        //  2    +18.06 dB&nbsp;</div></li><li><div>        //  1    +12.04 dB&nbsp;</div></li><li><div>        //  0     +6.02 dB&nbsp;</div></li><li><div>        // -1         0 dB&nbsp;</div></li><li><div>        // -2     -6.02 dB&nbsp;</div></li><li><div>        // -3    -12.04 dB&nbsp;</div></li><li><div>        // -4    -18.06 dB&nbsp;</div></li><li><div>        // -5    -24.08 dB&nbsp;</div></li><li><div>        // -6    -30.10 dB&nbsp;</div></li><li><div>        // -7    -36.12 dB&nbsp;</div></li><li><div>        // -8    -42.14 dB&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fourbit = str_pad(decbin(($compre & 0xF0) &gt;&gt; 4), 4, '0', STR_PAD_LEFT);&nbsp;</div></li><li><div>        if ($fourbit{0} == '1') {&nbsp;</div></li><li><div>            $log_gain = -8 + bindec(substr($fourbit, 1));&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $log_gain = bindec(substr($fourbit, 1));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $log_gain = ($log_gain + 1) * getid3_lib::RGADamplitude2dB(2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // The value of Y is a linear representation of a gain change of up to -6 dB. Y is considered to&nbsp;</div></li><li><div>        // be an unsigned fractional integer, with a leading value of 1, or: 0.1 Y4 Y5 Y6 Y7 (base 2). Y can&nbsp;</div></li><li><div>        // represent values between 0.111112 (or 31/32) and 0.100002 (or 1/2). Thus, Y can represent gain&nbsp;</div></li><li><div>        // changes from -0.28 dB to -6.02 dB.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $lin_gain = (16 + ($compre & 0x0F)) / 32;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // The combination of X and Y values allows compr to indicate gain changes from&nbsp;</div></li><li><div>        //  48.16 - 0.28 = +47.89 dB, to&nbsp;</div></li><li><div>        // -42.14 - 6.02 = -48.16 dB.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $log_gain - $lin_gain;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function roomTypeLookup($roomtyp) {&nbsp;</div></li><li><div>        static $roomTypeLookup = array(&nbsp;</div></li><li><div>            0 =&gt; 'not indicated', &nbsp;</div></li><li><div>            1 =&gt; 'large room, X curve monitor', &nbsp;</div></li><li><div>            2 =&gt; 'small room, flat monitor', &nbsp;</div></li><li><div>            3 =&gt; 'reserved'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        return (isset($roomTypeLookup[$roomtyp]) ? $roomTypeLookup[$roomtyp] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function frameSizeLookup($frmsizecod, $fscod) {&nbsp;</div></li><li><div>        $padding = (bool) ($frmsizecod % 2);&nbsp;</div></li><li><div>        $framesizeid =   floor($frmsizecod / 2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        static $frameSizeLookup = array();&nbsp;</div></li><li><div>        if (empty($frameSizeLookup)) {&nbsp;</div></li><li><div>            $frameSizeLookup = array (&nbsp;</div></li><li><div>                0 =&gt; array(128, 138, 192), &nbsp;</div></li><li><div>                1 =&gt; array(40, 160, 174, 240), &nbsp;</div></li><li><div>                2 =&gt; array(48, 192, 208, 288), &nbsp;</div></li><li><div>                3 =&gt; array(56, 224, 242, 336), &nbsp;</div></li><li><div>                4 =&gt; array(64, 256, 278, 384), &nbsp;</div></li><li><div>                5 =&gt; array(80, 320, 348, 480), &nbsp;</div></li><li><div>                6 =&gt; array(96, 384, 416, 576), &nbsp;</div></li><li><div>                7 =&gt; array(112, 448, 486, 672), &nbsp;</div></li><li><div>                8 =&gt; array(128, 512, 556, 768), &nbsp;</div></li><li><div>                9 =&gt; array(160, 640, 696, 960), &nbsp;</div></li><li><div>                10 =&gt; array(192, 768, 834, 1152), &nbsp;</div></li><li><div>                11 =&gt; array(224, 896, 974, 1344), &nbsp;</div></li><li><div>                12 =&gt; array(256, 1024, 1114, 1536), &nbsp;</div></li><li><div>                13 =&gt; array(320, 1280, 1392, 1920), &nbsp;</div></li><li><div>                14 =&gt; array(384, 1536, 1670, 2304), &nbsp;</div></li><li><div>                15 =&gt; array(448, 1792, 1950, 2688), &nbsp;</div></li><li><div>                16 =&gt; array(512, 2048, 2228, 3072), &nbsp;</div></li><li><div>                17 =&gt; array(576, 2304, 2506, 3456), &nbsp;</div></li><li><div>                18 =&gt; array(640, 2560, 2786, 3840)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (($fscod == 1) && $padding) {&nbsp;</div></li><li><div>            // frame lengths are padded by 1 word (16 bits) at 44100&nbsp;</div></li><li><div>            $frameSizeLookup[$frmsizecod] += 2;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($frameSizeLookup[$framesizeid][$fscod]) ? $frameSizeLookup[$framesizeid][$fscod] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function bitrateLookup($frmsizecod) {&nbsp;</div></li><li><div>        $framesizeid =   floor($frmsizecod / 2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        static $bitrateLookup = array(&nbsp;</div></li><li><div>            0 =&gt; 32000, &nbsp;</div></li><li><div>            1 =&gt; 40000, &nbsp;</div></li><li><div>            2 =&gt; 48000, &nbsp;</div></li><li><div>            3 =&gt; 56000, &nbsp;</div></li><li><div>            4 =&gt; 64000, &nbsp;</div></li><li><div>            5 =&gt; 80000, &nbsp;</div></li><li><div>            6 =&gt; 96000, &nbsp;</div></li><li><div>            7 =&gt; 112000, &nbsp;</div></li><li><div>            8 =&gt; 128000, &nbsp;</div></li><li><div>            9 =&gt; 160000, &nbsp;</div></li><li><div>            10 =&gt; 192000, &nbsp;</div></li><li><div>            11 =&gt; 224000, &nbsp;</div></li><li><div>            12 =&gt; 256000, &nbsp;</div></li><li><div>            13 =&gt; 320000, &nbsp;</div></li><li><div>            14 =&gt; 384000, &nbsp;</div></li><li><div>            15 =&gt; 448000, &nbsp;</div></li><li><div>            16 =&gt; 512000, &nbsp;</div></li><li><div>            17 =&gt; 576000, &nbsp;</div></li><li><div>            18 =&gt; 640000&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        return (isset($bitrateLookup[$framesizeid]) ? $bitrateLookup[$framesizeid] : false);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 4.7</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/4.7.4/classes/getid3_ac3/" class="">4.7.4</a></li><li><a href="http://hookr.io/4.7.3/classes/getid3_ac3/" class="">4.7.3</a></li><li><a href="http://hookr.io/4.7.2/classes/getid3_ac3/" class="">4.7.2</a></li><li><a href="http://hookr.io/4.7.1/classes/getid3_ac3/" class="active">4.7.1</a></li><li><a href="http://hookr.io/4.7/classes/getid3_ac3/" class="">4.7</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>class</li><li><span></span>getid3_ac3</li><li><span></span>wp-include</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2021 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>