<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="wordpress" data-version="4.7.1" data-type="file" data-id="4771"><head xmlns="http://www.w3.org/1999/xhtml"><title> wp-includes-general-template | file | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, wordpress, 4.7.1" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=93627606886a853f91dbd5d5e8116e12' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/wp-includes-general-template/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-includes-general-template%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-includes-general-template%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7.1-file-wp-includes-general-template","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wp-includes-general-template" class="blog single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7.1." href="http://hookr.io/4.7.1/" class="H_VERSION"><span property="name">4.7.1</span></a><meta property="position" content="2"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wp-includes-general-template</span><meta property="position" content="3"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="6308"><a href="http://hookr.io/4.7.1/all/" title="All">All <span class="count badge">6308</span></a></li><li class="" data-id="new" data-count="1"><a href="http://hookr.io/4.7.1/new/" title="New">New <span class="count badge">1</span></a></li><li class="" data-id="hooks" data-count="2531"><a href="http://hookr.io/4.7.1/hooks/" title="Hooks">Hooks <span class="count badge">2531</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7.1/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1667"><a href="http://hookr.io/4.7.1/filters/" title="Filters">Filters <span class="count badge">1667</span></a></li><li class="" data-id="class" data-count="351"><a href="http://hookr.io/4.7.1/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7.1/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="" data-id="function" data-count="2852"><a href="http://hookr.io/4.7.1/functions/" title="Functions">Functions <span class="count badge">2852</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/wp-includes/general-template.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * General template tags that can go anywhere in a template.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @package WordPress</span>&nbsp;</div></li><li><div><span class="comment"> * @subpackage Template</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load header template.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Includes the header template for a theme or if a name is specified then a</span>&nbsp;</div></li><li><div><span class="comment"> * specialised header will be included.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * For the parameter, if the file is called &quot;header-special.php&quot; then specify</span>&nbsp;</div></li><li><div><span class="comment"> * &quot;special&quot;.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $name The name of the specialised header.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_header( $name = null ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the header template file is loaded.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The hook allows a specific header template file to be used in place of the</span>&nbsp;</div></li><li><div><span class="comment">   * default header template file. If your file is called header-new.php, </span>&nbsp;</div></li><li><div><span class="comment">   * you would specify the filename in the hook as get_header( 'new' ).</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0 $name parameter added.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string|null $name Name of the specific header file to use. null for the default header.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'get_header', $name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates = array();&nbsp;</div></li><li><div>  $name = (string) $name;&nbsp;</div></li><li><div>  if ( '' !== $name ) {&nbsp;</div></li><li><div>      $templates[] = &quot;header-{$name}.php&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates[] = 'header.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  locate_template( $templates, true );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load footer template.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Includes the footer template for a theme or if a name is specified then a</span>&nbsp;</div></li><li><div><span class="comment"> * specialised footer will be included.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * For the parameter, if the file is called &quot;footer-special.php&quot; then specify</span>&nbsp;</div></li><li><div><span class="comment"> * &quot;special&quot;.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $name The name of the specialised footer.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_footer( $name = null ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the footer template file is loaded.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The hook allows a specific footer template file to be used in place of the</span>&nbsp;</div></li><li><div><span class="comment">   * default footer template file. If your file is called footer-new.php, </span>&nbsp;</div></li><li><div><span class="comment">   * you would specify the filename in the hook as get_footer( 'new' ).</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0 $name parameter added.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string|null $name Name of the specific footer file to use. null for the default footer.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'get_footer', $name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates = array();&nbsp;</div></li><li><div>  $name = (string) $name;&nbsp;</div></li><li><div>  if ( '' !== $name ) {&nbsp;</div></li><li><div>      $templates[] = &quot;footer-{$name}.php&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates[] = 'footer.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  locate_template( $templates, true );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load sidebar template.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Includes the sidebar template for a theme or if a name is specified then a</span>&nbsp;</div></li><li><div><span class="comment"> * specialised sidebar will be included.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * For the parameter, if the file is called &quot;sidebar-special.php&quot; then specify</span>&nbsp;</div></li><li><div><span class="comment"> * &quot;special&quot;.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $name The name of the specialised sidebar.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_sidebar( $name = null ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the sidebar template file is loaded.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The hook allows a specific sidebar template file to be used in place of the</span>&nbsp;</div></li><li><div><span class="comment">   * default sidebar template file. If your file is called sidebar-new.php, </span>&nbsp;</div></li><li><div><span class="comment">   * you would specify the filename in the hook as get_sidebar( 'new' ).</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0 $name parameter added.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string|null $name Name of the specific sidebar file to use. null for the default sidebar.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'get_sidebar', $name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates = array();&nbsp;</div></li><li><div>  $name = (string) $name;&nbsp;</div></li><li><div>  if ( '' !== $name )&nbsp;</div></li><li><div>      $templates[] = &quot;sidebar-{$name}.php&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates[] = 'sidebar.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  locate_template( $templates, true );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load a template part into a template</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Makes it easy for a theme to reuse sections of code in a easy to overload way</span>&nbsp;</div></li><li><div><span class="comment"> * for child themes.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Includes the named template part for a theme or if a name is specified then a</span>&nbsp;</div></li><li><div><span class="comment"> * specialised part will be included. If the theme contains no {slug}.php file</span>&nbsp;</div></li><li><div><span class="comment"> * then no template will be included.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The template is included using require, not require_once, so you may include the</span>&nbsp;</div></li><li><div><span class="comment"> * same template part multiple times.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * For the $name parameter, if the file is called &quot;{slug}-special.php&quot; then specify</span>&nbsp;</div></li><li><div><span class="comment"> * &quot;special&quot;.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $slug The slug name for the generic template.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $name The name of the specialised template.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_template_part( $slug, $name = null ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the specified template part file is loaded.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The dynamic portion of the hook name, `$slug`, refers to the slug name</span>&nbsp;</div></li><li><div><span class="comment">   * for the generic template part.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string      $slug The slug name for the generic template.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string|null $name The name of the specialized template.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( &quot;get_template_part_{$slug}&quot;, $slug, $name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates = array();&nbsp;</div></li><li><div>  $name = (string) $name;&nbsp;</div></li><li><div>  if ( '' !== $name )&nbsp;</div></li><li><div>      $templates[] = &quot;{$slug}-{$name}.php&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $templates[] = &quot;{$slug}.php&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  locate_template($templates, true, false);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display search form.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Will first attempt to locate the searchform.php file in either the child or</span>&nbsp;</div></li><li><div><span class="comment"> * the parent, then load it. If it doesn't exist, then the default search form</span>&nbsp;</div></li><li><div><span class="comment"> * will be displayed. The default search form is HTML, which will be displayed.</span>&nbsp;</div></li><li><div><span class="comment"> * There is a filter applied to the search form HTML in order to edit or replace</span>&nbsp;</div></li><li><div><span class="comment"> * it. The filter is {@see 'get_search_form'}.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * This function is primarily used by themes which want to hardcode the search</span>&nbsp;</div></li><li><div><span class="comment"> * form into the sidebar and also by the search widget in WordPress.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * There is also an action that is called whenever the function is run called, </span>&nbsp;</div></li><li><div><span class="comment"> * {@see 'pre_get_search_form'}. This can be useful for outputting JavaScript that the</span>&nbsp;</div></li><li><div><span class="comment"> * search relies on or various formatting that applies to the beginning of the</span>&nbsp;</div></li><li><div><span class="comment"> * search. To give a few examples of what it can be used for.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.7.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool $echo Default to echo and not return the form.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String when $echo is false.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_search_form( $echo = true ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the search form is retrieved, at the start of get_search_form().</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7.0 as 'get_search_form' action.</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @link https://core.trac.wordpress.org/ticket/19321</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'pre_get_search_form' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $format = current_theme_supports( 'html5', 'search-form' ) ? 'html5' : 'xhtml';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the HTML format of the search form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $format The type of markup to use in the search form.</span>&nbsp;</div></li><li><div><span class="comment">   *                       Accepts 'html5', 'xhtml'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $format = apply_filters( 'search_form_format', $format );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $search_form_template = locate_template( 'searchform.php' );&nbsp;</div></li><li><div>  if ( '' != $search_form_template ) {&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>      require( $search_form_template );&nbsp;</div></li><li><div>      $form = ob_get_clean();&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      if ( 'html5' == $format ) {&nbsp;</div></li><li><div>          $form = '&lt;form role=&quot;search&quot; method=&quot;get&quot; class=&quot;search-form&quot; action=&quot;' . esc_url( home_url( '/' ) ) . '&quot;&gt;&nbsp;</div></li><li><div>              &lt;label&gt;&nbsp;</div></li><li><div>                  &lt;span class=&quot;screen-reader-text&quot;&gt;' . _x( 'Search for:', 'label' ) . '&lt;/span&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;search&quot; class=&quot;search-field&quot; placeholder=&quot;' . esc_attr_x( 'Search &hellip;', 'placeholder' ) . '&quot; value=&quot;' . get_search_query() . '&quot; name=&quot;s&quot; /&gt;&nbsp;</div></li><li><div>              &lt;/label&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;submit&quot; class=&quot;search-submit&quot; value=&quot;'. esc_attr_x( 'Search', 'submit button' ) .'&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $form = '&lt;form role=&quot;search&quot; method=&quot;get&quot; id=&quot;searchform&quot; class=&quot;searchform&quot; action=&quot;' . esc_url( home_url( '/' ) ) . '&quot;&gt;&nbsp;</div></li><li><div>              &lt;div&gt;&nbsp;</div></li><li><div>                  &lt;label class=&quot;screen-reader-text&quot; for=&quot;s&quot;&gt;' . _x( 'Search for:', 'label' ) . '&lt;/label&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;text&quot; value=&quot;' . get_search_query() . '&quot; name=&quot;s&quot; id=&quot;s&quot; /&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;submit&quot; id=&quot;searchsubmit&quot; value=&quot;'. esc_attr_x( 'Search', 'submit button' ) .'&quot; /&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the HTML output of the search form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $form The search form HTML output.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $result = apply_filters( 'get_search_form', $form );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( null === $result )&nbsp;</div></li><li><div>      $result = $form;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $echo )&nbsp;</div></li><li><div>      echo $result;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      return $result;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the Log In/Out link.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Displays a link, which allows users to navigate to the Log In page to log in</span>&nbsp;</div></li><li><div><span class="comment"> * or log out depending on whether they are currently logged in.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $redirect Optional path to redirect to on login/logout.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $echo     Default to echo and not return the link.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_loginout($redirect = '', $echo = true) {&nbsp;</div></li><li><div>  if ( ! is_user_logged_in() )&nbsp;</div></li><li><div>      $link = '&lt;a href=&quot;' . esc_url( wp_login_url($redirect) ) . '&quot;&gt;' . __('Log in') . '&lt;/a&gt;';&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      $link = '&lt;a href=&quot;' . esc_url( wp_logout_url($redirect) ) . '&quot;&gt;' . __('Log out') . '&lt;/a&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $echo ) {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the HTML output for the Log In/Log Out link.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $link The HTML link content.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      echo apply_filters( 'loginout', $link );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span></span></span></span>&nbsp;</div></li><li><div>      return apply_filters( 'loginout', $link );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieves the logout URL.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the URL that allows the user to log out of the site.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.7.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $redirect Path to redirect to on logout.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string The logout URL. Note: HTML-encoded via esc_html() in wp_nonce_url().</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_logout_url($redirect = '') {&nbsp;</div></li><li><div>  $args = array( 'action' =&gt; 'logout' );&nbsp;</div></li><li><div>  if ( !empty($redirect) ) {&nbsp;</div></li><li><div>      $args['redirect_to'] = urlencode( $redirect );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $logout_url = add_query_arg($args, site_url('wp-login.php', 'login'));&nbsp;</div></li><li><div>  $logout_url = wp_nonce_url( $logout_url, 'log-out' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the logout URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $logout_url The HTML-encoded logout URL.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $redirect   Path to redirect to on logout.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'logout_url', $logout_url, $redirect );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieves the login URL.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.7.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $redirect     Path to redirect to on log in.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $force_reauth Whether to force reauthorization, even if a cookie is present.</span>&nbsp;</div></li><li><div><span class="comment"> *                             Default false.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string The login URL. Not HTML-encoded.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_login_url($redirect = '', $force_reauth = false) {&nbsp;</div></li><li><div>  $login_url = site_url('wp-login.php', 'login');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !empty($redirect) )&nbsp;</div></li><li><div>      $login_url = add_query_arg('redirect_to', urlencode($redirect), $login_url);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $force_reauth )&nbsp;</div></li><li><div>      $login_url = add_query_arg('reauth', '1', $login_url);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the login URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.2.0 The `$force_reauth` parameter was added.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $login_url    The login URL. Not HTML-encoded.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $redirect     The path to redirect to on login, if supplied.</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool   $force_reauth Whether to force reauthorization, even if a cookie is present.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'login_url', $login_url, $redirect, $force_reauth );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the URL that allows the user to register on the site.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string User registration URL.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_registration_url() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the user registration URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $register The user registration URL.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'register_url', site_url( 'wp-login.php?action=register', 'login' ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Provides a simple login form for use anywhere within WordPress.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The login format HTML is echoed by default. Pass a false value for `$echo` to return it instead.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $args {</span>&nbsp;</div></li><li><div><span class="comment"> *     Optional. Array of options to control the form output. Default empty array.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $echo           Whether to display the login form or return the form HTML code.</span>&nbsp;</div></li><li><div><span class="comment"> *                                  Default true (echo).</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $redirect       URL to redirect to. Must be absolute, as in &quot;https://example.com/mypage/&quot;.</span>&nbsp;</div></li><li><div><span class="comment"> *                                  Default is to redirect back to the request URI.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $form_id        ID attribute value for the form. Default 'loginform'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $label_username Label for the username or email address field. Default 'Username or Email Address'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $label_password Label for the password field. Default 'Password'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $label_remember Label for the remember field. Default 'Remember Me'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $label_log_in   Label for the submit button. Default 'Log In'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $id_username    ID attribute value for the username field. Default 'user_login'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $id_password    ID attribute value for the password field. Default 'user_pass'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $id_remember    ID attribute value for the remember field. Default 'rememberme'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $id_submit      ID attribute value for the submit button. Default 'wp-submit'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $remember       Whether to display the &quot;rememberme&quot; checkbox in the form.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $value_username Default value for the username field. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $value_remember Whether the &quot;Remember Me&quot; checkbox should be checked by default.</span>&nbsp;</div></li><li><div><span class="comment"> *                                  Default false (unchecked).</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * }</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_login_form( $args = array() ) {&nbsp;</div></li><li><div>  $defaults = array(&nbsp;</div></li><li><div>      'echo' =&gt; true, &nbsp;</div></li><li><div>      <span class="comment">// Default 'redirect' value takes the user back to the request URI.</span>&nbsp;</div></li><li><div>      'redirect' =&gt; ( is_ssl() ? 'https:<span class="comment">//' : 'http://' ) . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'], </span>&nbsp;</div></li><li><div>      'form_id' =&gt; 'loginform', &nbsp;</div></li><li><div>      'label_username' =&gt; __( 'Username or Email Address' ), &nbsp;</div></li><li><div>      'label_password' =&gt; __( 'Password' ), &nbsp;</div></li><li><div>      'label_remember' =&gt; __( 'Remember Me' ), &nbsp;</div></li><li><div>      'label_log_in' =&gt; __( 'Log In' ), &nbsp;</div></li><li><div>      'id_username' =&gt; 'user_login', &nbsp;</div></li><li><div>      'id_password' =&gt; 'user_pass', &nbsp;</div></li><li><div>      'id_remember' =&gt; 'rememberme', &nbsp;</div></li><li><div>      'id_submit' =&gt; 'wp-submit', &nbsp;</div></li><li><div>      'remember' =&gt; true, &nbsp;</div></li><li><div>      'value_username' =&gt; '', &nbsp;</div></li><li><div>      <span class="comment">// Set 'value_remember' to true to default the &quot;Remember me&quot; checkbox to checked.</span>&nbsp;</div></li><li><div>      'value_remember' =&gt; false, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the default login form output arguments.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @see wp_login_form()</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $defaults An array of default login form arguments.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $args = wp_parse_args( $args, apply_filters( 'login_form_defaults', $defaults ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters content to display at the top of the login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The filter evaluates just following the opening form tag element.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $content Content to display. Default empty.</span>&nbsp;</div></li><li><div><span class="comment">   * @param array  $args    Array of login form arguments.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $login_form_top = apply_filters( 'login_form_top', '', $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters content to display in the middle of the login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The filter evaluates just following the location where the 'login-password'</span>&nbsp;</div></li><li><div><span class="comment">   * field is displayed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $content Content to display. Default empty.</span>&nbsp;</div></li><li><div><span class="comment">   * @param array  $args    Array of login form arguments.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $login_form_middle = apply_filters( 'login_form_middle', '', $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters content to display at the bottom of the login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The filter evaluates just preceding the closing form tag element.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $content Content to display. Default empty.</span>&nbsp;</div></li><li><div><span class="comment">   * @param array  $args    Array of login form arguments.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $login_form_bottom = apply_filters( 'login_form_bottom', '', $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $form = '&nbsp;</div></li><li><div>      &lt;form name=&quot;' . $args['form_id'] . '&quot; id=&quot;' . $args['form_id'] . '&quot; action=&quot;' . esc_url( site_url( 'wp-login.php', 'login_post' ) ) . '&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>          ' . $login_form_top . '&nbsp;</div></li><li><div>          &lt;p class=&quot;login-username&quot;&gt;&nbsp;</div></li><li><div>              &lt;label for=&quot;' . esc_attr( $args['id_username'] ) . '&quot;&gt;' . esc_html( $args['label_username'] ) . '&lt;/label&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;text&quot; name=&quot;log&quot; id=&quot;' . esc_attr( $args['id_username'] ) . '&quot; class=&quot;input&quot; value=&quot;' . esc_attr( $args['value_username'] ) . '&quot; size=&quot;20&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>          &lt;p class=&quot;login-password&quot;&gt;&nbsp;</div></li><li><div>              &lt;label for=&quot;' . esc_attr( $args['id_password'] ) . '&quot;&gt;' . esc_html( $args['label_password'] ) . '&lt;/label&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;password&quot; name=&quot;pwd&quot; id=&quot;' . esc_attr( $args['id_password'] ) . '&quot; class=&quot;input&quot; value=&quot;&quot; size=&quot;20&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>          ' . $login_form_middle . '&nbsp;</div></li><li><div>          ' . ( $args['remember'] ? '&lt;p class=&quot;login-remember&quot;&gt;&lt;label&gt;&lt;input name=&quot;rememberme&quot; type=&quot;checkbox&quot; id=&quot;' . esc_attr( $args['id_remember'] ) . '&quot; value=&quot;forever&quot;' . ( $args['value_remember'] ? ' checked=&quot;checked&quot;' : '' ) . ' /&gt; ' . esc_html( $args['label_remember'] ) . '&lt;/label&gt;&lt;/p&gt;' : '' ) . '&nbsp;</div></li><li><div>          &lt;p class=&quot;login-submit&quot;&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;submit&quot; name=&quot;wp-submit&quot; id=&quot;' . esc_attr( $args['id_submit'] ) . '&quot; class=&quot;button button-primary&quot; value=&quot;' . esc_attr( $args['label_log_in'] ) . '&quot; /&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;hidden&quot; name=&quot;redirect_to&quot; value=&quot;' . esc_url( $args['redirect'] ) . '&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>          ' . $login_form_bottom . '&nbsp;</div></li><li><div>      &lt;/form&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $args['echo'] )&nbsp;</div></li><li><div>      echo $form;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      return $form;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the URL that allows the user to retrieve the lost password</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $redirect Path to redirect to on login.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Lost password URL.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_lostpassword_url( $redirect = '' ) {&nbsp;</div></li><li><div>  $args = array( 'action' =&gt; 'lostpassword' );&nbsp;</div></li><li><div>  if ( !empty($redirect) ) {&nbsp;</div></li><li><div>      $args['redirect_to'] = $redirect;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $lostpassword_url = add_query_arg( $args, network_site_url('wp-login.php', 'login') );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the Lost Password URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $lostpassword_url The lost password page URL.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $redirect         The path to redirect to on login.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'lostpassword_url', $lostpassword_url, $redirect );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the Registration or Admin link.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Display a link which allows the user to navigate to the registration page if</span>&nbsp;</div></li><li><div><span class="comment"> * not logged in and registration is enabled or to the dashboard if logged in.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Text to output before the link. Default `&lt;li&gt;`.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after  Text to output after the link. Default `&lt;/li&gt;`.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $echo   Default to echo and not return the link.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_register( $before = '&lt;li&gt;', $after = '&lt;/li&gt;', $echo = true ) {&nbsp;</div></li><li><div>  if ( ! is_user_logged_in() ) {&nbsp;</div></li><li><div>      if ( get_option('users_can_register') )&nbsp;</div></li><li><div>          $link = $before . '&lt;a href=&quot;' . esc_url( wp_registration_url() ) . '&quot;&gt;' . __('Register') . '&lt;/a&gt;' . $after;&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          $link = '';&nbsp;</div></li><li><div>  } elseif ( current_user_can( 'read' ) ) {&nbsp;</div></li><li><div>      $link = $before . '&lt;a href=&quot;' . admin_url() . '&quot;&gt;' . __('Site Admin') . '&lt;/a&gt;' . $after;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $link = '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the HTML link to the Registration or Admin page.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Users are sent to the admin page if logged-in, or the registration page</span>&nbsp;</div></li><li><div><span class="comment">   * if enabled and logged-out.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $link The HTML code for the link to the Registration or Admin page.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $link = apply_filters( 'register', $link );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $echo ) {&nbsp;</div></li><li><div>      echo $link;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return $link;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Theme container function for the 'wp_meta' action.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The {@see 'wp_meta'} action can have several purposes, depending on how you use it, </span>&nbsp;</div></li><li><div><span class="comment"> * but one purpose might have been to allow for theme switching.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @link https://core.trac.wordpress.org/ticket/1458 Explanation of 'wp_meta' action.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_meta() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before displaying echoed content in the sidebar.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'wp_meta' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays information about the current site.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_bloginfo() For possible `$show` values</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $show Optional. Site information to display. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function bloginfo( $show = '' ) {&nbsp;</div></li><li><div>  echo get_bloginfo( $show, 'display' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieves information about the current site.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Possible values for `$show` include:</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * - 'name' - Site title (set in Settings &gt; General)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'description' - Site tagline (set in Settings &gt; General)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'wpurl' - The WordPress address (URL) (set in Settings &gt; General)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'url' - The Site address (URL) (set in Settings &gt; General)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'admin_email' - Admin email (set in Settings &gt; General)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'charset' - The &quot;Encoding for pages and feeds&quot;  (set in Settings &gt; Reading)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'version' - The current WordPress version</span>&nbsp;</div></li><li><div><span class="comment"> * - 'html_type' - The content-type (default: &quot;text/html&quot;). Themes and plugins</span>&nbsp;</div></li><li><div><span class="comment"> *   can override the default value using the {@see 'pre_option_html_type'} filter</span>&nbsp;</div></li><li><div><span class="comment"> * - 'text_direction' - The text direction determined by the site's language. is_rtl()</span>&nbsp;</div></li><li><div><span class="comment"> *   should be used instead</span>&nbsp;</div></li><li><div><span class="comment"> * - 'language' - Language code for the current site</span>&nbsp;</div></li><li><div><span class="comment"> * - 'stylesheet_url' - URL to the stylesheet for the active theme. An active child theme</span>&nbsp;</div></li><li><div><span class="comment"> *   will take precedence over this value</span>&nbsp;</div></li><li><div><span class="comment"> * - 'stylesheet_directory' - Directory path for the active theme.  An active child theme</span>&nbsp;</div></li><li><div><span class="comment"> *   will take precedence over this value</span>&nbsp;</div></li><li><div><span class="comment"> * - 'template_url' / 'template_directory' - URL of the active theme's directory. An active</span>&nbsp;</div></li><li><div><span class="comment"> *   child theme will NOT take precedence over this value</span>&nbsp;</div></li><li><div><span class="comment"> * - 'pingback_url' - The pingback XML-RPC file URL (xmlrpc.php)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'atom_url' - The Atom feed URL (/feed/atom)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'rdf_url' - The RDF/RSS 1.0 feed URL (/feed/rfd)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'rss_url' - The RSS 0.92 feed URL (/feed/rss)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'rss2_url' - The RSS 2.0 feed URL (/feed)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'comments_atom_url' - The comments Atom feed URL (/comments/feed)</span>&nbsp;</div></li><li><div><span class="comment"> * - 'comments_rss2_url' - The comments RSS 2.0 feed URL (/comments/feed)</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Some `$show` values are deprecated and will be removed in future versions.</span>&nbsp;</div></li><li><div><span class="comment"> * These options will trigger the _deprecated_argument() function.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Deprecated arguments include:</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * - 'siteurl' - Use 'url' instead</span>&nbsp;</div></li><li><div><span class="comment"> * - 'home' - Use 'url' instead</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global string $wp_version</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $show   Optional. Site info to retrieve. Default empty (site name).</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $filter Optional. How to filter what is retrieved. Default 'raw'.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Mostly string values, might be empty.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_bloginfo( $show = '', $filter = 'raw' ) {&nbsp;</div></li><li><div>  switch( $show ) {&nbsp;</div></li><li><div>      case 'home' : <span class="comment"><span class="comment">// DEPRECATED</span></span>&nbsp;</div></li><li><div>      case 'siteurl' : <span class="comment"><span class="comment">// DEPRECATED</span></span>&nbsp;</div></li><li><div>          _deprecated_argument( __FUNCTION__, '2.2.0', sprintf(&nbsp;</div></li><li><div>              <span class="comment">/** translators: 1: 'siteurl'/'home' argument, 2: bloginfo() function name, 3: 'url' argument */</span>&nbsp;</div></li><li><div>              __( 'The %1$s option is deprecated for the family of %2$s functions. Use the %3$s option instead.' ), &nbsp;</div></li><li><div>              '&lt;code&gt;' . $show . '&lt;/code&gt;', &nbsp;</div></li><li><div>              '&lt;code&gt;bloginfo()&lt;/code&gt;', &nbsp;</div></li><li><div>              '&lt;code&gt;url&lt;/code&gt;'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      case 'url' :&nbsp;</div></li><li><div>          $output = home_url();&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'wpurl' :&nbsp;</div></li><li><div>          $output = site_url();&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'description':&nbsp;</div></li><li><div>          $output = get_option('blogdescription');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'rdf_url':&nbsp;</div></li><li><div>          $output = get_feed_link('rdf');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'rss_url':&nbsp;</div></li><li><div>          $output = get_feed_link('rss');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'rss2_url':&nbsp;</div></li><li><div>          $output = get_feed_link('rss2');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'atom_url':&nbsp;</div></li><li><div>          $output = get_feed_link('atom');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'comments_atom_url':&nbsp;</div></li><li><div>          $output = get_feed_link('comments_atom');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'comments_rss2_url':&nbsp;</div></li><li><div>          $output = get_feed_link('comments_rss2');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'pingback_url':&nbsp;</div></li><li><div>          $output = site_url( 'xmlrpc.php' );&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'stylesheet_url':&nbsp;</div></li><li><div>          $output = get_stylesheet_uri();&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'stylesheet_directory':&nbsp;</div></li><li><div>          $output = get_stylesheet_directory_uri();&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'template_directory':&nbsp;</div></li><li><div>      case 'template_url':&nbsp;</div></li><li><div>          $output = get_template_directory_uri();&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'admin_email':&nbsp;</div></li><li><div>          $output = get_option('admin_email');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'charset':&nbsp;</div></li><li><div>          $output = get_option('blog_charset');&nbsp;</div></li><li><div>          if ('' == $output) $output = 'UTF-8';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'html_type' :&nbsp;</div></li><li><div>          $output = get_option('html_type');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'version':&nbsp;</div></li><li><div>          global $wp_version;&nbsp;</div></li><li><div>          $output = $wp_version;&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'language':&nbsp;</div></li><li><div>          <span class="comment">/** translators: Translate this to the correct language tag for your locale, </span>&nbsp;</div></li><li><div><span class="comment">           * see https://www.w3.org/International/articles/language-tags/ for reference.</span>&nbsp;</div></li><li><div><span class="comment">           * Do not translate into your own language.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $output = __( 'html_lang_attribute' );&nbsp;</div></li><li><div>          if ( 'html_lang_attribute' === $output || preg_match( '/[^a-zA-Z0-9-]/', $output ) ) {&nbsp;</div></li><li><div>              $output = get_locale();&nbsp;</div></li><li><div>              $output = str_replace( '_', '-', $output );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'text_direction':&nbsp;</div></li><li><div>          _deprecated_argument( __FUNCTION__, '2.2.0', sprintf(&nbsp;</div></li><li><div>              <span class="comment">/** translators: 1: 'text_direction' argument, 2: bloginfo() function name, 3: is_rtl() function name */</span>&nbsp;</div></li><li><div>              __( 'The %1$s option is deprecated for the family of %2$s functions. Use the %3$s function instead.' ), &nbsp;</div></li><li><div>              '&lt;code&gt;' . $show . '&lt;/code&gt;', &nbsp;</div></li><li><div>              '&lt;code&gt;bloginfo()&lt;/code&gt;', &nbsp;</div></li><li><div>              '&lt;code&gt;is_rtl()&lt;/code&gt;'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          if ( function_exists( 'is_rtl' ) ) {&nbsp;</div></li><li><div>              $output = is_rtl() ? 'rtl' : 'ltr';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $output = 'ltr';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'name':&nbsp;</div></li><li><div>      default:&nbsp;</div></li><li><div>          $output = get_option('blogname');&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $url = true;&nbsp;</div></li><li><div>  if (strpos($show, 'url') === false &&&nbsp;</div></li><li><div>      strpos($show, 'directory') === false &&&nbsp;</div></li><li><div>      strpos($show, 'home') === false)&nbsp;</div></li><li><div>      $url = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( 'display' == $filter ) {&nbsp;</div></li><li><div>      if ( $url ) {&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Filters the URL returned by get_bloginfo().</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @since 2.0.5</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @param mixed $output The URL returned by bloginfo().</span>&nbsp;</div></li><li><div><span class="comment">           * @param mixed $show   Type of information requested.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $output = apply_filters( 'bloginfo_url', $output, $show );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Filters the site information returned by get_bloginfo().</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @param mixed $output The requested non-URL site information.</span>&nbsp;</div></li><li><div><span class="comment">           * @param mixed $show   Type of information requested.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $output = apply_filters( 'bloginfo', $output, $show );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $output;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the Site Icon URL.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int    $size    Optional. Size of the site icon. Default 512 (pixels).</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $url     Optional. Fallback url if no site icon is found. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int    $blog_id Optional. ID of the blog to get the site icon for. Default current blog.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Site Icon URL.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_site_icon_url( $size = 512, $url = '', $blog_id = 0 ) {&nbsp;</div></li><li><div>  $switched_blog = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_multisite() && ! empty( $blog_id ) && (int) $blog_id !== get_current_blog_id() ) {&nbsp;</div></li><li><div>      switch_to_blog( $blog_id );&nbsp;</div></li><li><div>      $switched_blog = true;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $site_icon_id = get_option( 'site_icon' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $site_icon_id ) {&nbsp;</div></li><li><div>      if ( $size &gt;= 512 ) {&nbsp;</div></li><li><div>          $size_data = 'full';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $size_data = array( $size, $size );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $url = wp_get_attachment_image_url( $site_icon_id, $size_data );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $switched_blog ) {&nbsp;</div></li><li><div>      restore_current_blog();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the site icon URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @site 4.4.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $url     Site icon URL.</span>&nbsp;</div></li><li><div><span class="comment">   * @param int    $size    Size of the site icon.</span>&nbsp;</div></li><li><div><span class="comment">   * @param int    $blog_id ID of the blog to get the site icon for.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_site_icon_url', $url, $size, $blog_id );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays the Site Icon URL.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int    $size    Optional. Size of the site icon. Default 512 (pixels).</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $url     Optional. Fallback url if no site icon is found. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int    $blog_id Optional. ID of the blog to get the site icon for. Default current blog.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function site_icon_url( $size = 512, $url = '', $blog_id = 0 ) {&nbsp;</div></li><li><div>  echo esc_url( get_site_icon_url( $size, $url, $blog_id ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Whether the site has a Site Icon.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $blog_id Optional. ID of the blog in question. Default current blog.</span>&nbsp;</div></li><li><div><span class="comment"> * @return bool Whether the site has a site icon or not.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function has_site_icon( $blog_id = 0 ) {&nbsp;</div></li><li><div>  return (bool) get_site_icon_url( 512, '', $blog_id );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Determines whether the site has a custom logo.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $blog_id Optional. ID of the blog in question. Default is the ID of the current blog.</span>&nbsp;</div></li><li><div><span class="comment"> * @return bool Whether the site has a custom logo or not.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function has_custom_logo( $blog_id = 0 ) {&nbsp;</div></li><li><div>  $switched_blog = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_multisite() && ! empty( $blog_id ) && (int) $blog_id !== get_current_blog_id() ) {&nbsp;</div></li><li><div>      switch_to_blog( $blog_id );&nbsp;</div></li><li><div>      $switched_blog = true;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $custom_logo_id = get_theme_mod( 'custom_logo' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $switched_blog ) {&nbsp;</div></li><li><div>      restore_current_blog();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return (bool) $custom_logo_id;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns a custom logo, linked to home.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $blog_id Optional. ID of the blog in question. Default is the ID of the current blog.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Custom logo markup.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_custom_logo( $blog_id = 0 ) {&nbsp;</div></li><li><div>  $html = '';&nbsp;</div></li><li><div>  $switched_blog = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_multisite() && ! empty( $blog_id ) && (int) $blog_id !== get_current_blog_id() ) {&nbsp;</div></li><li><div>      switch_to_blog( $blog_id );&nbsp;</div></li><li><div>      $switched_blog = true;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $custom_logo_id = get_theme_mod( 'custom_logo' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// We have a logo. Logo is go.</span>&nbsp;</div></li><li><div>  if ( $custom_logo_id ) {&nbsp;</div></li><li><div>      $html = sprintf( '&lt;a href=&quot;%1$s&quot; class=&quot;custom-logo-link&quot; rel=&quot;home&quot; itemprop=&quot;url&quot;&gt;%2$s&lt;/a&gt;', &nbsp;</div></li><li><div>          esc_url( home_url( '/' ) ), &nbsp;</div></li><li><div>          wp_get_attachment_image( $custom_logo_id, 'full', false, array(&nbsp;</div></li><li><div>              'class' =&gt; 'custom-logo', &nbsp;</div></li><li><div>              'itemprop' =&gt; 'logo', &nbsp;</div></li><li><div> ) )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If no logo is set but we're in the Customizer, leave a placeholder (needed for the live preview).</span>&nbsp;</div></li><li><div>  elseif ( is_customize_preview() ) {&nbsp;</div></li><li><div>      $html = sprintf( '&lt;a href=&quot;%1$s&quot; class=&quot;custom-logo-link&quot; style=&quot;display:none;&quot;&gt;&lt;img class=&quot;custom-logo&quot;/&gt;&lt;/a&gt;', &nbsp;</div></li><li><div>          esc_url( home_url( '/' ) )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $switched_blog ) {&nbsp;</div></li><li><div>      restore_current_blog();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the custom logo output.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.5.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.6.0 Added the `$blog_id` parameter.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $html    Custom logo HTML output.</span>&nbsp;</div></li><li><div><span class="comment">   * @param int    $blog_id ID of the blog to get the custom logo for.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_custom_logo', $html, $blog_id );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays a custom logo, linked to home.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $blog_id Optional. ID of the blog in question. Default is the ID of the current blog.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_custom_logo( $blog_id = 0 ) {&nbsp;</div></li><li><div>  echo get_custom_logo( $blog_id );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns document title for the current page.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.4.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global int $page  Page number of a single post.</span>&nbsp;</div></li><li><div><span class="comment"> * @global int $paged Page number of a list of posts.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Tag with the document title.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_get_document_title() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the document title before it is generated.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Passing a non-empty value will short-circuit wp_get_document_title(), </span>&nbsp;</div></li><li><div><span class="comment">   * returning that value instead.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $title The document title. Default empty string.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'pre_get_document_title', '' );&nbsp;</div></li><li><div>  if ( ! empty( $title ) ) {&nbsp;</div></li><li><div>      return $title;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  global $page, $paged;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $title = array(&nbsp;</div></li><li><div>      'title' =&gt; '', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment">// If it's a 404 page</span>, use a &quot;Page not found&quot; title.</span>&nbsp;</div></li><li><div>  if ( is_404() ) {&nbsp;</div></li><li><div>      $title['title'] = __( 'Page not found' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment">// If it's a search</span>, use a dynamic search results title.</span>&nbsp;</div></li><li><div>  } elseif ( is_search() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: %s: search phrase */</span>&nbsp;</div></li><li><div>      $title['title'] = sprintf( __( 'Search Results for &#8220;%s&#8221;' ), get_search_query() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If on the front page, use the site title.</span>&nbsp;</div></li><li><div>  } elseif ( is_front_page() ) {&nbsp;</div></li><li><div>      $title['title'] = get_bloginfo( 'name', 'display' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If on a post type archive, use the post type archive title.</span>&nbsp;</div></li><li><div>  } elseif ( is_post_type_archive() ) {&nbsp;</div></li><li><div>      $title['title'] = post_type_archive_title( '', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If on a taxonomy archive, use the term title.</span>&nbsp;</div></li><li><div>  } elseif ( is_tax() ) {&nbsp;</div></li><li><div>      $title['title'] = single_term_title( '', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * If we're on the blog page that is not the homepage or</span>&nbsp;</div></li><li><div><span class="comment">   * a single post of any post type, use the post title.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  } elseif ( is_home() || is_singular() ) {&nbsp;</div></li><li><div>      $title['title'] = single_post_title( '', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If on a category or tag archive, use the term title.</span>&nbsp;</div></li><li><div>  } elseif ( is_category() || is_tag() ) {&nbsp;</div></li><li><div>      $title['title'] = single_term_title( '', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If on an author archive, use the author's display name.</span>&nbsp;</div></li><li><div>  } elseif ( is_author() && $author = get_queried_object() ) {&nbsp;</div></li><li><div>      $title['title'] = $author-&gt;display_name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If it's a date archive, use the date as the title.</span>&nbsp;</div></li><li><div>  } elseif ( is_year() ) {&nbsp;</div></li><li><div>      $title['title'] = get_the_date( _x( 'Y', 'yearly archives date format' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_month() ) {&nbsp;</div></li><li><div>      $title['title'] = get_the_date( _x( 'F Y', 'monthly archives date format' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_day() ) {&nbsp;</div></li><li><div>      $title['title'] = get_the_date();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Add a page number if necessary.</span>&nbsp;</div></li><li><div>  if ( ( $paged &gt;= 2 || $page &gt;= 2 ) && ! is_404() ) {&nbsp;</div></li><li><div>      $title['page'] = sprintf( __( 'Page %s' ), max( $paged, $page ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Append the description or site title to give context.</span>&nbsp;</div></li><li><div>  if ( is_front_page() ) {&nbsp;</div></li><li><div>      $title['tagline'] = get_bloginfo( 'description', 'display' );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $title['site'] = get_bloginfo( 'name', 'display' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the separator for the document title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $sep Document title separator. Default '-'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $sep = apply_filters( 'document_title_separator', '-' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the parts of the document title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $title {</span>&nbsp;</div></li><li><div><span class="comment">   *     The document title parts.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   *     @type string $title   Title of the viewed page.</span>&nbsp;</div></li><li><div><span class="comment">   *     @type string $page    Optional. Page number if paginated.</span>&nbsp;</div></li><li><div><span class="comment">   *     @type string $tagline Optional. Site description when on home page.</span>&nbsp;</div></li><li><div><span class="comment">   *     @type string $site    Optional. Site title when not on home page.</span>&nbsp;</div></li><li><div><span class="comment">   * }</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'document_title_parts', $title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $title = implode( &quot; $sep &quot;, array_filter( $title ) );&nbsp;</div></li><li><div>  $title = wptexturize( $title );&nbsp;</div></li><li><div>  $title = convert_chars( $title );&nbsp;</div></li><li><div>  $title = esc_html( $title );&nbsp;</div></li><li><div>  $title = capital_P_dangit( $title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $title;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays title tag with content.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @ignore</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.4.0 Improved title output replaced `wp_title()`.</span>&nbsp;</div></li><li><div><span class="comment"> * @access private</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function _wp_render_title_tag() {&nbsp;</div></li><li><div>  if ( ! current_theme_supports( 'title-tag' ) ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  echo '&lt;title&gt;' . wp_get_document_title() . '&lt;/title&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve page title for all areas of blog.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * By default, the page title will display the separator before the page title, </span>&nbsp;</div></li><li><div><span class="comment"> * so that the blog title will be before the page title. This is not good for</span>&nbsp;</div></li><li><div><span class="comment"> * title display, since the blog title shows up on most tabs and not what is</span>&nbsp;</div></li><li><div><span class="comment"> * important, which is the page that the user is looking at.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * There are also SEO benefits to having the blog title after or to the 'right'</span>&nbsp;</div></li><li><div><span class="comment"> * of the page title. However, it is mostly common sense to have the blog title</span>&nbsp;</div></li><li><div><span class="comment"> * to the right with most browsers supporting tabs. You can achieve this by</span>&nbsp;</div></li><li><div><span class="comment"> * using the seplocation parameter and setting the value to 'right'. This change</span>&nbsp;</div></li><li><div><span class="comment"> * was introduced around 2.5.0, in case backward compatibility of themes is</span>&nbsp;</div></li><li><div><span class="comment"> * important.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Locale $wp_locale</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $sep         Optional, default is '&raquo;'. How to separate the various items</span>&nbsp;</div></li><li><div><span class="comment"> *                            within the page title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display     Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $seplocation Optional. Direction to display title, 'right'.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|null String on retrieve, null when displaying.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_title( $sep = '&raquo;', $display = true, $seplocation = '' ) {&nbsp;</div></li><li><div>  global $wp_locale;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $m = get_query_var( 'm' );&nbsp;</div></li><li><div>  $year = get_query_var( 'year' );&nbsp;</div></li><li><div>  $monthnum = get_query_var( 'monthnum' );&nbsp;</div></li><li><div>  $day = get_query_var( 'day' );&nbsp;</div></li><li><div>  $search = get_query_var( 's' );&nbsp;</div></li><li><div>  $title = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $t_sep = '%WP_TITLE_SEP%'; <span class="comment">// Temporary separator, for accurate flipping, if necessary</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there is a post</span>&nbsp;</div></li><li><div>  if ( is_single() || ( is_home() && ! is_front_page() ) || ( is_page() && ! is_front_page() ) ) {&nbsp;</div></li><li><div>      $title = single_post_title( '', false );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there's a post type archive</span>&nbsp;</div></li><li><div>  if ( is_post_type_archive() ) {&nbsp;</div></li><li><div>      $post_type = get_query_var( 'post_type' );&nbsp;</div></li><li><div>      if ( is_array( $post_type ) ) {&nbsp;</div></li><li><div>          $post_type = reset( $post_type );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $post_type_object = get_post_type_object( $post_type );&nbsp;</div></li><li><div>      if ( ! $post_type_object-&gt;has_archive ) {&nbsp;</div></li><li><div>          $title = post_type_archive_title( '', false );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there's a category or tag</span>&nbsp;</div></li><li><div>  if ( is_category() || is_tag() ) {&nbsp;</div></li><li><div>      $title = single_term_title( '', false );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there's a taxonomy</span>&nbsp;</div></li><li><div>  if ( is_tax() ) {&nbsp;</div></li><li><div>      $term = get_queried_object();&nbsp;</div></li><li><div>      if ( $term ) {&nbsp;</div></li><li><div>          $tax = get_taxonomy( $term-&gt;taxonomy );&nbsp;</div></li><li><div>          $title = single_term_title( $tax-&gt;labels-&gt;name . $t_sep, false );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there's an author</span>&nbsp;</div></li><li><div>  if ( is_author() && ! is_post_type_archive() ) {&nbsp;</div></li><li><div>      $author = get_queried_object();&nbsp;</div></li><li><div>      if ( $author ) {&nbsp;</div></li><li><div>          $title = $author-&gt;display_name;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Post type archives with has_archive should override terms.</span>&nbsp;</div></li><li><div>  if ( is_post_type_archive() && $post_type_object-&gt;has_archive ) {&nbsp;</div></li><li><div>      $title = post_type_archive_title( '', false );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there's a month</span>&nbsp;</div></li><li><div>  if ( is_archive() && ! empty( $m ) ) {&nbsp;</div></li><li><div>      $my_year = substr( $m, 0, 4 );&nbsp;</div></li><li><div>      $my_month = $wp_locale-&gt;get_month( substr( $m, 4, 2 ) );&nbsp;</div></li><li><div>      $my_day = intval( substr( $m, 6, 2 ) );&nbsp;</div></li><li><div>      $title = $my_year . ( $my_month ? $t_sep . $my_month : '' ) . ( $my_day ? $t_sep . $my_day : '' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If there's a year</span>&nbsp;</div></li><li><div>  if ( is_archive() && ! empty( $year ) ) {&nbsp;</div></li><li><div>      $title = $year;&nbsp;</div></li><li><div>      if ( ! empty( $monthnum ) ) {&nbsp;</div></li><li><div>          $title .= $t_sep . $wp_locale-&gt;get_month( $monthnum );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! empty( $day ) ) {&nbsp;</div></li><li><div>          $title .= $t_sep . zeroise( $day, 2 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If it's a search</span>&nbsp;</div></li><li><div>  if ( is_search() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: separator, 2: search phrase */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Search Results %1$s %2$s' ), $t_sep, strip_tags( $search ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If it's a 404 page</span>&nbsp;</div></li><li><div>  if ( is_404() ) {&nbsp;</div></li><li><div>      $title = __( 'Page not found' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $prefix = '';&nbsp;</div></li><li><div>  if ( ! empty( $title ) ) {&nbsp;</div></li><li><div>      $prefix = &quot; $sep &quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the parts of the page title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $title_array Parts of the page title.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title_array = apply_filters( 'wp_title_parts', explode( $t_sep, $title ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Determines position of the separator and direction of the breadcrumb</span>&nbsp;</div></li><li><div>  if ( 'right' == $seplocation ) { <span class="comment">// sep on right, so reverse the order</span>&nbsp;</div></li><li><div>      $title_array = array_reverse( $title_array );&nbsp;</div></li><li><div>      $title = implode( &quot; $sep &quot;, $title_array ) . $prefix;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $title = $prefix . implode( &quot; $sep &quot;, $title_array );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the text of the page title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $title Page title.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $sep Title separator.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $seplocation Location of the separator (left or right).</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'wp_title', $title, $sep, $seplocation );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Send it out</span>&nbsp;</div></li><li><div>  if ( $display ) {&nbsp;</div></li><li><div>      echo $title;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return $title;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve page title for post.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * This is optimized for single.php template file for displaying the post title.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * It does not support placing the separator after the title, but by leaving the</span>&nbsp;</div></li><li><div><span class="comment"> * prefix parameter empty, you can set the title separator manually. The prefix</span>&nbsp;</div></li><li><div><span class="comment"> * does not automatically place a space between the prefix, so if there should</span>&nbsp;</div></li><li><div><span class="comment"> * be a space, the parameter value will need to have it at the end.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $prefix  Optional. What to display before the title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void Title when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function single_post_title( $prefix = '', $display = true ) {&nbsp;</div></li><li><div>  $_post = get_queried_object();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !isset($_post-&gt;post_title) )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the page title for a single post.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $_post_title The single post page title.</span>&nbsp;</div></li><li><div><span class="comment">   * @param object $_post       The current queried object as returned by get_queried_object().</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'single_post_title', $_post-&gt;post_title, $_post );&nbsp;</div></li><li><div>  if ( $display )&nbsp;</div></li><li><div>      echo $prefix . $title;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      return $prefix . $title;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve title for a post type archive.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * This is optimized for archive.php and archive-{$post_type}.php template files</span>&nbsp;</div></li><li><div><span class="comment"> * for displaying the title of the post type.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $prefix  Optional. What to display before the title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void Title when retrieving, null when displaying or failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function post_type_archive_title( $prefix = '', $display = true ) {&nbsp;</div></li><li><div>  if ( ! is_post_type_archive() )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $post_type = get_query_var( 'post_type' );&nbsp;</div></li><li><div>  if ( is_array( $post_type ) )&nbsp;</div></li><li><div>      $post_type = reset( $post_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $post_type_obj = get_post_type_object( $post_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the post type archive title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $post_type_name Post type 'name' label.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $post_type      Post type.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'post_type_archive_title', $post_type_obj-&gt;labels-&gt;name, $post_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $display )&nbsp;</div></li><li><div>      echo $prefix . $title;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      return $prefix . $title;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve page title for category archive.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Useful for category template files for displaying the category page title.</span>&nbsp;</div></li><li><div><span class="comment"> * The prefix does not automatically place a space between the prefix, so if</span>&nbsp;</div></li><li><div><span class="comment"> * there should be a space, the parameter value will need to have it at the end.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $prefix  Optional. What to display before the title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void Title when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function single_cat_title( $prefix = '', $display = true ) {&nbsp;</div></li><li><div>  return single_term_title( $prefix, $display );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve page title for tag post archive.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Useful for tag template files for displaying the tag page title. The prefix</span>&nbsp;</div></li><li><div><span class="comment"> * does not automatically place a space between the prefix, so if there should</span>&nbsp;</div></li><li><div><span class="comment"> * be a space, the parameter value will need to have it at the end.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $prefix  Optional. What to display before the title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void Title when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function single_tag_title( $prefix = '', $display = true ) {&nbsp;</div></li><li><div>  return single_term_title( $prefix, $display );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve page title for taxonomy term archive.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Useful for taxonomy term template files for displaying the taxonomy term page title.</span>&nbsp;</div></li><li><div><span class="comment"> * The prefix does not automatically place a space between the prefix, so if there should</span>&nbsp;</div></li><li><div><span class="comment"> * be a space, the parameter value will need to have it at the end.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $prefix  Optional. What to display before the title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void Title when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function single_term_title( $prefix = '', $display = true ) {&nbsp;</div></li><li><div>  $term = get_queried_object();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !$term )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_category() ) {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the category archive page title.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 2.0.10</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $term_name Category name for archive being displayed.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $term_name = apply_filters( 'single_cat_title', $term-&gt;name );&nbsp;</div></li><li><div>  } elseif ( is_tag() ) {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the tag archive page title.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $term_name Tag name for archive being displayed.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $term_name = apply_filters( 'single_tag_title', $term-&gt;name );&nbsp;</div></li><li><div>  } elseif ( is_tax() ) {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the custom taxonomy archive page title.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 3.1.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $term_name Term name for archive being displayed.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $term_name = apply_filters( 'single_term_title', $term-&gt;name );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( empty( $term_name ) )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $display )&nbsp;</div></li><li><div>      echo $prefix . $term_name;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      return $prefix . $term_name;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or retrieve page title for post archive based on date.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Useful for when the template only needs to display the month and year, </span>&nbsp;</div></li><li><div><span class="comment"> * if either are available. The prefix does not automatically place a space</span>&nbsp;</div></li><li><div><span class="comment"> * between the prefix, so if there should be a space, the parameter value</span>&nbsp;</div></li><li><div><span class="comment"> * will need to have it at the end.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Locale $wp_locale</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $prefix  Optional. What to display before the title.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $display Optional, default is true. Whether to display or retrieve title.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void Title when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function single_month_title($prefix = '', $display = true ) {&nbsp;</div></li><li><div>  global $wp_locale;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $m = get_query_var('m');&nbsp;</div></li><li><div>  $year = get_query_var('year');&nbsp;</div></li><li><div>  $monthnum = get_query_var('monthnum');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !empty($monthnum) && !empty($year) ) {&nbsp;</div></li><li><div>      $my_year = $year;&nbsp;</div></li><li><div>      $my_month = $wp_locale-&gt;get_month($monthnum);&nbsp;</div></li><li><div>  } elseif ( !empty($m) ) {&nbsp;</div></li><li><div>      $my_year = substr($m, 0, 4);&nbsp;</div></li><li><div>      $my_month = $wp_locale-&gt;get_month(substr($m, 4, 2));&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( empty($my_month) )&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $result = $prefix . $my_month . $prefix . $my_year;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !$display )&nbsp;</div></li><li><div>      return $result;&nbsp;</div></li><li><div>  echo $result;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the archive title based on the queried object.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_the_archive_title()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Optional. Content to prepend to the title. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after  Optional. Content to append to the title. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_archive_title( $before = '', $after = '' ) {&nbsp;</div></li><li><div>  $title = get_the_archive_title();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! empty( $title ) ) {&nbsp;</div></li><li><div>      echo $before . $title . $after;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the archive title based on the queried object.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Archive title.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_archive_title() {&nbsp;</div></li><li><div>  if ( is_category() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Category archive title. 1: Category name */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Category: %s' ), single_cat_title( '', false ) );&nbsp;</div></li><li><div>  } elseif ( is_tag() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Tag archive title. 1: Tag name */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Tag: %s' ), single_tag_title( '', false ) );&nbsp;</div></li><li><div>  } elseif ( is_author() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Author archive title. 1: Author name */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Author: %s' ), '&lt;span class=&quot;vcard&quot;&gt;' . get_the_author() . '&lt;/span&gt;' );&nbsp;</div></li><li><div>  } elseif ( is_year() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Yearly archive title. 1: Year */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Year: %s' ), get_the_date( _x( 'Y', 'yearly archives date format' ) ) );&nbsp;</div></li><li><div>  } elseif ( is_month() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Monthly archive title. 1: Month name and year */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Month: %s' ), get_the_date( _x( 'F Y', 'monthly archives date format' ) ) );&nbsp;</div></li><li><div>  } elseif ( is_day() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Daily archive title. 1: Date */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Day: %s' ), get_the_date( _x( 'F j, Y', 'daily archives date format' ) ) );&nbsp;</div></li><li><div>  } elseif ( is_tax( 'post_format' ) ) {&nbsp;</div></li><li><div>      if ( is_tax( 'post_format', 'post-format-aside' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Asides', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-gallery' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Galleries', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-image' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Images', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-video' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Videos', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-quote' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Quotes', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-link' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Links', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-status' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Statuses', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-audio' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Audio', 'post format archive title' );&nbsp;</div></li><li><div>      } elseif ( is_tax( 'post_format', 'post-format-chat' ) ) {&nbsp;</div></li><li><div>          $title = _x( 'Chats', 'post format archive title' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( is_post_type_archive() ) {&nbsp;</div></li><li><div>      <span class="comment">/** translators: Post type archive title. 1: Post type name */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( 'Archives: %s' ), post_type_archive_title( '', false ) );&nbsp;</div></li><li><div>  } elseif ( is_tax() ) {&nbsp;</div></li><li><div>      $tax = get_taxonomy( get_queried_object()-&gt;taxonomy );&nbsp;</div></li><li><div>      <span class="comment">/** translators: Taxonomy term archive title. 1: Taxonomy singular name, 2: Current taxonomy term */</span>&nbsp;</div></li><li><div>      $title = sprintf( __( '%1$s: %2$s' ), $tax-&gt;labels-&gt;singular_name, single_term_title( '', false ) );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $title = __( 'Archives' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the archive title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $title Archive title to be displayed.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_the_archive_title', $title );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display category, tag, term, or author description.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_the_archive_description()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Optional. Content to prepend to the description. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after  Optional. Content to append to the description. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_archive_description( $before = '', $after = '' ) {&nbsp;</div></li><li><div>  $description = get_the_archive_description();&nbsp;</div></li><li><div>  if ( $description ) {&nbsp;</div></li><li><div>      echo $before . $description . $after;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve category, tag, term, or author description.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.7.0 Added support for author archives.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see term_description()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Archive description.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_archive_description() {&nbsp;</div></li><li><div>  if ( is_author() ) {&nbsp;</div></li><li><div>      $description = get_the_author_meta( 'description' );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $description = term_description();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the archive description.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $description Archive description to be displayed.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_the_archive_description', $description );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve archive link content based on predefined or custom code.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The format can be one of four styles. The 'link' for head element, 'option'</span>&nbsp;</div></li><li><div><span class="comment"> * for use in the select element, 'html' for use in list (either ol or ul HTML</span>&nbsp;</div></li><li><div><span class="comment"> * elements). Custom content is also supported using the before and after</span>&nbsp;</div></li><li><div><span class="comment"> * parameters.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The 'link' format uses the `&lt;link&gt;` HTML element with the **archives**</span>&nbsp;</div></li><li><div><span class="comment"> * relationship. The before and after parameters are not used. The text</span>&nbsp;</div></li><li><div><span class="comment"> * parameter is used to describe the link.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The 'option' format uses the option HTML element for use in select element.</span>&nbsp;</div></li><li><div><span class="comment"> * The value is the url parameter and the before and after parameters are used</span>&nbsp;</div></li><li><div><span class="comment"> * between the text description.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The 'html' format, which is the default, uses the li HTML element for use in</span>&nbsp;</div></li><li><div><span class="comment"> * the list HTML elements. The before parameter is before the link and the after</span>&nbsp;</div></li><li><div><span class="comment"> * parameter is after the closing link.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The custom format uses the before parameter before the link ('a' HTML</span>&nbsp;</div></li><li><div><span class="comment"> * element) and the after parameter after the closing link tag. If the above</span>&nbsp;</div></li><li><div><span class="comment"> * three values for the format are not used, then custom format is assumed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $url    URL to archive.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $text   Archive text description.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $format Optional, default is 'html'. Can be 'link', 'option', 'html', or custom.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Optional. Content to prepend to the description. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after  Optional. Content to append to the description. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string HTML link content for archive.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_archives_link($url, $text, $format = 'html', $before = '', $after = '') {&nbsp;</div></li><li><div>  $text = wptexturize($text);&nbsp;</div></li><li><div>  $url = esc_url($url);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ('link' == $format)&nbsp;</div></li><li><div>      $link_html = &quot;\t&lt;link rel='archives' title='&quot; . esc_attr( $text ) . &quot;' href='$url' /&gt;\n&quot;;&nbsp;</div></li><li><div>  elseif ('option' == $format)&nbsp;</div></li><li><div>      $link_html = &quot;\t&lt;option value='$url'&gt;$before $text $after&lt;/option&gt;\n&quot;;&nbsp;</div></li><li><div>  elseif ('html' == $format)&nbsp;</div></li><li><div>      $link_html = &quot;\t&lt;li&gt;$before&lt;a href='$url'&gt;$text&lt;/a&gt;$after&lt;/li&gt;\n&quot;;&nbsp;</div></li><li><div>  else <span class="comment">// custom</span>&nbsp;</div></li><li><div>      $link_html = &quot;\t$before&lt;a href='$url'&gt;$text&lt;/a&gt;$after\n&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the archive link content.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.6.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.5.0 Added the `$url`, `$text`, `$format`, `$before`, and `$after` parameters.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $link_html The archive HTML link content.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $url       URL to archive.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $text      Archive text description.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $format    Link format. Can be 'link', 'option', 'html', or custom.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $before    Content to prepend to the description.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $after     Content to append to the description.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_archives_link', $link_html, $url, $text, $format, $before, $after );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display archive links based on type and format.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.2.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.4.0 $post_type arg was added.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_archives_link()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global wpdb      $wpdb</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Locale $wp_locale</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string|array $args {</span>&nbsp;</div></li><li><div><span class="comment"> *     Default archive links arguments. Optional.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string     $type            Type of archive to retrieve. Accepts 'daily', 'weekly', 'monthly', </span>&nbsp;</div></li><li><div><span class="comment"> *                                       'yearly', 'postbypost', or 'alpha'. Both 'postbypost' and 'alpha'</span>&nbsp;</div></li><li><div><span class="comment"> *                                       display the same archive link list as well as post titles instead</span>&nbsp;</div></li><li><div><span class="comment"> *                                       of displaying dates. The difference between the two is that 'alpha'</span>&nbsp;</div></li><li><div><span class="comment"> *                                       will order by post title and 'postbypost' will order by post date.</span>&nbsp;</div></li><li><div><span class="comment"> *                                       Default 'monthly'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string|int $limit           Number of links to limit the query to. Default empty (no limit).</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string     $format          Format each link should take using the $before and $after args.</span>&nbsp;</div></li><li><div><span class="comment"> *                                       Accepts 'link' (`&lt;link&gt;` tag), 'option' (`&lt;option&gt;` tag), 'html'</span>&nbsp;</div></li><li><div><span class="comment"> *                                       (`&lt;li&gt;` tag), or a custom format, which generates a link anchor</span>&nbsp;</div></li><li><div><span class="comment"> *                                       with $before preceding and $after succeeding. Default 'html'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string     $before          Markup to prepend to the beginning of each link. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string     $after           Markup to append to the end of each link. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool       $show_post_count Whether to display the post count alongside the link. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool|int   $echo            Whether to echo or return the links list. Default 1|true to echo.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string     $order           Whether to use ascending or descending order. Accepts 'ASC', or 'DESC'.</span>&nbsp;</div></li><li><div><span class="comment"> *                                       Default 'DESC'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string     $post_type       Post type. Default 'post'.</span>&nbsp;</div></li><li><div><span class="comment"> * }</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_get_archives( $args = '' ) {&nbsp;</div></li><li><div>  global $wpdb, $wp_locale;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $defaults = array(&nbsp;</div></li><li><div>      'type' =&gt; 'monthly', 'limit' =&gt; '', &nbsp;</div></li><li><div>      'format' =&gt; 'html', 'before' =&gt; '', &nbsp;</div></li><li><div>      'after' =&gt; '', 'show_post_count' =&gt; false, &nbsp;</div></li><li><div>      'echo' =&gt; 1, 'order' =&gt; 'DESC', &nbsp;</div></li><li><div>      'post_type' =&gt; 'post'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $r = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $post_type_object = get_post_type_object( $r['post_type'] );&nbsp;</div></li><li><div>  if ( ! is_post_type_viewable( $post_type_object ) ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $r['post_type'] = $post_type_object-&gt;name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( '' == $r['type'] ) {&nbsp;</div></li><li><div>      $r['type'] = 'monthly';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! empty( $r['limit'] ) ) {&nbsp;</div></li><li><div>      $r['limit'] = absint( $r['limit'] );&nbsp;</div></li><li><div>      $r['limit'] = ' LIMIT ' . $r['limit'];&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $order = strtoupper( $r['order'] );&nbsp;</div></li><li><div>  if ( $order !== 'ASC' ) {&nbsp;</div></li><li><div>      $order = 'DESC';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// this is what will separate dates on weekly archive links</span>&nbsp;</div></li><li><div>  $archive_week_separator = '&#8211;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $sql_where = $wpdb-&gt;prepare( &quot;WHERE post_type = %s AND post_status = 'publish'&quot;, $r['post_type'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the SQL WHERE clause for retrieving archives.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $sql_where Portion of SQL query containing the WHERE clause.</span>&nbsp;</div></li><li><div><span class="comment">   * @param array  $r         An array of default arguments.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $where = apply_filters( 'getarchives_where', $sql_where, $r );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the SQL JOIN clause for retrieving archives.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $sql_join Portion of SQL query containing JOIN clause.</span>&nbsp;</div></li><li><div><span class="comment">   * @param array  $r        An array of default arguments.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $join = apply_filters( 'getarchives_join', '', $r );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $output = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $last_changed = wp_cache_get_last_changed( 'posts' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $limit = $r['limit'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( 'monthly' == $r['type'] ) {&nbsp;</div></li><li><div>      $query = &quot;SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, count(ID) as posts FROM $wpdb-&gt;posts $join $where GROUP BY YEAR(post_date), MONTH(post_date) ORDER BY post_date $order $limit&quot;;&nbsp;</div></li><li><div>      $key = md5( $query );&nbsp;</div></li><li><div>      $key = &quot;wp_get_archives:$key:$last_changed&quot;;&nbsp;</div></li><li><div>      if ( ! $results = wp_cache_get( $key, 'posts' ) ) {&nbsp;</div></li><li><div>          $results = $wpdb-&gt;get_results( $query );&nbsp;</div></li><li><div>          wp_cache_set( $key, $results, 'posts' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $results ) {&nbsp;</div></li><li><div>          $after = $r['after'];&nbsp;</div></li><li><div>          foreach ( (array) $results as $result ) {&nbsp;</div></li><li><div>              $url = get_month_link( $result-&gt;year, $result-&gt;month );&nbsp;</div></li><li><div>              if ( 'post' !== $r['post_type'] ) {&nbsp;</div></li><li><div>                  $url = add_query_arg( 'post_type', $r['post_type'], $url );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              <span class="comment">/** translators: 1: month name, 2: 4-digit year */</span>&nbsp;</div></li><li><div>              $text = sprintf( __( '%1$s %2$d' ), $wp_locale-&gt;get_month( $result-&gt;month ), $result-&gt;year );&nbsp;</div></li><li><div>              if ( $r['show_post_count'] ) {&nbsp;</div></li><li><div>                  $r['after'] = '&nbsp;(' . $result-&gt;posts . ')' . $after;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $output .= get_archives_link( $url, $text, $r['format'], $r['before'], $r['after'] );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( 'yearly' == $r['type'] ) {&nbsp;</div></li><li><div>      $query = &quot;SELECT YEAR(post_date) AS `year`, count(ID) as posts FROM $wpdb-&gt;posts $join $where GROUP BY YEAR(post_date) ORDER BY post_date $order $limit&quot;;&nbsp;</div></li><li><div>      $key = md5( $query );&nbsp;</div></li><li><div>      $key = &quot;wp_get_archives:$key:$last_changed&quot;;&nbsp;</div></li><li><div>      if ( ! $results = wp_cache_get( $key, 'posts' ) ) {&nbsp;</div></li><li><div>          $results = $wpdb-&gt;get_results( $query );&nbsp;</div></li><li><div>          wp_cache_set( $key, $results, 'posts' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $results ) {&nbsp;</div></li><li><div>          $after = $r['after'];&nbsp;</div></li><li><div>          foreach ( (array) $results as $result) {&nbsp;</div></li><li><div>              $url = get_year_link( $result-&gt;year );&nbsp;</div></li><li><div>              if ( 'post' !== $r['post_type'] ) {&nbsp;</div></li><li><div>                  $url = add_query_arg( 'post_type', $r['post_type'], $url );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $text = sprintf( '%d', $result-&gt;year );&nbsp;</div></li><li><div>              if ( $r['show_post_count'] ) {&nbsp;</div></li><li><div>                  $r['after'] = '&nbsp;(' . $result-&gt;posts . ')' . $after;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $output .= get_archives_link( $url, $text, $r['format'], $r['before'], $r['after'] );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( 'daily' == $r['type'] ) {&nbsp;</div></li><li><div>      $query = &quot;SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, DAYOFMONTH(post_date) AS `dayofmonth`, count(ID) as posts FROM $wpdb-&gt;posts $join $where GROUP BY YEAR(post_date), MONTH(post_date), DAYOFMONTH(post_date) ORDER BY post_date $order $limit&quot;;&nbsp;</div></li><li><div>      $key = md5( $query );&nbsp;</div></li><li><div>      $key = &quot;wp_get_archives:$key:$last_changed&quot;;&nbsp;</div></li><li><div>      if ( ! $results = wp_cache_get( $key, 'posts' ) ) {&nbsp;</div></li><li><div>          $results = $wpdb-&gt;get_results( $query );&nbsp;</div></li><li><div>          wp_cache_set( $key, $results, 'posts' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $results ) {&nbsp;</div></li><li><div>          $after = $r['after'];&nbsp;</div></li><li><div>          foreach ( (array) $results as $result ) {&nbsp;</div></li><li><div>              $url = get_day_link( $result-&gt;year, $result-&gt;month, $result-&gt;dayofmonth );&nbsp;</div></li><li><div>              if ( 'post' !== $r['post_type'] ) {&nbsp;</div></li><li><div>                  $url = add_query_arg( 'post_type', $r['post_type'], $url );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $date = sprintf( '%1$d-%2$02d-%3$02d 00:00:00', $result-&gt;year, $result-&gt;month, $result-&gt;dayofmonth );&nbsp;</div></li><li><div>              $text = mysql2date( get_option( 'date_format' ), $date );&nbsp;</div></li><li><div>              if ( $r['show_post_count'] ) {&nbsp;</div></li><li><div>                  $r['after'] = '&nbsp;(' . $result-&gt;posts . ')' . $after;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $output .= get_archives_link( $url, $text, $r['format'], $r['before'], $r['after'] );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( 'weekly' == $r['type'] ) {&nbsp;</div></li><li><div>      $week = _wp_mysql_week( '`post_date`' );&nbsp;</div></li><li><div>      $query = &quot;SELECT DISTINCT $week AS `week`, YEAR( `post_date` ) AS `yr`, DATE_FORMAT( `post_date`, '%Y-%m-%d' ) AS `yyyymmdd`, count( `ID` ) AS `posts` FROM `$wpdb-&gt;posts` $join $where GROUP BY $week, YEAR( `post_date` ) ORDER BY `post_date` $order $limit&quot;;&nbsp;</div></li><li><div>      $key = md5( $query );&nbsp;</div></li><li><div>      $key = &quot;wp_get_archives:$key:$last_changed&quot;;&nbsp;</div></li><li><div>      if ( ! $results = wp_cache_get( $key, 'posts' ) ) {&nbsp;</div></li><li><div>          $results = $wpdb-&gt;get_results( $query );&nbsp;</div></li><li><div>          wp_cache_set( $key, $results, 'posts' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $arc_w_last = '';&nbsp;</div></li><li><div>      if ( $results ) {&nbsp;</div></li><li><div>          $after = $r['after'];&nbsp;</div></li><li><div>          foreach ( (array) $results as $result ) {&nbsp;</div></li><li><div>              if ( $result-&gt;week != $arc_w_last ) {&nbsp;</div></li><li><div>                  $arc_year = $result-&gt;yr;&nbsp;</div></li><li><div>                  $arc_w_last = $result-&gt;week;&nbsp;</div></li><li><div>                  $arc_week = get_weekstartend( $result-&gt;yyyymmdd, get_option( 'start_of_week' ) );&nbsp;</div></li><li><div>                  $arc_week_start = date_i18n( get_option( 'date_format' ), $arc_week['start'] );&nbsp;</div></li><li><div>                  $arc_week_end = date_i18n( get_option( 'date_format' ), $arc_week['end'] );&nbsp;</div></li><li><div>                  $url = add_query_arg( array( 'm' =&gt; $arc_year, 'w' =&gt; $result-&gt;week, ), home_url( '/' ) );&nbsp;</div></li><li><div>                  if ( 'post' !== $r['post_type'] ) {&nbsp;</div></li><li><div>                      $url = add_query_arg( 'post_type', $r['post_type'], $url );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $text = $arc_week_start . $archive_week_separator . $arc_week_end;&nbsp;</div></li><li><div>                  if ( $r['show_post_count'] ) {&nbsp;</div></li><li><div>                      $r['after'] = '&nbsp;(' . $result-&gt;posts . ')' . $after;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $output .= get_archives_link( $url, $text, $r['format'], $r['before'], $r['after'] );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( ( 'postbypost' == $r['type'] ) || ('alpha' == $r['type'] ) ) {&nbsp;</div></li><li><div>      $orderby = ( 'alpha' == $r['type'] ) ? 'post_title ASC ' : 'post_date DESC, ID DESC ';&nbsp;</div></li><li><div>      $query = &quot;SELECT * FROM $wpdb-&gt;posts $join $where ORDER BY $orderby $limit&quot;;&nbsp;</div></li><li><div>      $key = md5( $query );&nbsp;</div></li><li><div>      $key = &quot;wp_get_archives:$key:$last_changed&quot;;&nbsp;</div></li><li><div>      if ( ! $results = wp_cache_get( $key, 'posts' ) ) {&nbsp;</div></li><li><div>          $results = $wpdb-&gt;get_results( $query );&nbsp;</div></li><li><div>          wp_cache_set( $key, $results, 'posts' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $results ) {&nbsp;</div></li><li><div>          foreach ( (array) $results as $result ) {&nbsp;</div></li><li><div>              if ( $result-&gt;post_date != '0000-00-00 00:00:00' ) {&nbsp;</div></li><li><div>                  $url = get_permalink( $result );&nbsp;</div></li><li><div>                  if ( $result-&gt;post_title ) {&nbsp;</div></li><li><div>                      <span class="comment">/** This filter is documented in wp-includes/post-template.php */</span>&nbsp;</div></li><li><div>                      $text = strip_tags( apply_filters( 'the_title', $result-&gt;post_title, $result-&gt;ID ) );&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $text = $result-&gt;ID;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $output .= get_archives_link( $url, $text, $r['format'], $r['before'], $r['after'] );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  if ( $r['echo'] ) {&nbsp;</div></li><li><div>      echo $output;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return $output;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get number of days since the start of the week.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $num Number of day.</span>&nbsp;</div></li><li><div><span class="comment"> * @return int Days since the start of the week.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function calendar_week_mod($num) {&nbsp;</div></li><li><div>  $base = 7;&nbsp;</div></li><li><div>  return ($num - $base*floor($num/$base));&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display calendar with days that have posts as links.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The calendar is cached, which will be retrieved, if it exists. If there are</span>&nbsp;</div></li><li><div><span class="comment"> * no posts for the month, then it will not be displayed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global wpdb      $wpdb</span>&nbsp;</div></li><li><div><span class="comment"> * @global int       $m</span>&nbsp;</div></li><li><div><span class="comment"> * @global int       $monthnum</span>&nbsp;</div></li><li><div><span class="comment"> * @global int       $year</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Locale $wp_locale</span>&nbsp;</div></li><li><div><span class="comment"> * @global array     $posts</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool $initial Optional, default is true. Use initial calendar names.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool $echo    Optional, default is true. Set to false for return.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String when retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_calendar( $initial = true, $echo = true ) {&nbsp;</div></li><li><div>  global $wpdb, $m, $monthnum, $year, $wp_locale, $posts;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $key = md5( $m . $monthnum . $year );&nbsp;</div></li><li><div>  $cache = wp_cache_get( 'get_calendar', 'calendar' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $cache && is_array( $cache ) && isset( $cache[ $key ] ) ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span></span></span></span>&nbsp;</div></li><li><div>      $output = apply_filters( 'get_calendar', $cache[ $key ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $echo ) {&nbsp;</div></li><li><div>          echo $output;&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $output;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! is_array( $cache ) ) {&nbsp;</div></li><li><div>      $cache = array();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Quick check. If we have no posts at all, abort!</span>&nbsp;</div></li><li><div>  if ( ! $posts ) {&nbsp;</div></li><li><div>      $gotsome = $wpdb-&gt;get_var(&quot;SELECT 1 as test FROM $wpdb-&gt;posts WHERE post_type = 'post' AND post_status = 'publish' LIMIT 1&quot;);&nbsp;</div></li><li><div>      if ( ! $gotsome ) {&nbsp;</div></li><li><div>          $cache[ $key ] = '';&nbsp;</div></li><li><div>          wp_cache_set( 'get_calendar', $cache, 'calendar' );&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset( $_GET['w'] ) ) {&nbsp;</div></li><li><div>      $w = (int) $_GET['w'];&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">// week_begins = 0 stands for Sunday</span>&nbsp;</div></li><li><div>  $week_begins = (int) get_option( 'start_of_week' );&nbsp;</div></li><li><div>  $ts = current_time( 'timestamp' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Let's figure out when we are</span>&nbsp;</div></li><li><div>  if ( ! empty( $monthnum ) && ! empty( $year ) ) {&nbsp;</div></li><li><div>      $thismonth = zeroise( intval( $monthnum ), 2 );&nbsp;</div></li><li><div>      $thisyear = (int) $year;&nbsp;</div></li><li><div>  } elseif ( ! empty( $w ) ) {&nbsp;</div></li><li><div>      <span class="comment">// We need to get the month from MySQL</span>&nbsp;</div></li><li><div>      $thisyear = (int) substr( $m, 0, 4 );&nbsp;</div></li><li><div>      <span class="comment">//it seems MySQL's weeks disagree with PHP's</span>&nbsp;</div></li><li><div>      $d = ( ( $w - 1 ) * 7 ) + 6;&nbsp;</div></li><li><div>      $thismonth = $wpdb-&gt;get_var(&quot;SELECT DATE_FORMAT((DATE_ADD('{$thisyear}0101', INTERVAL $d DAY) ), '%m')&quot;);&nbsp;</div></li><li><div>  } elseif ( ! empty( $m ) ) {&nbsp;</div></li><li><div>      $thisyear = (int) substr( $m, 0, 4 );&nbsp;</div></li><li><div>      if ( strlen( $m ) &lt; 6 ) {&nbsp;</div></li><li><div>          $thismonth = '01';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $thismonth = zeroise( (int) substr( $m, 4, 2 ), 2 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $thisyear = gmdate( 'Y', $ts );&nbsp;</div></li><li><div>      $thismonth = gmdate( 'm', $ts );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $unixmonth = mktime( 0, 0 , 0, $thismonth, 1, $thisyear );&nbsp;</div></li><li><div>  $last_day = date( 't', $unixmonth );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Get the next and previous month and year with at least one post</span>&nbsp;</div></li><li><div>  $previous = $wpdb-&gt;get_row(&quot;SELECT MONTH(post_date) AS month, YEAR(post_date) AS year&nbsp;</div></li><li><div>      FROM $wpdb-&gt;posts&nbsp;</div></li><li><div>      WHERE post_date &lt; '$thisyear-$thismonth-01'&nbsp;</div></li><li><div>      AND post_type = 'post' AND post_status = 'publish'&nbsp;</div></li><li><div>          ORDER BY post_date DESC&nbsp;</div></li><li><div>          LIMIT 1&quot;);&nbsp;</div></li><li><div>  $next = $wpdb-&gt;get_row(&quot;SELECT MONTH(post_date) AS month, YEAR(post_date) AS year&nbsp;</div></li><li><div>      FROM $wpdb-&gt;posts&nbsp;</div></li><li><div>      WHERE post_date &gt; '$thisyear-$thismonth-{$last_day} 23:59:59'&nbsp;</div></li><li><div>      AND post_type = 'post' AND post_status = 'publish'&nbsp;</div></li><li><div>          ORDER BY post_date ASC&nbsp;</div></li><li><div>          LIMIT 1&quot;);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** translators: Calendar caption: 1: month name, 2: 4-digit year */</span>&nbsp;</div></li><li><div>  $calendar_caption = _x('%1$s %2$s', 'calendar caption');&nbsp;</div></li><li><div>  $calendar_output = '&lt;table id=&quot;wp-calendar&quot;&gt;&nbsp;</div></li><li><div>  &lt;caption&gt;' . sprintf(&nbsp;</div></li><li><div>      $calendar_caption, &nbsp;</div></li><li><div>      $wp_locale-&gt;get_month( $thismonth ), &nbsp;</div></li><li><div>      date( 'Y', $unixmonth )&nbsp;</div></li><li><div> ) . '&lt;/caption&gt;&nbsp;</div></li><li><div>  &lt;thead&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $myweek = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  for ( $wdcount = 0; $wdcount &lt;= 6; $wdcount++ ) {&nbsp;</div></li><li><div>      $myweek[] = $wp_locale-&gt;get_weekday( ( $wdcount + $week_begins ) % 7 );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( $myweek as $wd ) {&nbsp;</div></li><li><div>      $day_name = $initial ? $wp_locale-&gt;get_weekday_initial( $wd ) : $wp_locale-&gt;get_weekday_abbrev( $wd );&nbsp;</div></li><li><div>      $wd = esc_attr( $wd );&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&lt;th scope=\&quot;col\&quot; title=\&quot;$wd\&quot;&gt;$day_name&lt;/th&gt;&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $calendar_output .= '&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;/thead&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;tfoot&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $previous ) {&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&quot;.'&lt;td colspan=&quot;3&quot; id=&quot;prev&quot;&gt;&lt;a href=&quot;' . get_month_link( $previous-&gt;year, $previous-&gt;month ) . '&quot;&gt;&laquo; ' .&nbsp;</div></li><li><div>          $wp_locale-&gt;get_month_abbrev( $wp_locale-&gt;get_month( $previous-&gt;month ) ) .&nbsp;</div></li><li><div>      '&lt;/a&gt;&lt;/td&gt;';&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&quot;.'&lt;td colspan=&quot;3&quot; id=&quot;prev&quot; class=&quot;pad&quot;&gt;&nbsp;&lt;/td&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $calendar_output .= &quot;\n\t\t&quot;.'&lt;td class=&quot;pad&quot;&gt;&nbsp;&lt;/td&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $next ) {&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&quot;.'&lt;td colspan=&quot;3&quot; id=&quot;next&quot;&gt;&lt;a href=&quot;' . get_month_link( $next-&gt;year, $next-&gt;month ) . '&quot;&gt;' .&nbsp;</div></li><li><div>          $wp_locale-&gt;get_month_abbrev( $wp_locale-&gt;get_month( $next-&gt;month ) ) .&nbsp;</div></li><li><div>      ' &raquo;&lt;/a&gt;&lt;/td&gt;';&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&quot;.'&lt;td colspan=&quot;3&quot; id=&quot;next&quot; class=&quot;pad&quot;&gt;&nbsp;&lt;/td&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $calendar_output .= '&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;/tfoot&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;tbody&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $daywithpost = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Get days with posts</span>&nbsp;</div></li><li><div>  $dayswithposts = $wpdb-&gt;get_results(&quot;SELECT DISTINCT DAYOFMONTH(post_date)&nbsp;</div></li><li><div>      FROM $wpdb-&gt;posts WHERE post_date &gt;= '{$thisyear}-{$thismonth}-01 00:00:00'&nbsp;</div></li><li><div>      AND post_type = 'post' AND post_status = 'publish'&nbsp;</div></li><li><div>      AND post_date &lt;= '{$thisyear}-{$thismonth}-{$last_day} 23:59:59'&quot;, ARRAY_N);&nbsp;</div></li><li><div>  if ( $dayswithposts ) {&nbsp;</div></li><li><div>      foreach ( (array) $dayswithposts as $daywith ) {&nbsp;</div></li><li><div>          $daywithpost[] = $daywith[0];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// See how much we should pad in the beginning</span>&nbsp;</div></li><li><div>  $pad = calendar_week_mod( date( 'w', $unixmonth ) - $week_begins );&nbsp;</div></li><li><div>  if ( 0 != $pad ) {&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&quot;.'&lt;td colspan=&quot;'. esc_attr( $pad ) .'&quot; class=&quot;pad&quot;&gt;&nbsp;&lt;/td&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $newrow = false;&nbsp;</div></li><li><div>  $daysinmonth = (int) date( 't', $unixmonth );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  for ( $day = 1; $day &lt;= $daysinmonth; ++$day ) {&nbsp;</div></li><li><div>      if ( isset($newrow) && $newrow ) {&nbsp;</div></li><li><div>          $calendar_output .= &quot;\n\t&lt;/tr&gt;\n\t&lt;tr&gt;\n\t\t&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $newrow = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $day == gmdate( 'j', $ts ) &&&nbsp;</div></li><li><div>          $thismonth == gmdate( 'm', $ts ) &&&nbsp;</div></li><li><div>          $thisyear == gmdate( 'Y', $ts ) ) {&nbsp;</div></li><li><div>          $calendar_output .= '&lt;td id=&quot;today&quot;&gt;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $calendar_output .= '&lt;td&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( in_array( $day, $daywithpost ) ) {&nbsp;</div></li><li><div>          <span class="comment">// any posts today?</span>&nbsp;</div></li><li><div>          $date_format = date( _x( 'F j, Y', 'daily archives date format' ), strtotime( &quot;{$thisyear}-{$thismonth}-{$day}&quot; ) );&nbsp;</div></li><li><div>          <span class="comment">/** translators: Post calendar label. 1: Date */</span>&nbsp;</div></li><li><div>          $label = sprintf( __( 'Posts published on %s' ), $date_format );&nbsp;</div></li><li><div>          $calendar_output .= sprintf(&nbsp;</div></li><li><div>              '&lt;a href=&quot;%s&quot; aria-label=&quot;%s&quot;&gt;%s&lt;/a&gt;', &nbsp;</div></li><li><div>              get_day_link( $thisyear, $thismonth, $day ), &nbsp;</div></li><li><div>              esc_attr( $label ), &nbsp;</div></li><li><div>              $day&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $calendar_output .= $day;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $calendar_output .= '&lt;/td&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 6 == calendar_week_mod( date( 'w', mktime(0, 0 , 0, $thismonth, $day, $thisyear ) ) - $week_begins ) ) {&nbsp;</div></li><li><div>          $newrow = true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $pad = 7 - calendar_week_mod( date( 'w', mktime( 0, 0 , 0, $thismonth, $day, $thisyear ) ) - $week_begins );&nbsp;</div></li><li><div>  if ( $pad != 0 && $pad != 7 ) {&nbsp;</div></li><li><div>      $calendar_output .= &quot;\n\t\t&quot;.'&lt;td class=&quot;pad&quot; colspan=&quot;'. esc_attr( $pad ) .'&quot;&gt;&nbsp;&lt;/td&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $calendar_output .= &quot;\n\t&lt;/tr&gt;\n\t&lt;/tbody&gt;\n\t&lt;/table&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $cache[ $key ] = $calendar_output;&nbsp;</div></li><li><div>  wp_cache_set( 'get_calendar', $cache, 'calendar' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $echo ) {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the HTML calendar output.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $calendar_output HTML output of the calendar.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      echo apply_filters( 'get_calendar', $calendar_output );&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span></span></span></span>&nbsp;</div></li><li><div>  return apply_filters( 'get_calendar', $calendar_output );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Purge the cached results of get_calendar.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see get_calendar</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function delete_get_calendar_cache() {&nbsp;</div></li><li><div>  wp_cache_delete( 'get_calendar', 'calendar' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display all of the allowed tags in HTML format with attributes.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * This is useful for displaying in the comment area, which elements and</span>&nbsp;</div></li><li><div><span class="comment"> * attributes are supported. As well as any plugins which want to display it.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.1</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global array $allowedtags</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string HTML allowed tags entity encoded.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function allowed_tags() {&nbsp;</div></li><li><div>  global $allowedtags;&nbsp;</div></li><li><div>  $allowed = '';&nbsp;</div></li><li><div>  foreach ( (array) $allowedtags as $tag =&gt; $attributes ) {&nbsp;</div></li><li><div>      $allowed .= '&lt;'.$tag;&nbsp;</div></li><li><div>      if ( 0 &lt; count($attributes) ) {&nbsp;</div></li><li><div>          foreach ( $attributes as $attribute =&gt; $limits ) {&nbsp;</div></li><li><div>              $allowed .= ' '.$attribute.'=&quot;&quot;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $allowed .= '&gt; ';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return htmlentities( $allowed );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/***** Date/Time tags *****/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the date in iso8601 format for xml files.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_date_xml() {&nbsp;</div></li><li><div>  echo mysql2date( 'Y-m-d', get_post()-&gt;post_date, false );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display or Retrieve the date the current post was written (once per date)</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Will only output the date if the current post's date is different from the</span>&nbsp;</div></li><li><div><span class="comment"> * previous one output.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * i.e. Only one date listing will show per day worth of posts shown in the loop, even if the</span>&nbsp;</div></li><li><div><span class="comment"> * function is called several times for each post.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * HTML output can be filtered with 'the_date'.</span>&nbsp;</div></li><li><div><span class="comment"> * Date string output can be filtered with 'get_the_date'.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global string|int|bool $currentday</span>&nbsp;</div></li><li><div><span class="comment"> * @global string|int|bool $previousday</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $d      Optional. PHP date format defaults to the date_format option if not specified.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Optional. Output before the date.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after  Optional. Output after the date.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $echo   Optional, default is display. Whether to echo the date or return it.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String if retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_date( $d = '', $before = '', $after = '', $echo = true ) {&nbsp;</div></li><li><div>  global $currentday, $previousday;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_new_day() ) {&nbsp;</div></li><li><div>      $the_date = $before . get_the_date( $d ) . $after;&nbsp;</div></li><li><div>      $previousday = $currentday;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the date a post was published for display.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $the_date The formatted date string.</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $d        PHP date format. Defaults to 'date_format' option</span>&nbsp;</div></li><li><div><span class="comment">       *                         if not specified.</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $before   HTML output before the date.</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $after    HTML output after the date.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $the_date = apply_filters( 'the_date', $the_date, $d, $before, $after );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $echo )&nbsp;</div></li><li><div>          echo $the_date;&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          return $the_date;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the date on which the post was written.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Unlike the_date() this function will always return the date.</span>&nbsp;</div></li><li><div><span class="comment"> * Modify output with the {@see 'get_the_date'} filter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param  string      $d    Optional. PHP date format defaults to the date_format option if not specified.</span>&nbsp;</div></li><li><div><span class="comment"> * @param  int|WP_Post $post Optional. Post ID or WP_Post object. Default current post.</span>&nbsp;</div></li><li><div><span class="comment"> * @return false|string Date the current post was written. False on failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_date( $d = '', $post = null ) {&nbsp;</div></li><li><div>  $post = get_post( $post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $post ) {&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( '' == $d ) {&nbsp;</div></li><li><div>      $the_date = mysql2date( get_option( 'date_format' ), $post-&gt;post_date );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $the_date = mysql2date( $d, $post-&gt;post_date );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the date a post was published.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string      $the_date The formatted date.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string      $d        PHP date format. Defaults to 'date_format' option</span>&nbsp;</div></li><li><div><span class="comment">   *                              if not specified.</span>&nbsp;</div></li><li><div><span class="comment">   * @param int|WP_Post $post     The post object or ID.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_the_date', $the_date, $d, $post );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the date on which the post was last modified.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $d      Optional. PHP date format defaults to the date_format option if not specified.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Optional. Output before the date.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after  Optional. Output after the date.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $echo   Optional, default is display. Whether to echo the date or return it.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void String if retrieving.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_modified_date( $d = '', $before = '', $after = '', $echo = true ) {&nbsp;</div></li><li><div>  $the_modified_date = $before . get_the_modified_date($d) . $after;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the date a post was last modified for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $the_modified_date The last modified date.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $d                 PHP date format. Defaults to 'date_format' option</span>&nbsp;</div></li><li><div><span class="comment">   *                                  if not specified.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $before            HTML output before the date.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $after             HTML output after the date.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $the_modified_date = apply_filters( 'the_modified_date', $the_modified_date, $d, $before, $after );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $echo )&nbsp;</div></li><li><div>      echo $the_modified_date;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      return $the_modified_date;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the date on which the post was last modified.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.6.0 Added the `$post` parameter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string      $d    Optional. PHP date format defaults to the date_format option if not specified.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Post $post Optional. Post ID or WP_Post object. Default current post.</span>&nbsp;</div></li><li><div><span class="comment"> * @return false|string Date the current post was modified. False on failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_modified_date( $d = '', $post = null ) {&nbsp;</div></li><li><div>  $post = get_post( $post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $post ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// For backward compatibility</span>, failures go through the filter below.</span></span>&nbsp;</div></li><li><div>      $the_time = false;&nbsp;</div></li><li><div>  } elseif ( empty( $d ) ) {&nbsp;</div></li><li><div>      $the_time = get_post_modified_time( get_option( 'date_format' ), false, $post, true );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $the_time = get_post_modified_time( $d, false, $post, true );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the date a post was last modified.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.6.0 Added the `$post` parameter.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $the_time The formatted date.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $d        PHP date format. Defaults to value specified in</span>&nbsp;</div></li><li><div><span class="comment">   *                          'date_format' option.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_Post $post     WP_Post object.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_the_modified_date', $the_time, $d, $post );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the time at which the post was written.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $d Either 'G', 'U', or php date format.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_time( $d = '' ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the time a post was written for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $get_the_time The formatted time.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $d            The time format. Accepts 'G', 'U', </span>&nbsp;</div></li><li><div><span class="comment">   *                             or php date format.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'the_time', get_the_time( $d ), $d );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the time at which the post was written.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string      $d    Optional. Format to use for retrieving the time the post</span>&nbsp;</div></li><li><div><span class="comment"> *                          was written. Either 'G', 'U', or php date format defaults</span>&nbsp;</div></li><li><div><span class="comment"> *                          to the value specified in the time_format option. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Post $post WP_Post object or ID. Default is global $post object.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|int|false Formatted date string or Unix timestamp if `$id` is 'U' or 'G'. False on failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_time( $d = '', $post = null ) {&nbsp;</div></li><li><div>  $post = get_post($post);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $post ) {&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( '' == $d )&nbsp;</div></li><li><div>      $the_time = get_post_time(get_option('time_format'), false, $post, true);&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      $the_time = get_post_time($d, false, $post, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the time a post was written.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string      $the_time The formatted time.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string      $d        Format to use for retrieving the time the post was written.</span>&nbsp;</div></li><li><div><span class="comment">   *                              Accepts 'G', 'U', or php date format value specified</span>&nbsp;</div></li><li><div><span class="comment">   *                              in 'time_format' option. Default empty.</span>&nbsp;</div></li><li><div><span class="comment">   * @param int|WP_Post $post     WP_Post object or ID.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_the_time', $the_time, $d, $post );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the time at which the post was written.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string      $d         Optional. Format to use for retrieving the time the post</span>&nbsp;</div></li><li><div><span class="comment"> *                               was written. Either 'G', 'U', or php date format. Default 'U'.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool        $gmt       Optional. Whether to retrieve the GMT time. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Post $post      WP_Post object or ID. Default is global $post object.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool        $translate Whether to translate the time string. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|int|false Formatted date string or Unix timestamp if `$id` is 'U' or 'G'. False on failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_post_time( $d = 'U', $gmt = false, $post = null, $translate = false ) {&nbsp;</div></li><li><div>  $post = get_post($post);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $post ) {&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $gmt )&nbsp;</div></li><li><div>      $time = $post-&gt;post_date_gmt;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      $time = $post-&gt;post_date;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $time = mysql2date($d, $time, $translate);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the localized time a post was written.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $time The formatted time.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $d    Format to use for retrieving the time the post was written.</span>&nbsp;</div></li><li><div><span class="comment">   *                     Accepts 'G', 'U', or php date format. Default 'U'.</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool   $gmt  Whether to retrieve the GMT time. Default false.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_post_time', $time, $d, $gmt );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the time at which the post was last modified.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $d Optional Either 'G', 'U', or php date format defaults to the value specified in the time_format option.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_modified_time($d = '') {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the localized time a post was last modified, for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $get_the_modified_time The formatted time.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $d                     The time format. Accepts 'G', 'U', </span>&nbsp;</div></li><li><div><span class="comment">   *                                      or php date format. Defaults to value</span>&nbsp;</div></li><li><div><span class="comment">   *                                      specified in 'time_format' option.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'the_modified_time', get_the_modified_time($d), $d );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the time at which the post was last modified.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.6.0 Added the `$post` parameter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string      $d     Optional. Format to use for retrieving the time the post</span>&nbsp;</div></li><li><div><span class="comment"> *                           was modified. Either 'G', 'U', or php date format defaults</span>&nbsp;</div></li><li><div><span class="comment"> *                           to the value specified in the time_format option. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Post $post  Optional. Post ID or WP_Post object. Default current post.</span>&nbsp;</div></li><li><div><span class="comment"> * @return false|string Formatted date string or Unix timestamp. False on failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_modified_time( $d = '', $post = null ) {&nbsp;</div></li><li><div>  $post = get_post( $post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $post ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// For backward compatibility</span>, failures go through the filter below.</span></span>&nbsp;</div></li><li><div>      $the_time = false;&nbsp;</div></li><li><div>  } elseif ( empty( $d ) ) {&nbsp;</div></li><li><div>      $the_time = get_post_modified_time( get_option( 'time_format' ), false, $post, true );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $the_time = get_post_modified_time( $d, false, $post, true );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the localized time a post was last modified.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.6.0 Added the `$post` parameter.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $the_time The formatted time.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $d        Format to use for retrieving the time the post was</span>&nbsp;</div></li><li><div><span class="comment">   *                         written. Accepts 'G', 'U', or php date format. Defaults</span>&nbsp;</div></li><li><div><span class="comment">   *                         to value specified in 'time_format' option.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_Post $post    WP_Post object.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_the_modified_time', $the_time, $d, $post );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve the time at which the post was last modified.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string      $d         Optional. Format to use for retrieving the time the post</span>&nbsp;</div></li><li><div><span class="comment"> *                               was modified. Either 'G', 'U', or php date format. Default 'U'.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool        $gmt       Optional. Whether to retrieve the GMT time. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> * @param int|WP_Post $post      WP_Post object or ID. Default is global $post object.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool        $translate Whether to translate the time string. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|int|false Formatted date string or Unix timestamp if `$id` is 'U' or 'G'. False on failure.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_post_modified_time( $d = 'U', $gmt = false, $post = null, $translate = false ) {&nbsp;</div></li><li><div>  $post = get_post($post);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $post ) {&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $gmt )&nbsp;</div></li><li><div>      $time = $post-&gt;post_modified_gmt;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      $time = $post-&gt;post_modified;&nbsp;</div></li><li><div>  $time = mysql2date($d, $time, $translate);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the localized time a post was last modified.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $time The formatted time.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $d    The date format. Accepts 'G', 'U', or php date format. Default 'U'.</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool   $gmt  Whether to return the GMT time. Default false.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'get_post_modified_time', $time, $d, $gmt );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the weekday on which the post was written.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Locale $wp_locale</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_weekday() {&nbsp;</div></li><li><div>  global $wp_locale;&nbsp;</div></li><li><div>  $the_weekday = $wp_locale-&gt;get_weekday( mysql2date( 'w', get_post()-&gt;post_date, false ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the weekday on which the post was written, for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $the_weekday</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'the_weekday', $the_weekday );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the weekday on which the post was written.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Will only output the weekday if the current post's weekday is different from</span>&nbsp;</div></li><li><div><span class="comment"> * the previous one output.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Locale       $wp_locale</span>&nbsp;</div></li><li><div><span class="comment"> * @global string|int|bool $currentday</span>&nbsp;</div></li><li><div><span class="comment"> * @global string|int|bool $previousweekday</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $before Optional Output before the date.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $after Optional Output after the date.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_weekday_date($before='', $after='') {&nbsp;</div></li><li><div>  global $wp_locale, $currentday, $previousweekday;&nbsp;</div></li><li><div>  $the_weekday_date = '';&nbsp;</div></li><li><div>  if ( $currentday != $previousweekday ) {&nbsp;</div></li><li><div>      $the_weekday_date .= $before;&nbsp;</div></li><li><div>      $the_weekday_date .= $wp_locale-&gt;get_weekday( mysql2date( 'w', get_post()-&gt;post_date, false ) );&nbsp;</div></li><li><div>      $the_weekday_date .= $after;&nbsp;</div></li><li><div>      $previousweekday = $currentday;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the localized date on which the post was written, for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 0.71</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $the_weekday_date</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $before           The HTML to output before the date.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $after            The HTML to output after the date.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $the_weekday_date = apply_filters( 'the_weekday_date', $the_weekday_date, $before, $after );&nbsp;</div></li><li><div>  echo $the_weekday_date;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Fire the wp_head action.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * See {@see 'wp_head'}.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.2.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_head() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Prints scripts or data in the head tag on the front end.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'wp_head' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Fire the wp_footer action.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * See {@see 'wp_footer'}.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.5.1</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_footer() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Prints scripts or data before the closing body tag on the front end.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.1</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'wp_footer' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the links to the general feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $args Optional arguments.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function feed_links( $args = array() ) {&nbsp;</div></li><li><div>  if ( !current_theme_supports('automatic-feed-links') )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $defaults = array(&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">/** translators: Separator between blog name and feed type in feed links */</span></span>&nbsp;</div></li><li><div>      'separator' =&gt; _x('&raquo;', 'feed link'), &nbsp;</div></li><li><div>      <span class="comment"><span class="comment">/** translators: 1: blog title, 2: separator (raquo) */</span></span>&nbsp;</div></li><li><div>      'feedtitle' =&gt; __('%1$s %2$s Feed'), &nbsp;</div></li><li><div>      <span class="comment"><span class="comment">/** translators: 1: blog title, 2: separator (raquo) */</span></span>&nbsp;</div></li><li><div>      'comstitle' =&gt; __('%1$s %2$s Comments Feed'), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters whether to display the posts feed link.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool $show Whether to display the posts feed link. Default true.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( apply_filters( 'feed_links_show_posts_feed', true ) ) {&nbsp;</div></li><li><div>      echo '&lt;link rel=&quot;alternate&quot; type=&quot;' . feed_content_type() . '&quot; title=&quot;' . esc_attr( sprintf( $args['feedtitle'], get_bloginfo( 'name' ), $args['separator'] ) ) . '&quot; href=&quot;' . esc_url( get_feed_link() ) . &quot;\&quot; /&gt;\n&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters whether to display the comments feed link.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool $show Whether to display the comments feed link. Default true.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( apply_filters( 'feed_links_show_comments_feed', true ) ) {&nbsp;</div></li><li><div>      echo '&lt;link rel=&quot;alternate&quot; type=&quot;' . feed_content_type() . '&quot; title=&quot;' . esc_attr( sprintf( $args['comstitle'], get_bloginfo( 'name' ), $args['separator'] ) ) . '&quot; href=&quot;' . esc_url( get_feed_link( 'comments_' . get_default_feed() ) ) . &quot;\&quot; /&gt;\n&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the links to the extra feeds such as category feeds.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $args Optional arguments.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function feed_links_extra( $args = array() ) {&nbsp;</div></li><li><div>  $defaults = array(&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">/** translators: Separator between blog name and feed type in feed links */</span></span>&nbsp;</div></li><li><div>      'separator' =&gt; _x('&raquo;', 'feed link'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: post title */</span>&nbsp;</div></li><li><div>      'singletitle' =&gt; __('%1$s %2$s %3$s Comments Feed'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: category name */</span>&nbsp;</div></li><li><div>      'cattitle' =&gt; __('%1$s %2$s %3$s Category Feed'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: tag name */</span>&nbsp;</div></li><li><div>      'tagtitle' =&gt; __('%1$s %2$s %3$s Tag Feed'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: term name, 4: taxonomy singular name */</span>&nbsp;</div></li><li><div>      'taxtitle' =&gt; __('%1$s %2$s %3$s %4$s Feed'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: author name  */</span>&nbsp;</div></li><li><div>      'authortitle' =&gt; __('%1$s %2$s Posts by %3$s Feed'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: search phrase */</span>&nbsp;</div></li><li><div>      'searchtitle' =&gt; __('%1$s %2$s Search Results for &#8220;%3$s&#8221; Feed'), &nbsp;</div></li><li><div>      <span class="comment">/** translators: 1: blog name, 2: separator(raquo), 3: post type name */</span>&nbsp;</div></li><li><div>      'posttypetitle' =&gt; __('%1$s %2$s %3$s Feed'), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_singular() ) {&nbsp;</div></li><li><div>      $id = 0;&nbsp;</div></li><li><div>      $post = get_post( $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( comments_open() || pings_open() || $post-&gt;comment_count &gt; 0 ) {&nbsp;</div></li><li><div>          $title = sprintf( $args['singletitle'], get_bloginfo('name'), $args['separator'], the_title_attribute( array( 'echo' =&gt; false ) ) );&nbsp;</div></li><li><div>          $href = get_post_comments_feed_link( $post-&gt;ID );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( is_post_type_archive() ) {&nbsp;</div></li><li><div>      $post_type = get_query_var( 'post_type' );&nbsp;</div></li><li><div>      if ( is_array( $post_type ) )&nbsp;</div></li><li><div>          $post_type = reset( $post_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $post_type_obj = get_post_type_object( $post_type );&nbsp;</div></li><li><div>      $title = sprintf( $args['posttypetitle'], get_bloginfo( 'name' ), $args['separator'], $post_type_obj-&gt;labels-&gt;name );&nbsp;</div></li><li><div>      $href = get_post_type_archive_feed_link( $post_type_obj-&gt;name );&nbsp;</div></li><li><div>  } elseif ( is_category() ) {&nbsp;</div></li><li><div>      $term = get_queried_object();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $term ) {&nbsp;</div></li><li><div>          $title = sprintf( $args['cattitle'], get_bloginfo('name'), $args['separator'], $term-&gt;name );&nbsp;</div></li><li><div>          $href = get_category_feed_link( $term-&gt;term_id );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( is_tag() ) {&nbsp;</div></li><li><div>      $term = get_queried_object();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $term ) {&nbsp;</div></li><li><div>          $title = sprintf( $args['tagtitle'], get_bloginfo('name'), $args['separator'], $term-&gt;name );&nbsp;</div></li><li><div>          $href = get_tag_feed_link( $term-&gt;term_id );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( is_tax() ) {&nbsp;</div></li><li><div>       $term = get_queried_object();&nbsp;</div></li><li><div>       $tax = get_taxonomy( $term-&gt;taxonomy );&nbsp;</div></li><li><div>       $title = sprintf( $args['taxtitle'], get_bloginfo('name'), $args['separator'], $term-&gt;name, $tax-&gt;labels-&gt;singular_name );&nbsp;</div></li><li><div>       $href = get_term_feed_link( $term-&gt;term_id, $term-&gt;taxonomy );&nbsp;</div></li><li><div>  } elseif ( is_author() ) {&nbsp;</div></li><li><div>      $author_id = intval( get_query_var('author') );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $title = sprintf( $args['authortitle'], get_bloginfo('name'), $args['separator'], get_the_author_meta( 'display_name', $author_id ) );&nbsp;</div></li><li><div>      $href = get_author_feed_link( $author_id );&nbsp;</div></li><li><div>  } elseif ( is_search() ) {&nbsp;</div></li><li><div>      $title = sprintf( $args['searchtitle'], get_bloginfo('name'), $args['separator'], get_search_query( false ) );&nbsp;</div></li><li><div>      $href = get_search_feed_link();&nbsp;</div></li><li><div>  } elseif ( is_post_type_archive() ) {&nbsp;</div></li><li><div>      $title = sprintf( $args['posttypetitle'], get_bloginfo('name'), $args['separator'], post_type_archive_title( '', false ) );&nbsp;</div></li><li><div>      $post_type_obj = get_queried_object();&nbsp;</div></li><li><div>      if ( $post_type_obj )&nbsp;</div></li><li><div>          $href = get_post_type_archive_feed_link( $post_type_obj-&gt;name );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset($title) && isset($href) )&nbsp;</div></li><li><div>      echo '&lt;link rel=&quot;alternate&quot; type=&quot;' . feed_content_type() . '&quot; title=&quot;' . esc_attr( $title ) . '&quot; href=&quot;' . esc_url( $href ) . '&quot; /&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the link to the Really Simple Discovery service endpoint.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @link http://archipelago.phrasewise.com/rsd</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function rsd_link() {&nbsp;</div></li><li><div>  echo '&lt;link rel=&quot;EditURI&quot; type=&quot;application/rsd+xml&quot; title=&quot;RSD&quot; href=&quot;' . esc_url( site_url( 'xmlrpc.php?rsd', 'rpc' ) ) . '&quot; /&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the link to the Windows Live Writer manifest file.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @link https://msdn.microsoft.com/en-us/library/bb463265.aspx</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.3.1</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wlwmanifest_link() {&nbsp;</div></li><li><div>  echo '&lt;link rel=&quot;wlwmanifest&quot; type=&quot;application/wlwmanifest+xml&quot; href=&quot;', &nbsp;</div></li><li><div>      includes_url( 'wlwmanifest.xml' ), '&quot; /&gt; ', &quot;\n&quot;;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays a noindex meta tag if required by the blog configuration.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * If a blog is marked as not being public then the noindex meta tag will be</span>&nbsp;</div></li><li><div><span class="comment"> * output to tell web robots not to index the page content. Add this to the</span>&nbsp;</div></li><li><div><span class="comment"> * {@see 'wp_head'} action.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Typical usage is as a {@see 'wp_head'} callback:</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *     add_action( 'wp_head', 'noindex' );</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see wp_no_robots</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function noindex() {&nbsp;</div></li><li><div>  <span class="comment">// If the blog is not public, tell robots to go away.</span>&nbsp;</div></li><li><div>  if ( '0' == get_option('blog_public') )&nbsp;</div></li><li><div>      wp_no_robots();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display a noindex meta tag.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs a noindex meta tag that tells web robots not to index the page content.</span>&nbsp;</div></li><li><div><span class="comment"> * Typical usage is as a wp_head callback. add_action( 'wp_head', 'wp_no_robots' );</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.3.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_no_robots() {&nbsp;</div></li><li><div>  echo &quot;&lt;meta name='robots' content='noindex, follow' /&gt;\n&quot;;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display site icon meta tags.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @link https://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#rel-icon HTML5 specification link icon.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_site_icon() {&nbsp;</div></li><li><div>  if ( ! has_site_icon() && ! is_customize_preview() ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $meta_tags = array();&nbsp;</div></li><li><div>  $icon_32 = get_site_icon_url( 32 );&nbsp;</div></li><li><div>  if ( empty( $icon_32 ) && is_customize_preview() ) {&nbsp;</div></li><li><div>      $icon_32 = '/favicon.ico'; <span class="comment">// Serve default favicon URL in customizer so element can be updated for preview.</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  if ( $icon_32 ) {&nbsp;</div></li><li><div>      $meta_tags[] = sprintf( '&lt;link rel=&quot;icon&quot; href=&quot;%s&quot; sizes=&quot;32x32&quot; /&gt;', esc_url( $icon_32 ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $icon_192 = get_site_icon_url( 192 );&nbsp;</div></li><li><div>  if ( $icon_192 ) {&nbsp;</div></li><li><div>      $meta_tags[] = sprintf( '&lt;link rel=&quot;icon&quot; href=&quot;%s&quot; sizes=&quot;192x192&quot; /&gt;', esc_url( $icon_192 ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $icon_180 = get_site_icon_url( 180 );&nbsp;</div></li><li><div>  if ( $icon_180 ) {&nbsp;</div></li><li><div>      $meta_tags[] = sprintf( '&lt;link rel=&quot;apple-touch-icon-precomposed&quot; href=&quot;%s&quot; /&gt;', esc_url( $icon_180 ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $icon_270 = get_site_icon_url( 270 );&nbsp;</div></li><li><div>  if ( $icon_270 ) {&nbsp;</div></li><li><div>      $meta_tags[] = sprintf( '&lt;meta name=&quot;msapplication-TileImage&quot; content=&quot;%s&quot; /&gt;', esc_url( $icon_270 ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the site icon meta tags, so Plugins can add their own.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $meta_tags Site Icon meta elements.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $meta_tags = apply_filters( 'site_icon_meta_tags', $meta_tags );&nbsp;</div></li><li><div>  $meta_tags = array_filter( $meta_tags );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( $meta_tags as $meta_tag ) {&nbsp;</div></li><li><div>      echo &quot;$meta_tag\n&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Prints resource hints to browsers for pre-fetching, pre-rendering</span>&nbsp;</div></li><li><div><span class="comment"> * and pre-connecting to web sites.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Gives hints to browsers to prefetch specific pages or render them</span>&nbsp;</div></li><li><div><span class="comment"> * in the background, to perform DNS lookups or to begin the connection</span>&nbsp;</div></li><li><div><span class="comment"> * handshake (DNS, TCP, TLS) in the background.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * These performance improving indicators work by using `&lt;link rel&quot;*&quot;&gt;`.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.6.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_resource_hints() {&nbsp;</div></li><li><div>  $hints = array(&nbsp;</div></li><li><div>      'dns-prefetch' =&gt; wp_dependencies_unique_hosts(), &nbsp;</div></li><li><div>      'preconnect' =&gt; array(), &nbsp;</div></li><li><div>      'prefetch' =&gt; array(), &nbsp;</div></li><li><div>      'prerender' =&gt; array(), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Add DNS prefetch for the Emoji CDN.</span>&nbsp;</div></li><li><div><span class="comment">   * The path is removed in the foreach loop below.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  <span class="comment">/** This filter is documented in wp-includes/formatting.php */</span>&nbsp;</div></li><li><div>  $hints['dns-prefetch'][] = apply_filters( 'emoji_svg_url', 'https:<span class="comment">//s.w.org/images/core/emoji/2.2.1/svg/' );</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( $hints as $relation_type =&gt; $urls ) {&nbsp;</div></li><li><div>      $unique_urls = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters domains and URLs for resource hints of relation type.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 4.6.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param array  $urls          URLs to print for resource hints.</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $relation_type The relation type the URLs are printed for, e.g. 'preconnect' or 'prerender'.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $urls = apply_filters( 'wp_resource_hints', $urls, $relation_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      foreach ( $urls as $key =&gt; $url ) {&nbsp;</div></li><li><div>          $atts = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( is_array( $url ) ) {&nbsp;</div></li><li><div>              if ( isset( $url['href'] ) ) {&nbsp;</div></li><li><div>                  $atts = $url;&nbsp;</div></li><li><div>                  $url = $url['href'];&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $url = esc_url( $url, array( 'http', 'https' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! $url ) {&nbsp;</div></li><li><div>              continue;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( isset( $unique_urls[ $url ] ) ) {&nbsp;</div></li><li><div>              continue;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( in_array( $relation_type, array( 'preconnect', 'dns-prefetch' ) ) ) {&nbsp;</div></li><li><div>              $parsed = wp_parse_url( $url );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( empty( $parsed['host'] ) ) {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( 'preconnect' === $relation_type && ! empty( $parsed['scheme'] ) ) {&nbsp;</div></li><li><div>                  $url = $parsed['scheme'] . ':<span class="comment"><span class="comment">//' . $parsed['host'];</span></span>&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  <span class="comment">// Use protocol-relative URLs for dns-prefetch or if scheme is missing.</span>&nbsp;</div></li><li><div>                  $url = '<span class="comment"><span class="comment">//' . $parsed['host'];</span></span>&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $atts['rel'] = $relation_type;&nbsp;</div></li><li><div>          $atts['href'] = $url;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $unique_urls[ $url ] = $atts;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      foreach ( $unique_urls as $atts ) {&nbsp;</div></li><li><div>          $html = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          foreach ( $atts as $attr =&gt; $value ) {&nbsp;</div></li><li><div>              if ( ! is_scalar( $value ) ||&nbsp;</div></li><li><div>                   ( ! in_array( $attr, array( 'as', 'crossorigin', 'href', 'pr', 'rel', 'type' ), true ) && ! is_numeric( $attr ))&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $value = ( 'href' === $attr ) ? esc_url( $value ) : esc_attr( $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( ! is_string( $attr ) ) {&nbsp;</div></li><li><div>                  $html .= &quot; $value&quot;;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $html .= &quot; $attr='$value'&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $html = trim( $html );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo &quot;&lt;link $html /&gt;\n&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieves a list of unique hosts of all enqueued scripts and styles.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.6.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return array A list of unique hosts of enqueued scripts and styles.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_dependencies_unique_hosts() {&nbsp;</div></li><li><div>  global $wp_scripts, $wp_styles;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $unique_hosts = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( array( $wp_scripts, $wp_styles ) as $dependencies ) {&nbsp;</div></li><li><div>      if ( $dependencies instanceof WP_Dependencies && ! empty( $dependencies-&gt;queue ) ) {&nbsp;</div></li><li><div>          foreach ( $dependencies-&gt;queue as $handle ) {&nbsp;</div></li><li><div>              if ( ! isset( $dependencies-&gt;registered[ $handle ] ) ) {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">/** @var _WP_Dependency $dependency */</span>&nbsp;</div></li><li><div>              $dependency = $dependencies-&gt;registered[ $handle ];&nbsp;</div></li><li><div>              $parsed = wp_parse_url( $dependency-&gt;src );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( ! empty( $parsed['host'] ) && ! in_array( $parsed['host'], $unique_hosts ) && $parsed['host'] !== $_SERVER['SERVER_NAME'] ) {&nbsp;</div></li><li><div>                  $unique_hosts[] = $parsed['host'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $unique_hosts;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Whether the user can access the visual editor.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Checks if the user can access the visual editor and that it's supported by the user's browser.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $wp_rich_edit Whether the user can access the visual editor.</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $is_gecko     Whether the browser is Gecko-based.</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $is_opera     Whether the browser is Opera.</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $is_safari    Whether the browser is Safari.</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $is_chrome    Whether the browser is Chrome.</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $is_IE        Whether the browser is Internet Explorer.</span>&nbsp;</div></li><li><div><span class="comment"> * @global bool $is_edge      Whether the browser is Microsoft Edge.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return bool True if the user can access the visual editor, false otherwise.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function user_can_richedit() {&nbsp;</div></li><li><div>  global $wp_rich_edit, $is_gecko, $is_opera, $is_safari, $is_chrome, $is_IE, $is_edge;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !isset($wp_rich_edit) ) {&nbsp;</div></li><li><div>      $wp_rich_edit = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( get_user_option( 'rich_editing' ) == 'true' || ! is_user_logged_in() ) { <span class="comment">// default to 'true' for logged out users</span>&nbsp;</div></li><li><div>          if ( $is_safari ) {&nbsp;</div></li><li><div>              $wp_rich_edit = ! wp_is_mobile() || ( preg_match( '!AppleWebKit/(\d+)!', $_SERVER['HTTP_USER_AGENT'], $match ) && intval( $match[1] ) &gt;= 534 );&nbsp;</div></li><li><div>          } elseif ( $is_gecko || $is_chrome || $is_IE || $is_edge || ( $is_opera && !wp_is_mobile() ) ) {&nbsp;</div></li><li><div>              $wp_rich_edit = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters whether the user can access the visual editor.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool $wp_rich_edit Whether the user can access the visual editor.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'user_can_richedit', $wp_rich_edit );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Find out which editor should be displayed by default.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Works out which of the two editors to display as the current editor for a</span>&nbsp;</div></li><li><div><span class="comment"> * user. The 'html' setting is for the &quot;Text&quot; editor tab.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Either 'tinymce', or 'html', or 'test'</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_default_editor() {&nbsp;</div></li><li><div>  $r = user_can_richedit() ? 'tinymce' : 'html'; <span class="comment">// defaults</span>&nbsp;</div></li><li><div>  if ( wp_get_current_user() ) { <span class="comment">// look for cookie</span>&nbsp;</div></li><li><div>      $ed = get_user_setting('editor', 'tinymce');&nbsp;</div></li><li><div>      $r = ( in_array($ed, array('tinymce', 'html', 'test') ) ) ? $ed : $r;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters which editor should be displayed by default.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $r Which editor should be displayed by default. Either 'tinymce', 'html', or 'test'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'wp_default_editor', $r );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Renders an editor.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Using this function is the proper way to output all needed components for both TinyMCE and Quicktags.</span>&nbsp;</div></li><li><div><span class="comment"> * _WP_Editors should not be used directly. See https://core.trac.wordpress.org/ticket/17144.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * NOTE: Once initialized the TinyMCE editor cannot be safely moved in the DOM. For that reason</span>&nbsp;</div></li><li><div><span class="comment"> * running wp_editor() inside of a meta box is not a good idea unless only Quicktags is used.</span>&nbsp;</div></li><li><div><span class="comment"> * On the post edit screen several actions can be used to include additional editors</span>&nbsp;</div></li><li><div><span class="comment"> * containing TinyMCE: 'edit_page_form', 'edit_form_advanced' and 'dbx_post_sidebar'.</span>&nbsp;</div></li><li><div><span class="comment"> * See https://core.trac.wordpress.org/ticket/19173 for more information.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see _WP_Editors::editor()</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $content   Initial content for the editor.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $editor_id HTML ID attribute value for the textarea and TinyMCE. Can only be /[a-z]+/.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array  $settings  See _WP_Editors::editor().</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_editor( $content, $editor_id, $settings = array() ) {&nbsp;</div></li><li><div>  if ( ! class_exists( '_WP_Editors', false ) )&nbsp;</div></li><li><div>      require( ABSPATH . WPINC . '/class-wp-editor.php' );&nbsp;</div></li><li><div>  _WP_Editors::editor($content, $editor_id, $settings);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieves the contents of the search WordPress query variable.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The search query string is passed through esc_attr() to ensure that it is safe</span>&nbsp;</div></li><li><div><span class="comment"> * for placing in an html attribute.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool $escaped Whether the result is escaped. Default true.</span>&nbsp;</div></li><li><div><span class="comment"> *                         Only use when you are later escaping it. Do not use unescaped.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_search_query( $escaped = true ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the contents of the search query variable.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $search Contents of the search query variable.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $query = apply_filters( 'get_search_query', get_query_var( 's' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $escaped )&nbsp;</div></li><li><div>      $query = esc_attr( $query );&nbsp;</div></li><li><div>  return $query;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays the contents of the search query variable.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The search query string is passed through esc_attr() to ensure that it is safe</span>&nbsp;</div></li><li><div><span class="comment"> * for placing in an html attribute.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_search_query() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the contents of the search query variable for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $search Contents of the search query variable.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo esc_attr( apply_filters( 'the_search_query', get_search_query( false ) ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Gets the language attributes for the html tag.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Builds up a set of html attributes containing the text direction and language</span>&nbsp;</div></li><li><div><span class="comment"> * information for the page.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $doctype Optional. The type of html document. Accepts 'xhtml' or 'html'. Default 'html'.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_language_attributes( $doctype = 'html' ) {&nbsp;</div></li><li><div>  $attributes = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( function_exists( 'is_rtl' ) && is_rtl() )&nbsp;</div></li><li><div>      $attributes[] = 'dir=&quot;rtl&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $lang = get_bloginfo('language') ) {&nbsp;</div></li><li><div>      if ( get_option('html_type') == 'text/html' || $doctype == 'html' )&nbsp;</div></li><li><div>          $attributes[] = &quot;lang=\&quot;$lang\&quot;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( get_option('html_type') != 'text/html' || $doctype == 'xhtml' )&nbsp;</div></li><li><div>          $attributes[] = &quot;xml:lang=\&quot;$lang\&quot;&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $output = implode(' ', $attributes);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the language attributes for display in the html tag.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.3.0 Added the `$doctype` parameter.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $output A space-separated list of language attributes.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $doctype The type of html document (xhtml|html).</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'language_attributes', $output, $doctype );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays the language attributes for the html tag.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Builds up a set of html attributes containing the text direction and language</span>&nbsp;</div></li><li><div><span class="comment"> * information for the page.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> * @since 4.3.0 Converted into a wrapper for get_language_attributes().</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $doctype Optional. The type of html document. Accepts 'xhtml' or 'html'. Default 'html'.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function language_attributes( $doctype = 'html' ) {&nbsp;</div></li><li><div>  echo get_language_attributes( $doctype );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Retrieve paginated link for archive post pages.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Technically, the function can be used to create paginated link list for any</span>&nbsp;</div></li><li><div><span class="comment"> * area. The 'base' argument is used to reference the url, which will be used to</span>&nbsp;</div></li><li><div><span class="comment"> * create the paginated links. The 'format' argument is then used for replacing</span>&nbsp;</div></li><li><div><span class="comment"> * the page number. It is however, most likely and by default, to be used on the</span>&nbsp;</div></li><li><div><span class="comment"> * archive post pages.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The 'type' argument controls format of the returned value. The default is</span>&nbsp;</div></li><li><div><span class="comment"> * 'plain', which is just a string with the links separated by a newline</span>&nbsp;</div></li><li><div><span class="comment"> * character. The other possible values are either 'array' or 'list'. The</span>&nbsp;</div></li><li><div><span class="comment"> * 'array' value will return an array of the paginated link list to offer full</span>&nbsp;</div></li><li><div><span class="comment"> * control of display. The 'list' value will place all of the paginated links in</span>&nbsp;</div></li><li><div><span class="comment"> * an unordered HTML list.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The 'total' argument is the total amount of pages and is an integer. The</span>&nbsp;</div></li><li><div><span class="comment"> * 'current' argument is the current page number and is also an integer.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * An example of the 'base' argument is &quot;http://example.com/all_posts.php%_%&quot;</span>&nbsp;</div></li><li><div><span class="comment"> * and the '%_%' is required. The '%_%' will be replaced by the contents of in</span>&nbsp;</div></li><li><div><span class="comment"> * the 'format' argument. An example for the 'format' argument is &quot;?page=%#%&quot;</span>&nbsp;</div></li><li><div><span class="comment"> * and the '%#%' is also required. The '%#%' will be replaced with the page</span>&nbsp;</div></li><li><div><span class="comment"> * number.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * You can include the previous and next links in the list by setting the</span>&nbsp;</div></li><li><div><span class="comment"> * 'prev_next' argument to true, which it is by default. You can set the</span>&nbsp;</div></li><li><div><span class="comment"> * previous text, by using the 'prev_text' argument. You can set the next text</span>&nbsp;</div></li><li><div><span class="comment"> * by setting the 'next_text' argument.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * If the 'show_all' argument is set to true, then it will show all of the pages</span>&nbsp;</div></li><li><div><span class="comment"> * instead of a short list of the pages near the current page. By default, the</span>&nbsp;</div></li><li><div><span class="comment"> * 'show_all' is set to false and controlled by the 'end_size' and 'mid_size'</span>&nbsp;</div></li><li><div><span class="comment"> * arguments. The 'end_size' argument is how many numbers on either the start</span>&nbsp;</div></li><li><div><span class="comment"> * and the end list edges, by default is 1. The 'mid_size' argument is how many</span>&nbsp;</div></li><li><div><span class="comment"> * numbers to either side of current page, but not including current page.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * It is possible to add query vars to the link by using the 'add_args' argument</span>&nbsp;</div></li><li><div><span class="comment"> * and see add_query_arg() for more information.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The 'before_page_number' and 'after_page_number' arguments allow users to</span>&nbsp;</div></li><li><div><span class="comment"> * augment the links themselves. Typically this might be to add context to the</span>&nbsp;</div></li><li><div><span class="comment"> * numbered links so that screen reader users understand what the links are for.</span>&nbsp;</div></li><li><div><span class="comment"> * The text strings are added before and after the page number - within the</span>&nbsp;</div></li><li><div><span class="comment"> * anchor tag.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Query   $wp_query</span>&nbsp;</div></li><li><div><span class="comment"> * @global WP_Rewrite $wp_rewrite</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string|array $args {</span>&nbsp;</div></li><li><div><span class="comment"> *     Optional. Array or string of arguments for generating paginated links for archives.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $base               Base of the paginated url. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $format             Format for the pagination structure. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type int    $total              The total amount of pages. Default is the value WP_Query's</span>&nbsp;</div></li><li><div><span class="comment"> *                                      `max_num_pages` or 1.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type int    $current            The current page number. Default is 'paged' query var or 1.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $show_all           Whether to show all pages. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type int    $end_size           How many numbers on either the start and the end list edges.</span>&nbsp;</div></li><li><div><span class="comment"> *                                      Default 1.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type int    $mid_size           How many numbers to either side of the current pages. Default 2.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $prev_next          Whether to include the previous and next links in the list. Default true.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $prev_text          The previous page text. Default '&laquo; Previous'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type bool   $next_text          The next page text. Default 'Next &raquo;'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $type               Controls format of the returned value. Possible values are 'plain', </span>&nbsp;</div></li><li><div><span class="comment"> *                                      'array' and 'list'. Default is 'plain'.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type array  $add_args           An array of query args to add. Default false.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $add_fragment       A string to append to each link. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $before_page_number A string to appear before the page number. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $after_page_number  A string to append after the page number. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * }</span>&nbsp;</div></li><li><div><span class="comment"> * @return array|string|void String of page links or array of page links.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function paginate_links( $args = '' ) {&nbsp;</div></li><li><div>  global $wp_query, $wp_rewrite;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Setting up default values based on the current URL.</span>&nbsp;</div></li><li><div>  $pagenum_link = html_entity_decode( get_pagenum_link() );&nbsp;</div></li><li><div>  $url_parts = explode( '?', $pagenum_link );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Get max pages and current page out of the current query, if available.</span>&nbsp;</div></li><li><div>  $total = isset( $wp_query-&gt;max_num_pages ) ? $wp_query-&gt;max_num_pages : 1;&nbsp;</div></li><li><div>  $current = get_query_var( 'paged' ) ? intval( get_query_var( 'paged' ) ) : 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Append the format placeholder to the base URL.</span>&nbsp;</div></li><li><div>  $pagenum_link = trailingslashit( $url_parts[0] ) . '%_%';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// URL base depends on permalink settings.</span>&nbsp;</div></li><li><div>  $format = $wp_rewrite-&gt;using_index_permalinks() && ! strpos( $pagenum_link, 'index.php' ) ? 'index.php/' : '';&nbsp;</div></li><li><div>  $format .= $wp_rewrite-&gt;using_permalinks() ? user_trailingslashit( $wp_rewrite-&gt;pagination_base . '/%#%', 'paged' ) : '?paged=%#%';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $defaults = array(&nbsp;</div></li><li><div>      'base' =&gt; $pagenum_link, <span class="comment">// http://example.com/all_posts.php%_% : %_% is replaced by format (below)</span>&nbsp;</div></li><li><div>      'format' =&gt; $format, <span class="comment">// ?page=%#% : %#% is replaced by the page number</span>&nbsp;</div></li><li><div>      'total' =&gt; $total, &nbsp;</div></li><li><div>      'current' =&gt; $current, &nbsp;</div></li><li><div>      'show_all' =&gt; false, &nbsp;</div></li><li><div>      'prev_next' =&gt; true, &nbsp;</div></li><li><div>      'prev_text' =&gt; __('&laquo; Previous'), &nbsp;</div></li><li><div>      'next_text' =&gt; __('Next &raquo;'), &nbsp;</div></li><li><div>      'end_size' =&gt; 1, &nbsp;</div></li><li><div>      'mid_size' =&gt; 2, &nbsp;</div></li><li><div>      'type' =&gt; 'plain', &nbsp;</div></li><li><div>      'add_args' =&gt; array(), <span class="comment">// array of query args to add</span>&nbsp;</div></li><li><div>      'add_fragment' =&gt; '', &nbsp;</div></li><li><div>      'before_page_number' =&gt; '', &nbsp;</div></li><li><div>      'after_page_number' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! is_array( $args['add_args'] ) ) {&nbsp;</div></li><li><div>      $args['add_args'] = array();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Merge additional query vars found in the original URL into 'add_args' array.</span>&nbsp;</div></li><li><div>  if ( isset( $url_parts[1] ) ) {&nbsp;</div></li><li><div>      <span class="comment">// Find the format argument.</span>&nbsp;</div></li><li><div>      $format = explode( '?', str_replace( '%_%', $args['format'], $args['base'] ) );&nbsp;</div></li><li><div>      $format_query = isset( $format[1] ) ? $format[1] : '';&nbsp;</div></li><li><div>      wp_parse_str( $format_query, $format_args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Find the query args of the requested URL.</span>&nbsp;</div></li><li><div>      wp_parse_str( $url_parts[1], $url_query_args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Remove the format argument from the array of query arguments, to avoid overwriting custom format.</span>&nbsp;</div></li><li><div>      foreach ( $format_args as $format_arg =&gt; $format_arg_value ) {&nbsp;</div></li><li><div>          unset( $url_query_args[ $format_arg ] );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args['add_args'] = array_merge( $args['add_args'], urlencode_deep( $url_query_args ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Who knows what else people pass in $args</span>&nbsp;</div></li><li><div>  $total = (int) $args['total'];&nbsp;</div></li><li><div>  if ( $total &lt; 2 ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $current = (int) $args['current'];&nbsp;</div></li><li><div>  $end_size = (int) $args['end_size']; <span class="comment">// Out of bounds?  Make it the default.</span>&nbsp;</div></li><li><div>  if ( $end_size &lt; 1 ) {&nbsp;</div></li><li><div>      $end_size = 1;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $mid_size = (int) $args['mid_size'];&nbsp;</div></li><li><div>  if ( $mid_size &lt; 0 ) {&nbsp;</div></li><li><div>      $mid_size = 2;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $add_args = $args['add_args'];&nbsp;</div></li><li><div>  $r = '';&nbsp;</div></li><li><div>  $page_links = array();&nbsp;</div></li><li><div>  $dots = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $args['prev_next'] && $current && 1 &lt; $current ) :&nbsp;</div></li><li><div>      $link = str_replace( '%_%', 2 == $current ? '' : $args['format'], $args['base'] );&nbsp;</div></li><li><div>      $link = str_replace( '%#%', $current - 1, $link );&nbsp;</div></li><li><div>      if ( $add_args )&nbsp;</div></li><li><div>          $link = add_query_arg( $add_args, $link );&nbsp;</div></li><li><div>      $link .= $args['add_fragment'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the paginated links for the given archive pages.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $link The paginated link URL.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $page_links[] = '&lt;a class=&quot;prev page-numbers&quot; href=&quot;' . esc_url( apply_filters( 'paginate_links', $link ) ) . '&quot;&gt;' . $args['prev_text'] . '&lt;/a&gt;';&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>  for ( $n = 1; $n &lt;= $total; $n++ ) :&nbsp;</div></li><li><div>      if ( $n == $current ) :&nbsp;</div></li><li><div>          $page_links[] = &quot;&lt;span class='page-numbers current'&gt;&quot; . $args['before_page_number'] . number_format_i18n( $n ) . $args['after_page_number'] . &quot;&lt;/span&gt;&quot;;&nbsp;</div></li><li><div>          $dots = true;&nbsp;</div></li><li><div>      else :&nbsp;</div></li><li><div>          if ( $args['show_all'] || ( $n &lt;= $end_size || ( $current && $n &gt;= $current - $mid_size && $n &lt;= $current + $mid_size ) || $n &gt; $total - $end_size ) ) :&nbsp;</div></li><li><div>              $link = str_replace( '%_%', 1 == $n ? '' : $args['format'], $args['base'] );&nbsp;</div></li><li><div>              $link = str_replace( '%#%', $n, $link );&nbsp;</div></li><li><div>              if ( $add_args )&nbsp;</div></li><li><div>                  $link = add_query_arg( $add_args, $link );&nbsp;</div></li><li><div>              $link .= $args['add_fragment'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span></span></span></span>&nbsp;</div></li><li><div>              $page_links[] = &quot;&lt;a class='page-numbers' href='&quot; . esc_url( apply_filters( 'paginate_links', $link ) ) . &quot;'&gt;&quot; . $args['before_page_number'] . number_format_i18n( $n ) . $args['after_page_number'] . &quot;&lt;/a&gt;&quot;;&nbsp;</div></li><li><div>              $dots = true;&nbsp;</div></li><li><div>          elseif ( $dots && ! $args['show_all'] ) :&nbsp;</div></li><li><div>              $page_links[] = '&lt;span class=&quot;page-numbers dots&quot;&gt;' . __( '&hellip;' ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>              $dots = false;&nbsp;</div></li><li><div>          endif;&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>  endfor;&nbsp;</div></li><li><div>  if ( $args['prev_next'] && $current && $current &lt; $total ) :&nbsp;</div></li><li><div>      $link = str_replace( '%_%', $args['format'], $args['base'] );&nbsp;</div></li><li><div>      $link = str_replace( '%#%', $current + 1, $link );&nbsp;</div></li><li><div>      if ( $add_args )&nbsp;</div></li><li><div>          $link = add_query_arg( $add_args, $link );&nbsp;</div></li><li><div>      $link .= $args['add_fragment'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span></span></span></span>&nbsp;</div></li><li><div>      $page_links[] = '&lt;a class=&quot;next page-numbers&quot; href=&quot;' . esc_url( apply_filters( 'paginate_links', $link ) ) . '&quot;&gt;' . $args['next_text'] . '&lt;/a&gt;';&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>  switch ( $args['type'] ) {&nbsp;</div></li><li><div>      case 'array' :&nbsp;</div></li><li><div>          return $page_links;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      case 'list' :&nbsp;</div></li><li><div>          $r .= &quot;&lt;ul class='page-numbers'&gt;\n\t&lt;li&gt;&quot;;&nbsp;</div></li><li><div>          $r .= join(&quot;&lt;/li&gt;\n\t&lt;li&gt;&quot;, $page_links);&nbsp;</div></li><li><div>          $r .= &quot;&lt;/li&gt;\n&lt;/ul&gt;\n&quot;;&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      default :&nbsp;</div></li><li><div>          $r = join(&quot;\n&quot;, $page_links);&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $r;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Registers an admin colour scheme css file.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Allows a plugin to register a new admin colour scheme. For example:</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *     wp_admin_css_color( 'classic', __( 'Classic' ), admin_url( &quot;css/colors-classic.css&quot; ), array(</span>&nbsp;</div></li><li><div><span class="comment"> *         '#07273E', '#14568A', '#D54E21', '#2683AE'</span>&nbsp;</div></li><li><div><span class="comment"> * ) );</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global array $_wp_admin_css_colors</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $key    The unique key for this theme.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $name   The name of the theme.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $url    The URL of the CSS file containing the color scheme.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array  $colors Optional. An array of CSS color definition strings which are used</span>&nbsp;</div></li><li><div><span class="comment"> *                       to give the user a feel for the theme.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array  $icons {</span>&nbsp;</div></li><li><div><span class="comment"> *     Optional. CSS color definitions used to color any SVG icons.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $base    SVG icon base color.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $focus   SVG icon color on focus.</span>&nbsp;</div></li><li><div><span class="comment"> *     @type string $current SVG icon color of current admin menu link.</span>&nbsp;</div></li><li><div><span class="comment"> * }</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_admin_css_color( $key, $name, $url, $colors = array(), $icons = array() ) {&nbsp;</div></li><li><div>  global $_wp_admin_css_colors;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !isset($_wp_admin_css_colors) )&nbsp;</div></li><li><div>      $_wp_admin_css_colors = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $_wp_admin_css_colors[$key] = (object) array(&nbsp;</div></li><li><div>      'name' =&gt; $name, &nbsp;</div></li><li><div>      'url' =&gt; $url, &nbsp;</div></li><li><div>      'colors' =&gt; $colors, &nbsp;</div></li><li><div>      'icon_colors' =&gt; $icons, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Registers the default Admin color schemes</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function register_admin_color_schemes() {&nbsp;</div></li><li><div>  $suffix = is_rtl() ? '-rtl' : '';&nbsp;</div></li><li><div>  $suffix .= SCRIPT_DEBUG ? '' : '.min';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'fresh', _x( 'Default', 'admin color scheme' ), &nbsp;</div></li><li><div>      false, &nbsp;</div></li><li><div>      array( '#222', '#333', '#0073aa', '#00a0d2' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#82878c', 'focus' =&gt; '#00a0d2', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Other color schemes are not available when running out of src</span>&nbsp;</div></li><li><div>  if ( false !== strpos( get_bloginfo( 'version' ), '-src' ) ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'light', _x( 'Light', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/light/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#e5e5e5', '#999', '#d64e07', '#04a4cc' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#999', 'focus' =&gt; '#ccc', 'current' =&gt; '#ccc' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'blue', _x( 'Blue', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/blue/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#096484', '#4796b3', '#52accc', '#74B6CE' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#e5f8ff', 'focus' =&gt; '#fff', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'midnight', _x( 'Midnight', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/midnight/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#25282b', '#363b3f', '#69a8bb', '#e14d43' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#f1f2f3', 'focus' =&gt; '#fff', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'sunrise', _x( 'Sunrise', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/sunrise/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#b43c38', '#cf4944', '#dd823b', '#ccaf0b' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#f3f1f1', 'focus' =&gt; '#fff', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'ectoplasm', _x( 'Ectoplasm', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/ectoplasm/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#413256', '#523f6d', '#a3b745', '#d46f15' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#ece6f6', 'focus' =&gt; '#fff', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'ocean', _x( 'Ocean', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/ocean/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#627c83', '#738e96', '#9ebaa0', '#aa9d88' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#f2fcff', 'focus' =&gt; '#fff', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_admin_css_color( 'coffee', _x( 'Coffee', 'admin color scheme' ), &nbsp;</div></li><li><div>      admin_url( &quot;css/colors/coffee/colors$suffix.css&quot; ), &nbsp;</div></li><li><div>      array( '#46403c', '#59524c', '#c7a589', '#9ea476' ), &nbsp;</div></li><li><div>      array( 'base' =&gt; '#f3f2f1', 'focus' =&gt; '#fff', 'current' =&gt; '#fff' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays the URL of a WordPress admin CSS file.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @see WP_Styles::_css_href and its {@see 'style_loader_src'} filter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $file file relative to wp-admin/ without its &quot;.css&quot; extension.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_admin_css_uri( $file = 'wp-admin' ) {&nbsp;</div></li><li><div>  if ( defined('WP_INSTALLING') ) {&nbsp;</div></li><li><div>      $_file = &quot;./$file.css&quot;;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $_file = admin_url(&quot;$file.css&quot;);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $_file = add_query_arg( 'version', get_bloginfo( 'version' ), $_file );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the URI of a WordPress admin CSS file.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $_file Relative path to the file with query arguments attached.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $file  Relative path to the file, minus its &quot;.css&quot; extension.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( 'wp_admin_css_uri', $_file, $file );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Enqueues or directly prints a stylesheet link to the specified CSS file.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * &quot;Intelligently&quot; decides to enqueue or to print the CSS file. If the</span>&nbsp;</div></li><li><div><span class="comment"> * {@see 'wp_print_styles'} action has *not* yet been called, the CSS file will be</span>&nbsp;</div></li><li><div><span class="comment"> * enqueued. If the {@see 'wp_print_styles'} action has been called, the CSS link will</span>&nbsp;</div></li><li><div><span class="comment"> * be printed. Printing may be forced by passing true as the $force_echo</span>&nbsp;</div></li><li><div><span class="comment"> * (second) parameter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * For backward compatibility with WordPress 2.3 calling method: If the $file</span>&nbsp;</div></li><li><div><span class="comment"> * (first) parameter does not correspond to a registered CSS file, we assume</span>&nbsp;</div></li><li><div><span class="comment"> * $file is a file relative to wp-admin/ without its &quot;.css&quot; extension. A</span>&nbsp;</div></li><li><div><span class="comment"> * stylesheet link to that generated URL is printed.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $file       Optional. Style handle name or file name (without &quot;.css&quot; extension) relative</span>&nbsp;</div></li><li><div><span class="comment"> *                              to wp-admin/. Defaults to 'wp-admin'.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $force_echo Optional. Force the stylesheet link to be printed rather than enqueued.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_admin_css( $file = 'wp-admin', $force_echo = false ) {&nbsp;</div></li><li><div>  <span class="comment">// For backward compatibility</span>&nbsp;</div></li><li><div>  $handle = 0 === strpos( $file, 'css/' ) ? substr( $file, 4 ) : $file;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( wp_styles()-&gt;query( $handle ) ) {&nbsp;</div></li><li><div>      if ( $force_echo || did_action( 'wp_print_styles' ) ) <span class="comment">// we already printed the style queue. Print this one immediately</span>&nbsp;</div></li><li><div>          wp_print_styles( $handle );&nbsp;</div></li><li><div>      else <span class="comment">// Add to style queue</span>&nbsp;</div></li><li><div>          wp_enqueue_style( $handle );&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the stylesheet link to the specified CSS file.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * If the site is set to display right-to-left, the RTL stylesheet link</span>&nbsp;</div></li><li><div><span class="comment">   * will be used instead.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $file Style handle name or filename (without &quot;.css&quot; extension)</span>&nbsp;</div></li><li><div><span class="comment">   *                     relative to wp-admin/. Defaults to 'wp-admin'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'wp_admin_css', &quot;&lt;link rel='stylesheet' href='&quot; . esc_url( wp_admin_css_uri( $file ) ) . &quot;' type='text/css' /&gt;\n&quot;, $file );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( function_exists( 'is_rtl' ) && is_rtl() ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span></span></span></span>&nbsp;</div></li><li><div>      echo apply_filters( 'wp_admin_css', &quot;&lt;link rel='stylesheet' href='&quot; . esc_url( wp_admin_css_uri( &quot;$file-rtl&quot; ) ) . &quot;' type='text/css' /&gt;\n&quot;, &quot;$file-rtl&quot; );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Enqueues the default ThickBox js and css.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * If any of the settings need to be changed, this can be done with another js</span>&nbsp;</div></li><li><div><span class="comment"> * file similar to media-upload.js. That file should</span>&nbsp;</div></li><li><div><span class="comment"> * require array('thickbox') to ensure it is loaded after.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function add_thickbox() {&nbsp;</div></li><li><div>  wp_enqueue_script( 'thickbox' );&nbsp;</div></li><li><div>  wp_enqueue_style( 'thickbox' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_network_admin() )&nbsp;</div></li><li><div>      add_action( 'admin_head', '_thickbox_path_admin_subfolder' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Displays the XHTML generator that is generated on the wp_head hook.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * See {@see 'wp_head'}.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_generator() {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the output of the XHTML generator tag.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $generator_type The XHTML generator.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  the_generator( apply_filters( 'wp_generator_type', 'xhtml' ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the generator XML or Comment for RSS, ATOM, etc.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the correct generator type for the requested output format. Allows</span>&nbsp;</div></li><li><div><span class="comment"> * for a plugin to filter generators overall the {@see 'the_generator'} filter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $type The type of generator to output - (html|xhtml|atom|rss2|rdf|comment|export).</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function the_generator( $type ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the output of the XHTML generator tag for display.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $generator_type The generator output.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $type           The type of generator to output. Accepts 'html', </span>&nbsp;</div></li><li><div><span class="comment">   *                               'xhtml', 'atom', 'rss2', 'rdf', 'comment', 'export'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  echo apply_filters( 'the_generator', get_the_generator($type), $type ) . &quot;\n&quot;;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Creates the generator XML or Comment for RSS, ATOM, etc.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the correct generator type for the requested output format. Allows</span>&nbsp;</div></li><li><div><span class="comment"> * for a plugin to filter generators on an individual basis using the</span>&nbsp;</div></li><li><div><span class="comment"> * {@see 'get_the_generator_$type'} filter.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $type The type of generator to return - (html|xhtml|atom|rss2|rdf|comment|export).</span>&nbsp;</div></li><li><div><span class="comment"> * @return string|void The HTML content for the generator.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function get_the_generator( $type = '' ) {&nbsp;</div></li><li><div>  if ( empty( $type ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $current_filter = current_filter();&nbsp;</div></li><li><div>      if ( empty( $current_filter ) )&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      switch ( $current_filter ) {&nbsp;</div></li><li><div>          case 'rss2_head' :&nbsp;</div></li><li><div>          case 'commentsrss2_head' :&nbsp;</div></li><li><div>              $type = 'rss2';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'rss_head' :&nbsp;</div></li><li><div>          case 'opml_head' :&nbsp;</div></li><li><div>              $type = 'comment';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'rdf_header' :&nbsp;</div></li><li><div>              $type = 'rdf';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'atom_head' :&nbsp;</div></li><li><div>          case 'comments_atom_head' :&nbsp;</div></li><li><div>          case 'app_head' :&nbsp;</div></li><li><div>              $type = 'atom';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  switch ( $type ) {&nbsp;</div></li><li><div>      case 'html':&nbsp;</div></li><li><div>          $gen = '&lt;meta name=&quot;generator&quot; content=&quot;WordPress ' . get_bloginfo( 'version' ) . '&quot;&gt;';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'xhtml':&nbsp;</div></li><li><div>          $gen = '&lt;meta name=&quot;generator&quot; content=&quot;WordPress ' . get_bloginfo( 'version' ) . '&quot; /&gt;';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'atom':&nbsp;</div></li><li><div>          $gen = '&lt;generator uri=&quot;https:<span class="comment">//wordpress.org/&quot; version=&quot;' . get_bloginfo_rss( 'version' ) . '&quot;&gt;WordPress&lt;/generator&gt;';</span>&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'rss2':&nbsp;</div></li><li><div>          $gen = '&lt;generator&gt;https:<span class="comment">//wordpress.org/?v=' . get_bloginfo_rss( 'version' ) . '&lt;/generator&gt;';</span>&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'rdf':&nbsp;</div></li><li><div>          $gen = '&lt;admin:generatorAgent rdf:resource=&quot;https:<span class="comment">//wordpress.org/?v=' . get_bloginfo_rss( 'version' ) . '&quot; /&gt;';</span>&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'comment':&nbsp;</div></li><li><div>          $gen = '&lt;!-- generator=&quot;WordPress/' . get_bloginfo( 'version' ) . '&quot; --&gt;';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'export':&nbsp;</div></li><li><div>          $gen = '&lt;!-- generator=&quot;WordPress/' . get_bloginfo_rss('version') . '&quot; created=&quot;'. date('Y-m-d H:i') . '&quot; --&gt;';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the HTML for the retrieved generator type.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The dynamic portion of the hook name, `$type`, refers to the generator type.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $gen  The HTML markup output to wp_head().</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $type The type of generator. Accepts 'html', 'xhtml', 'atom', </span>&nbsp;</div></li><li><div><span class="comment">   *                     'rss2', 'rdf', 'comment', 'export'.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  return apply_filters( &quot;get_the_generator_{$type}&quot;, $gen, $type );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the html checked attribute.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Compares the first two arguments and if identical marks as checked</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $checked One of the values to compare</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $current (true) The other value to compare if not just true</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool  $echo    Whether to echo or just return the string</span>&nbsp;</div></li><li><div><span class="comment"> * @return string html attribute or empty string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function checked( $checked, $current = true, $echo = true ) {&nbsp;</div></li><li><div>  return __checked_selected_helper( $checked, $current, $echo, 'checked' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the html selected attribute.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Compares the first two arguments and if identical marks as selected</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $selected One of the values to compare</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $current  (true) The other value to compare if not just true</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool  $echo     Whether to echo or just return the string</span>&nbsp;</div></li><li><div><span class="comment"> * @return string html attribute or empty string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function selected( $selected, $current = true, $echo = true ) {&nbsp;</div></li><li><div>  return __checked_selected_helper( $selected, $current, $echo, 'selected' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the html disabled attribute.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Compares the first two arguments and if identical marks as disabled</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $disabled One of the values to compare</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $current  (true) The other value to compare if not just true</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool  $echo     Whether to echo or just return the string</span>&nbsp;</div></li><li><div><span class="comment"> * @return string html attribute or empty string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function disabled( $disabled, $current = true, $echo = true ) {&nbsp;</div></li><li><div>  return __checked_selected_helper( $disabled, $current, $echo, 'disabled' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Private helper function for checked, selected, and disabled.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Compares the first two arguments and if identical marks as $type</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> * @access private</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed  $helper  One of the values to compare</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed  $current (true) The other value to compare if not just true</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool   $echo    Whether to echo or just return the string</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $type    The type of checked|selected|disabled we are doing</span>&nbsp;</div></li><li><div><span class="comment"> * @return string html attribute or empty string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function __checked_selected_helper( $helper, $current, $echo, $type ) {&nbsp;</div></li><li><div>  if ( (string) $helper === (string) $current )&nbsp;</div></li><li><div>      $result = &quot; $type='$type'&quot;;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      $result = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $echo )&nbsp;</div></li><li><div>      echo $result;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $result;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Default settings for heartbeat</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the nonce used in the heartbeat XHR</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $settings</span>&nbsp;</div></li><li><div><span class="comment"> * @return array $settings</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_heartbeat_settings( $settings ) {&nbsp;</div></li><li><div>  if ( ! is_admin() )&nbsp;</div></li><li><div>      $settings['ajaxurl'] = admin_url( 'admin-ajax.php', 'relative' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_user_logged_in() )&nbsp;</div></li><li><div>      $settings['nonce'] = wp_create_nonce( 'heartbeat-nonce' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $settings;&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>file</li><li><span></span></li><li><span></span>wp-include</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>