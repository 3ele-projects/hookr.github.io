<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-id="31640"><head xmlns="http://www.w3.org/1999/xhtml"><title> nxs_snapclassfb | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="nxs_snapClassFB, class, plugin, nextscripts-social-networks-auto-poster, 3.4.31" /><meta name="description" content="The WordPress Core nxs snapClassFB class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.15"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=99e3636a0164d12b6997a9c64b45125f' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.15' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/nxs_snap_class_fb/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fnxs_snap_class_fb%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fnxs_snap_class_fb%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-3.4.31-class-nxs_snap_class_fb","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="nxs_snap_class_fb" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to nextscripts-social-networks-a&hellip;." href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/" class="plugin"><span property="name">nextscripts-social-networks-a&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.4.31." href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.4.31/" class="H_VERSION"><span property="name">3.4.31</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.4.31/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">nxs_snap_class_fb</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="0"><a href="http://hookr.io/3.4.31/all/" title="All">All <span class="count badge">0</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/3.4.31/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="0"><a href="http://hookr.io/3.4.31/hooks/" title="Hooks">Hooks <span class="count badge">0</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/3.4.31/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="0"><a href="http://hookr.io/3.4.31/filters/" title="Filters">Filters <span class="count badge">0</span></a></li><li class="active" data-id="class" data-count="0"><a href="http://hookr.io/3.4.31/classes/" title="Classes">Classes <span class="count badge">0</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/3.4.31/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="0"><a href="http://hookr.io/3.4.31/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/3.4.31/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>nxs_snapClassFB</strong></h1><p>The WordPress Core <strong>nxs snapClassFB</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.4.31/files/inc-cl-fb/" class="file">/inc-cl/fb.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="5" class="block" start="5"><li><div>if (!class_exists(&quot;nxs_snapClassFB&quot;)) { class nxs_snapClassFB {&nbsp;</div></li><li><div>  //#### Show Common Settings  &nbsp;</div></li><li><div>  function showGenNTSettings($ntOpts) { global $nxs_snapSetPgURL, $nxs_plurl, $nxs_gOptions; $ntInfo = array('code'=&gt;'FB', 'lcode'=&gt;'fb', 'name'=&gt;'Facebook', 'defNName'=&gt;'dlUName', 'tstReq' =&gt; true);&nbsp;</div></li><li><div>    if ( isset($_GET['code']) && $_GET['code']!='' && isset($_GET['state']) && substr($_GET['state'], 0, 7) == 'nxs-fb-') {  $at = $_GET['code'];  $ii = str_replace('nxs-fb-', '', $_GET['state']);&nbsp;</div></li><li><div>     echo '-= This is normal technical authorization info that will dissapear. (Unless you get some errors. If you do get errors please check them at the &lt;a target=&quot;_blank&quot; href=&quot;http://www.nextscripts.com/support-faq/&quot;&gt;FAQ Page&lt;/a&gt;) =- &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;'; $gGet = array();     &nbsp;</div></li><li><div>     if (!empty($_SERVER['QUERY_STRING'])) parse_str($_SERVER['QUERY_STRING'], $gGet); elseif (!empty($_SERVER['argv'][0])) parse_str($_SERVER['argv'][0], $gGet); &nbsp;</div></li><li><div>       else { $gGet = $_GET; prr($_GET); unset($gGet['post_type']);} prr($gGet);  unset($gGet['code']); unset($gGet['state']); prr($gGet);&nbsp;</div></li><li><div>     $sturl = explode('?', $nxs_snapSetPgURL); $nxs_snapSetPgURL = $sturl[0].((!empty($gGet))?'?'.http_build_query($gGet):''); $fbo = $ntOpts[$ii]; $wprg = array('sslverify'=&gt;false, 'timeout' =&gt; 30); &nbsp;</div></li><li><div>     if (isset($fbo['fbPgID'])) { echo &quot;-=&quot;; prr($fbo);// die();&nbsp;</div></li><li><div>      $tknURL = 'https://graph.facebook.com/v2.3/oauth/access_token?client_id='.$fbo['fbAppID'].'&state=nxs-fb-'.$ii.'&redirect_uri='.urlencode($nxs_snapSetPgURL).'&client_secret='.$fbo['fbAppSec'].'&code='.$at;       &nbsp;</div></li><li><div>      $response = wp_remote_get($tknURL, $wprg); echo &quot;&lt;br/&gt;TKN URL: &quot;; prr($tknURL);   &nbsp;</div></li><li><div>      if ( (is_object($response) && (isset($response-&gt;errors))) || (is_array($response) && stripos($response['body'], '&quot;error&quot;:')!==false )) { prr($response); die(); }      &nbsp;</div></li><li><div>      if (substr($response['body'], 0, 1)=='{') $params = json_decode($response['body'], true); else parse_str($response['body'], $params);  &nbsp;</div></li><li><div>      $at = $params['access_token']; echo &quot;&lt;br/&gt;TKN PARAMS: &quot;; prr($params); echo &quot;&lt;br/&gt;TKN RESP: &quot;; prr($response);  &nbsp;</div></li><li><div>      $response = wp_remote_get('https://graph.facebook.com/v2.3/oauth/access_token?client_secret='.$fbo['fbAppSec'].'&client_id='.$fbo['fbAppID'].'&grant_type=fb_exchange_token&fb_exchange_token='.$at, $wprg); &nbsp;</div></li><li><div>      if ((is_object($response) && isset($response-&gt;errors))) {  prr($response); die();}&nbsp;</div></li><li><div>      if (substr($response['body'], 0, 1)=='{') $params = json_decode($response['body'], true); else parse_str($response['body'], $params);  $at = $params['access_token']; $fbo['fbAppAuthToken'] = $at; &nbsp;</div></li><li><div>      $appsecret_proof = hash_hmac('sha256', $fbo['fbAppAuthToken'], $fbo['fbAppSec']); &nbsp;</div></li><li><div>      $aacct = array('access_token'=&gt;$fbo['fbAppAuthToken'], 'appsecret_proof'=&gt;$appsecret_proof, 'method'=&gt;'get');  &nbsp;</div></li><li><div>      $uurl = &quot;https://graph.facebook.com/v2.3/me?&quot;.http_build_query($aacct, null, '&'); prr($uurl); $res = wp_remote_get( $uurl, $wprg); &nbsp;</div></li><li><div>      if (is_wp_error($res) || empty($res['body'])) {  echo &quot;Can't get Facebook User.&quot;; prr($res); die();} else {&nbsp;</div></li><li><div>        $user = json_decode($res['body'], true); if (empty($user)) {echo &quot;Can't get Facebook User. JSON Error. &quot;; prr($res); die();} else {&nbsp;</div></li><li><div>          if (!empty($user['id'])) {        echo &quot;-= Got user: &quot;; prr($user);            &nbsp;</div></li><li><div>            if (stripos($fbo['fbURL'], '/groups/')!==false) { $fbo['destType'] = 'gr'; $fbo['fbAppPageAuthToken'] = $fbo['fbAppAuthToken']; } else {            &nbsp;</div></li><li><div>              $page_id = $fbo['fbPgID']; echo &quot;-= Authorizing Page =-&lt;br/&gt;&quot;;                        &nbsp;</div></li><li><div>              $aacct = array('access_token'=&gt;$fbo['fbAppAuthToken'], 'appsecret_proof'=&gt;$appsecret_proof, 'method'=&gt;'get');  $fbo['destType'] = '';              &nbsp;</div></li><li><div>              echo &quot;-= Getting List of Pages =-&lt;br/&gt;&quot;;  &nbsp;</div></li><li><div>              $resP = wp_remote_get('https://graph.facebook.com/v2.3/'.$user['id'].'/accounts?'.http_build_query($aacct, null, '&'), $wprg); prr($resP); $pages = json_decode($resP['body'], true);  prr($pages);&nbsp;</div></li><li><div>              echo &quot;-= Getting Page Token =-&lt;br/&gt;&quot;;                &nbsp;</div></li><li><div>              echo &quot;https://graph.facebook.com/v2.3/$page_id?fields=access_token&&quot;.http_build_query($aacct, null, '&');&nbsp;</div></li><li><div>              $res = wp_remote_get( &quot;https://graph.facebook.com/v2.3/$page_id?fields=access_token&&quot;.http_build_query($aacct, null, '&'), $wprg); prr($res);&nbsp;</div></li><li><div>              if (is_wp_error($res) || empty($res['body'])) {  echo &quot;Can't get Page Token.&quot;; prr($res); die();} else {&nbsp;</div></li><li><div>                  $token = json_decode($res['body'], true); if (empty($token)) {echo &quot;Can't get Page Token. JSON Error. &quot;; prr($res); die();} else {&nbsp;</div></li><li><div>                    if (!empty($token['error'])) if (!empty($token['error']['message'])) { $errMsg = $token['error']['message'];&nbsp;</div></li><li><div>                      if ( stripos($errMsg, 'Unknown fields: access_token')!==false || stripos($errMsg, 'Cannot query users by their username')!==false || stripos($errMsg, 'node type (User)')!==false) {&nbsp;</div></li><li><div>                          $token['access_token'] = $fbo['fbAppAuthToken']; $fbo['destType'] =  (stripos($fbo['fbURL'], '/groups/')!=false)?'gr':'pr'; } else { &nbsp;</div></li><li><div>                        if (stripos($errMsg, 'Unsupported get request')!==false) echo &quot;&lt;b style='color:red;'&gt;Error &lt;/b&gt;: Your Facebook URL ( &lt;i&gt;&quot;.$fbo['fbURL'].&quot;&lt;/i&gt; ) is either incorrect or authorzing user don't have rights to post there.&lt;br/&gt;&quot;;&nbsp;</div></li><li><div>                        echo '&lt;br/&gt;Reported Error: ', $errMsg, &quot;\n&quot;; die(); &nbsp;</div></li><li><div>                      }                    &nbsp;</div></li><li><div>                    }                      &nbsp;</div></li><li><div>                    if (!empty($token['access_token'])) { $fbo['fbAppPageAuthToken'] = $token['access_token']; } else { echo &quot;Can't get Page Token. NO TOKEN RETURNED. Are you sure that user you are trying to authorize is an admin of the page? This message means user was authorized as profile, but page refused to return authorization token. This usually happens when user has &lt;b&gt;no rights&lt;/b&gt; to post to that page. &quot;; prr($res); die(); }&nbsp;</div></li><li><div>                  } &nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            } else {echo &quot;Can't get User. NO USER RETURNED. &quot;; prr($res); die();}&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>                                               &nbsp;</div></li><li><div>      if (!empty($user['id'])) { $fbo['fbAppAuthUser'] = $user['id'];  $fbo['fbAppAuthUserName'] = $user['name'].(!empty($user['username'])?&quot; (&quot;.$user['username'].&quot;)&quot;:'');  &nbsp;</div></li><li><div>        if (function_exists('get_option')) $nxs_gOptions = get_option('NS_SNAutoPoster'); if(!empty($nxs_gOptions)) { $nxs_gOptions['fb'][$ii] = $fbo; nxs_settings_save($nxs_gOptions); }&nbsp;</div></li><li><div>        ?&gt;&lt;script type=&quot;text/javascript&quot;&gt;window.location = &quot;&lt;?php echo $nxs_snapSetPgURL; ?&gt;&quot;&lt;/script&gt;      &nbsp;</div></li><li><div>      &lt;?php } die(); }&nbsp;</div></li><li><div>    }     &nbsp;</div></li><li><div>    $ntParams = array('ntInfo'=&gt;$ntInfo, 'nxs_plurl'=&gt;$nxs_plurl, 'ntOpts'=&gt;$ntOpts, 'chkField'=&gt;'fbAppAuthUser'); nxs_showListRow($ntParams); &nbsp;</div></li><li><div>  }  &nbsp;</div></li><li><div>  //#### Show NEW Settings Page&nbsp;</div></li><li><div>  function showNewNTSettings($mfbo) { $fbo = array('nName'=&gt;'', 'doFB'=&gt;'1', 'fbURL'=&gt;'', 'atpKey'=&gt;'', 'uName'=&gt;'', 'uPass'=&gt;'', 'fbAppID'=&gt;'', 'imgUpl'=&gt;'1', 'postType'=&gt;'A', 'fbMsgAFormat'=&gt;'', 'fbAppSec'=&gt;'', 'fbAttch'=&gt;'2', 'fbPgID'=&gt;'', 'fbAppAuthUser'=&gt;'', 'fbMsgFormat'=&gt;__('New post (%TITLE%) has been published on %SITENAME%', 'social-networks-auto-poster-facebook-twitter-g') ); $fbo['ntInfo']= array('lcode'=&gt;'fb'); $this-&gt;showNTSettings($mfbo, $fbo, true);}&nbsp;</div></li><li><div>  //#### Show Unit  Settings&nbsp;</div></li><li><div>  function showNTSettings($ii, $options, $isNew=false) {  global $nxs_plurl, $nxs_snapSetPgURL, $plgn_NS_SNAutoPoster; $nt = $options['ntInfo']['lcode']; $ntU = strtoupper($nt); $tmzFrmt = _x('Y-m-d G:i:s', 'timezone date format'); &nbsp;</div></li><li><div>    if (empty($options['postType']) && !empty($options['fbPostType'])) { $options['postType'] = $options['fbPostType']; unset($options['fbPostType']); } //## Compatibility with V &lt;3.2&nbsp;</div></li><li><div>    if (empty($options['postType']) && !empty($options['PostType'])) { $pt = $options['PostType']; unset($options['PostType']);  $options['postType'] = $pt; } //## Compatibility with V &lt;3.2&nbsp;</div></li><li><div>    if ((int)$options['fbAttch']==0 && empty($options['postType'])) $options['postType'] = 'T';  &nbsp;</div></li><li><div>    if (!isset($plgn_NS_SNAutoPoster)) $gOptions = array(); else $gOptions = $plgn_NS_SNAutoPoster-&gt;nxs_options;  &nbsp;</div></li><li><div>    if (!isset($options['nHrs'])) $options['nHrs'] = 0; if (!isset($options['nMin'])) $options['nMin'] = 0;  if (!isset($options['catSel'])) $options['catSel'] = 0;  if (!isset($options['catSelEd'])) $options['catSelEd'] = ''; &nbsp;</div></li><li><div>    if (!isset($options['nDays'])) $options['nDays'] = 0; if (!isset($options['qTLng'])) $options['qTLng'] = ''; if (!isset($options['msgDAFrmt'])) $options['msgDAFrmt'] = ''; &nbsp;</div></li><li><div>    if (!isset($options['msgTAFrmt'])) $options['msgTAFrmt'] = ''; if (!isset($options['riComments'])) $options['riComments'] = '';  if (!isset($options['riCommentsAA'])) $options['riCommentsAA'] = ''; &nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    ?&gt; &nbsp;</div></li><li><div>    &lt;div id=&quot;doFB&lt;?php echo $ii; ?&gt;Div&quot; class=&quot;insOneDiv&lt;?php if ($isNew) echo &quot; clNewNTSets&quot;; ?&gt;&quot;&gt;   &lt;input type=&quot;hidden&quot; name=&quot;apDoSFB&lt;?php echo $ii; ?&gt;&quot; value=&quot;0&quot; id=&quot;apDoSFB&lt;?php echo $ii; ?&gt;&quot; /&gt;                                &nbsp;</div></li><li><div>    &lt;?php if ($isNew) { ?&gt;    &lt;input type=&quot;hidden&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][apDoFB]&quot; value=&quot;1&quot; id=&quot;apDoNewFB&lt;?php echo $ii; ?&gt;&quot; /&gt; &lt;?php } ?&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>     &lt;div class=&quot;nsx_iconedTitle&quot; style=&quot;float: right; max-width: 342px; text-align: right; background-image: url(&lt;?php echo $nxs_plurl; ?&gt;img/fb16.png);&quot;&gt;&lt;a style=&quot;font-size: 12px;&quot; target=&quot;_blank&quot;  href=&quot;http://www.nextscripts.com/instructions/facebook-social-networks-auto-poster-setup-installation&quot;&gt;&lt;?php $nType=&quot;Facebook&quot;; printf( __( 'Detailed %s Installation/Configuration Instructions', 'social-networks-auto-poster-facebook-twitter-g' ), $nType); ?&gt;&lt;/a&gt;&lt;br/&gt;&nbsp;</div></li><li><div>     &lt;span style=&quot;font-size: 10px;&quot;&gt;&lt;?php _e('Please use in your Facebook App:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; &lt;br/&gt; URL: &lt;em style=&quot;font-size: 10px; color:#CB4B16;&quot;&gt;&lt;?php echo !empty($_SERVER[&quot;REQUEST_SCHEME&quot;])?$_SERVER[&quot;REQUEST_SCHEME&quot;]:'http'; ?&gt;://&lt;?php echo $_SERVER[&quot;SERVER_NAME&quot;] ?&gt;&lt;/em&gt; &lt;br/&gt;Domain: &lt;em style=&quot;font-size: 10px; color:#CB4B16;&quot;&gt;&lt;?php echo $_SERVER[&quot;SERVER_NAME&quot;] ?&gt;&lt;/em&gt; &lt;/span&gt;&nbsp;</div></li><li><div>     &nbsp;</div></li><li><div>     &lt;/div&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong&gt;&lt;?php _e('Account Nickname', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&lt;/strong&gt; &lt;i&gt;&lt;?php _e('Just so you can easily identify it', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/i&gt; &lt;/div&gt;&lt;input name=&quot;fb[&lt;?php echo $ii; ?&gt;][nName]&quot; id=&quot;fbnName&lt;?php echo $ii; ?&gt;&quot; style=&quot;font-weight: bold; color: #005800; border: 1px solid #ACACAC; width: 40%;&quot; value=&quot;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['nName'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&lt;br/&gt;&nbsp;</div></li><li><div>    &lt;?php echo nxs_addQTranslSel('fb', $ii, $options['qTLng']); ?&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;ul class=&quot;nsx_tabs&quot;&gt;&nbsp;</div></li><li><div>    &lt;li&gt;&lt;a href=&quot;#nsx&lt;?php echo $nt.$ii ?&gt;_tab1&quot;&gt;&lt;?php _e('Account Info', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;&lt;/li&gt;    &nbsp;</div></li><li><div>    &lt;?php if (!$isNew) { ?&gt;  &lt;li&gt;&lt;a href=&quot;#nsx&lt;?php echo $nt.$ii ?&gt;_tab2&quot;&gt;&lt;?php _e('Advanced', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;&lt;/li&gt;  &lt;?php } ?&gt;    &nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;/ul&gt;&nbsp;</div></li><li><div>    &lt;div class=&quot;nsx_tab_container&quot;&gt;&lt;?php /** ######################## Account Tab ####################### */ ?&gt;&nbsp;</div></li><li><div>    &lt;div id=&quot;nsx&lt;?php echo $nt.$ii ?&gt;_tab1&quot; class=&quot;nsx_tab_content&quot; style=&quot;background-image: url(&lt;?php echo $nxs_plurl; ?&gt;img/&lt;?php echo $nt; ?&gt;-bg.png); background-repeat: no-repeat;  background-position:90% 10%;&quot;&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong&gt;Facebook URL:&lt;/strong&gt; &lt;/div&gt;&nbsp;</div></li><li><div>    &lt;p style=&quot;font-size: 11px; margin: 0px;&quot;&gt;&lt;?php _e('Could be your Facebook Profile, Facebook Page, Facebook Group', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>    &lt;input name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBURL]&quot; id=&quot;apFBURL&quot; style=&quot;width: 50%;&quot; value=&quot;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['fbURL'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;              &nbsp;</div></li><li><div>    &lt;br/&gt;&lt;br/&gt; &lt;?php /** &nbsp;</div></li><li><div>    &lt;?php if ($isNew) { ?&gt;&lt;b&gt;Choose How to connect to Facebook:&lt;/b&gt;&nbsp;&lt;-&nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://www.nextscripts.com/connect-facebook/&quot;&gt;What is it?&lt;/a&gt; &lt;br/&gt; &nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;select onchange=&quot;nxs_showHideBlock('fbChooseSRVB'+this.value, 'fbChooseSRVC');&quot; id=&quot;fbChooseSRV&lt;?php echo $ii; ?&gt;&quot;&gt;&lt;option value=&quot;0&quot;&gt;Your own app&lt;/option&gt;&lt;option value=&quot;1&quot;&gt;Autopost.to Service&lt;/option&gt;&lt;option value=&quot;2&quot;&gt;Username/password (Pro Only)&lt;/option&gt;&lt;/select&gt; &lt;br/&gt; &lt;br/&gt; &nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;?php } */ ?&gt;&nbsp;</div></li><li><div>    &lt;div id=&quot;fbChooseSRVB0&quot; class=&quot;fbChooseSRVC&quot; style=&quot;padding-left:15px; display: &lt;?php if ($isNew || !empty($options['fbAppID'])) echo 'block'; else echo 'none'; ?&gt;;&quot;&gt;  &nbsp;</div></li><li><div>      &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong&gt;Facebook App ID:&lt;/strong&gt; &lt;/div&gt;&lt;input name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBAppID]&quot; id=&quot;apFBAppID&quot; style=&quot;width: 30%;&quot; value=&quot;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['fbAppID'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;  &nbsp;</div></li><li><div>      &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong&gt;Facebook App Secret:&lt;/strong&gt; &lt;/div&gt;&lt;input name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBAppSec]&quot; id=&quot;apFBAppSec&quot; style=&quot;width: 30%;&quot; value=&quot;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['fbAppSec'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;    &nbsp;</div></li><li><div>    &lt;br/&gt;&lt;br/&gt;&nbsp;</div></li><li><div>    &lt;div id=&quot;altFormat&quot;&gt;&nbsp;</div></li><li><div>      &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong id=&quot;altFormatText&quot;&gt;&lt;?php _e('Message text Format', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&lt;/strong&gt; (&lt;a href=&quot;#&quot; id=&quot;apFBMsgFrmt&lt;?php echo $ii; ?&gt;HintInfo&quot; onclick=&quot;mxs_showHideFrmtInfo('apFBMsgFrmt&lt;?php echo $ii; ?&gt;'); return false;&quot;&gt;&lt;?php _e('Show format info', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)&lt;/div&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;textarea cols=&quot;150&quot; rows=&quot;3&quot; id=&quot;fb&lt;?php echo $ii; ?&gt;SNAPformat&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBMsgFrmt]&quot;  style=&quot;width:51%;max-width: 610px;&quot; onfocus=&quot;jQuery('#fb&lt;?php echo $ii; ?&gt;SNAPformat').attr('rows', 6); mxs_showFrmtInfo('apFBMsgFrmt&lt;?php echo $ii; ?&gt;');&quot;&gt;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['fbMsgFormat'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&lt;/textarea&gt;    &lt;?php nxs_doShowHint(&quot;apFBMsgFrmt&quot;.$ii); ?&gt;    &nbsp;</div></li><li><div>       &lt;br/&gt;&nbsp;</div></li><li><div>   &lt;/div&gt;&lt;br/&gt;&nbsp;</div></li><li><div>      &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong style=&quot;font-size: 16px;&quot; id=&quot;altFormatText&quot;&gt;Post Type:&lt;/strong&gt;&lt;-- (&lt;a id=&quot;showShAtt&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;X');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;X', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;http://www.nextscripts.com/blog/&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)  &lt;/div&gt;                      &nbsp;</div></li><li><div>&lt;div style=&quot;margin-left: 10px;&quot;&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;input type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][postType]&quot; value=&quot;T&quot; &lt;?php if ($options['postType'] == 'T') echo 'checked=&quot;checked&quot;'; ?&gt; onchange=&quot;if (jQuery(this).is(':checked')) jQuery('.nxsDivFBPostTypeOpts&lt;?php echo $ii; ?&gt;').hide();&quot;/&gt; &lt;?php _e('Text Post', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; - &lt;i&gt;&lt;?php _e('just text message', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/i&gt;&lt;br/&gt;                    &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;input type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][postType]&quot; value=&quot;I&quot; &lt;?php if ($options['postType'] == 'I') echo 'checked=&quot;checked&quot;'; ?&gt; onchange=&quot;if (jQuery(this).is(':checked')) { jQuery('.nxsDivFBPostTypeOpts&lt;?php echo $ii; ?&gt;').hide(); jQuery('#nxsDivFBImgUplOpts&lt;?php echo $ii; ?&gt;').show();}&quot;/&gt; &lt;?php _e('Image Post', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; - &lt;i&gt;&lt;?php _e('big image with text message', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/i&gt;&lt;br/&gt;&nbsp;</div></li><li><div>          &lt;div style=&quot;width:100%; margin-left: 15px;&lt;?php if (empty($options['postType']) || $options['postType'] != 'I') echo &quot;display:none;&quot;; ?&gt;&quot; id=&quot;nxsDivFBImgUplOpts&lt;?php echo $ii; ?&gt;&quot; class=&quot;nxsDivFBPostTypeOpts&lt;?php echo $ii; ?&gt;&quot; &gt;&lt;strong&gt;&lt;?php _e('Upload Images to', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&nbsp;&lt;/strong&gt; &nbsp;</div></li><li><div>             &lt;input value=&quot;2&quot; id=&quot;apFBImgUplAPP&lt;?php echo $ii; ?&gt;&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBImgUpl]&quot; &lt;?php if ((int)$options['imgUpl'] == 2) echo &quot;checked&quot;; ?&gt; /&gt; &lt;?php _e('App Album', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; &nbsp;</div></li><li><div>             &lt;input value=&quot;1&quot; id=&quot;apFBImgUplTML&lt;?php echo $ii; ?&gt;&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBImgUpl]&quot; &lt;?php if ((int)$options['imgUpl'] != 2) echo &quot;checked&quot;; ?&gt; /&gt; &nbsp;</div></li><li><div>              &lt;?php _e('Timeline', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; &lt;-- (&lt;a id=&quot;showShAtt&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;I');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;I', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;http://www.nextscripts.com/blog/&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)      &nbsp;</div></li><li><div>          &lt;/div&gt;        &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;input type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][postType]&quot; value=&quot;A&quot; &lt;?php if ( !isset($options['postType']) || $options['postType'] == '' || $options['postType'] == 'A') echo 'checked=&quot;checked&quot;'; ?&gt; onchange=&quot;if (jQuery(this).is(':checked')) { jQuery('.nxsDivFBPostTypeOpts&lt;?php echo $ii; ?&gt;').hide(); jQuery('#nxsDivFBAttchLinkOpts&lt;?php echo $ii; ?&gt;').show();}&quot; /&gt; &lt;?php _e('Text Post with &quot;attached&quot; link', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;br/&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;div id=&quot;nxsDivFBAttchLinkOpts&lt;?php echo $ii; ?&gt;&quot; class=&quot;nxsDivFBPostTypeOpts&lt;?php echo $ii; ?&gt;&quot; style=&quot;width:100%; margin-left: 15px; line-height: 22px;&lt;?php if (!empty($options['postType']) && $options['postType'] != 'A') echo &quot;display:none;&quot;; ?&gt;&quot;&gt;&nbsp;</div></li><li><div>&lt;?php //prr($options);&nbsp;</div></li><li><div> if (empty($options['atchUse'])) $options['atchUse'] = 'F';  &nbsp;</div></li><li><div> if (!empty($options['useFBGURLInfo']) && $options['useFBGURLInfo']=='1') $options['atchUse'] = 'F'; &nbsp;</div></li><li><div> if (isset($options['useFBGURLInfo']) && $options['useFBGURLInfo']=='0') $options['atchUse'] = 'A'; &nbsp;</div></li><li><div> if (!empty($options['fbMsgAFrmt']) && empty($options['msgDAFrmt'])) { $options['msgDAFrmt'] = $options['fbMsgAFrmt']; $options['msgTAFrmt'] = '%TITLE%'; }&nbsp;</div></li><li><div> if (!empty($options['fbMsgAFrmt'])) $options['atchUse'] = 'M'; &nbsp;</div></li><li><div> if (isset($options['fbAttchAsVid']) && $options['fbAttchAsVid'] == '1') $options['fbAttchAsVid'] = 'A'; &nbsp;</div></li><li><div> if (empty($options['fbAttchAsVid'])) $options['fbAttchAsVid'] = 'N'; &nbsp;</div></li><li><div>&nbsp;</div></li><li><div> ?&gt;&nbsp;</div></li><li><div>        &lt;strong&gt;&lt;?php _e('Link attachment type', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&nbsp;&lt;/strong&gt; &lt;input value=&quot;2&quot;  id=&quot;apFBAttchShare&lt;?php echo $ii; ?&gt;&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBAttch]&quot; &lt;?php if ((int)$options['fbAttch'] == 2) echo &quot;checked&quot;; ?&gt; /&gt;&lt;?php _e('Share a link to your blogpost', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;input value=&quot;1&quot;  id=&quot;apFBAttch&lt;?php echo $ii; ?&gt;&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][apFBAttch]&quot;  &lt;?php if ((int)$options['fbAttch'] == 1) echo &quot;checked&quot;; ?&gt; /&gt; &nbsp;</div></li><li><div>          &lt;?php _e('Attach your blogpost', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;-- (&lt;a id=&quot;showShAtt&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;http://www.nextscripts.com/blog/&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)&nbsp;</div></li><li><div>          &lt;br/&gt;&nbsp;</div></li><li><div>        &lt;strong&gt;&lt;?php _e('What should fill attachment info:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&lt;/strong&gt; &nbsp;</div></li><li><div>          &lt;input value=&quot;F&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][atchUse]&quot; &lt;?php if ($options['atchUse'] == 'F') echo &quot;checked&quot;; ?&gt; onchange=&quot;if (jQuery(this).is(':checked')) { jQuery('#apFBMsgAFrmtDiv&lt;?php echo $ii; ?&gt;').hide(); jQuery('#nxsRBVidThumb&lt;?php echo $ii; ?&gt;').prop('disabled', true); }&quot;/&gt;&lt;?php _e('Facebook', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;input value=&quot;A&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][atchUse]&quot; &lt;?php if ($options['atchUse'] == 'A') echo &quot;checked&quot;; ?&gt; onchange=&quot;if (jQuery(this).is(':checked')) { jQuery('#apFBMsgAFrmtDiv&lt;?php echo $ii; ?&gt;').hide(); jQuery('#nxsRBVidThumb&lt;?php echo $ii; ?&gt;').prop('disabled', false);}&quot;/&gt;&lt;?php _e('Plugin/API', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;input value=&quot;M&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][atchUse]&quot; &lt;?php if ($options['atchUse'] == 'M') echo &quot;checked&quot;; ?&gt; onchange=&quot;if (jQuery(this).is(':checked')) { jQuery('#apFBMsgAFrmtDiv&lt;?php echo $ii; ?&gt;').show(); jQuery('#nxsRBVidThumb&lt;?php echo $ii; ?&gt;').prop('disabled', false);}&quot;/&gt;&lt;?php _e('Set your own', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;-- (&lt;a id=&quot;showShAtt&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;Fill');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;Fill', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;#&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)&lt;br/&gt;&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          &lt;div id=&quot;apFBMsgAFrmtDiv&lt;?php echo $ii; ?&gt;&quot; style=&quot;&lt;?php if ($options['atchUse'] != 'M') echo &quot;display:none;&quot;; ?&gt;&quot; &gt;&nbsp;</div></li><li><div>      &nbsp;&nbsp;&nbsp; &lt;?php _e('Attachment Title Format', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&lt;input name=&quot;fb[&lt;?php echo $ii; ?&gt;][msgTAFrmt]&quot; style=&quot;width: 30%;&quot; value=&quot;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['msgTAFrmt'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&lt;br/&gt;&nbsp;</div></li><li><div>      &nbsp;&nbsp;&nbsp; &lt;?php _e('Attachment Text Format', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&lt;input name=&quot;fb[&lt;?php echo $ii; ?&gt;][msgDAFrmt]&quot; style=&quot;width: 30%;&quot; value=&quot;&lt;?php _e(apply_filters('format_to_edit', htmlentities($options['msgDAFrmt'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;          &nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>        &lt;strong&gt;&lt;?php _e('If post has a video:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&lt;/strong&gt; &nbsp;</div></li><li><div>          &lt;input value=&quot;N&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][fbAttchAsVid]&quot; &lt;?php if ($options['fbAttchAsVid'] == 'N') echo 'checked=&quot;checked&quot;'; ?&gt; /&gt;&lt;?php _e('Do nothing', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;input value=&quot;A&quot; id=&quot;nxsRBVidThumb&lt;?php echo $ii; ?&gt;&quot; &lt;?php if ($options['atchUse'] == 'F') echo &quot;disabled&quot;; ?&gt;  type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][fbAttchAsVid]&quot; &lt;?php if ($options['fbAttchAsVid'] == 'A') echo 'checked=&quot;checked&quot;'; ?&gt; /&gt;&lt;?php _e('Use as thumbnail', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;input value=&quot;V&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][fbAttchAsVid]&quot; &lt;?php if ($options['fbAttchAsVid'] == 'V') echo 'checked=&quot;checked&quot;'; ?&gt; /&gt; &nbsp;</div></li><li><div>          &lt;?php _e('Attach Video(!)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&nbsp;&nbsp;</div></li><li><div>          &lt;-- (&lt;a id=&quot;showShAtt&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;Video');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;Video', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;#&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)&nbsp;</div></li><li><div>          &lt;br/&gt;   &nbsp;</div></li><li><div>       &nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>&lt;/div&gt;&lt;br/&gt;&lt;/div&gt;&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; style=&quot;z-index: 9999; width: 350px;&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;I&quot;&gt;&lt;h3&gt;&lt;?php _e('Where to upload Images', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt; &lt;b&gt;&lt;?php _e('(App Album)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Facebook automatically creates an album for your app. Images will be grouped there as in any regular album.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;  &lt;br/&gt;&lt;br/&gt;&lt;b&gt;&lt;?php _e('(Timeline)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Images will be posted to the special &quot;Wall/Timeline&quot; album and won\'t be grouped. &quot;Wall/Timeline&quot; album must exist. It\'s created when first image posted to timeline manually.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/div&gt;  &nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; style=&quot;z-index: 9999&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;&quot;&gt;&lt;h3&gt;&lt;?php _e('Two ways of attaching post on Facebook', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt;&lt;img src=&quot;&lt;?php echo $nxs_plurl; ?&gt;img/fb2wops.png&quot; width=&quot;600&quot; height=&quot;257&quot; alt=&quot;&lt;?php _e('Two ways of attaching post on Facebook', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&quot;/&gt;&lt;/div&gt;&nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; style=&quot;z-index: 9999&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;X&quot;&gt;&lt;h3&gt;&lt;?php _e('Facebook Post Types', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt;&lt;img src=&quot;&lt;?php echo $nxs_plurl; ?&gt;img/fbPostTypesDiff6.png&quot; width=&quot;600&quot; height=&quot;398&quot; alt=&quot;&lt;?php _e('Facebook Post Types', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&quot;/&gt;&lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; style=&quot;z-index: 9999; width: 350px;&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;Fill&quot;&gt;&lt;h3&gt;&lt;?php _e('What should fill attachment info', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt; &lt;b&gt;&lt;?php _e('(Facebook)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Recommended. Facebook will automatically take attached/shared link info from OG: tags or other sources.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;  &lt;br/&gt;&lt;br/&gt;&lt;b&gt;&lt;?php _e('(Pluign/API)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Plugin will generate attachment title and description using info from SEO Plugins, then post excerpt, then post text and title.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;br/&gt;&lt;br/&gt;&lt;b&gt;&lt;?php _e('(Set your own)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Set the format by yourself using message formatting tags', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/div&gt;  &nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; style=&quot;z-index: 9999; width: 350px;&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;Video&quot;&gt;&lt;h3&gt;&lt;?php _e('If post has a video', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt; &lt;b&gt;&lt;?php _e('(Do Nothing)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Plugin is not going to do anything specific about video', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;  &lt;br/&gt;&lt;br/&gt;&lt;b&gt;&lt;?php _e('(Use as thumbnail)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Video thumbnail will be used as attachment image. Please note - &lt;b&gt;it won\'t be playable.&lt;/b&gt; This option is not compatible with &quot;What should fill attachment info: Facebook&quot;', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;br/&gt;&lt;br/&gt;&lt;b&gt;&lt;?php _e('(Attach video page to the Facebook post)', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('If you choose this, YouTube or Vimeo page will be attached to the Facebook post as &lt;b&gt;playable thumbnail&lt;/b&gt;. Please note! &lt;b&gt;There will be no link to your site.&lt;/b&gt; Please use %URL% in the message format if you need a backlink', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/div&gt;  &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>            &lt;?php if ($options['fbPgID']!='') {?&gt;&lt;div style=&quot;width:100%;&quot;&gt;&lt;strong&gt;Facebook Page ID:&lt;/strong&gt; &lt;?php if (!empty($options['destType']) && $options['destType'] == 'pr') _e('Profile', 'social-networks-auto-poster-facebook-twitter-g');  &nbsp;</div></li><li><div>              if (!empty($options['destType']) && $options['destType'] == 'gr') _e('Group', 'social-networks-auto-poster-facebook-twitter-g');               &nbsp;</div></li><li><div>              if (empty($options['destType']) || (!empty($options['destType']) && $options['destType'] == 'pg')) _e('Page', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;-&nbsp;&nbsp;</div></li><li><div>              &lt;?php _e(apply_filters('format_to_edit', htmlentities($options['fbPgID'], ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&lt;?php } ?&gt;&nbsp;</div></li><li><div>            &lt;?php &nbsp;</div></li><li><div>          if (!empty($options['fbAppID'])) {&nbsp;</div></li><li><div>            if($options['fbAppSec']=='') { ?&gt;&nbsp;</div></li><li><div>            &lt;b&gt;&lt;?php _e('Authorize Your Facebook Account', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/b&gt; &lt;?php _e('Please click &quot;Update Settings&quot; to be able to Authorize your account.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;</div></li><li><div>            &lt;?php } else { if(isset($options['fbAppAuthUser']) && $options['fbAppAuthUser']&gt;0) { ?&gt;&nbsp;</div></li><li><div>            &lt;?php _e('Your Facebook Account has been authorized.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; User ID: &lt;?php _e(apply_filters('format_to_edit', htmlentities($options['fbAppAuthUser'].(!empty($options['fbAppAuthUserName'])?&quot; - &quot;.$options['fbAppAuthUserName']:''), ENT_COMPAT, &quot;UTF-8&quot;)), 'social-networks-auto-poster-facebook-twitter-g') ?&gt;.&nbsp;</div></li><li><div>            &lt;br/&gt;&lt;?php _e('You can', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; Re- &lt;?php } ?&gt;            &nbsp;</div></li><li><div>            &lt;a href=&quot;https://www.facebook.com/dialog/oauth?client_id=&lt;?php echo trim($options['fbAppID']);?&gt;&scope=publish_actions, manage_pages, publish_pages, user_managed_groups, user_posts, user_photos&state=&lt;?php echo 'nxs-fb-'.$ii; ?&gt;&redirect_uri=&lt;?php echo trim(urlencode($nxs_snapSetPgURL));?&gt;&quot;&gt;Authorize Your Facebook Account&lt;/a&gt; &nbsp;</div></li><li><div>            &lt;?php if (!isset($options['fbAppAuthUser']) || $options['fbAppAuthUser']&lt;1) { ?&gt; &lt;div class=&quot;blnkg&quot;&gt;&lt;=== &lt;?php _e('Authorize your account', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; ===&lt;/div&gt; &nbsp;</div></li><li><div>            &lt;br/&gt;&lt;br/&gt;&lt;i&gt; &lt;?php _e('If you get Facebook message:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; &lt;b&gt;&quot;Error. An error occurred. Please try again later.&quot;&lt;/b&gt; or &lt;b&gt;&quot;Error 191&quot;&lt;/b&gt;  &lt;?php _e('please make sure that domain name in your Facebook App matches your website domain exactly. Please note that www. and non www. versions are different domains.', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/i&gt; &lt;?php }?&gt;&nbsp;</div></li><li><div>          &lt;?php } } ?&gt;&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            &lt;?php  if((isset($options['fbAppAuthUser']) && $options['fbAppAuthUser']&gt;0) || !empty($options['atpKey']) || !empty($options['uName']) ) { ?&gt;&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            &lt;br/&gt;&lt;br/&gt;&lt;b&gt;&lt;?php _e('Test your settings', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;:&lt;/b&gt;&nbsp;&nbsp;&nbsp; &lt;a href=&quot;#&quot; class=&quot;NXSButton&quot; onclick=&quot;testPost('FB', '&lt;?php echo $ii; ?&gt;'); return false;&quot;&gt;&lt;?php printf( __( 'Submit Test Post to %s', 'social-networks-auto-poster-facebook-twitter-g' ), $nType); ?&gt;&lt;/a&gt;         &nbsp;</div></li><li><div>            &lt;?php }?&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>     &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php /** ######################## Tools Tab ####################### */ ?&gt;&nbsp;</div></li><li><div>  &lt;?php if (!$isNew) { ?&gt;   &lt;div id=&quot;nsx&lt;?php echo $nt.$ii ?&gt;_tab2&quot; class=&quot;nsx_tab_content&quot;&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>  &lt;?php  nxs_showCatTagsCTFilters($nt, $ii, $options); &nbsp;</div></li><li><div>      nxs_addPostingDelaySelV3($nt, $ii, $options['nHrs'], $options['nMin'], $options['nDays']);  ?&gt;    &nbsp;</div></li><li><div>       &nbsp;</div></li><li><div>   &lt;div style=&quot;width:100%;&quot;&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;&lt;?php _e('Facebook Comments:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/strong&gt; &lt;/div&gt;&nbsp;</div></li><li><div>   &lt;div style=&quot;margin-bottom: 5px; margin-left: 10px; &quot;&gt;&nbsp;</div></li><li><div>   &lt;p style=&quot;font-size: 11px; margin: 0px;&quot;&gt;&lt;?php _e('Plugin could grab comments from Facebook and import them as Wordpress Comments', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>   &nbsp;</div></li><li><div>   &lt;?php if ( !empty($gOptions['riActive']) && $gOptions['riActive'] == '1' ) { ?&gt;&nbsp;</div></li><li><div>   &lt;input value=&quot;1&quot;  id=&quot;apFBMsgAFrmtA&lt;?php echo $ii; ?&gt;&quot; &lt;?php if (trim($options['riComments'])=='1') echo &quot;checked&quot;; ?&gt; type=&quot;checkbox&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][riComments]&quot;/&gt; &lt;strong&gt;&lt;?php _e('Import Facebook Comments', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/strong&gt;&nbsp;</div></li><li><div>   &lt;br/&gt;&nbsp;</div></li><li><div>   &lt;div style=&quot;margin-bottom: 5px; margin-left: 10px; &quot;&gt;&nbsp;</div></li><li><div>   &lt;input value=&quot;1&quot;  id=&quot;apFBMsgAFrmtA&lt;?php echo $ii; ?&gt;&quot; &lt;?php if (trim($options['riCommentsAA'])=='1') echo &quot;checked&quot;; ?&gt; type=&quot;checkbox&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][riCommentsAA]&quot;/&gt; &lt;strong&gt;&lt;?php _e('Auto-approve imported comments', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/strong&gt;&lt;/div&gt;&nbsp;</div></li><li><div>   &nbsp;</div></li><li><div>   &lt;?php } else { echo &quot;&lt;br/&gt;&quot;; _e('Please activate the &quot;Comments Import&quot; from SNAP Settings Tab', 'social-networks-auto-poster-facebook-twitter-g'); } ?&gt;&nbsp;</div></li><li><div>   &nbsp;</div></li><li><div>   &lt;/div&gt;&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  &lt;?php  nxs_showRepostSettings($nt, $ii, $options); ?&gt; &nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>    &lt;/div&gt; &lt;?php } ?&gt; &lt;?php /** #### End of Tab #### */ ?&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&lt;br/&gt; &lt;?php /** #### End of Tabs #### */ ?&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;div class=&quot;submitX nxclear&quot; style=&quot;padding-bottom: 0px;&quot;&gt; &nbsp;</div></li><li><div>      &lt;input type=&quot;submit&quot; class=&quot;button-primary&quot; name=&quot;update_NS_SNAutoPoster_settings&quot; value=&quot;&lt;?php _e('Update Settings', 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>      &lt;?php /** ?&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;button&quot; id=&quot;svBtn&lt;?php echo $nt.$ii ?&gt;&quot; onclick=&quot;nxs_svSet('&lt;?php echo $nt; ?&gt;', '&lt;?php echo $ii; ?&gt;')&quot; class=&quot;button-primary&quot; value=&quot;&lt;?php _e('Update Settings', 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;nxsSaveLoadingImg&lt;?php echo $nt.$ii; ?&gt;&quot; class=&quot;doneMsg&quot;&gt;Saving.....&lt;/div&gt; &lt;div id=&quot;doneMsg&lt;?php echo $nt.$ii; ?&gt;&quot; class=&quot;doneMsg&quot;&gt;Done&lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php */ ?&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>          &lt;/div&gt;        &nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  //#### Set Unit Settings from POST&nbsp;</div></li><li><div>  function setNTSettings($post, $options) { $code = 'FB'; $lcode = 'fb';&nbsp;</div></li><li><div>    foreach ($post as $ii =&gt; $pval) { &nbsp;</div></li><li><div>      if (!empty($pval['apFBAppID']) || !empty($pval['atpKey']) || !empty($pval['uName'])) { if (!isset($options[$ii])) $options[$ii] = array();&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['atpKey']))         $options[$ii]['atpKey'] = trim($pval['atpKey']);&nbsp;</div></li><li><div>        if (isset($pval['uName']))          $options[$ii]['uName'] = trim($pval['uName']);&nbsp;</div></li><li><div>        if (isset($pval['uPass']))          $options[$ii]['uPass'] = trim($pval['uPass']);        &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['apDoFB']))         $options[$ii]['doFB'] = $pval['apDoFB']; else $options[$ii]['doFB'] = 0;&nbsp;</div></li><li><div>        if (isset($pval['nName']))          $options[$ii]['nName'] = trim($pval['nName']);&nbsp;</div></li><li><div>        if (isset($pval['apFBAppID']))      $options[$ii]['fbAppID'] = trim($pval['apFBAppID']);                                &nbsp;</div></li><li><div>        if (isset($pval['apFBAppSec']))     $options[$ii]['fbAppSec'] = trim($pval['apFBAppSec']);        &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['catSel'])) $options[$ii]['catSel'] = trim($pval['catSel']); else $options[$ii]['catSel'] = 0;&nbsp;</div></li><li><div>        if ($options[$ii]['catSel']=='1' && trim($pval['catSelEd'])!='') $options[$ii]['catSelEd'] = trim($pval['catSelEd']); else $options[$ii]['catSelEd'] = '';&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['postType']))     $options[$ii]['postType'] = trim($pval['postType']);&nbsp;</div></li><li><div>        if (isset($pval['apFBAttch']))      $options[$ii]['fbAttch'] = $pval['apFBAttch']; else $options[$ii]['fbAttch'] = 0;&nbsp;</div></li><li><div>        if (isset($pval['fbAttchAsVid'])) $options[$ii]['fbAttchAsVid'] = $pval['fbAttchAsVid']; else $options[$ii]['fbAttchAsVid'] = 0;&nbsp;</div></li><li><div>        if (isset($pval['atchUse']))     $options[$ii]['atchUse'] = trim($pval['atchUse']);&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if ($options[$ii]['atchUse']=='F' && $options[$ii]['fbAttchAsVid'] = 'A') $options[$ii]['fbAttchAsVid'] = 'N';&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['apFBImgUpl']))     $options[$ii]['imgUpl'] = $pval['apFBImgUpl']; else $options[$ii]['imgUpl'] = 0;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['apFBMsgFrmt']))    $options[$ii]['fbMsgFormat'] = trim($pval['apFBMsgFrmt']); &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['msgTAFrmt']))    $options[$ii]['msgTAFrmt'] = trim($pval['msgTAFrmt']); &nbsp;</div></li><li><div>        if (isset($pval['msgDAFrmt']))    $options[$ii]['msgDAFrmt'] = trim($pval['msgDAFrmt']); &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($options[$ii]['useFBGURLInfo'])) unset($options[$ii]['useFBGURLInfo']);&nbsp;</div></li><li><div>        if (isset($options[$ii]['fbMsgAFrmt'])) unset($options[$ii]['fbMsgAFrmt']);&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['riComments']))      $options[$ii]['riComments'] = $pval['riComments']; else $options[$ii]['riComments'] = 0;&nbsp;</div></li><li><div>        if (isset($pval['riCommentsAA']))    $options[$ii]['riCommentsAA'] = $pval['riCommentsAA']; else $options[$ii]['riCommentsAA'] = 0;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $options[$ii] = nxs_adjRpst($options[$ii], $pval);       &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['delayDays'])) $options[$ii]['nDays'] = trim($pval['delayDays']);&nbsp;</div></li><li><div>        if (isset($pval['delayHrs'])) $options[$ii]['nHrs'] = trim($pval['delayHrs']); if (isset($pval['delayMin'])) $options[$ii]['nMin'] = trim($pval['delayMin']); &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if (isset($pval['qTLng'])) $options[$ii]['qTLng'] = trim($pval['qTLng']); &nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>        if (isset($pval['apFBURL']))  {  $options[$ii]['fbURL'] = trim($pval['apFBURL']);   if ( substr($options[$ii]['fbURL'], 0, 4)!='http' )  $options[$ii]['fbURL'] = 'http://'.$options[$ii]['fbURL'];&nbsp;</div></li><li><div>          $fbPgID = $options[$ii]['fbURL']; if (substr($fbPgID, -1)=='/') $fbPgID = substr($fbPgID, 0, -1);  $fbPgID = substr(strrchr($fbPgID, &quot;/&quot;), 1); &nbsp;</div></li><li><div>          if (strpos($fbPgID, '?')!==false) $fbPgID = substr($fbPgID, 0, strpos($fbPgID, '?'));           &nbsp;</div></li><li><div>          if (strpos($fbPgID, '-')!==false) { $possID = substr(strrchr($fbPgID, &quot;-&quot;), 1);   $fbPgID = (strlen($possID)&gt;10 && is_numeric($possID))?$possID:$fbPgID; } //prr($fbPgID); die();          &nbsp;</div></li><li><div>          $options[$ii]['fbPgID'] = $fbPgID; //echo $fbPgID;&nbsp;</div></li><li><div>          if (strpos($options[$ii]['fbURL'], '?')!==false) $options[$ii]['fbURL'] = substr($options[$ii]['fbURL'], 0, strpos($options[$ii]['fbURL'], '?'));// prr($pval); prr($options[$ii]); // die();&nbsp;</div></li><li><div>        }                 &nbsp;</div></li><li><div>        //## Compatibility with ver &lt;3.2&nbsp;</div></li><li><div>        if (empty($options[$ii]['postType']) && !empty($options[$ii]['fbPostType'])) { $options[$ii]['postType'] = $options[$ii]['fbPostType']; unset($options[$ii]['fbPostType']); }&nbsp;</div></li><li><div>        if (empty($options[$ii]['postType']) && !empty($options[$ii]['PostType'])) { $pt = $options[$ii]['PostType']; unset($options[$ii]['PostType']); $options[$ii]['postType'] = $pt; }&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>      } elseif ( count($pval)==1 ) if (isset($pval['apDo'.$code])) $options[$ii]['do'.$code] = $pval['apDo'.$code]; else $options[$ii]['do'.$code] = 0; &nbsp;</div></li><li><div>    } return $options;&nbsp;</div></li><li><div>  } &nbsp;</div></li><li><div>  //#### Show Post-&gt;Edit Meta Box Settings&nbsp;</div></li><li><div>  function showEdPostNTSettings($ntOpts, $post) { global $nxs_plurl; $post_id = $post-&gt;ID;  $nt = 'fb'; $ntU = 'FB'; &nbsp;</div></li><li><div>    foreach($ntOpts as $ii=&gt;$ntOpt)  { $pMeta = maybe_unserialize(get_post_meta($post_id, 'snapFB', true));  if (is_array($pMeta) && isset($pMeta[$ii]) && is_array($pMeta[$ii])) $ntOpt = $this-&gt;adjMetaOpt($ntOpt, $pMeta[$ii]);         &nbsp;</div></li><li><div>        if (empty($ntOpt['postType']) && !empty($ntOpt['fbPostType'])) { $ntOpt['postType'] = $ntOpt['fbPostType']; unset($ntOpt['fbPostType']); } //## Compatibility with ver &lt;3.2         &nbsp;</div></li><li><div>        if (empty($ntOpt['postType']) && !empty($ntOpt['PostType'])) { $pt = $ntOpt['PostType']; unset($ntOpt['PostType']); $ntOpt['postType'] = $pt; } //## Compatibility with ver &lt;3.2         &nbsp;</div></li><li><div>        if (empty($ntOpt['imgToUse'])) $ntOpt['imgToUse'] = '';  if (empty($ntOpt['urlToUse'])) $ntOpt['urlToUse'] = '';&nbsp;</div></li><li><div>        $doFB = $ntOpt['doFB'] && (is_array($pMeta) || $ntOpt['catSel']!='1');        &nbsp;</div></li><li><div>        $imgToUse = $ntOpt['imgToUse'];  $urlToUse = $ntOpt['urlToUse']; &nbsp;</div></li><li><div>        $isAvailFB =  $ntOpt['fbURL']!='' && $ntOpt['fbAppID']!='' && $ntOpt['fbAppSec']!=''; $isAttachFB = $ntOpt['fbAttch']; $fbMsgFormat = htmlentities($ntOpt['fbMsgFormat'], ENT_COMPAT, &quot;UTF-8&quot;); $fbPostType = $ntOpt['postType'];&nbsp;</div></li><li><div>      ?&gt;  &nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      &lt;tr&gt;&lt;th style=&quot;text-align:left;&quot; colspan=&quot;2&quot;&gt; &nbsp;</div></li><li><div>      &lt;?php if ($ntOpt['catSel']=='1' && trim($ntOpt['catSelEd'])!='')  { ?&gt; &lt;input type=&quot;hidden&quot; class=&quot;nxs_SC&quot; id=&quot;nxs_SC_&lt;?php echo $ntU; ?&gt;&lt;?php echo $ii; ?&gt;&quot; value=&quot;&lt;?php echo $ntOpt['catSelEd']; ?&gt;&quot; /&gt; &lt;?php } ?&gt;&nbsp;</div></li><li><div>      &lt;?php if (!empty($ntOpt['tagsSelX'])) { ?&gt;  &lt;input type=&quot;hidden&quot; class=&quot;nxs_TG&quot; id=&quot;nxs_TG_&lt;?php echo $ntU; ?&gt;&lt;?php echo $ii; ?&gt;&quot; value=&quot;&lt;?php echo $ntOpt['tagsSelX']; ?&gt;&quot; /&gt; &lt;?php } ?&gt;&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      &lt;?php if ($isAvailFB) { ?&gt;&lt;input class=&quot;nxsGrpDoChb&quot; value=&quot;1&quot; id=&quot;doFB&lt;?php echo $ii; ?&gt;&quot; &lt;?php if ($post-&gt;post_status == &quot;publish&quot;) echo 'disabled=&quot;disabled&quot;';?&gt; type=&quot;checkbox&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][doFB]&quot; &lt;?php if ((int)$doFB == 1) echo 'checked=&quot;checked&quot; title=&quot;def&quot;';  ?&gt; /&gt; &nbsp;</div></li><li><div>      &lt;?php if ($post-&gt;post_status == &quot;publish&quot;) { ?&gt; &lt;input type=&quot;hidden&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][doFB]&quot; value=&quot;&lt;?php echo $doFB;?&gt;&quot;&gt; &lt;?php } ?&gt; &lt;?php } ?&gt;&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      &lt;div class=&quot;nsx_iconedTitle&quot; style=&quot;display: inline; font-size: 13px; background-image: url(&lt;?php echo $nxs_plurl; ?&gt;img/fb16.png);&quot;&gt;Facebook - &lt;?php _e('publish to', 'social-networks-auto-poster-facebook-twitter-g') ?&gt; (&lt;i style=&quot;color: #005800;&quot;&gt;&lt;?php echo $ntOpt['nName']; ?&gt;&lt;/i&gt;)&lt;/div&gt;&lt;/th&gt;&lt;td&gt;&lt;?php //## Only show RePost button if the post is &quot;published&quot;&nbsp;</div></li><li><div>    if ($post-&gt;post_status == &quot;publish&quot; && $isAvailFB) { ?&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    &lt;input alt=&quot;&lt;?php echo $ii; ?&gt;&quot; style=&quot;float: right;margin-left: 10px&quot; onmouseout=&quot;hidePopShAtt('SV');&quot; onmouseover=&quot;showPopShAtt('SV', event);&quot; onclick=&quot;return false;&quot; type=&quot;button&quot; class=&quot;button&quot; name=&quot;rePostToFB_repostButton&quot; id=&quot;rePostToFB_button&quot; value=&quot;&lt;?php _e('Repost to Facebook', 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>    &lt;?php if ($ntOpt['riComments']=='1' && (is_array($pMeta) && is_array($pMeta[$ii]) && isset($pMeta[$ii]['pgID']) && strpos($pMeta[$ii]['pgID'], '_')!==false ) ) { ?&gt;&nbsp;</div></li><li><div>       &lt;input alt=&quot;&lt;?php echo $ii; ?&gt;&quot; style=&quot;float: right; &quot; onclick=&quot;return false;&quot; type=&quot;button&quot; class=&quot;button&quot; name=&quot;riToFB_repostButton&quot; id=&quot;riToFB_button&quot; value=&quot;&lt;?php _e('Import Comments from Facebook', 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>    &lt;?php } ?&gt;&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>                    &lt;?php } ?&gt;&nbsp;</div></li><li><div>                    &nbsp;</div></li><li><div>                    &lt;?php  if (is_array($pMeta) && isset($pMeta[$ii]) && is_array($pMeta[$ii]) && isset($pMeta[$ii]['pgID']) && strpos($pMeta[$ii]['pgID'], '_')!==false ) { $pid = explode('_', $pMeta[$ii]['pgID']);&nbsp;</div></li><li><div>                        &nbsp;</div></li><li><div>                        ?&gt; &lt;span id=&quot;pstdFB&lt;?php echo $ii; ?&gt;&quot; style=&quot;float: right;padding-top: 4px; padding-right: 10px;&quot;&gt;&nbsp;</div></li><li><div>                      &lt;a style=&quot;font-size: 10px;&quot; href=&quot;http://www.facebook.com/permalink.php?story_fbid=&lt;?php echo $pid[1].'&id='.$pid[0]; ?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?php $nType=&quot;Facebook&quot;; printf( __( 'Posted on', 'social-networks-auto-poster-facebook-twitter-g' ), $nType); ?&gt;  &lt;?php echo (isset($pMeta[$ii]['pDate']) && $pMeta[$ii]['pDate']!='')?(&quot; (&quot;.$pMeta[$ii]['pDate'].&quot;)&quot;):&quot;&quot;; ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                    &lt;/span&gt;&lt;?php } ?&gt;&nbsp;</div></li><li><div>                    &nbsp;</div></li><li><div>                &lt;/td&gt;&lt;/tr&gt;&nbsp;</div></li><li><div>                &lt;?php if (!$isAvailFB) { ?&gt;&lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;text-align:right; width:150px; padding-top: 5px; padding-right:10px;&quot;&gt;&lt;/th&gt; &lt;td&gt;&lt;b&gt;Setup and Authorize your Facebook Account to AutoPost to Facebook&lt;/b&gt;&nbsp;</div></li><li><div>                &lt;?php }  else { if ($post-&gt;post_status != &quot;publish&quot; && function_exists('nxs_doSMAS5') ) { $ntOpt['postTime'] = get_post_time('U', false, $post_id); nxs_doSMAS5($nt, $ii, $ntOpt); }  ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;?php if ($ntOpt['rpstOn']=='1') { ?&gt; &nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;tr id=&quot;altFormat1&quot; style=&quot;&quot;&gt;&lt;th scope=&quot;row&quot; class=&quot;nxsTHRow&quot;&gt;&nbsp;</div></li><li><div>                &lt;input value=&quot;0&quot;  type=&quot;hidden&quot; name=&quot;&lt;?php echo $nt; ?&gt;[&lt;?php echo $ii; ?&gt;][rpstPostIncl]&quot;/&gt;&lt;input value=&quot;nxsi&lt;?php echo $ii; ?&gt;fb&quot; type=&quot;checkbox&quot; name=&quot;&lt;?php echo $nt; ?&gt;[&lt;?php echo $ii; ?&gt;][rpstPostIncl]&quot;  &lt;?php if (!empty($ntOpt['rpstPostIncl'])) echo &quot;checked&quot;; ?&gt; /&gt; &nbsp;</div></li><li><div>                &lt;/th&gt;&nbsp;</div></li><li><div>                &lt;td&gt; &lt;?php _e('Include in &quot;Auto-Reposting&quot; to this network.', 'social-networks-auto-poster-facebook-twitter-g') ?&gt;               &nbsp;</div></li><li><div>                &lt;/td&gt;&lt;/tr&gt; &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;text-align:right; width:150px; padding-top: 5px; padding-right:10px;&quot;&gt;&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                  &lt;b&gt;&lt;/b&gt;&nbsp;</div></li><li><div>                &lt;/th&gt;&nbsp;</div></li><li><div>                &lt;td&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                &lt;/tr&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>             &lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;text-align:right; width:150px; vertical-align:top; padding-top: 0px; padding-right:10px;&quot;&gt; &lt;?php _e('Post Type:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; &lt;br/&gt;&nbsp;</div></li><li><div>                (&lt;a id=&quot;showShAtt&quot; style=&quot;font-weight: normal&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;X');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;X', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;http://www.nextscripts.com/blog/&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;)&lt;/th&gt;&lt;td&gt;     &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;input class=&quot;nxs_postEditCtrl&quot;  type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][postType]&quot; value=&quot;T&quot; &lt;?php if ($fbPostType == 'T') echo 'checked=&quot;checked&quot;'; ?&gt; /&gt; &lt;?php _e('Text Post', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;  - &lt;i&gt;&lt;?php _e('just text message', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/i&gt;&lt;br/&gt;       &nbsp;</div></li><li><div>        &lt;input class=&quot;nxs_postEditCtrl&quot;  type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][postType]&quot; value=&quot;I&quot; &lt;?php if ($fbPostType == 'I') echo 'checked=&quot;checked&quot;'; ?&gt; /&gt; &lt;?php _e('Image Post', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; - &lt;i&gt;&lt;?php _e('big image with text message', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/i&gt;&lt;br/&gt;             &nbsp;</div></li><li><div>        &lt;input class=&quot;nxs_postEditCtrl&quot;  type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][postType]&quot; value=&quot;A&quot; &lt;?php if ( !isset($fbPostType) || $fbPostType == '' || $fbPostType == 'A') echo 'checked=&quot;checked&quot;'; ?&gt; /&gt; &lt;?php _e('Text Post with &quot;attached&quot; blogpost', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; &lt;-- (&lt;a id=&quot;showShAtt&quot; onmouseout=&quot;hidePopShAtt('&lt;?php echo $ii; ?&gt;');&quot; onmouseover=&quot;showPopShAtt('&lt;?php echo $ii; ?&gt;', event);&quot; onclick=&quot;return false;&quot; class=&quot;underdash&quot; href=&quot;http://www.nextscripts.com/blog/&quot;&gt;&lt;?php _e('What\'s the difference?', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/a&gt;) &lt;br/&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;div style=&quot;width:100%; margin-left: 25px;&quot;&gt;&lt;strong&gt;&lt;?php _e('Link attachment type:', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&nbsp;&lt;/strong&gt; &lt;input value=&quot;2&quot;  id=&quot;apFBAttchShare&lt;?php echo $ii; ?&gt;&quot; onchange=&quot;doSwitchShAtt(0, &lt;?php echo $ii; ?&gt;);&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][AttachPost]&quot; &lt;?php if ((int)$isAttachFB == 2) echo &quot;checked&quot;; ?&gt; /&gt; &nbsp;</div></li><li><div>                &lt;?php _e('Share a link to your blogpost', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; .. &lt;?php _e('or', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt; ..                                  &nbsp;</div></li><li><div>               &lt;input class=&quot;nxs_postEditCtrl&quot;  value=&quot;1&quot;  id=&quot;apFBAttch&lt;?php echo $ii; ?&gt;&quot; onchange=&quot;doSwitchShAtt(1, &lt;?php echo $ii; ?&gt;);&quot; type=&quot;radio&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][AttachPost]&quot;  &lt;?php if ((int)$isAttachFB == 1) echo &quot;checked&quot;; ?&gt; /&gt; &nbsp;</div></li><li><div>              &lt;?php _e('Attach your blogpost', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;          &nbsp;</div></li><li><div>&lt;/div&gt; &nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;&quot;&gt;&lt;h3&gt;&lt;?php _e('Two ways of attaching post on Facebook', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt; &lt;img src=&quot;&lt;?php echo $nxs_plurl; ?&gt;img/fb2wops.png&quot; width=&quot;600&quot; height=&quot;257&quot; alt=&quot;&lt;?php _e('Two ways of attaching post on Facebook', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&quot;/&gt;&lt;/div&gt;&nbsp;</div></li><li><div>&lt;div class=&quot;popShAtt&quot; id=&quot;popShAtt&lt;?php echo $ii; ?&gt;X&quot;&gt;&lt;h3&gt;&lt;?php _e('Facebook Post Types', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&lt;/h3&gt;&lt;img src=&quot;&lt;?php echo $nxs_plurl; ?&gt;img/fbPostTypesDiff6.png&quot; width=&quot;600&quot; height=&quot;398&quot; alt=&quot;&lt;?php _e('Facebook Post Types', 'social-networks-auto-poster-facebook-twitter-g'); ?&gt;&quot;/&gt;&lt;/div&gt;&nbsp;</div></li><li><div>     &lt;/td&gt;&lt;/tr&gt;&nbsp;</div></li><li><div>                              &nbsp;</div></li><li><div>                    &nbsp;</div></li><li><div>                &lt;tr id=&quot;altFormat1&quot; style=&quot;&quot;&gt;&lt;th scope=&quot;row&quot; style=&quot;vertical-align:top; padding-top: 6px; text-align:right; width:60px; padding-right:10px;&quot;&gt;&lt;?php _e('Message Format:', 'social-networks-auto-poster-facebook-twitter-g') ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                &lt;td&gt;&nbsp;</div></li><li><div>                &lt;?php if (1==1) { ?&gt;&nbsp;</div></li><li><div>                &lt;textarea class=&quot;nxs_postEditCtrl&quot;  cols=&quot;150&quot; rows=&quot;2&quot; id=&quot;fb&lt;?php echo $ii; ?&gt;SNAPformat&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][SNAPformat]&quot;  style=&quot;width:60%;max-width: 610px;&quot; onfocus=&quot;jQuery('#fb&lt;?php echo $ii; ?&gt;SNAPformat').attr('rows', 4); jQuery('.nxs_FRMTHint').hide();mxs_showFrmtInfo('apFBTMsgFrmt&lt;?php echo $ii; ?&gt;');&quot;&gt;&lt;?php echo $fbMsgFormat ?&gt;&lt;/textarea&gt;&nbsp;</div></li><li><div>                &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>                &lt;input class=&quot;nxs_postEditCtrl&quot;  value=&quot;&lt;?php echo $fbMsgFormat ?&gt;&quot; type=&quot;text&quot; name=&quot;fb[&lt;?php echo $ii; ?&gt;][SNAPformat]&quot;  style=&quot;width:60%;max-width: 610px;&quot; onfocus=&quot;jQuery('.nxs_FRMTHint').hide();mxs_showFrmtInfo('apFBTMsgFrmt&lt;?php echo $ii; ?&gt;');&quot;/&gt;&lt;?php nxs_doShowHint(&quot;apFBTMsgFrmt&quot;.$ii, '', '58'); ?&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &lt;/td&gt;&lt;/tr&gt;&nbsp;</div></li><li><div>                &lt;?php /** ## Select Image & URL ## */ nxs_showImgToUseDlg($nt, $ii, $imgToUse); nxs_showURLToUseDlg($nt, $ii, $urlToUse);&nbsp;</div></li><li><div>     } &nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  function adjMetaOpt($optMt, $pMeta) { if (isset($pMeta['isPosted'])) $optMt['isPosted'] = $pMeta['isPosted']; else  $optMt['isPosted'] = '';&nbsp;</div></li><li><div>     if (isset($pMeta['SNAPformat'])) $optMt['fbMsgFormat'] = $pMeta['SNAPformat']; &nbsp;</div></li><li><div>     if (isset($pMeta['imgToUse'])) $optMt['imgToUse'] = $pMeta['imgToUse']; if (isset($pMeta['urlToUse'])) $optMt['urlToUse'] = $pMeta['urlToUse']; &nbsp;</div></li><li><div>     if (isset($pMeta['timeToRun']))  $optMt['timeToRun'] = $pMeta['timeToRun'];  if (isset($pMeta['rpstPostIncl']))  $optMt['rpstPostIncl'] = $pMeta['rpstPostIncl'];    &nbsp;</div></li><li><div>     if (isset($pMeta['AttachPost'])) $optMt['fbAttch'] = ($pMeta['AttachPost'] != '')?$pMeta['AttachPost']:0; else { if (isset($pMeta['SNAPformat'])) $optMt['fbAttch'] = 0; } &nbsp;</div></li><li><div>     if (isset($pMeta['postType'])) $optMt['postType'] = $pMeta['postType'];&nbsp;</div></li><li><div>     if (isset($pMeta['doFB'])) $optMt['doFB'] = $pMeta['doFB'] == 1?1:0; else { if (isset($pMeta['SNAPformat'])) $optMt['doFB'] = 0; }      &nbsp;</div></li><li><div>     if (isset($pMeta['SNAPincludeFB']) && $pMeta['SNAPincludeFB'] == '1' ) $optMt['doFB'] = 1;   // &lt;2.6 Compatibility fix    &nbsp;</div></li><li><div>     return $optMt;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.7.22</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.4.31/classes/nxs_snap_class_fb/" class="active">3.4.31</a></li><li><a href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.2.3/classes/nxs_snap_class_fb/" class="">3.2.3</a></li><li><a href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.1.2/classes/nxs_snap_class_fb/" class="">3.1.2</a></li><li><a href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/3.0.9/classes/nxs_snap_class_fb/" class="">3.0.9</a></li><li><a href="http://hookr.io/plugins/nextscripts-social-networks-auto-poster/2.7.22/classes/nxs_snap_class_fb/" class="">2.7.22</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>nxs_snapClassFB</li><li><span></span>wp-plugin</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>