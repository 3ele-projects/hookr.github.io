<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-id="59680"><head xmlns="http://www.w3.org/1999/xhtml"><title> pods_pages | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="Pods_Pages, class, plugin, pods, 2.6.8" /><meta name="description" content="The WordPress Core Pods Pages class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=44b857c17a8f9b0052c615babdd5d814' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/pods_pages/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods_pages%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods_pages%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-2.6.8-class-pods_pages","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="pods_pages" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to pods." href="http://hookr.io/plugins/pods/" class="plugin"><span property="name">pods</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.6.8." href="http://hookr.io/plugins/pods/2.6.8/" class="H_VERSION"><span property="name">2.6.8</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/pods/2.6.8/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">pods_pages</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="0"><a href="http://hookr.io/2.6.8/all/" title="All">All <span class="count badge">0</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/2.6.8/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="0"><a href="http://hookr.io/2.6.8/hooks/" title="Hooks">Hooks <span class="count badge">0</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/2.6.8/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="0"><a href="http://hookr.io/2.6.8/filters/" title="Filters">Filters <span class="count badge">0</span></a></li><li class="active" data-id="class" data-count="0"><a href="http://hookr.io/2.6.8/classes/" title="Classes">Classes <span class="count badge">0</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/2.6.8/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="0"><a href="http://hookr.io/2.6.8/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/2.6.8/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>Pods_Pages</strong></h1><p>The WordPress Core <strong>Pods Pages</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/pods/2.6.8/files/components-pages/" class="file">/components/Pages.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="21" class="block" start="21"><li><div>class Pods_Pages extends PodsComponent {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Current Pod Page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    static $exists = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Object type&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $object_type = '_pods_page';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Whether the page has been checked already&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.1&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    static $checked = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Keep track of if pods_content has been called yet&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    static $content_called = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Do things like register/enqueue scripts and stylesheets&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct () {&nbsp;</div></li><li><div>        add_shortcode( 'pods-content', array( $this, 'shortcode' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = array(&nbsp;</div></li><li><div>            'label' =&gt; 'Pod Pages', &nbsp;</div></li><li><div>            'labels' =&gt; array( 'singular_name' =&gt; 'Pod Page' ), &nbsp;</div></li><li><div>            'public' =&gt; false, &nbsp;</div></li><li><div>            'can_export' =&gt; false, &nbsp;</div></li><li><div>            'show_ui' =&gt; true, &nbsp;</div></li><li><div>            'show_in_menu' =&gt; false, &nbsp;</div></li><li><div>            'query_var' =&gt; false, &nbsp;</div></li><li><div>            'rewrite' =&gt; false, &nbsp;</div></li><li><div>            'has_archive' =&gt; false, &nbsp;</div></li><li><div>            'hierarchical' =&gt; false, &nbsp;</div></li><li><div>            'supports' =&gt; array( 'title', 'author', 'revisions' ), &nbsp;</div></li><li><div>            'menu_icon' =&gt; 'dashicons-pods'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !pods_is_admin() )&nbsp;</div></li><li><div>            $args[ 'capability_type' ] = 'pods_page';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = PodsInit::object_label_fix( $args, 'post_type' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        register_post_type( $this-&gt;object_type, apply_filters( 'pods_internal_register_post_type_object_page', $args ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_filter( 'post_type_link', array( $this, 'post_type_link' ), 10, 2 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_admin() )&nbsp;</div></li><li><div>            add_action( 'load_textdomain', array( $this, 'page_check' ), 12 );&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            add_filter( 'post_updated_messages', array( $this, 'setup_updated_messages' ), 10, 1 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            add_action( 'dbx_post_advanced', array( $this, 'edit_page_form' ), 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            add_action( 'pods_meta_groups', array( $this, 'add_meta_boxes' ) );&nbsp;</div></li><li><div>            add_filter( 'get_post_metadata', array( $this, 'get_meta' ), 10, 4 );&nbsp;</div></li><li><div>            add_filter( 'update_post_metadata', array( $this, 'save_meta' ), 10, 4 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            add_action( 'pods_meta_save_pre_post__pods_page', array( $this, 'fix_filters' ), 10, 5 );&nbsp;</div></li><li><div>            add_action( 'post_updated', array( $this, 'clear_cache' ), 10, 3 );&nbsp;</div></li><li><div>            add_action( 'delete_post', array( $this, 'clear_cache' ), 10, 1 );&nbsp;</div></li><li><div>            add_filter( 'post_row_actions', array( $this, 'remove_row_actions' ), 10, 2 );&nbsp;</div></li><li><div>            add_filter( 'bulk_actions-edit-' . $this-&gt;object_type, array( $this, 'remove_bulk_actions' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            add_filter( 'builder_layout_filter_non_layout_post_types', array( $this, 'disable_builder_layout' ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Pod Page Content Shortcode support for use anywhere that supports WP Shortcodes&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $tags An associative array of shortcode properties&nbsp;</div></li><li><div>     * @param string $content Not currently used&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     * @since 2.3.9&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function shortcode ( $tags, $content = null ) {&nbsp;</div></li><li><div>        if ( !isset( $tags[ 'page' ] ) || empty( $tags[ 'page' ] ) )&nbsp;</div></li><li><div>            $tags[ 'page' ] = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pods_page = Pods_Pages::exists( $tags[ 'page' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $pods_page ) )&nbsp;</div></li><li><div>            return '&lt;p&gt;Pods Page not found&lt;/p&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return Pods_Pages::content( true, $pods_page );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Disable this Post Type from appearing in the Builder layouts list&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $post_types&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function disable_builder_layout ( $post_types ) {&nbsp;</div></li><li><div>        $post_types[] = $this-&gt;object_type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $post_types;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Update Post Type messages&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $messages&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     * @since 2.0.2&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function setup_updated_messages ( $messages ) {&nbsp;</div></li><li><div>        global $post, $post_ID;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $post_type = get_post_type_object( $this-&gt;object_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $labels = $post_type-&gt;labels;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $messages[ $post_type-&gt;name ] = array(&nbsp;</div></li><li><div>            1 =&gt; sprintf( __( '%s updated. &lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;', 'pods' ), $labels-&gt;singular_name, esc_url( get_permalink( $post_ID ) ), $labels-&gt;view_item ), &nbsp;</div></li><li><div>            2 =&gt; __( 'Custom field updated.', 'pods' ), &nbsp;</div></li><li><div>            3 =&gt; __( 'Custom field deleted.', 'pods' ), &nbsp;</div></li><li><div>            4 =&gt; sprintf( __( '%s updated.', 'pods' ), $labels-&gt;singular_name ), &nbsp;</div></li><li><div>            /** translators: %s: date and time of the revision */&nbsp;</div></li><li><div>            5 =&gt; isset( $_GET[ 'revision' ] ) ? sprintf( __( '%s restored to revision from %s', 'pods' ), $labels-&gt;singular_name, wp_post_revision_title( (int) $_GET[ 'revision' ], false ) ) : false, &nbsp;</div></li><li><div>            6 =&gt; sprintf( __( '%s published. &lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;', 'pods' ), $labels-&gt;singular_name, esc_url( get_permalink( $post_ID ) ), $labels-&gt;view_item ), &nbsp;</div></li><li><div>            7 =&gt; sprintf( __( '%s saved.', 'pods' ), $labels-&gt;singular_name ), &nbsp;</div></li><li><div>            8 =&gt; sprintf( __( '%s submitted. &lt;a target=&quot;_blank&quot; href=&quot;%s&quot;&gt;Preview %s&lt;/a&gt;', 'pods' ), &nbsp;</div></li><li><div>                $labels-&gt;singular_name, &nbsp;</div></li><li><div>                esc_url( add_query_arg( 'preview', 'true', get_permalink( $post_ID ) ) ), &nbsp;</div></li><li><div>                $labels-&gt;singular_name&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            9 =&gt; sprintf( __( '%s scheduled for: &lt;strong&gt;%1$s&lt;/strong&gt;. &lt;a target=&quot;_blank&quot; href=&quot;%2$s&quot;&gt;Preview %s&lt;/a&gt;', 'pods' ), &nbsp;</div></li><li><div>                $labels-&gt;singular_name, &nbsp;</div></li><li><div>                // translators: Publish box date format, see http://php.net/date&nbsp;</div></li><li><div>                date_i18n( __( 'M j, Y @ G:i' ), strtotime( $post-&gt;post_date ) ), &nbsp;</div></li><li><div>                esc_url( get_permalink( $post_ID ) ), &nbsp;</div></li><li><div>                $labels-&gt;singular_name&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            10 =&gt; sprintf( __( '%s draft updated. &lt;a target=&quot;_blank&quot; href=&quot;%s&quot;&gt;Preview %s&lt;/a&gt;', 'pods' ), $labels-&gt;singular_name, esc_url( add_query_arg( 'preview', 'true', get_permalink( $post_ID ) ) ), $labels-&gt;singular_name )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === (boolean) $post_type-&gt;public ) {&nbsp;</div></li><li><div>            $messages[ $post_type-&gt;name ][ 1 ] = sprintf( __( '%s updated.', 'pods' ), $labels-&gt;singular_name );&nbsp;</div></li><li><div>            $messages[ $post_type-&gt;name ][ 6 ] = sprintf( __( '%s published.', 'pods' ), $labels-&gt;singular_name );&nbsp;</div></li><li><div>            $messages[ $post_type-&gt;name ][ 8 ] = sprintf( __( '%s submitted.', 'pods' ), $labels-&gt;singular_name );&nbsp;</div></li><li><div>            $messages[ $post_type-&gt;name ][ 9 ] = sprintf( __( '%s scheduled for: &lt;strong&gt;%1$s&lt;/strong&gt;.', 'pods' ), &nbsp;</div></li><li><div>                $labels-&gt;singular_name, &nbsp;</div></li><li><div>                // translators: Publish box date format, see http://php.net/date&nbsp;</div></li><li><div>                date_i18n( __( 'M j, Y @ G:i' ), strtotime( $post-&gt;post_date ) )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            $messages[ $post_type-&gt;name ][ 10 ] = sprintf( __( '%s draft updated.', 'pods' ), $labels-&gt;singular_name );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $messages;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Enqueue styles&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function admin_assets () {&nbsp;</div></li><li><div>        wp_enqueue_style( 'pods-admin' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fix filters, specifically removing balanceTags&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0.1&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function fix_filters ( $data, $pod = null, $id = null, $groups = null, $post = null ) {&nbsp;</div></li><li><div>        remove_filter( 'content_save_pre', 'balanceTags', 50 );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Remove unused row actions&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0.5&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function remove_row_actions ( $actions, $post ) {&nbsp;</div></li><li><div>        global $current_screen;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_object( $current_screen ) || $this-&gt;object_type != $current_screen-&gt;post_type )&nbsp;</div></li><li><div>            return $actions;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $actions[ 'view' ] ) )&nbsp;</div></li><li><div>            unset( $actions[ 'view' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $actions[ 'inline hide-if-no-js' ] ) )&nbsp;</div></li><li><div>            unset( $actions[ 'inline hide-if-no-js' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // W3 Total Cache&nbsp;</div></li><li><div>        if ( isset( $actions[ 'pgcache_purge' ] ) )&nbsp;</div></li><li><div>            unset( $actions[ 'pgcache_purge' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $actions;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Remove unused bulk actions&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0.5&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function remove_bulk_actions ( $actions ) {&nbsp;</div></li><li><div>        if ( isset( $actions[ 'edit' ] ) )&nbsp;</div></li><li><div>            unset( $actions[ 'edit' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $actions;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Clear cache on save&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function clear_cache ( $data, $pod = null, $id = null, $groups = null, $post = null ) {&nbsp;</div></li><li><div>        $old_post = $id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_object( $id ) )&nbsp;</div></li><li><div>            $old_post = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $post ) && $this-&gt;object_type != $post-&gt;post_type )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_array( $data ) && 0 &lt; $data ) {&nbsp;</div></li><li><div>            $post = $data;&nbsp;</div></li><li><div>            $post = get_post( $post );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $this-&gt;object_type == $post-&gt;post_type ) {&nbsp;</div></li><li><div>            pods_transient_clear( 'pods_object_pages' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $old_post ) && $this-&gt;object_type == $old_post-&gt;post_type )&nbsp;</div></li><li><div>                pods_cache_clear( $old_post-&gt;post_title, 'pods_object_page_wildcard' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            pods_cache_clear( $post-&gt;post_title, 'pods_object_page_wildcard' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::flush_rewrites();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Change post title placeholder text&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function set_title_text ( $text, $post ) {&nbsp;</div></li><li><div>        return __( 'Enter URL here', 'pods' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Edit page form&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function edit_page_form () {&nbsp;</div></li><li><div>        global $post_type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $this-&gt;object_type != $post_type )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_filter( 'enter_title_here', array( $this, 'set_title_text' ), 10, 2 );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Filter permalinks and adjust for pod pages&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param $post_link&nbsp;</div></li><li><div>     * @param $post&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function post_type_link ( $post_link, $post ) {&nbsp;</div></li><li><div>        if ( empty( $post ) || $this-&gt;object_type != $post-&gt;post_type )&nbsp;</div></li><li><div>            return $post_link;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $post_link = get_site_url() . '/';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === strpos( $post-&gt;post_title, '*' ) )&nbsp;</div></li><li><div>            $post_link .= trim( $post-&gt;post_title, '/ ' ) . '/';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $post_link;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add meta boxes to the page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_meta_boxes () {&nbsp;</div></li><li><div>        $pod = array(&nbsp;</div></li><li><div>            'name' =&gt; $this-&gt;object_type, &nbsp;</div></li><li><div>            'type' =&gt; 'post_type'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( PodsMeta::$post_types[ $pod[ 'name' ] ] ) )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !function_exists( 'get_page_templates' ) )&nbsp;</div></li><li><div>            include_once ABSPATH . 'wp-admin/includes/theme.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $page_templates = apply_filters( 'pods_page_templates', get_page_templates() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $page_templates[ __( '-- Page Template --', 'pods' ) ] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $page_templates[ __( 'Custom (uses only Pod Page content)', 'pods' ) ] = '_custom';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( 'pods.php', $page_templates ) && locate_template( array( 'pods.php', false ) ) )&nbsp;</div></li><li><div>            $page_templates[ __( 'Pods (Pods Default)', 'pods' ) ] = 'pods.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( 'page.php', $page_templates ) && locate_template( array( 'page.php', false ) ) )&nbsp;</div></li><li><div>            $page_templates[ __( 'Page (WP Default)', 'pods' ) ] = 'page.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( 'index.php', $page_templates ) && locate_template( array( 'index.php', false ) ) )&nbsp;</div></li><li><div>            $page_templates[ __( 'Index (WP Fallback)', 'pods' ) ] = 'index.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ksort( $page_templates );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $page_templates = array_flip( $page_templates );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array(&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'page_title', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Page Title', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'code', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Page Code', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'code', &nbsp;</div></li><li><div>                'attributes' =&gt; array(&nbsp;</div></li><li><div>                    'id' =&gt; 'content'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'label_options' =&gt; array(&nbsp;</div></li><li><div>                    'attributes' =&gt; array(&nbsp;</div></li><li><div>                        'for' =&gt; 'content'&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'precode', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Page Precode', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'code', &nbsp;</div></li><li><div>                'help' =&gt; __( 'Precode will run before your theme outputs the page. It is expected that this value will be a block of PHP. You must open the PHP tag here, as we do not open it for you by default.', 'pods' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'page_template', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Page Template', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'data' =&gt; $page_templates&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        pods_group_add( $pod, __( 'Page', 'pods' ), $fields, 'normal', 'high' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $associated_pods = array(&nbsp;</div></li><li><div>            0 =&gt; __( '-- Select a Pod --', 'pods' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $all_pods = pods_api()-&gt;load_pods( array( 'names' =&gt; true ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $all_pods ) ) {&nbsp;</div></li><li><div>            foreach ( $all_pods as $pod_name =&gt; $pod_label ) {&nbsp;</div></li><li><div>                $associated_pods[ $pod_name ] = $pod_label . ' (' . $pod_name . ')';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $associated_pods[ 0 ] = __( 'None Found', 'pods' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array(&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'pod', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Associated Pod', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'data' =&gt; $associated_pods, &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'pod_slug', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Wildcard Slug', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'Setting the Wildcard Slug is an easy way to setup a detail page. You can use the special tag {@url.2} to match the *third* level of the URL of a Pod Page named &quot;first/second/*&quot; part of the pod page. This is functionally the same as using pods_v_sanitized( 2, &quot;url&quot; ) in PHP.', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'text', &nbsp;</div></li><li><div>                'excludes-on' =&gt; array( 'pod' =&gt; 0 )&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>        pods_group_add( $pod, __( 'Pod Association', 'pods' ), $fields, 'normal', 'high' );&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>        $fields = array(&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'admin_only', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Restrict access to Admins?', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'restrict_role', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Restrict access by Role?', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; array(&nbsp;</div></li><li><div>                    __( '&lt;h6&gt;Roles&lt;/h6&gt; Roles are assigned to users to provide them access to specific functionality in WordPress. Please see the Roles and Capabilities component in Pods for an easy tool to add your own roles and edit existing ones.', 'pods' ), &nbsp;</div></li><li><div>                    'http://codex.wordpress.org/Roles_and_Capabilities'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'roles_allowed', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Role(s) Allowed', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'pick_object' =&gt; 'role', &nbsp;</div></li><li><div>                'pick_format_type' =&gt; 'multi', &nbsp;</div></li><li><div>                'pick_format_multi' =&gt; 'autocomplete', &nbsp;</div></li><li><div>                'pick_ajax' =&gt; false, &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'depends-on' =&gt; array(&nbsp;</div></li><li><div>                    'restrict_role' =&gt; true&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'restrict_capability', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Restrict access by Capability?', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; array(&nbsp;</div></li><li><div>                    __( '&lt;h6&gt;Capabilities&lt;/h6&gt; Capabilities denote access to specific functionality in WordPress, and are assigned to specific User Roles. Please see the Roles and Capabilities component in Pods for an easy tool to add your own capabilities and roles.', 'pods' ), &nbsp;</div></li><li><div>                    'http://codex.wordpress.org/Roles_and_Capabilities'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'capability_allowed', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Capability Allowed', 'pods' ), &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'pick_object' =&gt; 'capability', &nbsp;</div></li><li><div>                'pick_format_type' =&gt; 'multi', &nbsp;</div></li><li><div>                'pick_format_multi' =&gt; 'autocomplete', &nbsp;</div></li><li><div>                'pick_ajax' =&gt; false, &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'depends-on' =&gt; array(&nbsp;</div></li><li><div>                    'restrict_capability' =&gt; true&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'restrict_redirect', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Redirect if Restricted?', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'restrict_redirect_login', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Redirect to WP Login page', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'dependency' =&gt; true, &nbsp;</div></li><li><div>                'depends-on' =&gt; array(&nbsp;</div></li><li><div>                    'restrict_redirect' =&gt; true&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; 'restrict_redirect_url', &nbsp;</div></li><li><div>                'label' =&gt; __( 'Redirect to a Custom URL', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text', &nbsp;</div></li><li><div>                'depends-on' =&gt; array(&nbsp;</div></li><li><div>                    'restrict_redirect' =&gt; true, &nbsp;</div></li><li><div>                    'restrict_redirect_login' =&gt; false&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>        pods_group_add( $pod, __( 'Restrict Access', 'pods' ), $fields, 'normal', 'high' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the fields&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param null $_null&nbsp;</div></li><li><div>     * @param int $post_ID&nbsp;</div></li><li><div>     * @param string $meta_key&nbsp;</div></li><li><div>     * @param bool $single&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool|int|mixed|null|string|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_meta ( $_null, $post_ID = null, $meta_key = null, $single = false ) {&nbsp;</div></li><li><div>        if ( 'code' == $meta_key ) {&nbsp;</div></li><li><div>            $post = get_post( $post_ID );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $post ) && $this-&gt;object_type == $post-&gt;post_type )&nbsp;</div></li><li><div>                return $post-&gt;post_content;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $_null;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Save the fields&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param $_null&nbsp;</div></li><li><div>     * @param int $post_ID&nbsp;</div></li><li><div>     * @param string $meta_key&nbsp;</div></li><li><div>     * @param null $meta_value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|int|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function save_meta ( $_null, $post_ID = null, $meta_key = null, $meta_value = null ) {&nbsp;</div></li><li><div>        if ( 'code' == $meta_key ) {&nbsp;</div></li><li><div>            $post = get_post( $post_ID );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $post ) && $this-&gt;object_type == $post-&gt;post_type ) {&nbsp;</div></li><li><div>                $postdata = array(&nbsp;</div></li><li><div>                    'ID' =&gt; $post_ID, &nbsp;</div></li><li><div>                    'post_content' =&gt; $meta_value&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                remove_filter( current_filter(), array( $this, __FUNCTION__ ), 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $revisions = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( has_action( 'pre_post_update', 'wp_save_post_revision' ) ) {&nbsp;</div></li><li><div>                    remove_action( 'pre_post_update', 'wp_save_post_revision' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $revisions = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                wp_update_post( (object) $postdata ); // objects will be automatically sanitized&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $revisions )&nbsp;</div></li><li><div>                    add_action( 'pre_post_update', 'wp_save_post_revision' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $_null;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Flush Pod Page Rewrite cache&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array Pod Page Rewrites&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function flush_rewrites () {&nbsp;</div></li><li><div>        $args = array(&nbsp;</div></li><li><div>            'post_type' =&gt; '_pods_page', &nbsp;</div></li><li><div>            'nopaging' =&gt; true, &nbsp;</div></li><li><div>            'posts_per_page' =&gt; -1, &nbsp;</div></li><li><div>            'post_status' =&gt; 'publish', &nbsp;</div></li><li><div>            'order' =&gt; 'ASC', &nbsp;</div></li><li><div>            'orderby' =&gt; 'title'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod_pages = get_posts( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod_page_rewrites = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $pod_pages as $pod_page ) {&nbsp;</div></li><li><div>            $pod_page_rewrites[ $pod_page-&gt;ID ] = $pod_page-&gt;post_title;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        uksort( $pod_page_rewrites, 'pods_page_length_sort' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        pods_transient_set( 'pods_object_page_rewrites', $pod_page_rewrites );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod_page_rewrites = array_flip( $pod_page_rewrites );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $pod_page_rewrites;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check to see if Pod Page exists and return data&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * $uri not required, if NULL then returns REQUEST_URI matching Pod Page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $uri The Pod Page URI to check if exists&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function exists ( $uri = null ) {&nbsp;</div></li><li><div>        if ( null === $uri ) {&nbsp;</div></li><li><div>            $uri = parse_url( pods_current_url() );&nbsp;</div></li><li><div>            $uri = $uri[ 'path' ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $uri = explode( '?', $uri );&nbsp;</div></li><li><div>            $uri = explode( '#', $uri[ 0 ] );&nbsp;</div></li><li><div>            $uri = $uri[ 0 ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $home = parse_url( get_home_url() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $home ) && isset( $home[ 'path' ] ) && '/' != $home[ 'path' ] )&nbsp;</div></li><li><div>            $uri = substr( $uri, strlen( $home[ 'path' ] ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $uri = trim( $uri, '/' );&nbsp;</div></li><li><div>        $uri_depth = count( array_filter( explode( '/', $uri ) ) ) - 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pods_page_exclusions = array(&nbsp;</div></li><li><div>            'wp-admin', &nbsp;</div></li><li><div>            'wp-content', &nbsp;</div></li><li><div>            'wp-includes', &nbsp;</div></li><li><div>            'index.php', &nbsp;</div></li><li><div>            'wp-login.php', &nbsp;</div></li><li><div>            'wp-signup.php'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pods_page_exclusions = apply_filters( 'pods_page_exclusions', $pods_page_exclusions );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_admin() || empty( $uri ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $pods_page_exclusions as $exclusion ) {&nbsp;</div></li><li><div>            if ( 0 === strpos( $uri, $exclusion ) )&nbsp;</div></li><li><div>                return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object = apply_filters( 'pods_page_exists', false, $uri );&nbsp;</div></li><li><div>        if ( !empty ( $object ) ) {&nbsp;</div></li><li><div>            return $object;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === strpos( $uri, '*' ) && ! apply_filters( 'pods_page_regex_matching', false ) ) {&nbsp;</div></li><li><div>            $object = pods_by_title( $uri, ARRAY_A, '_pods_page', 'publish' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $wildcard = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $object ) ) {&nbsp;</div></li><li><div>            if ( false === strpos( $uri, '*' ) ) {&nbsp;</div></li><li><div>                $object = pods_cache_get( $uri, 'pods_object_page_wildcard' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $object ) )&nbsp;</div></li><li><div>                    return $object;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $pod_page_rewrites = pods_transient_get( 'pods_object_page_rewrites' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $pod_page_rewrites ) )&nbsp;</div></li><li><div>                $pod_page_rewrites = self::flush_rewrites();&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $pod_page_rewrites = array_flip( $pod_page_rewrites );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $found_rewrite_page_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $pod_page_rewrites ) ) {&nbsp;</div></li><li><div>                foreach ( $pod_page_rewrites as $pod_page =&gt; $pod_page_id ) {&nbsp;</div></li><li><div>                    if ( !apply_filters( 'pods_page_regex_matching', false ) ) {&nbsp;</div></li><li><div>                        if ( false === strpos( $pod_page, '*' ) )&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $depth_check = strlen( $pod_page ) - strlen( str_replace( '/', '', $pod_page ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $pod_page = preg_quote( $pod_page, '/' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $pod_page = str_replace( '\\*', '(.*)', $pod_page );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $uri_depth == $depth_check && preg_match( '/^' . $pod_page . '$/', $uri ) ) {&nbsp;</div></li><li><div>                            $found_rewrite_page_id = $pod_page_id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            break;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( preg_match( '/^' . str_replace( '/', '\\/', $pod_page ) . '$/', $uri ) ) {&nbsp;</div></li><li><div>                        $found_rewrite_page_id = $pod_page_id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $found_rewrite_page_id ) ) {&nbsp;</div></li><li><div>                    $object = get_post( $found_rewrite_page_id, ARRAY_A );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( empty( $object ) || '_pods_page' != $object[ 'post_type' ] )&nbsp;</div></li><li><div>                        $object = false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $wildcard = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $object ) ) {&nbsp;</div></li><li><div>            $object = array(&nbsp;</div></li><li><div>                'id' =&gt; $object[ 'ID' ], &nbsp;</div></li><li><div>                'uri' =&gt; $object[ 'post_title' ], &nbsp;</div></li><li><div>                'code' =&gt; $object[ 'post_content' ], &nbsp;</div></li><li><div>                'phpcode' =&gt; $object[ 'post_content' ], // phpcode is deprecated&nbsp;</div></li><li><div>                'precode' =&gt; get_post_meta( $object[ 'ID' ], 'precode', true ), &nbsp;</div></li><li><div>                'page_template' =&gt; get_post_meta( $object[ 'ID' ], 'page_template', true ), &nbsp;</div></li><li><div>                'title' =&gt; get_post_meta( $object[ 'ID' ], 'page_title', true ), &nbsp;</div></li><li><div>                'options' =&gt; array(&nbsp;</div></li><li><div>                    'admin_only' =&gt; (boolean) get_post_meta( $object[ 'ID' ], 'admin_only', true ), &nbsp;</div></li><li><div>                    'restrict_role' =&gt; (boolean) get_post_meta( $object[ 'ID' ], 'restrict_role', true ), &nbsp;</div></li><li><div>                    'restrict_capability' =&gt; (boolean) get_post_meta( $object[ 'ID' ], 'restrict_capability', true ), &nbsp;</div></li><li><div>                    'roles_allowed' =&gt; get_post_meta( $object[ 'ID' ], 'roles_allowed', true ), &nbsp;</div></li><li><div>                    'capability_allowed' =&gt; get_post_meta( $object[ 'ID' ], 'capability_allowed', true ), &nbsp;</div></li><li><div>                    'restrict_redirect' =&gt; (boolean) get_post_meta( $object[ 'ID' ], 'restrict_redirect', true ), &nbsp;</div></li><li><div>                    'restrict_redirect_login' =&gt; (boolean) get_post_meta( $object[ 'ID' ], 'restrict_redirect_login', true ), &nbsp;</div></li><li><div>                    'restrict_redirect_url' =&gt; get_post_meta( $object[ 'ID' ], 'restrict_redirect_url', true ), &nbsp;</div></li><li><div>                    'pod' =&gt; get_post_meta( $object[ 'ID' ], 'pod', true ), &nbsp;</div></li><li><div>                    'pod_slug' =&gt; get_post_meta( $object[ 'ID' ], 'pod_slug', true ), &nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $wildcard )&nbsp;</div></li><li><div>                pods_cache_set( $uri, $object, 'pods_object_page_wildcard', 3600 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return $object;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if a Pod Page exists&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function page_check () {&nbsp;</div></li><li><div>        if ( self::$checked )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Fix any global confusion wherever this runs&nbsp;</div></li><li><div>        if ( isset( $pods ) && !isset( $GLOBALS[ 'pods' ] ) )&nbsp;</div></li><li><div>            $GLOBALS[ 'pods' ] =& $pods;&nbsp;</div></li><li><div>        elseif ( !isset( $pods ) && isset( $GLOBALS[ 'pods' ] ) )&nbsp;</div></li><li><div>            $pods =& $GLOBALS[ 'pods' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !defined( 'PODS_DISABLE_POD_PAGE_CHECK' ) || !PODS_DISABLE_POD_PAGE_CHECK ) {&nbsp;</div></li><li><div>            if ( null === self::$exists )&nbsp;</div></li><li><div>                self::$exists = pod_page_exists();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== self::$exists ) {&nbsp;</div></li><li><div>                $pods = apply_filters( 'pods_global', $pods, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !is_wp_error( $pods ) && ( is_object( $pods ) || 404 != $pods ) ) {&nbsp;</div></li><li><div>                    add_action( 'template_redirect', array( $this, 'template_redirect' ) );&nbsp;</div></li><li><div>                    add_filter( 'redirect_canonical', '__return_false' );&nbsp;</div></li><li><div>                    add_action( 'wp_head', array( $this, 'wp_head' ) );&nbsp;</div></li><li><div>                    add_filter( 'wp_title', array( $this, 'wp_title' ), 0, 3 );&nbsp;</div></li><li><div>                    add_filter( 'body_class', array( $this, 'body_class' ), 0, 1 );&nbsp;</div></li><li><div>                    add_filter( 'status_header', array( $this, 'status_header' ) );&nbsp;</div></li><li><div>                    add_action( 'after_setup_theme', array( $this, 'precode' ) );&nbsp;</div></li><li><div>                    add_action( 'wp', array( $this, 'silence_404' ), 1 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Genesis theme integration&nbsp;</div></li><li><div>                    add_action( 'genesis_loop', 'pods_content', 11 );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$checked = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output Pod Page Content&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param bool $return Whether to return or not (default is to echo)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function content ( $return = false, $pods_page = false ) {&nbsp;</div></li><li><div>        if ( empty( $pods_page ) )&nbsp;</div></li><li><div>            $pods_page = self::$exists;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $content = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $pods_page == self::$exists && self::$content_called )&nbsp;</div></li><li><div>            return $content;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $pods_page ) ) {&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * @var $pods \Pods&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Fix any global confusion wherever this runs&nbsp;</div></li><li><div>            if ( isset( $pods ) && !isset( $GLOBALS[ 'pods' ] ) )&nbsp;</div></li><li><div>                $GLOBALS[ 'pods' ] =& $pods;&nbsp;</div></li><li><div>            elseif ( !isset( $pods ) && isset( $GLOBALS[ 'pods' ] ) )&nbsp;</div></li><li><div>                $pods =& $GLOBALS[ 'pods' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( trim( $pods_page[ 'code' ] ) ) )&nbsp;</div></li><li><div>                $content = trim( $pods_page[ 'code' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            do_action( 'pods_content_pre', $pods_page, $content );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $content ) ) {&nbsp;</div></li><li><div>                if ( false !== strpos( $content, '&lt;?' ) && ( !defined( 'PODS_DISABLE_EVAL' ) || !PODS_DISABLE_EVAL ) ) {&nbsp;</div></li><li><div>                    pods_deprecated( 'Pod Page PHP code has been deprecated, please use WP Page Templates or hook into the pods_content filter instead of embedding PHP.', '2.1' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    eval( &quot;?&gt;$content&quot; );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( is_object( $pods ) && !empty( $pods-&gt;id ) )&nbsp;</div></li><li><div>                    echo $pods-&gt;do_magic_tags( $content );&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    echo $content;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            do_action( 'pods_content_post', $pods_page, $content );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $content = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $pods_page == self::$exists )&nbsp;</div></li><li><div>                self::$content_called = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $content = apply_filters( 'pods_content', $content, $pods_page );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $return )&nbsp;</div></li><li><div>            return $content;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        echo $content;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Run any precode for current Pod Page&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function precode () {&nbsp;</div></li><li><div>        global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Fix any global confusion wherever this runs&nbsp;</div></li><li><div>        if ( isset( $pods ) && !isset( $GLOBALS[ 'pods' ] ) )&nbsp;</div></li><li><div>            $GLOBALS[ 'pods' ] =& $pods;&nbsp;</div></li><li><div>        elseif ( !isset( $pods ) && isset( $GLOBALS[ 'pods' ] ) )&nbsp;</div></li><li><div>            $pods =& $GLOBALS[ 'pods' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== self::$exists ) {&nbsp;</div></li><li><div>            $permission = pods_permission( self::$exists[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $permission = (boolean) apply_filters( 'pods_pages_permission', $permission, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $permission ) {&nbsp;</div></li><li><div>                $content = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !is_object( $pods ) && 404 != $pods && 0 &lt; strlen( pods_var( 'pod', self::$exists[ 'options' ] ) ) ) {&nbsp;</div></li><li><div>                    $slug = pods_var_raw( 'pod_slug', self::$exists[ 'options' ], null, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Handle special magic tags&nbsp;</div></li><li><div>                    if ( 0 &lt; strlen( $slug ) ) {&nbsp;</div></li><li><div>                        $slug = pods_evaluate_tags( $slug, true );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $pods = pods( pods_var( 'pod', self::$exists[ 'options' ] ), $slug );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Auto 404 handling if item doesn't exist&nbsp;</div></li><li><div>                    if ( 0 &lt; strlen( $slug ) && !$pods-&gt;exists() && apply_filters( 'pods_pages_auto_404', true, $slug, $pods, self::$exists ) ) {&nbsp;</div></li><li><div>                        $pods = 404;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 0 &lt; strlen( trim( self::$exists[ 'precode' ] ) ) )&nbsp;</div></li><li><div>                    $content = self::$exists[ 'precode' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( false !== $content && ( !defined( 'PODS_DISABLE_EVAL' ) || !PODS_DISABLE_EVAL ) ) {&nbsp;</div></li><li><div>                    pods_deprecated( 'Pod Page Precode has been deprecated, please use WP Page Templates or hook into the pods_content filter instead of embedding PHP.', '2.1' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    eval( &quot;?&gt;$content&quot; );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                do_action( 'pods_page_precode', self::$exists, $pods, $content );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( self::$exists[ 'options' ][ 'restrict_redirect' ] ) {&nbsp;</div></li><li><div>                $redirect_url = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( self::$exists[ 'options' ][ 'restrict_redirect_login' ] ) {&nbsp;</div></li><li><div>                    $redirect_url = wp_login_url( pods_current_url() );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( !empty( self::$exists[ 'options' ][ 'restrict_redirect_url' ] ) ) {&nbsp;</div></li><li><div>                    $redirect_url = self::$exists[ 'options' ][ 'restrict_redirect_url' ];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $redirect_url ) ) {&nbsp;</div></li><li><div>                    wp_redirect( $redirect_url );&nbsp;</div></li><li><div>                    die();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !$permission || ( !is_object( $pods ) && ( 404 == $pods || is_wp_error( $pods ) ) ) ) {&nbsp;</div></li><li><div>                remove_action( 'template_redirect', array( $this, 'template_redirect' ) );&nbsp;</div></li><li><div>                remove_action( 'wp_head', array( $this, 'wp_head' ) );&nbsp;</div></li><li><div>                remove_filter( 'redirect_canonical', '__return_false' );&nbsp;</div></li><li><div>                remove_filter( 'wp_title', array( $this, 'wp_title' ) );&nbsp;</div></li><li><div>                remove_filter( 'body_class', array( $this, 'body_class' ) );&nbsp;</div></li><li><div>                remove_filter( 'status_header', array( $this, 'status_header' ) );&nbsp;</div></li><li><div>                remove_action( 'wp', array( $this, 'silence_404' ), 1 );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function wp_head () {&nbsp;</div></li><li><div>        global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        do_action( 'pods_wp_head' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !defined( 'PODS_DISABLE_VERSION_OUTPUT' ) || !PODS_DISABLE_VERSION_OUTPUT ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;!-- Pods Framework &lt;?php echo esc_html( PODS_VERSION ); ?&gt; --&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( ( !defined( 'PODS_DISABLE_META' ) || !PODS_DISABLE_META ) && is_object( $pods ) && !is_wp_error( $pods ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $pods-&gt;meta ) && is_array( $pods-&gt;meta ) && !empty( $pods-&gt;meta ) ) {&nbsp;</div></li><li><div>                foreach ( $pods-&gt;meta as $name =&gt; $content ) {&nbsp;</div></li><li><div>                    if ( 'title' == $name )&nbsp;</div></li><li><div>                        continue;&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;meta name=&quot;&lt;?php echo esc_attr( $name ); ?&gt;&quot; content=&quot;&lt;?php echo esc_attr( $content ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $pods-&gt;meta_properties ) && is_array( $pods-&gt;meta_properties ) && !empty( $pods-&gt;meta_properties ) ) {&nbsp;</div></li><li><div>                foreach ( $pods-&gt;meta_properties as $property =&gt; $content ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;meta property=&quot;&lt;?php echo esc_attr( $property ); ?&gt;&quot; content=&quot;&lt;?php echo esc_attr( $content ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $pods-&gt;meta_extra ) && 0 &lt; strlen( $pods-&gt;meta_extra ) )&nbsp;</div></li><li><div>                echo $pods-&gt;meta_extra;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $title&nbsp;</div></li><li><div>     * @param $sep&nbsp;</div></li><li><div>     * @param $seplocation&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function wp_title ( $title, $sep, $seplocation ) {&nbsp;</div></li><li><div>        global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $page_title = trim( self::$exists[ 'title' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 &lt; strlen( $page_title ) ) {&nbsp;</div></li><li><div>            if ( is_object( $pods ) && !is_wp_error( $pods ) )&nbsp;</div></li><li><div>                $page_title = $pods-&gt;do_magic_tags( $page_title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $title = ( 'right' == $seplocation ) ? &quot;{$page_title} {$sep} &quot; : &quot; {$sep} {$page_title}&quot;;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( strlen( trim( $title ) ) &lt; 1 ) {&nbsp;</div></li><li><div>            $uri = explode( '?', $_SERVER[ 'REQUEST_URI' ] );&nbsp;</div></li><li><div>            $uri = preg_replace( '@^([/]?)(.*?)([/]?)$@', '$2', $uri[ 0 ] );&nbsp;</div></li><li><div>            $uri = preg_replace( '@(-|_)@', ' ', $uri );&nbsp;</div></li><li><div>            $uri = explode( '/', $uri );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $title = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $uri as $key =&gt; $page_title ) {&nbsp;</div></li><li><div>                $title .= ( 'right' == $seplocation ) ? ucwords( $page_title ) . &quot; {$sep} &quot; : &quot; {$sep} &quot; . ucwords( $page_title );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ( !defined( 'PODS_DISABLE_META' ) || !PODS_DISABLE_META ) && is_object( $pods ) && !is_wp_error( $pods ) && isset( $pods-&gt;meta ) && is_array( $pods-&gt;meta ) && isset( $pods-&gt;meta[ 'title' ] ) )&nbsp;</div></li><li><div>            $title = $pods-&gt;meta[ 'title' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_title', $title, $sep, $seplocation, self::$exists );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $classes&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function body_class ( $classes ) {&nbsp;</div></li><li><div>        global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( defined( 'PODS_DISABLE_BODY_CLASSES' ) && PODS_DISABLE_BODY_CLASSES )&nbsp;</div></li><li><div>            return $classes;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $classes[] = 'pods';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $uri = explode( '?', self::$exists[ 'uri' ] );&nbsp;</div></li><li><div>        $uri = explode( '#', $uri[ 0 ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $class = str_replace( array( '*', '/' ), array( '_w_', '-' ), $uri[ 0 ] );&nbsp;</div></li><li><div>        $class = sanitize_title( $class );&nbsp;</div></li><li><div>        $class = str_replace( array( '_', '--', '--' ), '-', $class );&nbsp;</div></li><li><div>        $class = trim( $class, '-' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $classes[] = 'pod-page-' . $class;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $pods ) && !is_wp_error( $pods ) ) {&nbsp;</div></li><li><div>            $class = sanitize_title( $pods-&gt;pod );&nbsp;</div></li><li><div>            $class = str_replace( array( '_', '--', '--' ), '-', $class );&nbsp;</div></li><li><div>            $class = trim( $class, '-' );&nbsp;</div></li><li><div>            $classes[] = 'pod-' . $class;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $pods ) && !is_wp_error( $pods ) && isset( $pods-&gt;body_classes ) )&nbsp;</div></li><li><div>            $classes[] = $pods-&gt;body_classes;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_body_class', $classes, $uri );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function status_header () {&nbsp;</div></li><li><div>        return $_SERVER[ 'SERVER_PROTOCOL' ] . ' 200 OK';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function silence_404 () {&nbsp;</div></li><li><div>        global $wp_query;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $wp_query-&gt;query_vars[ 'error' ] = '';&nbsp;</div></li><li><div>        $wp_query-&gt;is_404 = false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function template_redirect () {&nbsp;</div></li><li><div>        global $pods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== self::$exists ) {&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * Create pods.php in your theme directory, and&nbsp;</div></li><li><div>             * style it to suit your needs. Some helpful functions:&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * get_header()&nbsp;</div></li><li><div>             * pods_content()&nbsp;</div></li><li><div>             * get_sidebar()&nbsp;</div></li><li><div>             * get_footer()&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            $template = self::$exists[ 'page_template' ];&nbsp;</div></li><li><div>            $template = apply_filters( 'pods_page_template', $template, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $render_function = apply_filters( 'pods_template_redirect', null, $template, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            do_action( 'pods_page', $template, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( '_custom' == $template )&nbsp;</div></li><li><div>                pods_content();&nbsp;</div></li><li><div>            elseif ( null !== $render_function && is_callable( $render_function ) )&nbsp;</div></li><li><div>                call_user_func( $render_function, $template, self::$exists );&nbsp;</div></li><li><div>            elseif ( ( !defined( 'PODS_DISABLE_DYNAMIC_TEMPLATE' ) || !PODS_DISABLE_DYNAMIC_TEMPLATE ) && is_object( $pods ) && !is_wp_error( $pods ) && isset( $pods-&gt;page_template ) && !empty( $pods-&gt;page_template ) && '' != locate_template( array( $pods-&gt;page_template ), true ) ) {&nbsp;</div></li><li><div>                $template = $pods-&gt;page_template;&nbsp;</div></li><li><div>                // found the template and included it, we're good to go!&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !empty( self::$exists[ 'page_template' ] ) && '' != locate_template( array( self::$exists[ 'page_template' ] ), true ) ) {&nbsp;</div></li><li><div>                $template = self::$exists[ 'page_template' ];&nbsp;</div></li><li><div>                // found the template and included it, we're good to go!&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $default_templates = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $uri = explode( '?', self::$exists[ 'uri' ] );&nbsp;</div></li><li><div>                $uri = explode( '#', $uri[ 0 ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $page_path = explode( '/', $uri[ 0 ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                while ( $last = array_pop( $page_path ) ) {&nbsp;</div></li><li><div>                    $file_name = str_replace( '*', '-w-', implode( '/', $page_path ) . '/' . $last );&nbsp;</div></li><li><div>                    $sanitized = sanitize_title( $file_name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $default_templates[] = 'pods/' . trim( str_replace( '--', '-', $sanitized ), ' -' ) . '.php';&nbsp;</div></li><li><div>                    $default_templates[] = 'pods-' . trim( str_replace( '--', '-', $sanitized ), ' -' ) . '.php';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $default_templates[] = 'pods.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $default_templates = apply_filters( 'pods_page_default_templates', $default_templates );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $template = locate_template( $default_templates, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( '' != $template ) {&nbsp;</div></li><li><div>                    // found the template and included it, we're good to go!&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $template = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // templates not found in theme, default output&nbsp;</div></li><li><div>                    do_action( 'pods_page_default', $template, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    get_header();&nbsp;</div></li><li><div>                    pods_content();&nbsp;</div></li><li><div>                    get_sidebar();&nbsp;</div></li><li><div>                    get_footer();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            do_action( 'pods_page_end', $template, self::$exists );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            exit;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.6.5.2</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/pods/2.6.8/classes/pods_pages/" class="active">2.6.8</a></li><li><a href="http://hookr.io/plugins/pods/2.6.7-a-1/classes/pods_pages/" class="">2.6.7-a-1</a></li><li><a href="http://hookr.io/plugins/pods/2.6.7/classes/pods_pages/" class="">2.6.7</a></li><li><a href="http://hookr.io/plugins/pods/2.6.6/classes/pods_pages/" class="">2.6.6</a></li><li><a href="http://hookr.io/plugins/pods/2.6.5.2/classes/pods_pages/" class="">2.6.5.2</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>Pods_Pages</li><li><span></span>wp-plugin</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>