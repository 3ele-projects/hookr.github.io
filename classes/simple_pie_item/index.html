<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-type="class" data-id="3749"><head xmlns="http://www.w3.org/1999/xhtml"><title> simplepie_item | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="SimplePie_Item, class, wordpress, 4.7.4" /><meta name="description" content="Manages all item-related data" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.25"}};!function(e,n,t){var a;function i(e){var t=n.createElement("canvas"),a=t.getContext&&t.getContext("2d"),i=String.fromCharCode;return!(!a||!a.fillText)&&(a.textBaseline="top",a.font="600 32px Arial","flag"===e?(a.fillText(i(55356,56806,55356,56826),0,0),3e3<t.toDataURL().length):"diversity"===e?(a.fillText(i(55356,57221),0,0),t=a.getImageData(16,16,1,1).data,a.fillText(i(55356,57221,55356,57343),0,0),(t=a.getImageData(16,16,1,1).data)[0],t[1],t[2],t[3],!0):("simple"===e?a.fillText(i(55357,56835),0,0):a.fillText(i(55356,57135),0,0),0!==a.getImageData(16,16,1,1).data[0]))}function o(e){var t=n.createElement("script");t.src=e,t.type="text/javascript",n.getElementsByTagName("head")[0].appendChild(t)}t.supports={simple:i("simple"),flag:i("flag"),unicode8:i("unicode8"),diversity:i("diversity")},t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.simple&&t.supports.flag&&t.supports.unicode8&&t.supports.diversity||(a=function(){t.readyCallback()},n.addEventListener?(n.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)):(e.attachEvent("onload",a),n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&t.readyCallback()})),(a=t.source||{}).concatemoji?o(a.concatemoji):a.wpemoji&&a.twemoji&&(o(a.twemoji),o(a.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=857e363b3cdbbceeab250f4249501ed7' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.25' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/simple_pie_item/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fsimple_pie_item%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fsimple_pie_item%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7.4-class-simple_pie_item","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="simple_pie_item" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7.4." href="http://hookr.io/4.7.4/" class="H_VERSION"><span property="name">4.7.4</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/4.7.4/classes/" class=""><span property="name">classes</span></a><meta property="position" content="3"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">simple_pie_item</span><meta property="position" content="4"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="6316"><a href="http://hookr.io/4.7.4/all/" title="All">All <span class="count badge">6316</span></a></li><li class="" data-id="new" data-count="6"><a href="http://hookr.io/4.7.4/new/" title="New">New <span class="count badge">6</span></a></li><li class="" data-id="hooks" data-count="2538"><a href="http://hookr.io/4.7.4/hooks/" title="Hooks">Hooks <span class="count badge">2538</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7.4/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1674"><a href="http://hookr.io/4.7.4/filters/" title="Filters">Filters <span class="count badge">1674</span></a></li><li class="active" data-id="class" data-count="351"><a href="http://hookr.io/4.7.4/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7.4/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="" data-id="function" data-count="2853"><a href="http://hookr.io/4.7.4/functions/" title="Functions">Functions <span class="count badge">2853</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>SimplePie_Item</strong></h1><p>Manages all item-related data.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/4.7.4/files/wp-includes-simplepie-item/" class="file">/wp-includes/SimplePie/Item.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="51" class="block" start="56"><li><div>class SimplePie_Item&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Parent feed&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access private&nbsp;</div></li><li><div>     * @var SimplePie&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    var $feed;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Raw data&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access private&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    var $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Registry object&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see set_registry&nbsp;</div></li><li><div>     * @var SimplePie_Registry&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected $registry;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Create a new item object&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This is usually used by {@see SimplePie::get_items} and&nbsp;</div></li><li><div>     * {@see SimplePie::get_item}. Avoid creating this manually.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param SimplePie $feed Parent feed&nbsp;</div></li><li><div>     * @param array $data Raw data&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct($feed, $data)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $this-&gt;feed = $feed;&nbsp;</div></li><li><div>        $this-&gt;data = $data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Set the registry handler&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This is usually used by {@see SimplePie_Registry::create}&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.3&nbsp;</div></li><li><div>     * @param SimplePie_Registry $registry&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function set_registry(SimplePie_Registry $registry)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $this-&gt;registry = $registry;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get a string representation of the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __toString()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        return md5(serialize($this-&gt;data));&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Remove items that link back to this before destroying this object&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __destruct()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ((version_compare(PHP_VERSION, '5.3', '&lt;') || !gc_enabled()) && !ini_get('zend.ze1_compatibility_mode'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            unset($this-&gt;feed);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get data for an item-level element&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This method allows you to get access to ANY element/attribute that is a&nbsp;</div></li><li><div>     * sub-element of the item/entry tag.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * See {@see SimplePie::get_feed_tags()} for a description of the return value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.0&nbsp;</div></li><li><div>     * @see http://simplepie.org/wiki/faq/supported_xml_namespaces&nbsp;</div></li><li><div>     * @param string $namespace The URL of the XML namespace of the elements you're trying to access&nbsp;</div></li><li><div>     * @param string $tag Tag name&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_item_tags($namespace, $tag)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (isset($this-&gt;data['child'][$namespace][$tag]))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;data['child'][$namespace][$tag];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the base URL value from the parent feed&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;xml:base&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $element&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_base($element = array())&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        return $this-&gt;feed-&gt;get_base($element);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Sanitize feed data&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access private&nbsp;</div></li><li><div>     * @see SimplePie::sanitize()&nbsp;</div></li><li><div>     * @param string $data Data to sanitize&nbsp;</div></li><li><div>     * @param int $type One of the SIMPLEPIE_CONSTRUCT_* constants&nbsp;</div></li><li><div>     * @param string $base Base URL to resolve URLs against&nbsp;</div></li><li><div>     * @return string Sanitized data&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function sanitize($data, $type, $base = '')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        return $this-&gt;feed-&gt;sanitize($data, $type, $base);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the parent feed&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Note: this may not work as you think for multifeeds!&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://simplepie.org/faq/typical_multifeed_gotchas#missing_data_from_feed&nbsp;</div></li><li><div>     * @since 1.0&nbsp;</div></li><li><div>     * @return SimplePie&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_feed()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        return $this-&gt;feed;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the unique identifier for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This is usually used when writing code to check for new items in a feed.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:id&gt;`, `&lt;guid&gt;`, `&lt;dc:identifier&gt;` or the `about` attribute&nbsp;</div></li><li><div>     * for RDF. If none of these are supplied (or `$hash` is true), creates an&nbsp;</div></li><li><div>     * MD5 hash based on the permalink and title. If either of those are not&nbsp;</div></li><li><div>     * supplied, creates a hash based on the full feed data.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2&nbsp;</div></li><li><div>     * @param boolean $hash Should we force using a hash instead of the supplied ID?&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_id($hash = false)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!$hash)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'id'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'id'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'guid'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'identifier'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'identifier'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif (isset($this-&gt;data['attribs'][SIMPLEPIE_NAMESPACE_RDF]['about']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $this-&gt;sanitize($this-&gt;data['attribs'][SIMPLEPIE_NAMESPACE_RDF]['about'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif (($return = $this-&gt;get_permalink()) !== null)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $return;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif (($return = $this-&gt;get_title()) !== null)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                return $return;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($this-&gt;get_permalink() !== null || $this-&gt;get_title() !== null)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return md5($this-&gt;get_permalink() . $this-&gt;get_title());&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return md5(serialize($this-&gt;data));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the title of the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:title&gt;`, `&lt;title&gt;` or `&lt;dc:title&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2 (previously called `get_item_title` since 0.8)&nbsp;</div></li><li><div>     * @return string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_title()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!isset($this-&gt;data['title']))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_10_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_03_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_090, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['title'] = null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $this-&gt;data['title'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the content for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Prefers summaries over full content , but will return full content if a&nbsp;</div></li><li><div>     * summary does not exist.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * To prefer full content instead, use {@see get_content}&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:summary&gt;`, `&lt;description&gt;`, `&lt;dc:description&gt;` or&nbsp;</div></li><li><div>     * `&lt;itunes:subtitle&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 0.8&nbsp;</div></li><li><div>     * @param boolean $description_only Should we avoid falling back to the content?&nbsp;</div></li><li><div>     * @return string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_description($description_only = false)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'summary'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_10_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'summary'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_03_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10, 'description'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'description'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'description'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'description'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'summary'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'subtitle'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_090, 'description'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_HTML);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        elseif (!$description_only)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;get_content(true);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the content for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Prefers full content over summaries, but will return a summary if full&nbsp;</div></li><li><div>     * content does not exist.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * To prefer summaries instead, use {@see get_description}&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:content&gt;` or `&lt;content:encoded&gt;` (RSS 1.0 Content Module)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.0&nbsp;</div></li><li><div>     * @param boolean $content_only Should we avoid falling back to the description?&nbsp;</div></li><li><div>     * @return string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_content($content_only = false)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'content'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_10_content_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'content'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_03_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10_MODULES_CONTENT, 'encoded'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_HTML, $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif (!$content_only)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;get_description(true);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get a category for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 3 (previously called `get_categories()` since Beta 2)&nbsp;</div></li><li><div>     * @param int $key The category that you want to return.  Remember that arrays begin with 0, not 1&nbsp;</div></li><li><div>     * @return SimplePie_Category|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_category($key = 0)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $categories = $this-&gt;get_categories();&nbsp;</div></li><li><div>        if (isset($categories[$key]))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $categories[$key];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get all categories for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:category&gt;`, `&lt;category&gt;` or `&lt;dc:subject&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 3&nbsp;</div></li><li><div>     * @return array|null List of {@see SimplePie_Category} objects&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_categories()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $categories = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'category') as $category)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $term = null;&nbsp;</div></li><li><div>            $scheme = null;&nbsp;</div></li><li><div>            $label = null;&nbsp;</div></li><li><div>            if (isset($category['attribs']['']['term']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $term = $this-&gt;sanitize($category['attribs']['']['term'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($category['attribs']['']['scheme']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $scheme = $this-&gt;sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($category['attribs']['']['label']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $label = $this-&gt;sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $categories[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'category') as $category)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            // This is really the label, but keep this as the term also for BC.&nbsp;</div></li><li><div>            // Label will also work on retrieving because that falls back to term.&nbsp;</div></li><li><div>            $term = $this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            if (isset($category['attribs']['']['domain']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $scheme = $this-&gt;sanitize($category['attribs']['']['domain'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $scheme = null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $categories[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, null));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'subject') as $category)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $categories[] = $this-&gt;registry-&gt;create('Category', array($this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT), null, null));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'subject') as $category)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $categories[] = $this-&gt;registry-&gt;create('Category', array($this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT), null, null));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (!empty($categories))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return array_unique($categories);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get an author for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2&nbsp;</div></li><li><div>     * @param int $key The author that you want to return.  Remember that arrays begin with 0, not 1&nbsp;</div></li><li><div>     * @return SimplePie_Author|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_author($key = 0)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $authors = $this-&gt;get_authors();&nbsp;</div></li><li><div>        if (isset($authors[$key]))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $authors[$key];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get a contributor for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.1&nbsp;</div></li><li><div>     * @param int $key The contrbutor that you want to return.  Remember that arrays begin with 0, not 1&nbsp;</div></li><li><div>     * @return SimplePie_Author|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_contributor($key = 0)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $contributors = $this-&gt;get_contributors();&nbsp;</div></li><li><div>        if (isset($contributors[$key]))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $contributors[$key];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get all contributors for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:contributor&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.1&nbsp;</div></li><li><div>     * @return array|null List of {@see SimplePie_Author} objects&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_contributors()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $contributors = array();&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'contributor') as $contributor)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $name = null;&nbsp;</div></li><li><div>            $uri = null;&nbsp;</div></li><li><div>            $email = null;&nbsp;</div></li><li><div>            if (isset($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $name = $this-&gt;sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $uri = $this-&gt;sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $email = $this-&gt;sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($name !== null || $email !== null || $uri !== null)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $contributors[] = $this-&gt;registry-&gt;create('Author', array($name, $uri, $email));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'contributor') as $contributor)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $name = null;&nbsp;</div></li><li><div>            $url = null;&nbsp;</div></li><li><div>            $email = null;&nbsp;</div></li><li><div>            if (isset($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $name = $this-&gt;sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $url = $this-&gt;sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $email = $this-&gt;sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($name !== null || $email !== null || $url !== null)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $contributors[] = $this-&gt;registry-&gt;create('Author', array($name, $url, $email));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (!empty($contributors))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return array_unique($contributors);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get all authors for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:author&gt;`, `&lt;author&gt;`, `&lt;dc:creator&gt;` or `&lt;itunes:author&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2&nbsp;</div></li><li><div>     * @return array|null List of {@see SimplePie_Author} objects&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_authors()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $authors = array();&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'author') as $author)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $name = null;&nbsp;</div></li><li><div>            $uri = null;&nbsp;</div></li><li><div>            $email = null;&nbsp;</div></li><li><div>            if (isset($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $name = $this-&gt;sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $uri = $this-&gt;sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $email = $this-&gt;sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($name !== null || $email !== null || $uri !== null)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $authors[] = $this-&gt;registry-&gt;create('Author', array($name, $uri, $email));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($author = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'author'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $name = null;&nbsp;</div></li><li><div>            $url = null;&nbsp;</div></li><li><div>            $email = null;&nbsp;</div></li><li><div>            if (isset($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $name = $this-&gt;sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $url = $this-&gt;sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (isset($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $email = $this-&gt;sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($name !== null || $email !== null || $url !== null)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $authors[] = $this-&gt;registry-&gt;create('Author', array($name, $url, $email));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($author = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'author'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $authors[] = $this-&gt;registry-&gt;create('Author', array(null, null, $this-&gt;sanitize($author[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT)));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'creator') as $author)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $authors[] = $this-&gt;registry-&gt;create('Author', array($this-&gt;sanitize($author['data'], SIMPLEPIE_CONSTRUCT_TEXT), null, null));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'creator') as $author)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $authors[] = $this-&gt;registry-&gt;create('Author', array($this-&gt;sanitize($author['data'], SIMPLEPIE_CONSTRUCT_TEXT), null, null));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'author') as $author)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $authors[] = $this-&gt;registry-&gt;create('Author', array($this-&gt;sanitize($author['data'], SIMPLEPIE_CONSTRUCT_TEXT), null, null));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (!empty($authors))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return array_unique($authors);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif (($source = $this-&gt;get_source()) && ($authors = $source-&gt;get_authors()))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $authors;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($authors = $this-&gt;feed-&gt;get_authors())&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $authors;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the copyright info for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:rights&gt;` or `&lt;dc:rights&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.1&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_copyright()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'rights'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], $this-&gt;registry-&gt;call('Misc', 'atom_10_construct_type', array($return[0]['attribs'])), $this-&gt;get_base($return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'rights'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'rights'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($return[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the posting date/time for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:published&gt;`, `&lt;atom:updated&gt;`, `&lt;atom:issued&gt;`, &nbsp;</div></li><li><div>     * `&lt;atom:modified&gt;`, `&lt;pubDate&gt;` or `&lt;dc:date&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Note: obeys PHP's timezone setting. To get a UTC date/time, use&nbsp;</div></li><li><div>     * {@see get_gmdate}&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2 (previously called `get_item_date` since 0.8)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $date_format Supports any PHP date format from {@see http://php.net/date} (empty for the raw data)&nbsp;</div></li><li><div>     * @return int|string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_date($date_format = 'j F Y, g:i a')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!isset($this-&gt;data['date']))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'published'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'updated'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'issued'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'created'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'modified'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'pubDate'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, 'date'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, 'date'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if (!empty($this-&gt;data['date']['raw']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $parser = $this-&gt;registry-&gt;call('Parse_Date', 'get');&nbsp;</div></li><li><div>                $this-&gt;data['date']['parsed'] = $parser-&gt;parse($this-&gt;data['date']['raw']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['date'] = null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($this-&gt;data['date'])&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $date_format = (string) $date_format;&nbsp;</div></li><li><div>            switch ($date_format)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                case '':&nbsp;</div></li><li><div>                    return $this-&gt;sanitize($this-&gt;data['date']['raw'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case 'U':&nbsp;</div></li><li><div>                    return $this-&gt;data['date']['parsed'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                default:&nbsp;</div></li><li><div>                    return date($date_format, $this-&gt;data['date']['parsed']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the update date/time for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:updated&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Note: obeys PHP's timezone setting. To get a UTC date/time, use&nbsp;</div></li><li><div>     * {@see get_gmdate}&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $date_format Supports any PHP date format from {@see http://php.net/date} (empty for the raw data)&nbsp;</div></li><li><div>     * @return int|string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_updated_date($date_format = 'j F Y, g:i a')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!isset($this-&gt;data['updated']))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'updated'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['updated']['raw'] = $return[0]['data'];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if (!empty($this-&gt;data['updated']['raw']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $parser = $this-&gt;registry-&gt;call('Parse_Date', 'get');&nbsp;</div></li><li><div>                $this-&gt;data['updated']['parsed'] = $parser-&gt;parse($this-&gt;data['date']['raw']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['updated'] = null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($this-&gt;data['updated'])&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $date_format = (string) $date_format;&nbsp;</div></li><li><div>            switch ($date_format)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                case '':&nbsp;</div></li><li><div>                    return $this-&gt;sanitize($this-&gt;data['updated']['raw'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case 'U':&nbsp;</div></li><li><div>                    return $this-&gt;data['updated']['parsed'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                default:&nbsp;</div></li><li><div>                    return date($date_format, $this-&gt;data['updated']['parsed']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the localized posting date/time for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Returns the date formatted in the localized language. To display in&nbsp;</div></li><li><div>     * languages other than the server's default, you need to change the locale&nbsp;</div></li><li><div>     * with {@link http://php.net/setlocale setlocale()}. The available&nbsp;</div></li><li><div>     * localizations depend on which ones are installed on your web server.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.0&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $date_format Supports any PHP date format from {@see http://php.net/strftime} (empty for the raw data)&nbsp;</div></li><li><div>     * @return int|string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_local_date($date_format = '%c')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!$date_format)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;sanitize($this-&gt;get_date(''), SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif (($date = $this-&gt;get_date('U')) !== null && $date !== false)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return strftime($date_format, $date);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the posting date/time for the item (UTC time)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see get_date&nbsp;</div></li><li><div>     * @param string $date_format Supports any PHP date format from {@see http://php.net/date}&nbsp;</div></li><li><div>     * @return int|string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_gmdate($date_format = 'j F Y, g:i a')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $date = $this-&gt;get_date('U');&nbsp;</div></li><li><div>        if ($date === null)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return gmdate($date_format, $date);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the update date/time for the item (UTC time)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see get_updated_date&nbsp;</div></li><li><div>     * @param string $date_format Supports any PHP date format from {@see http://php.net/date}&nbsp;</div></li><li><div>     * @return int|string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_updated_gmdate($date_format = 'j F Y, g:i a')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $date = $this-&gt;get_updated_date('U');&nbsp;</div></li><li><div>        if ($date === null)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return gmdate($date_format, $date);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the permalink for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Returns the first link available with a relationship of &quot;alternate&quot;.&nbsp;</div></li><li><div>     * Identical to {@see get_link()} with key 0&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see get_link&nbsp;</div></li><li><div>     * @since 0.8&nbsp;</div></li><li><div>     * @return string|null Permalink URL&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_permalink()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $link = $this-&gt;get_link();&nbsp;</div></li><li><div>        $enclosure = $this-&gt;get_enclosure(0);&nbsp;</div></li><li><div>        if ($link !== null)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $link;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($enclosure !== null)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $enclosure-&gt;get_link();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get a single link for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 3&nbsp;</div></li><li><div>     * @param int $key The link that you want to return.  Remember that arrays begin with 0, not 1&nbsp;</div></li><li><div>     * @param string $rel The relationship of the link to return&nbsp;</div></li><li><div>     * @return string|null Link URL&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_link($key = 0, $rel = 'alternate')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $links = $this-&gt;get_links($rel);&nbsp;</div></li><li><div>        if ($links[$key] !== null)&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $links[$key];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get all links for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;atom:link&gt;`, `&lt;link&gt;` or `&lt;guid&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2&nbsp;</div></li><li><div>     * @param string $rel The relationship of links to return&nbsp;</div></li><li><div>     * @return array|null Links found for the item (strings)&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_links($rel = 'alternate')&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!isset($this-&gt;data['links']))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $this-&gt;data['links'] = array();&nbsp;</div></li><li><div>            foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'link') as $link)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($link['attribs']['']['href']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';&nbsp;</div></li><li><div>                    $this-&gt;data['links'][$link_rel][] = $this-&gt;sanitize($link['attribs']['']['href'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($link));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'link') as $link)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($link['attribs']['']['href']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';&nbsp;</div></li><li><div>                    $this-&gt;data['links'][$link_rel][] = $this-&gt;sanitize($link['attribs']['']['href'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($link));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($links = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10, 'link'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['links']['alternate'][] = $this-&gt;sanitize($links[0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($links[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($links = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_090, 'link'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['links']['alternate'][] = $this-&gt;sanitize($links[0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($links[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($links = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'link'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $this-&gt;data['links']['alternate'][] = $this-&gt;sanitize($links[0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($links[0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($links = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'guid'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (!isset($links[0]['attribs']['']['isPermaLink']) || strtolower(trim($links[0]['attribs']['']['isPermaLink'])) === 'true')&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $this-&gt;data['links']['alternate'][] = $this-&gt;sanitize($links[0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($links[0]));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $keys = array_keys($this-&gt;data['links']);&nbsp;</div></li><li><div>            foreach ($keys as $key)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if ($this-&gt;registry-&gt;call('Misc', 'is_isegment_nz_nc', array($key)))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    if (isset($this-&gt;data['links'][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . $key]))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $this-&gt;data['links'][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . $key] = array_merge($this-&gt;data['links'][$key], $this-&gt;data['links'][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . $key]);&nbsp;</div></li><li><div>                        $this-&gt;data['links'][$key] =& $this-&gt;data['links'][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . $key];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $this-&gt;data['links'][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . $key] =& $this-&gt;data['links'][$key];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif (substr($key, 0, 41) === SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $this-&gt;data['links'][substr($key, 41)] =& $this-&gt;data['links'][$key];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $this-&gt;data['links'][$key] = array_unique($this-&gt;data['links'][$key]);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (isset($this-&gt;data['links'][$rel]))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;data['links'][$rel];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get an enclosure from the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Supports the &lt;enclosure&gt; RSS tag, as well as Media RSS and iTunes RSS.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2&nbsp;</div></li><li><div>     * @todo Add ability to prefer one type of content over another (in a media group).&nbsp;</div></li><li><div>     * @param int $key The enclosure that you want to return.  Remember that arrays begin with 0, not 1&nbsp;</div></li><li><div>     * @return SimplePie_Enclosure|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_enclosure($key = 0, $prefer = null)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $enclosures = $this-&gt;get_enclosures();&nbsp;</div></li><li><div>        if (isset($enclosures[$key]))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $enclosures[$key];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get all available enclosures (podcasts, etc.)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Supports the &lt;enclosure&gt; RSS tag, as well as Media RSS and iTunes RSS.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * At this point, we're pretty much assuming that all enclosures for an item&nbsp;</div></li><li><div>     * are the same content.  Anything else is too complicated to&nbsp;</div></li><li><div>     * properly support.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since Beta 2&nbsp;</div></li><li><div>     * @todo Add support for end-user defined sorting of enclosures by type/handler (so we can prefer the faster-loading FLV over MP4).&nbsp;</div></li><li><div>     * @todo If an element exists at a level, but it's value is empty, we should fall back to the value from the parent (if it exists).&nbsp;</div></li><li><div>     * @return array|null List of SimplePie_Enclosure items&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_enclosures()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!isset($this-&gt;data['enclosures']))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            $this-&gt;data['enclosures'] = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Elements&nbsp;</div></li><li><div>            $captions_parent = null;&nbsp;</div></li><li><div>            $categories_parent = null;&nbsp;</div></li><li><div>            $copyrights_parent = null;&nbsp;</div></li><li><div>            $credits_parent = null;&nbsp;</div></li><li><div>            $description_parent = null;&nbsp;</div></li><li><div>            $duration_parent = null;&nbsp;</div></li><li><div>            $hashes_parent = null;&nbsp;</div></li><li><div>            $keywords_parent = null;&nbsp;</div></li><li><div>            $player_parent = null;&nbsp;</div></li><li><div>            $ratings_parent = null;&nbsp;</div></li><li><div>            $restrictions_parent = null;&nbsp;</div></li><li><div>            $thumbnails_parent = null;&nbsp;</div></li><li><div>            $title_parent = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Let's do the channel and item-level ones first, and just re-use them if we need to.&nbsp;</div></li><li><div>            $parent = $this-&gt;get_feed();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // CAPTIONS&nbsp;</div></li><li><div>            if ($captions = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'text'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($captions as $caption)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $caption_type = null;&nbsp;</div></li><li><div>                    $caption_lang = null;&nbsp;</div></li><li><div>                    $caption_startTime = null;&nbsp;</div></li><li><div>                    $caption_endTime = null;&nbsp;</div></li><li><div>                    $caption_text = null;&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_type = $this-&gt;sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['lang']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_lang = $this-&gt;sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['start']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_startTime = $this-&gt;sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['end']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_endTime = $this-&gt;sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_text = $this-&gt;sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $captions_parent[] = $this-&gt;registry-&gt;create('Caption', array($caption_type, $caption_lang, $caption_startTime, $caption_endTime, $caption_text));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($captions = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'text'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($captions as $caption)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $caption_type = null;&nbsp;</div></li><li><div>                    $caption_lang = null;&nbsp;</div></li><li><div>                    $caption_startTime = null;&nbsp;</div></li><li><div>                    $caption_endTime = null;&nbsp;</div></li><li><div>                    $caption_text = null;&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_type = $this-&gt;sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['lang']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_lang = $this-&gt;sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['start']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_startTime = $this-&gt;sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['attribs']['']['end']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_endTime = $this-&gt;sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($caption['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $caption_text = $this-&gt;sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $captions_parent[] = $this-&gt;registry-&gt;create('Caption', array($caption_type, $caption_lang, $caption_startTime, $caption_endTime, $caption_text));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($captions_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $captions_parent = array_values(array_unique($captions_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // CATEGORIES&nbsp;</div></li><li><div>            foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'category') as $category)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $term = null;&nbsp;</div></li><li><div>                $scheme = null;&nbsp;</div></li><li><div>                $label = null;&nbsp;</div></li><li><div>                if (isset($category['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $term = $this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (isset($category['attribs']['']['scheme']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $scheme = $this-&gt;sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $scheme = 'http://search.yahoo.com/mrss/category_schema';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (isset($category['attribs']['']['label']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $label = $this-&gt;sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $categories_parent[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            foreach ((array) $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'category') as $category)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $term = null;&nbsp;</div></li><li><div>                $scheme = null;&nbsp;</div></li><li><div>                $label = null;&nbsp;</div></li><li><div>                if (isset($category['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $term = $this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (isset($category['attribs']['']['scheme']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $scheme = $this-&gt;sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $scheme = 'http://search.yahoo.com/mrss/category_schema';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (isset($category['attribs']['']['label']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $label = $this-&gt;sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $categories_parent[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            foreach ((array) $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'category') as $category)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $term = null;&nbsp;</div></li><li><div>                $scheme = 'http://www.itunes.com/dtds/podcast-1.0.dtd';&nbsp;</div></li><li><div>                $label = null;&nbsp;</div></li><li><div>                if (isset($category['attribs']['']['text']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $label = $this-&gt;sanitize($category['attribs']['']['text'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $categories_parent[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if (isset($category['child'][SIMPLEPIE_NAMESPACE_ITUNES]['category']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    foreach ((array) $category['child'][SIMPLEPIE_NAMESPACE_ITUNES]['category'] as $subcategory)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        if (isset($subcategory['attribs']['']['text']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $label = $this-&gt;sanitize($subcategory['attribs']['']['text'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        $categories_parent[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($categories_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $categories_parent = array_values(array_unique($categories_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // COPYRIGHT&nbsp;</div></li><li><div>            if ($copyright = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'copyright'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $copyright_url = null;&nbsp;</div></li><li><div>                $copyright_label = null;&nbsp;</div></li><li><div>                if (isset($copyright[0]['attribs']['']['url']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $copyright_url = $this-&gt;sanitize($copyright[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (isset($copyright[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $copyright_label = $this-&gt;sanitize($copyright[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $copyrights_parent = $this-&gt;registry-&gt;create('Copyright', array($copyright_url, $copyright_label));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($copyright = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'copyright'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $copyright_url = null;&nbsp;</div></li><li><div>                $copyright_label = null;&nbsp;</div></li><li><div>                if (isset($copyright[0]['attribs']['']['url']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $copyright_url = $this-&gt;sanitize($copyright[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (isset($copyright[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $copyright_label = $this-&gt;sanitize($copyright[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $copyrights_parent = $this-&gt;registry-&gt;create('Copyright', array($copyright_url, $copyright_label));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // CREDITS&nbsp;</div></li><li><div>            if ($credits = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'credit'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($credits as $credit)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $credit_role = null;&nbsp;</div></li><li><div>                    $credit_scheme = null;&nbsp;</div></li><li><div>                    $credit_name = null;&nbsp;</div></li><li><div>                    if (isset($credit['attribs']['']['role']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_role = $this-&gt;sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($credit['attribs']['']['scheme']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_scheme = $this-&gt;sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_scheme = 'urn:ebu';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($credit['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_name = $this-&gt;sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $credits_parent[] = $this-&gt;registry-&gt;create('Credit', array($credit_role, $credit_scheme, $credit_name));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($credits = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'credit'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($credits as $credit)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $credit_role = null;&nbsp;</div></li><li><div>                    $credit_scheme = null;&nbsp;</div></li><li><div>                    $credit_name = null;&nbsp;</div></li><li><div>                    if (isset($credit['attribs']['']['role']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_role = $this-&gt;sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($credit['attribs']['']['scheme']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_scheme = $this-&gt;sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_scheme = 'urn:ebu';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($credit['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $credit_name = $this-&gt;sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $credits_parent[] = $this-&gt;registry-&gt;create('Credit', array($credit_role, $credit_scheme, $credit_name));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($credits_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $credits_parent = array_values(array_unique($credits_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // DESCRIPTION&nbsp;</div></li><li><div>            if ($description_parent = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'description'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($description_parent[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $description_parent = $this-&gt;sanitize($description_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($description_parent = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'description'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($description_parent[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $description_parent = $this-&gt;sanitize($description_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // DURATION&nbsp;</div></li><li><div>            if ($duration_parent = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'duration'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $seconds = null;&nbsp;</div></li><li><div>                $minutes = null;&nbsp;</div></li><li><div>                $hours = null;&nbsp;</div></li><li><div>                if (isset($duration_parent[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $temp = explode(':', $this-&gt;sanitize($duration_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                    if (sizeof($temp) &gt; 0)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $seconds = (int) array_pop($temp);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (sizeof($temp) &gt; 0)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $minutes = (int) array_pop($temp);&nbsp;</div></li><li><div>                        $seconds += $minutes * 60;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (sizeof($temp) &gt; 0)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $hours = (int) array_pop($temp);&nbsp;</div></li><li><div>                        $seconds += $hours * 3600;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    unset($temp);&nbsp;</div></li><li><div>                    $duration_parent = $seconds;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // HASHES&nbsp;</div></li><li><div>            if ($hashes_iterator = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'hash'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($hashes_iterator as $hash)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $value = null;&nbsp;</div></li><li><div>                    $algo = null;&nbsp;</div></li><li><div>                    if (isset($hash['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $value = $this-&gt;sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($hash['attribs']['']['algo']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $algo = $this-&gt;sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $algo = 'md5';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $hashes_parent[] = $algo.':'.$value;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($hashes_iterator = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'hash'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($hashes_iterator as $hash)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $value = null;&nbsp;</div></li><li><div>                    $algo = null;&nbsp;</div></li><li><div>                    if (isset($hash['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $value = $this-&gt;sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($hash['attribs']['']['algo']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $algo = $this-&gt;sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $algo = 'md5';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $hashes_parent[] = $algo.':'.$value;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($hashes_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $hashes_parent = array_values(array_unique($hashes_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // KEYWORDS&nbsp;</div></li><li><div>            if ($keywords = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'keywords'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($keywords[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $temp = explode(', ', $this-&gt;sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                    foreach ($temp as $word)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $keywords_parent[] = trim($word);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                unset($temp);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($keywords = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'keywords'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($keywords[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $temp = explode(', ', $this-&gt;sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                    foreach ($temp as $word)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $keywords_parent[] = trim($word);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                unset($temp);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($keywords = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'keywords'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($keywords[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $temp = explode(', ', $this-&gt;sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                    foreach ($temp as $word)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $keywords_parent[] = trim($word);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                unset($temp);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($keywords = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'keywords'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($keywords[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $temp = explode(', ', $this-&gt;sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                    foreach ($temp as $word)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $keywords_parent[] = trim($word);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                unset($temp);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($keywords_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $keywords_parent = array_values(array_unique($keywords_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // PLAYER&nbsp;</div></li><li><div>            if ($player_parent = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'player'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($player_parent[0]['attribs']['']['url']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $player_parent = $this-&gt;sanitize($player_parent[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($player_parent = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'player'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($player_parent[0]['attribs']['']['url']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $player_parent = $this-&gt;sanitize($player_parent[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // RATINGS&nbsp;</div></li><li><div>            if ($ratings = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'rating'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($ratings as $rating)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $rating_scheme = null;&nbsp;</div></li><li><div>                    $rating_value = null;&nbsp;</div></li><li><div>                    if (isset($rating['attribs']['']['scheme']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_scheme = $this-&gt;sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_scheme = 'urn:simple';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($rating['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ratings_parent[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($ratings = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'explicit'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($ratings as $rating)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $rating_scheme = 'urn:itunes';&nbsp;</div></li><li><div>                    $rating_value = null;&nbsp;</div></li><li><div>                    if (isset($rating['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ratings_parent[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($ratings = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'rating'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($ratings as $rating)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $rating_scheme = null;&nbsp;</div></li><li><div>                    $rating_value = null;&nbsp;</div></li><li><div>                    if (isset($rating['attribs']['']['scheme']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_scheme = $this-&gt;sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_scheme = 'urn:simple';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($rating['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ratings_parent[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($ratings = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'explicit'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($ratings as $rating)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $rating_scheme = 'urn:itunes';&nbsp;</div></li><li><div>                    $rating_value = null;&nbsp;</div></li><li><div>                    if (isset($rating['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ratings_parent[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($ratings_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $ratings_parent = array_values(array_unique($ratings_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // RESTRICTIONS&nbsp;</div></li><li><div>            if ($restrictions = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'restriction'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($restrictions as $restriction)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $restriction_relationship = null;&nbsp;</div></li><li><div>                    $restriction_type = null;&nbsp;</div></li><li><div>                    $restriction_value = null;&nbsp;</div></li><li><div>                    if (isset($restriction['attribs']['']['relationship']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_relationship = $this-&gt;sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($restriction['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_type = $this-&gt;sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($restriction['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_value = $this-&gt;sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $restrictions_parent[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($restrictions = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'block'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($restrictions as $restriction)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $restriction_relationship = 'allow';&nbsp;</div></li><li><div>                    $restriction_type = null;&nbsp;</div></li><li><div>                    $restriction_value = 'itunes';&nbsp;</div></li><li><div>                    if (isset($restriction['data']) && strtolower($restriction['data']) === 'yes')&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_relationship = 'deny';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $restrictions_parent[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($restrictions = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'restriction'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($restrictions as $restriction)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $restriction_relationship = null;&nbsp;</div></li><li><div>                    $restriction_type = null;&nbsp;</div></li><li><div>                    $restriction_value = null;&nbsp;</div></li><li><div>                    if (isset($restriction['attribs']['']['relationship']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_relationship = $this-&gt;sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($restriction['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_type = $this-&gt;sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($restriction['data']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_value = $this-&gt;sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $restrictions_parent[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($restrictions = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, 'block'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($restrictions as $restriction)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $restriction_relationship = 'allow';&nbsp;</div></li><li><div>                    $restriction_type = null;&nbsp;</div></li><li><div>                    $restriction_value = 'itunes';&nbsp;</div></li><li><div>                    if (isset($restriction['data']) && strtolower($restriction['data']) === 'yes')&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $restriction_relationship = 'deny';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $restrictions_parent[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (is_array($restrictions_parent))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $restrictions_parent = array_values(array_unique($restrictions_parent));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                $restrictions_parent = array(new SimplePie_Restriction('allow', null, 'default'));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // THUMBNAILS&nbsp;</div></li><li><div>            if ($thumbnails = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'thumbnail'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($thumbnails as $thumbnail)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    if (isset($thumbnail['attribs']['']['url']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $thumbnails_parent[] = $this-&gt;sanitize($thumbnail['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($thumbnails = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'thumbnail'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ($thumbnails as $thumbnail)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    if (isset($thumbnail['attribs']['']['url']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $thumbnails_parent[] = $this-&gt;sanitize($thumbnail['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // TITLES&nbsp;</div></li><li><div>            if ($title_parent = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($title_parent[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $title_parent = $this-&gt;sanitize($title_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ($title_parent = $parent-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'title'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($title_parent[0]['data']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    $title_parent = $this-&gt;sanitize($title_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Clear the memory&nbsp;</div></li><li><div>            unset($parent);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Attributes&nbsp;</div></li><li><div>            $bitrate = null;&nbsp;</div></li><li><div>            $channels = null;&nbsp;</div></li><li><div>            $duration = null;&nbsp;</div></li><li><div>            $expression = null;&nbsp;</div></li><li><div>            $framerate = null;&nbsp;</div></li><li><div>            $height = null;&nbsp;</div></li><li><div>            $javascript = null;&nbsp;</div></li><li><div>            $lang = null;&nbsp;</div></li><li><div>            $length = null;&nbsp;</div></li><li><div>            $medium = null;&nbsp;</div></li><li><div>            $samplingrate = null;&nbsp;</div></li><li><div>            $type = null;&nbsp;</div></li><li><div>            $url = null;&nbsp;</div></li><li><div>            $width = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Elements&nbsp;</div></li><li><div>            $captions = null;&nbsp;</div></li><li><div>            $categories = null;&nbsp;</div></li><li><div>            $copyrights = null;&nbsp;</div></li><li><div>            $credits = null;&nbsp;</div></li><li><div>            $description = null;&nbsp;</div></li><li><div>            $hashes = null;&nbsp;</div></li><li><div>            $keywords = null;&nbsp;</div></li><li><div>            $player = null;&nbsp;</div></li><li><div>            $ratings = null;&nbsp;</div></li><li><div>            $restrictions = null;&nbsp;</div></li><li><div>            $thumbnails = null;&nbsp;</div></li><li><div>            $title = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // If we have media:group tags, loop through them.&nbsp;</div></li><li><div>            foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, 'group') as $group)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if(isset($group['child']) && isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['content']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    // If we have media:content tags, loop through them.&nbsp;</div></li><li><div>                    foreach ((array) $group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['content'] as $content)&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['url']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            // Attributes&nbsp;</div></li><li><div>                            $bitrate = null;&nbsp;</div></li><li><div>                            $channels = null;&nbsp;</div></li><li><div>                            $duration = null;&nbsp;</div></li><li><div>                            $expression = null;&nbsp;</div></li><li><div>                            $framerate = null;&nbsp;</div></li><li><div>                            $height = null;&nbsp;</div></li><li><div>                            $javascript = null;&nbsp;</div></li><li><div>                            $lang = null;&nbsp;</div></li><li><div>                            $length = null;&nbsp;</div></li><li><div>                            $medium = null;&nbsp;</div></li><li><div>                            $samplingrate = null;&nbsp;</div></li><li><div>                            $type = null;&nbsp;</div></li><li><div>                            $url = null;&nbsp;</div></li><li><div>                            $width = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Elements&nbsp;</div></li><li><div>                            $captions = null;&nbsp;</div></li><li><div>                            $categories = null;&nbsp;</div></li><li><div>                            $copyrights = null;&nbsp;</div></li><li><div>                            $credits = null;&nbsp;</div></li><li><div>                            $description = null;&nbsp;</div></li><li><div>                            $hashes = null;&nbsp;</div></li><li><div>                            $keywords = null;&nbsp;</div></li><li><div>                            $player = null;&nbsp;</div></li><li><div>                            $ratings = null;&nbsp;</div></li><li><div>                            $restrictions = null;&nbsp;</div></li><li><div>                            $thumbnails = null;&nbsp;</div></li><li><div>                            $title = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Start checking the attributes of media:content&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['bitrate']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $bitrate = $this-&gt;sanitize($content['attribs']['']['bitrate'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['channels']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $channels = $this-&gt;sanitize($content['attribs']['']['channels'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['duration']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $duration = $this-&gt;sanitize($content['attribs']['']['duration'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $duration = $duration_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['expression']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $expression = $this-&gt;sanitize($content['attribs']['']['expression'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['framerate']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $framerate = $this-&gt;sanitize($content['attribs']['']['framerate'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['height']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $height = $this-&gt;sanitize($content['attribs']['']['height'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['lang']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $lang = $this-&gt;sanitize($content['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['fileSize']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $length = ceil($content['attribs']['']['fileSize']);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['medium']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $medium = $this-&gt;sanitize($content['attribs']['']['medium'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['samplingrate']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $samplingrate = $this-&gt;sanitize($content['attribs']['']['samplingrate'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['type']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $type = $this-&gt;sanitize($content['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['attribs']['']['width']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $width = $this-&gt;sanitize($content['attribs']['']['width'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            $url = $this-&gt;sanitize($content['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Checking the other optional media: elements. Priority: media:content, media:group, item, channel&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // CAPTIONS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['text']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['text'] as $caption)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_type = null;&nbsp;</div></li><li><div>                                    $caption_lang = null;&nbsp;</div></li><li><div>                                    $caption_startTime = null;&nbsp;</div></li><li><div>                                    $caption_endTime = null;&nbsp;</div></li><li><div>                                    $caption_text = null;&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['type']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_type = $this-&gt;sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['lang']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_lang = $this-&gt;sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['start']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_startTime = $this-&gt;sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['end']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_endTime = $this-&gt;sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_text = $this-&gt;sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $captions[] = $this-&gt;registry-&gt;create('Caption', array($caption_type, $caption_lang, $caption_startTime, $caption_endTime, $caption_text));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($captions))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $captions = array_values(array_unique($captions));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['text']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['text'] as $caption)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_type = null;&nbsp;</div></li><li><div>                                    $caption_lang = null;&nbsp;</div></li><li><div>                                    $caption_startTime = null;&nbsp;</div></li><li><div>                                    $caption_endTime = null;&nbsp;</div></li><li><div>                                    $caption_text = null;&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['type']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_type = $this-&gt;sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['lang']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_lang = $this-&gt;sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['start']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_startTime = $this-&gt;sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['attribs']['']['end']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_endTime = $this-&gt;sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($caption['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $caption_text = $this-&gt;sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $captions[] = $this-&gt;registry-&gt;create('Caption', array($caption_type, $caption_lang, $caption_startTime, $caption_endTime, $caption_text));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($captions))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $captions = array_values(array_unique($captions));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $captions = $captions_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // CATEGORIES&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['category']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ((array) $content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['category'] as $category)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $term = null;&nbsp;</div></li><li><div>                                    $scheme = null;&nbsp;</div></li><li><div>                                    $label = null;&nbsp;</div></li><li><div>                                    if (isset($category['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $term = $this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($category['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $scheme = $this-&gt;sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $scheme = 'http://search.yahoo.com/mrss/category_schema';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($category['attribs']['']['label']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $label = $this-&gt;sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $categories[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['category']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ((array) $group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['category'] as $category)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $term = null;&nbsp;</div></li><li><div>                                    $scheme = null;&nbsp;</div></li><li><div>                                    $label = null;&nbsp;</div></li><li><div>                                    if (isset($category['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $term = $this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($category['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $scheme = $this-&gt;sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $scheme = 'http://search.yahoo.com/mrss/category_schema';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($category['attribs']['']['label']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $label = $this-&gt;sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $categories[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($categories) && is_array($categories_parent))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $categories = array_values(array_unique(array_merge($categories, $categories_parent)));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (is_array($categories))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $categories = array_values(array_unique($categories));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (is_array($categories_parent))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $categories = array_values(array_unique($categories_parent));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // COPYRIGHTS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $copyright_url = null;&nbsp;</div></li><li><div>                                $copyright_label = null;&nbsp;</div></li><li><div>                                if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $copyright_url = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $copyright_label = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $copyrights = $this-&gt;registry-&gt;create('Copyright', array($copyright_url, $copyright_label));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $copyright_url = null;&nbsp;</div></li><li><div>                                $copyright_label = null;&nbsp;</div></li><li><div>                                if (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $copyright_url = $this-&gt;sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $copyright_label = $this-&gt;sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $copyrights = $this-&gt;registry-&gt;create('Copyright', array($copyright_url, $copyright_label));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $copyrights = $copyrights_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // CREDITS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['credit']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['credit'] as $credit)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credit_role = null;&nbsp;</div></li><li><div>                                    $credit_scheme = null;&nbsp;</div></li><li><div>                                    $credit_name = null;&nbsp;</div></li><li><div>                                    if (isset($credit['attribs']['']['role']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_role = $this-&gt;sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($credit['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_scheme = $this-&gt;sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_scheme = 'urn:ebu';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($credit['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_name = $this-&gt;sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $credits[] = $this-&gt;registry-&gt;create('Credit', array($credit_role, $credit_scheme, $credit_name));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($credits))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credits = array_values(array_unique($credits));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['credit']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['credit'] as $credit)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credit_role = null;&nbsp;</div></li><li><div>                                    $credit_scheme = null;&nbsp;</div></li><li><div>                                    $credit_name = null;&nbsp;</div></li><li><div>                                    if (isset($credit['attribs']['']['role']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_role = $this-&gt;sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($credit['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_scheme = $this-&gt;sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_scheme = 'urn:ebu';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($credit['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $credit_name = $this-&gt;sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $credits[] = $this-&gt;registry-&gt;create('Credit', array($credit_role, $credit_scheme, $credit_name));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($credits))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credits = array_values(array_unique($credits));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $credits = $credits_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // DESCRIPTION&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $description = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $description = $this-&gt;sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $description = $description_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // HASHES&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['hash']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['hash'] as $hash)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $value = null;&nbsp;</div></li><li><div>                                    $algo = null;&nbsp;</div></li><li><div>                                    if (isset($hash['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $value = $this-&gt;sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($hash['attribs']['']['algo']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $algo = $this-&gt;sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $algo = 'md5';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $hashes[] = $algo.':'.$value;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($hashes))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $hashes = array_values(array_unique($hashes));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['hash']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['hash'] as $hash)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $value = null;&nbsp;</div></li><li><div>                                    $algo = null;&nbsp;</div></li><li><div>                                    if (isset($hash['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $value = $this-&gt;sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($hash['attribs']['']['algo']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $algo = $this-&gt;sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $algo = 'md5';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $hashes[] = $algo.':'.$value;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($hashes))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $hashes = array_values(array_unique($hashes));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $hashes = $hashes_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // KEYWORDS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $temp = explode(', ', $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                                    foreach ($temp as $word)&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $keywords[] = trim($word);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    unset($temp);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($keywords))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $keywords = array_values(array_unique($keywords));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                if (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $temp = explode(', ', $this-&gt;sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                                    foreach ($temp as $word)&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $keywords[] = trim($word);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    unset($temp);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($keywords))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $keywords = array_values(array_unique($keywords));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $keywords = $keywords_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // PLAYER&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $player = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $player = $this-&gt;sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $player = $player_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // RATINGS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['rating']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['rating'] as $rating)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $rating_scheme = null;&nbsp;</div></li><li><div>                                    $rating_value = null;&nbsp;</div></li><li><div>                                    if (isset($rating['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $rating_scheme = $this-&gt;sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $rating_scheme = 'urn:simple';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($rating['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $ratings[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($ratings))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $ratings = array_values(array_unique($ratings));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['rating']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['rating'] as $rating)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $rating_scheme = null;&nbsp;</div></li><li><div>                                    $rating_value = null;&nbsp;</div></li><li><div>                                    if (isset($rating['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $rating_scheme = $this-&gt;sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $rating_scheme = 'urn:simple';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($rating['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $ratings[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($ratings))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $ratings = array_values(array_unique($ratings));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $ratings = $ratings_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // RESTRICTIONS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['restriction']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['restriction'] as $restriction)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restriction_relationship = null;&nbsp;</div></li><li><div>                                    $restriction_type = null;&nbsp;</div></li><li><div>                                    $restriction_value = null;&nbsp;</div></li><li><div>                                    if (isset($restriction['attribs']['']['relationship']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $restriction_relationship = $this-&gt;sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($restriction['attribs']['']['type']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $restriction_type = $this-&gt;sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($restriction['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $restriction_value = $this-&gt;sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $restrictions[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($restrictions))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restrictions = array_values(array_unique($restrictions));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['restriction']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['restriction'] as $restriction)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restriction_relationship = null;&nbsp;</div></li><li><div>                                    $restriction_type = null;&nbsp;</div></li><li><div>                                    $restriction_value = null;&nbsp;</div></li><li><div>                                    if (isset($restriction['attribs']['']['relationship']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $restriction_relationship = $this-&gt;sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($restriction['attribs']['']['type']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $restriction_type = $this-&gt;sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    if (isset($restriction['data']))&nbsp;</div></li><li><div>                                    {&nbsp;</div></li><li><div>                                        $restriction_value = $this-&gt;sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $restrictions[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($restrictions))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restrictions = array_values(array_unique($restrictions));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $restrictions = $restrictions_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // THUMBNAILS&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['thumbnail']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['thumbnail'] as $thumbnail)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $thumbnails[] = $this-&gt;sanitize($thumbnail['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($thumbnails))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $thumbnails = array_values(array_unique($thumbnails));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['thumbnail']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                foreach ($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['thumbnail'] as $thumbnail)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $thumbnails[] = $this-&gt;sanitize($thumbnail['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (is_array($thumbnails))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $thumbnails = array_values(array_unique($thumbnails));&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $thumbnails = $thumbnails_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // TITLES&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $title = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif (isset($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $title = $this-&gt;sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $title = $title_parent;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $this-&gt;data['enclosures'][] = $this-&gt;registry-&gt;create('Enclosure', array($url, $type, $length, null, $bitrate, $captions, $categories, $channels, $copyrights, $credits, $description, $duration, $expression, $framerate, $hashes, $height, $keywords, $lang, $medium, $player, $ratings, $restrictions, $samplingrate, $thumbnails, $title, $width));&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // If we have standalone media:content tags, loop through them.&nbsp;</div></li><li><div>            if (isset($this-&gt;data['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['content']))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                foreach ((array) $this-&gt;data['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['content'] as $content)&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    if (isset($content['attribs']['']['url']) || isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        // Attributes&nbsp;</div></li><li><div>                        $bitrate = null;&nbsp;</div></li><li><div>                        $channels = null;&nbsp;</div></li><li><div>                        $duration = null;&nbsp;</div></li><li><div>                        $expression = null;&nbsp;</div></li><li><div>                        $framerate = null;&nbsp;</div></li><li><div>                        $height = null;&nbsp;</div></li><li><div>                        $javascript = null;&nbsp;</div></li><li><div>                        $lang = null;&nbsp;</div></li><li><div>                        $length = null;&nbsp;</div></li><li><div>                        $medium = null;&nbsp;</div></li><li><div>                        $samplingrate = null;&nbsp;</div></li><li><div>                        $type = null;&nbsp;</div></li><li><div>                        $url = null;&nbsp;</div></li><li><div>                        $width = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // Elements&nbsp;</div></li><li><div>                        $captions = null;&nbsp;</div></li><li><div>                        $categories = null;&nbsp;</div></li><li><div>                        $copyrights = null;&nbsp;</div></li><li><div>                        $credits = null;&nbsp;</div></li><li><div>                        $description = null;&nbsp;</div></li><li><div>                        $hashes = null;&nbsp;</div></li><li><div>                        $keywords = null;&nbsp;</div></li><li><div>                        $player = null;&nbsp;</div></li><li><div>                        $ratings = null;&nbsp;</div></li><li><div>                        $restrictions = null;&nbsp;</div></li><li><div>                        $thumbnails = null;&nbsp;</div></li><li><div>                        $title = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // Start checking the attributes of media:content&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['bitrate']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $bitrate = $this-&gt;sanitize($content['attribs']['']['bitrate'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['channels']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $channels = $this-&gt;sanitize($content['attribs']['']['channels'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['duration']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $duration = $this-&gt;sanitize($content['attribs']['']['duration'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $duration = $duration_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['expression']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $expression = $this-&gt;sanitize($content['attribs']['']['expression'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['framerate']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $framerate = $this-&gt;sanitize($content['attribs']['']['framerate'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['height']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $height = $this-&gt;sanitize($content['attribs']['']['height'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['lang']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $lang = $this-&gt;sanitize($content['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['fileSize']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $length = ceil($content['attribs']['']['fileSize']);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['medium']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $medium = $this-&gt;sanitize($content['attribs']['']['medium'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['samplingrate']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $samplingrate = $this-&gt;sanitize($content['attribs']['']['samplingrate'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['type']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $type = $this-&gt;sanitize($content['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['width']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $width = $this-&gt;sanitize($content['attribs']['']['width'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (isset($content['attribs']['']['url']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $url = $this-&gt;sanitize($content['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        // Checking the other optional media: elements. Priority: media:content, media:group, item, channel&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // CAPTIONS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['text']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['text'] as $caption)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $caption_type = null;&nbsp;</div></li><li><div>                                $caption_lang = null;&nbsp;</div></li><li><div>                                $caption_startTime = null;&nbsp;</div></li><li><div>                                $caption_endTime = null;&nbsp;</div></li><li><div>                                $caption_text = null;&nbsp;</div></li><li><div>                                if (isset($caption['attribs']['']['type']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_type = $this-&gt;sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($caption['attribs']['']['lang']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_lang = $this-&gt;sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($caption['attribs']['']['start']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_startTime = $this-&gt;sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($caption['attribs']['']['end']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_endTime = $this-&gt;sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($caption['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $caption_text = $this-&gt;sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $captions[] = $this-&gt;registry-&gt;create('Caption', array($caption_type, $caption_lang, $caption_startTime, $caption_endTime, $caption_text));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($captions))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $captions = array_values(array_unique($captions));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $captions = $captions_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // CATEGORIES&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['category']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ((array) $content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['category'] as $category)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $term = null;&nbsp;</div></li><li><div>                                $scheme = null;&nbsp;</div></li><li><div>                                $label = null;&nbsp;</div></li><li><div>                                if (isset($category['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $term = $this-&gt;sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($category['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $scheme = $this-&gt;sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $scheme = 'http://search.yahoo.com/mrss/category_schema';&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($category['attribs']['']['label']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $label = $this-&gt;sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $categories[] = $this-&gt;registry-&gt;create('Category', array($term, $scheme, $label));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if (is_array($categories) && is_array($categories_parent))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $categories = array_values(array_unique(array_merge($categories, $categories_parent)));&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif (is_array($categories))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $categories = array_values(array_unique($categories));&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif (is_array($categories_parent))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $categories = array_values(array_unique($categories_parent));&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $categories = null;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // COPYRIGHTS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $copyright_url = null;&nbsp;</div></li><li><div>                            $copyright_label = null;&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $copyright_url = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $copyright_label = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            $copyrights = $this-&gt;registry-&gt;create('Copyright', array($copyright_url, $copyright_label));&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $copyrights = $copyrights_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // CREDITS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['credit']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['credit'] as $credit)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $credit_role = null;&nbsp;</div></li><li><div>                                $credit_scheme = null;&nbsp;</div></li><li><div>                                $credit_name = null;&nbsp;</div></li><li><div>                                if (isset($credit['attribs']['']['role']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credit_role = $this-&gt;sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($credit['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credit_scheme = $this-&gt;sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credit_scheme = 'urn:ebu';&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($credit['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $credit_name = $this-&gt;sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $credits[] = $this-&gt;registry-&gt;create('Credit', array($credit_role, $credit_scheme, $credit_name));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($credits))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $credits = array_values(array_unique($credits));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $credits = $credits_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // DESCRIPTION&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $description = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $description = $description_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // HASHES&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['hash']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['hash'] as $hash)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $value = null;&nbsp;</div></li><li><div>                                $algo = null;&nbsp;</div></li><li><div>                                if (isset($hash['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $value = $this-&gt;sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($hash['attribs']['']['algo']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $algo = $this-&gt;sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $algo = 'md5';&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $hashes[] = $algo.':'.$value;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($hashes))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $hashes = array_values(array_unique($hashes));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $hashes = $hashes_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // KEYWORDS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data']))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $temp = explode(', ', $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));&nbsp;</div></li><li><div>                                foreach ($temp as $word)&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $keywords[] = trim($word);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                unset($temp);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($keywords))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $keywords = array_values(array_unique($keywords));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $keywords = $keywords_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // PLAYER&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $player = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $player = $player_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // RATINGS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['rating']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['rating'] as $rating)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $rating_scheme = null;&nbsp;</div></li><li><div>                                $rating_value = null;&nbsp;</div></li><li><div>                                if (isset($rating['attribs']['']['scheme']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $rating_scheme = $this-&gt;sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $rating_scheme = 'urn:simple';&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($rating['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $rating_value = $this-&gt;sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $ratings[] = $this-&gt;registry-&gt;create('Rating', array($rating_scheme, $rating_value));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($ratings))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $ratings = array_values(array_unique($ratings));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $ratings = $ratings_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // RESTRICTIONS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['restriction']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['restriction'] as $restriction)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $restriction_relationship = null;&nbsp;</div></li><li><div>                                $restriction_type = null;&nbsp;</div></li><li><div>                                $restriction_value = null;&nbsp;</div></li><li><div>                                if (isset($restriction['attribs']['']['relationship']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restriction_relationship = $this-&gt;sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($restriction['attribs']['']['type']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restriction_type = $this-&gt;sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (isset($restriction['data']))&nbsp;</div></li><li><div>                                {&nbsp;</div></li><li><div>                                    $restriction_value = $this-&gt;sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $restrictions[] = $this-&gt;registry-&gt;create('Restriction', array($restriction_relationship, $restriction_type, $restriction_value));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($restrictions))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $restrictions = array_values(array_unique($restrictions));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $restrictions = $restrictions_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // THUMBNAILS&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['thumbnail']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            foreach ($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['thumbnail'] as $thumbnail)&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $thumbnails[] = $this-&gt;sanitize($thumbnail['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            if (is_array($thumbnails))&nbsp;</div></li><li><div>                            {&nbsp;</div></li><li><div>                                $thumbnails = array_values(array_unique($thumbnails));&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $thumbnails = $thumbnails_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // TITLES&nbsp;</div></li><li><div>                        if (isset($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title']))&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $title = $this-&gt;sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                        {&nbsp;</div></li><li><div>                            $title = $title_parent;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $this-&gt;data['enclosures'][] = $this-&gt;registry-&gt;create('Enclosure', array($url, $type, $length, null, $bitrate, $captions, $categories, $channels, $copyrights, $credits, $description, $duration, $expression, $framerate, $hashes, $height, $keywords, $lang, $medium, $player, $ratings, $restrictions, $samplingrate, $thumbnails, $title, $width));&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'link') as $link)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($link['attribs']['']['href']) && !empty($link['attribs']['']['rel']) && $link['attribs']['']['rel'] === 'enclosure')&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    // Attributes&nbsp;</div></li><li><div>                    $bitrate = null;&nbsp;</div></li><li><div>                    $channels = null;&nbsp;</div></li><li><div>                    $duration = null;&nbsp;</div></li><li><div>                    $expression = null;&nbsp;</div></li><li><div>                    $framerate = null;&nbsp;</div></li><li><div>                    $height = null;&nbsp;</div></li><li><div>                    $javascript = null;&nbsp;</div></li><li><div>                    $lang = null;&nbsp;</div></li><li><div>                    $length = null;&nbsp;</div></li><li><div>                    $medium = null;&nbsp;</div></li><li><div>                    $samplingrate = null;&nbsp;</div></li><li><div>                    $type = null;&nbsp;</div></li><li><div>                    $url = null;&nbsp;</div></li><li><div>                    $width = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $url = $this-&gt;sanitize($link['attribs']['']['href'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($link));&nbsp;</div></li><li><div>                    if (isset($link['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $type = $this-&gt;sanitize($link['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($link['attribs']['']['length']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $length = ceil($link['attribs']['']['length']);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor&nbsp;</div></li><li><div>                    $this-&gt;data['enclosures'][] = $this-&gt;registry-&gt;create('Enclosure', array($url, $type, $length, null, $bitrate, $captions_parent, $categories_parent, $channels, $copyrights_parent, $credits_parent, $description_parent, $duration_parent, $expression, $framerate, $hashes_parent, $height, $keywords_parent, $lang, $medium, $player_parent, $ratings_parent, $restrictions_parent, $samplingrate, $thumbnails_parent, $title_parent, $width));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ((array) $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, 'link') as $link)&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($link['attribs']['']['href']) && !empty($link['attribs']['']['rel']) && $link['attribs']['']['rel'] === 'enclosure')&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    // Attributes&nbsp;</div></li><li><div>                    $bitrate = null;&nbsp;</div></li><li><div>                    $channels = null;&nbsp;</div></li><li><div>                    $duration = null;&nbsp;</div></li><li><div>                    $expression = null;&nbsp;</div></li><li><div>                    $framerate = null;&nbsp;</div></li><li><div>                    $height = null;&nbsp;</div></li><li><div>                    $javascript = null;&nbsp;</div></li><li><div>                    $lang = null;&nbsp;</div></li><li><div>                    $length = null;&nbsp;</div></li><li><div>                    $medium = null;&nbsp;</div></li><li><div>                    $samplingrate = null;&nbsp;</div></li><li><div>                    $type = null;&nbsp;</div></li><li><div>                    $url = null;&nbsp;</div></li><li><div>                    $width = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $url = $this-&gt;sanitize($link['attribs']['']['href'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($link));&nbsp;</div></li><li><div>                    if (isset($link['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $type = $this-&gt;sanitize($link['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($link['attribs']['']['length']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $length = ceil($link['attribs']['']['length']);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor&nbsp;</div></li><li><div>                    $this-&gt;data['enclosures'][] = $this-&gt;registry-&gt;create('Enclosure', array($url, $type, $length, null, $bitrate, $captions_parent, $categories_parent, $channels, $copyrights_parent, $credits_parent, $description_parent, $duration_parent, $expression, $framerate, $hashes_parent, $height, $keywords_parent, $lang, $medium, $player_parent, $ratings_parent, $restrictions_parent, $samplingrate, $thumbnails_parent, $title_parent, $width));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ($enclosure = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, 'enclosure'))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                if (isset($enclosure[0]['attribs']['']['url']))&nbsp;</div></li><li><div>                {&nbsp;</div></li><li><div>                    // Attributes&nbsp;</div></li><li><div>                    $bitrate = null;&nbsp;</div></li><li><div>                    $channels = null;&nbsp;</div></li><li><div>                    $duration = null;&nbsp;</div></li><li><div>                    $expression = null;&nbsp;</div></li><li><div>                    $framerate = null;&nbsp;</div></li><li><div>                    $height = null;&nbsp;</div></li><li><div>                    $javascript = null;&nbsp;</div></li><li><div>                    $lang = null;&nbsp;</div></li><li><div>                    $length = null;&nbsp;</div></li><li><div>                    $medium = null;&nbsp;</div></li><li><div>                    $samplingrate = null;&nbsp;</div></li><li><div>                    $type = null;&nbsp;</div></li><li><div>                    $url = null;&nbsp;</div></li><li><div>                    $width = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $url = $this-&gt;sanitize($enclosure[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI, $this-&gt;get_base($enclosure[0]));&nbsp;</div></li><li><div>                    if (isset($enclosure[0]['attribs']['']['type']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $type = $this-&gt;sanitize($enclosure[0]['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if (isset($enclosure[0]['attribs']['']['length']))&nbsp;</div></li><li><div>                    {&nbsp;</div></li><li><div>                        $length = ceil($enclosure[0]['attribs']['']['length']);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor&nbsp;</div></li><li><div>                    $this-&gt;data['enclosures'][] = $this-&gt;registry-&gt;create('Enclosure', array($url, $type, $length, null, $bitrate, $captions_parent, $categories_parent, $channels, $copyrights_parent, $credits_parent, $description_parent, $duration_parent, $expression, $framerate, $hashes_parent, $height, $keywords_parent, $lang, $medium, $player_parent, $ratings_parent, $restrictions_parent, $samplingrate, $thumbnails_parent, $title_parent, $width));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if (sizeof($this-&gt;data['enclosures']) === 0 && ($url || $type || $length || $bitrate || $captions_parent || $categories_parent || $channels || $copyrights_parent || $credits_parent || $description_parent || $duration_parent || $expression || $framerate || $hashes_parent || $height || $keywords_parent || $lang || $medium || $player_parent || $ratings_parent || $restrictions_parent || $samplingrate || $thumbnails_parent || $title_parent || $width))&nbsp;</div></li><li><div>            {&nbsp;</div></li><li><div>                // Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor&nbsp;</div></li><li><div>                $this-&gt;data['enclosures'][] = $this-&gt;registry-&gt;create('Enclosure', array($url, $type, $length, null, $bitrate, $captions_parent, $categories_parent, $channels, $copyrights_parent, $credits_parent, $description_parent, $duration_parent, $expression, $framerate, $hashes_parent, $height, $keywords_parent, $lang, $medium, $player_parent, $ratings_parent, $restrictions_parent, $samplingrate, $thumbnails_parent, $title_parent, $width));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;data['enclosures'] = array_values(array_unique($this-&gt;data['enclosures']));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (!empty($this-&gt;data['enclosures']))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;data['enclosures'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the latitude coordinates for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Compatible with the W3C WGS84 Basic Geo and GeoRSS specifications&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;geo:lat&gt;` or `&lt;georss:point&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.0&nbsp;</div></li><li><div>     * @link http://www.w3.org/2003/01/geo/ W3C WGS84 Basic Geo&nbsp;</div></li><li><div>     * @link http://www.georss.org/ GeoRSS&nbsp;</div></li><li><div>     * @return string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_latitude()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, 'lat'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return (float) $return[0]['data'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif (($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_GEORSS, 'point')) && preg_match('/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/', trim($return[0]['data']), $match))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return (float) $match[1];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the longitude coordinates for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Compatible with the W3C WGS84 Basic Geo and GeoRSS specifications&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Uses `&lt;geo:long&gt;`, `&lt;geo:lon&gt;` or `&lt;georss:point&gt;`&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.0&nbsp;</div></li><li><div>     * @link http://www.w3.org/2003/01/geo/ W3C WGS84 Basic Geo&nbsp;</div></li><li><div>     * @link http://www.georss.org/ GeoRSS&nbsp;</div></li><li><div>     * @return string|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_longitude()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, 'long'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return (float) $return[0]['data'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, 'lon'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return (float) $return[0]['data'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif (($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_GEORSS, 'point')) && preg_match('/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/', trim($return[0]['data']), $match))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return (float) $match[2];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the `&lt;atom:source&gt;` for the item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 1.1&nbsp;</div></li><li><div>     * @return SimplePie_Source|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_source()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if ($return = $this-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, 'source'))&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return $this-&gt;registry-&gt;create('Source', array($this, $return[0]));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>        {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 4.7</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/4.7.4/classes/simple_pie_item/" class="active">4.7.4</a></li><li><a href="http://hookr.io/4.7.3/classes/simple_pie_item/" class="">4.7.3</a></li><li><a href="http://hookr.io/4.7.2/classes/simple_pie_item/" class="">4.7.2</a></li><li><a href="http://hookr.io/4.7.1/classes/simple_pie_item/" class="">4.7.1</a></li><li><a href="http://hookr.io/4.7/classes/simple_pie_item/" class="">4.7</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>class</li><li><span></span>SimplePie_Item</li><li><span></span>wp-include</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2021 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>