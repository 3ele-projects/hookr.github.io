<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-id="59282"><head xmlns="http://www.w3.org/1999/xhtml"><title> pods | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="Pods, class, plugin, pods, 2.6.8" /><meta name="description" content="The WordPress Core Pods class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.12"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=41e7014a944ad1e8a88ab9f7af45ae59' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.12' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/pods/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-2.6.8-class-pods","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="pods" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to pods." href="http://hookr.io/plugins/pods/" class="plugin"><span property="name">pods</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.6.8." href="http://hookr.io/plugins/pods/2.6.8/" class="H_VERSION"><span property="name">2.6.8</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/pods/2.6.8/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">pods</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="0"><a href="http://hookr.io/2.6.8/all/" title="All">All <span class="count badge">0</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/2.6.8/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="0"><a href="http://hookr.io/2.6.8/hooks/" title="Hooks">Hooks <span class="count badge">0</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/2.6.8/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="0"><a href="http://hookr.io/2.6.8/filters/" title="Filters">Filters <span class="count badge">0</span></a></li><li class="active" data-id="class" data-count="0"><a href="http://hookr.io/2.6.8/classes/" title="Classes">Classes <span class="count badge">0</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/2.6.8/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="0"><a href="http://hookr.io/2.6.8/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/2.6.8/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>Pods</strong></h1><p>The WordPress Core <strong>Pods</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/pods/2.6.8/files/classes-pods/" class="file">/classes/Pods.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="5" class="block" start="5"><li><div>class Pods implements Iterator {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $iterator = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var PodsAPI&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $api;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var PodsData&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var PodsData&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $alt_data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array Array of pod item arrays&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $rows = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array Current pod item array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $row = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $row_number = -1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array Override pod item array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $row_override = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $display_errors = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array|bool|mixed|null|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pod_data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $params = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pod = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pod_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $filters = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $detail_page;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $limit = 15;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $offset = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $page_var = 'pg';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $page = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pagination = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $search = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $search_var = 'search';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $search_mode = 'int'; // int | text | text_like&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $total = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $total_found = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $ui = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var mixed SEO related vars for Pod Pages&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $page_template;&nbsp;</div></li><li><div>    public $body_classes;&nbsp;</div></li><li><div>    public $meta = array();&nbsp;</div></li><li><div>    public $meta_properties = array();&nbsp;</div></li><li><div>    public $meta_extra = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string Last SQL query used by a find()&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $sql;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $deprecated;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public $datatype;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public $datatype_id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Constructor - Pods Framework core&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $pod The pod name&nbsp;</div></li><li><div>     * @param mixed $id (optional) The ID or slug, to load a single record; Provide array of $params to run 'find'&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return \Pods&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @license http://www.gnu.org/licenses/gpl-2.0.html&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/pods/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct ( $pod = null, $id = null ) {&nbsp;</div></li><li><div>        if ( null === $pod ) {&nbsp;</div></li><li><div>            $queried_object = get_queried_object();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $queried_object ) {&nbsp;</div></li><li><div>                $id_lookup = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Post Type Singular&nbsp;</div></li><li><div>                if ( isset( $queried_object-&gt;post_type ) ) {&nbsp;</div></li><li><div>                    $pod = $queried_object-&gt;post_type;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Term Archive&nbsp;</div></li><li><div>                elseif ( isset( $queried_object-&gt;taxonomy ) ) {&nbsp;</div></li><li><div>                    $pod = $queried_object-&gt;taxonomy;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Author Archive&nbsp;</div></li><li><div>                elseif ( isset( $queried_object-&gt;user_login ) ) {&nbsp;</div></li><li><div>                    $pod = 'user';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Post Type Archive&nbsp;</div></li><li><div>                elseif ( isset( $queried_object-&gt;public ) && isset( $queried_object-&gt;name ) ) {&nbsp;</div></li><li><div>                    $pod = $queried_object-&gt;name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $id_lookup = false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( null === $id && $id_lookup ) {&nbsp;</div></li><li><div>                    $id = get_queried_object_id();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;api = pods_api( $pod );&nbsp;</div></li><li><div>        $this-&gt;api-&gt;display_errors =& $this-&gt;display_errors;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data = pods_data( $this-&gt;api, $id, false );&nbsp;</div></li><li><div>        PodsData::$display_errors =& $this-&gt;display_errors;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Set up page variable&nbsp;</div></li><li><div>        if ( pods_strict( false ) ) {&nbsp;</div></li><li><div>            $this-&gt;page = 1;&nbsp;</div></li><li><div>            $this-&gt;pagination = false;&nbsp;</div></li><li><div>            $this-&gt;search = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            // Get the page variable&nbsp;</div></li><li><div>            $this-&gt;page = pods_var( $this-&gt;page_var, 'get' );&nbsp;</div></li><li><div>            $this-&gt;page = ( empty( $this-&gt;page ) ? 1 : max( pods_absint( $this-&gt;page ), 1 ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Set default pagination handling to on/off&nbsp;</div></li><li><div>        if ( defined( 'PODS_GLOBAL_POD_PAGINATION' ) ) {&nbsp;</div></li><li><div>            if ( !PODS_GLOBAL_POD_PAGINATION ) {&nbsp;</div></li><li><div>                $this-&gt;page = 1;&nbsp;</div></li><li><div>                $this-&gt;pagination = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;pagination = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Set default search to on/off&nbsp;</div></li><li><div>        if ( defined( 'PODS_GLOBAL_POD_SEARCH' ) ) {&nbsp;</div></li><li><div>            if ( PODS_GLOBAL_POD_SEARCH )&nbsp;</div></li><li><div>                $this-&gt;search = true;&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;search = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Set default search mode&nbsp;</div></li><li><div>        $allowed_search_modes = array( 'int', 'text', 'text_like' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( defined( 'PODS_GLOBAL_POD_SEARCH_MODE' ) && in_array( PODS_GLOBAL_POD_SEARCH_MODE, $allowed_search_modes ) )&nbsp;</div></li><li><div>            $this-&gt;search_mode = PODS_GLOBAL_POD_SEARCH_MODE;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Sync Settings&nbsp;</div></li><li><div>        $this-&gt;data-&gt;page =& $this-&gt;page;&nbsp;</div></li><li><div>        $this-&gt;data-&gt;limit =& $this-&gt;limit;&nbsp;</div></li><li><div>        $this-&gt;data-&gt;pagination =& $this-&gt;pagination;&nbsp;</div></li><li><div>        $this-&gt;data-&gt;search =& $this-&gt;search;&nbsp;</div></li><li><div>        $this-&gt;data-&gt;search_mode =& $this-&gt;search_mode;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Sync Pod Data&nbsp;</div></li><li><div>        $this-&gt;api-&gt;pod_data =& $this-&gt;data-&gt;pod_data;&nbsp;</div></li><li><div>        $this-&gt;pod_data =& $this-&gt;api-&gt;pod_data;&nbsp;</div></li><li><div>        $this-&gt;api-&gt;pod_id =& $this-&gt;data-&gt;pod_id;&nbsp;</div></li><li><div>        $this-&gt;pod_id =& $this-&gt;api-&gt;pod_id;&nbsp;</div></li><li><div>        $this-&gt;datatype_id =& $this-&gt;pod_id;&nbsp;</div></li><li><div>        $this-&gt;api-&gt;pod =& $this-&gt;data-&gt;pod;&nbsp;</div></li><li><div>        $this-&gt;pod =& $this-&gt;api-&gt;pod;&nbsp;</div></li><li><div>        $this-&gt;datatype =& $this-&gt;pod;&nbsp;</div></li><li><div>        $this-&gt;api-&gt;fields =& $this-&gt;data-&gt;fields;&nbsp;</div></li><li><div>        $this-&gt;fields =& $this-&gt;api-&gt;fields;&nbsp;</div></li><li><div>        $this-&gt;detail_page =& $this-&gt;data-&gt;detail_page;&nbsp;</div></li><li><div>        $this-&gt;id =& $this-&gt;data-&gt;id;&nbsp;</div></li><li><div>        $this-&gt;row =& $this-&gt;data-&gt;row;&nbsp;</div></li><li><div>        $this-&gt;rows =& $this-&gt;data-&gt;data;&nbsp;</div></li><li><div>        $this-&gt;row_number =& $this-&gt;data-&gt;row_number;&nbsp;</div></li><li><div>        $this-&gt;sql =& $this-&gt;data-&gt;sql;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $id ) || is_object( $id ) )&nbsp;</div></li><li><div>            $this-&gt;find( $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Whether this Pod object is valid or not&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function valid () {&nbsp;</div></li><li><div>        if ( empty( $this-&gt;pod_id ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $this-&gt;iterator )&nbsp;</div></li><li><div>            return isset( $this-&gt;rows[ $this-&gt;row_number ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if in Iterator mode&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.php.net/manual/en/class.iterator.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function is_iterator () {&nbsp;</div></li><li><div>        return $this-&gt;iterator;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Turn off Iterator mode to off&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return void&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.php.net/manual/en/class.iterator.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function stop_iterator () {&nbsp;</div></li><li><div>        $this-&gt;iterator = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Rewind Iterator&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return void|boolean&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.php.net/manual/en/class.iterator.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function rewind () {&nbsp;</div></li><li><div>        if ( $this-&gt;iterator ) {&nbsp;</div></li><li><div>            $this-&gt;row_number = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get current Iterator row&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed|boolean&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.php.net/manual/en/class.iterator.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function current () {&nbsp;</div></li><li><div>        if ( $this-&gt;iterator && $this-&gt;fetch() )&nbsp;</div></li><li><div>            return $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get current Iterator key&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int|boolean&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.php.net/manual/en/class.iterator.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function key () {&nbsp;</div></li><li><div>        if ( $this-&gt;iterator )&nbsp;</div></li><li><div>            return $this-&gt;row_number;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Move onto the next Iterator row&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return void|boolean&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.php.net/manual/en/class.iterator.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function next () {&nbsp;</div></li><li><div>        if ( $this-&gt;iterator ) {&nbsp;</div></li><li><div>            $this-&gt;row_number++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Whether a Pod item exists or not when using fetch() or construct with an ID or slug&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function exists () {&nbsp;</div></li><li><div>        if ( empty( $this-&gt;row ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return an array of all rows returned from a find() call.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Most of the time, you will want to loop through data using fetch()&nbsp;</div></li><li><div>     * instead of using this function.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool An array of all rows returned from a find() call, or false if no items returned&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/data/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data () {&nbsp;</div></li><li><div>        do_action( 'pods_pods_data', $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;rows ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return (array) $this-&gt;rows;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return a field input for a specific field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string|array $field Field name or Field data array&nbsp;</div></li><li><div>     * @param string $field Input field name to use (overrides default name)&nbsp;</div></li><li><div>     * @param mixed $value Current value to use&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string Field Input HTML&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.10&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function input( $field, $input_name = null, $value = '__null' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Field data override&nbsp;</div></li><li><div>        if ( is_array( $field ) ) {&nbsp;</div></li><li><div>            $field_data = $field;&nbsp;</div></li><li><div>            $field = pods_var_raw( 'name', $field );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Get field data from field name&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $field_data = $this-&gt;fields( $field );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $field_data ) ) {&nbsp;</div></li><li><div>            $field_type = pods_var_raw( 'type', $field_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $input_name ) ) {&nbsp;</div></li><li><div>                $input_name = $field;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( '__null' == $value ) {&nbsp;</div></li><li><div>                $value = $this-&gt;field( array( 'name' =&gt; $field, 'in_form' =&gt; true ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return PodsForm::field( $input_name, $value, $field_type, $field_data, $this, $this-&gt;id() );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return field array from a Pod, a field's data, or a field option&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param null $field&nbsp;</div></li><li><div>     * @param null $option&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function fields ( $field = null, $option = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $field_data = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;fields ) ) {&nbsp;</div></li><li><div>            // No fields found&nbsp;</div></li><li><div>            $field_data = array();&nbsp;</div></li><li><div>        } elseif ( empty( $field ) ) {&nbsp;</div></li><li><div>            // Return all fields&nbsp;</div></li><li><div>            $field_data = (array) $this-&gt;fields;&nbsp;</div></li><li><div>        } elseif ( ! isset( $this-&gt;fields[ $field ] ) && ! isset( $this-&gt;pod_data['object_fields'][ $field ] ) ) {&nbsp;</div></li><li><div>            // Field not found&nbsp;</div></li><li><div>            $field_data = array();&nbsp;</div></li><li><div>        } elseif ( empty( $option ) ) {&nbsp;</div></li><li><div>            // Return all field data&nbsp;</div></li><li><div>            if ( isset( $this-&gt;fields[ $field ] ) ) {&nbsp;</div></li><li><div>                $field_data = $this-&gt;fields[ $field ];&nbsp;</div></li><li><div>            } elseif ( isset( $this-&gt;pod_data['object_fields'] ) ) {&nbsp;</div></li><li><div>                $field_data = $this-&gt;pod_data['object_fields'][ $field ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            // Merge options&nbsp;</div></li><li><div>            if ( isset( $this-&gt;fields[ $field ] ) ) {&nbsp;</div></li><li><div>                $options = array_merge( $this-&gt;fields[ $field ], $this-&gt;fields[ $field ]['options'] );&nbsp;</div></li><li><div>            } elseif ( isset( $this-&gt;pod_data['object_fields'] ) ) {&nbsp;</div></li><li><div>                $options = array_merge( $this-&gt;pod_data['object_fields'][ $field ], $this-&gt;pod_data['object_fields'][ $field ]['options'] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Get a list of available items from a relationship field&nbsp;</div></li><li><div>            if ( 'data' == $option && in_array( pods_var_raw( 'type', $options ), PodsForm::tableless_field_types() ) ) {&nbsp;</div></li><li><div>                $field_data = PodsForm::field_method( 'pick', 'get_field_data', $options );&nbsp;</div></li><li><div>            } // Return option&nbsp;</div></li><li><div>            elseif ( isset( $options[ $option ] ) ) {&nbsp;</div></li><li><div>                $field_data = $options[ $option ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Modify the field data before returning&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since unknown&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param array $field_data The data for the field.&nbsp;</div></li><li><div>         * @param string|null $field The specific field that data is being return for, if set when method is called or null.&nbsp;</div></li><li><div>         * @param string|null $option Value of option param when method was called. Can be used to get a list of available items from a relationship field.&nbsp;</div></li><li><div>         * @param Pods|object $this The current Pods class instance.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        return apply_filters( 'pods_pods_fields', $field_data, $field, $option, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return row array for an item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function row () {&nbsp;</div></li><li><div>        do_action( 'pods_pods_row', $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_array( $this-&gt;row ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return (array) $this-&gt;row;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the output for a field. If you want the raw value for use in PHP for custom manipulation, &nbsp;</div></li><li><div>     * you will want to use field() instead. This function will automatically convert arrays into a&nbsp;</div></li><li><div>     * list of text such as &quot;Rick, John, and Gary&quot;&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string|array $name The field name, or an associative array of parameters&nbsp;</div></li><li><div>     * @param boolean $single (optional) For tableless fields, to return an array or the first&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string|null|false The output from the field, null if the field doesn't exist, false if no value returned for tableless fields&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/display/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function display ( $name, $single = null ) {&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'name' =&gt; $name, &nbsp;</div></li><li><div>            'single' =&gt; $single, &nbsp;</div></li><li><div>            'display' =&gt; true, &nbsp;</div></li><li><div>            'serial_params' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $name ) || is_object( $name ) ) {&nbsp;</div></li><li><div>            $defaults[ 'name' ] = null;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $name );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_array( $single ) || is_object( $single ) ) {&nbsp;</div></li><li><div>            $defaults[ 'single' ] = null;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $single );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = (object) $params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $value = $this-&gt;field( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $value ) ) {&nbsp;</div></li><li><div>            $fields = $this-&gt;fields;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $this-&gt;pod_data[ 'object_fields' ] ) ) {&nbsp;</div></li><li><div>                $fields = array_merge( $fields, $this-&gt;pod_data[ 'object_fields' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $serial_params = array(&nbsp;</div></li><li><div>                'field' =&gt; $params-&gt;name, &nbsp;</div></li><li><div>                'fields' =&gt; $fields&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $params-&gt;serial_params ) && is_array( $params-&gt;serial_params ) )&nbsp;</div></li><li><div>                $serial_params = array_merge( $serial_params, $params-&gt;serial_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = pods_serial_comma( $value, $serial_params );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the raw output for a field If you want the raw value for use in PHP for custom manipulation, &nbsp;</div></li><li><div>     * you will want to use field() instead. This function will automatically convert arrays into a&nbsp;</div></li><li><div>     * list of text such as &quot;Rick, John, and Gary&quot;&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string|array $name The field name, or an associative array of parameters&nbsp;</div></li><li><div>     * @param boolean $single (optional) For tableless fields, to return an array or the first&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string|null|false The output from the field, null if the field doesn't exist, false if no value returned for tableless fields&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/display/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function raw ( $name, $single = null ) {&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'name' =&gt; $name, &nbsp;</div></li><li><div>            'single' =&gt; $single, &nbsp;</div></li><li><div>            'raw' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $name ) || is_object( $name ) ) {&nbsp;</div></li><li><div>            $defaults[ 'name' ] = null;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $name );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_array( $single ) || is_object( $single ) ) {&nbsp;</div></li><li><div>            $defaults[ 'single' ] = null;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $single );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = (object) $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $value = $this-&gt;field( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the value for a field.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * If you are getting a field for output in a theme, most of the time you will want to use display() instead.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This function will return arrays for relationship and file fields.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string|array $name The field name, or an associative array of parameters&nbsp;</div></li><li><div>     * @param boolean $single (optional) For tableless fields, to return the whole array or the just the first item, or an associative array of parameters&nbsp;</div></li><li><div>     * @param boolean $raw (optional) Whether to return the raw value, or to run through the field type's display method, or an associative array of parameters&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed|null Value returned depends on the field type, null if the field doesn't exist, false if no value returned for tableless fields&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/field/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function field ( $name, $single = null, $raw = false ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'name' =&gt; $name, &nbsp;</div></li><li><div>            'orderby' =&gt; null, &nbsp;</div></li><li><div>            'single' =&gt; $single, &nbsp;</div></li><li><div>            'params' =&gt; null, &nbsp;</div></li><li><div>            'in_form' =&gt; false, &nbsp;</div></li><li><div>            'raw' =&gt; $raw, &nbsp;</div></li><li><div>            'raw_display' =&gt; false, &nbsp;</div></li><li><div>            'display' =&gt; false, &nbsp;</div></li><li><div>            'get_meta' =&gt; false, &nbsp;</div></li><li><div>            'output' =&gt; null, &nbsp;</div></li><li><div>            'deprecated' =&gt; false, &nbsp;</div></li><li><div>            'args' =&gt; array() // extra data to send to field handlers&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $name ) || is_object( $name ) ) {&nbsp;</div></li><li><div>            $defaults[ 'name' ] = null;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $name );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_array( $single ) || is_object( $single ) ) {&nbsp;</div></li><li><div>            $defaults[ 'single' ] = null;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $single );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_array( $raw ) || is_object( $raw ) ) {&nbsp;</div></li><li><div>            $defaults[ 'raw' ] = false;&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, (array) $raw );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = (object) $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $params-&gt;in_form ) {&nbsp;</div></li><li><div>            $params-&gt;output = 'ids';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( null === $params-&gt;output ) {&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * Override the way realted fields are output&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @param string $output How to output related fields. Default is 'arrays'. Options: id|name|object|array|pod&nbsp;</div></li><li><div>             * @param array|object $row Current row being outputted.&nbsp;</div></li><li><div>             * @param array $params Params array passed to field().&nbsp;</div></li><li><div>             * @param object|Pods   $this Current Pods object.&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            $params-&gt;output = apply_filters( 'pods_pods_field_related_output_type', 'arrays', $this-&gt;row, $params, $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( in_array( $params-&gt;output, array( 'id', 'name', 'object', 'array', 'pod' ) ) )&nbsp;</div></li><li><div>            $params-&gt;output .= 's';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Support old $orderby variable&nbsp;</div></li><li><div>        if ( null !== $params-&gt;single && is_string( $params-&gt;single ) && empty( $params-&gt;orderby ) ) {&nbsp;</div></li><li><div>            if ( ! class_exists( 'Pod' ) || Pod::$deprecated_notice ) {&nbsp;</div></li><li><div>                pods_deprecated( 'Pods::field', '2.0', 'Use $params[ \'orderby\' ] instead' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params-&gt;orderby = $params-&gt;single;&nbsp;</div></li><li><div>            $params-&gt;single = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $params-&gt;single )&nbsp;</div></li><li><div>            $params-&gt;single = (boolean) $params-&gt;single;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params-&gt;name = trim( $params-&gt;name );&nbsp;</div></li><li><div>        if ( is_array( $params-&gt;name ) || strlen( $params-&gt;name ) &lt; 1 )&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params-&gt;full_name = $params-&gt;name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $value = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;row_override[ $params-&gt;name ] ) )&nbsp;</div></li><li><div>            $value = $this-&gt;row_override[ $params-&gt;name ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === $this-&gt;row() ) {&nbsp;</div></li><li><div>            if ( false !== $this-&gt;data() )&nbsp;</div></li><li><div>                $this-&gt;fetch();&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                return $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $this-&gt;data-&gt;field_id == $params-&gt;name ) {&nbsp;</div></li><li><div>            if ( isset( $this-&gt;row[ $params-&gt;name ] ) )&nbsp;</div></li><li><div>                return $this-&gt;row[ $params-&gt;name ];&nbsp;</div></li><li><div>            elseif ( null !== $value )&nbsp;</div></li><li><div>                return $value;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return 0;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $tableless_field_types = PodsForm::tableless_field_types();&nbsp;</div></li><li><div>        $simple_tableless_objects = PodsForm::simple_tableless_objects();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params-&gt;traverse = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( in_array( $params-&gt;name, array( '_link', 'detail_url' ) ) || ( in_array( $params-&gt;name, array( 'permalink', 'the_permalink' ) ) && in_array( $this-&gt;pod_data[ 'type' ], array( 'post_type', 'taxonomy', 'media', 'user', 'comment' ) ) ) ) {&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $this-&gt;detail_page ) )&nbsp;</div></li><li><div>                $value = get_home_url() . '/' . $this-&gt;do_magic_tags( $this-&gt;detail_page );&nbsp;</div></li><li><div>            elseif ( in_array( $this-&gt;pod_data[ 'type' ], array( 'post_type', 'media' ) ) )&nbsp;</div></li><li><div>                $value = get_permalink( $this-&gt;id() );&nbsp;</div></li><li><div>            elseif ( 'taxonomy' == $this-&gt;pod_data[ 'type' ] )&nbsp;</div></li><li><div>                $value = get_term_link( $this-&gt;id(), $this-&gt;pod_data[ 'name' ] );&nbsp;</div></li><li><div>            elseif ( 'user' == $this-&gt;pod_data[ 'type' ] )&nbsp;</div></li><li><div>                $value = get_author_posts_url( $this-&gt;id() );&nbsp;</div></li><li><div>            elseif ( 'comment' == $this-&gt;pod_data[ 'type' ] )&nbsp;</div></li><li><div>                $value = get_comment_link( $this-&gt;id() );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $field_data = $last_field_data = false;&nbsp;</div></li><li><div>        $field_type = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $first_field = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>        $first_field = $first_field[ 0 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;fields[ $first_field ] ) ) {&nbsp;</div></li><li><div>            $field_data = $this-&gt;fields[ $first_field ];&nbsp;</div></li><li><div>            $field_type = 'field';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( !empty( $this-&gt;pod_data[ 'object_fields' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $this-&gt;pod_data[ 'object_fields' ][ $first_field ] ) ) {&nbsp;</div></li><li><div>                $field_data = $this-&gt;pod_data[ 'object_fields' ][ $first_field ];&nbsp;</div></li><li><div>                $field_type = 'object_field';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                foreach ( $this-&gt;pod_data[ 'object_fields' ] as $object_field =&gt; $object_field_opt ) {&nbsp;</div></li><li><div>                    if ( in_array( $first_field, $object_field_opt[ 'alias' ] ) ) {&nbsp;</div></li><li><div>                        if ( $first_field == $params-&gt;name )&nbsp;</div></li><li><div>                            $params-&gt;name = $object_field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $first_field = $object_field;&nbsp;</div></li><li><div>                        $field_data = $object_field_opt;&nbsp;</div></li><li><div>                        $field_type = 'object_field';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Simple fields have no other output options&nbsp;</div></li><li><div>        if ( 'pick' == $field_data[ 'type' ] && in_array( $field_data[ 'pick_object' ], $simple_tableless_objects ) ) {&nbsp;</div></li><li><div>            $params-&gt;output = 'arrays';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $value ) && in_array( $field_data[ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>            $params-&gt;raw = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'arrays' != $params-&gt;output && isset( $this-&gt;row[ '_' . $params-&gt;output . '_' . $params-&gt;name ] ) ) {&nbsp;</div></li><li><div>                $value = $this-&gt;row[ '_' . $params-&gt;output . '_' . $params-&gt;name ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( 'arrays' == $params-&gt;output && isset( $this-&gt;row[ $params-&gt;name ] ) ) {&nbsp;</div></li><li><div>                $value = $this-&gt;row[ $params-&gt;name ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== $value && !is_array( $value ) && 'pick' == $field_data[ 'type' ] && in_array( $field_data[ 'pick_object' ], $simple_tableless_objects ) )&nbsp;</div></li><li><div>                $value = PodsForm::field_method( 'pick', 'simple_value', $params-&gt;name, $value, $field_data, $this-&gt;pod_data, $this-&gt;id(), true );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $value ) && isset( $this-&gt;row[ $params-&gt;name ] ) && ( !in_array( $field_data[ 'type' ], $tableless_field_types ) || 'arrays' == $params-&gt;output ) ) {&nbsp;</div></li><li><div>            if ( empty( $field_data ) || in_array( $field_data[ 'type' ], array( 'boolean', 'number', 'currency' ) ) )&nbsp;</div></li><li><div>                $params-&gt;raw = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $params-&gt;single ) {&nbsp;</div></li><li><div>                if ( isset( $this-&gt;fields[ $params-&gt;name ] ) && !in_array( $this-&gt;fields[ $params-&gt;name ][ 'type' ], $tableless_field_types ) )&nbsp;</div></li><li><div>                    $params-&gt;single = true;&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $params-&gt;single = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = $this-&gt;row[ $params-&gt;name ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( empty( $value ) ) {&nbsp;</div></li><li><div>            $object_field_found = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'object_field' == $field_type ) {&nbsp;</div></li><li><div>                $object_field_found = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $this-&gt;row[ $first_field ] ) )&nbsp;</div></li><li><div>                    $value = $this-&gt;row[ $first_field ];&nbsp;</div></li><li><div>                elseif ( in_array( $field_data[ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>                    $this-&gt;fields[ $first_field ] = $field_data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $object_field_found = false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    return null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'post_type' == $this-&gt;pod_data[ 'type' ] && !isset( $this-&gt;fields[ $params-&gt;name ] ) ) {&nbsp;</div></li><li><div>                if ( !isset( $this-&gt;fields[ 'post_thumbnail' ] ) && ( 'post_thumbnail' == $params-&gt;name || 0 === strpos( $params-&gt;name, 'post_thumbnail.' ) ) ) {&nbsp;</div></li><li><div>                    $size = 'thumbnail';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 0 === strpos( $params-&gt;name, 'post_thumbnail.' ) ) {&nbsp;</div></li><li><div>                        $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                            $size = $field_names[ 1 ];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Pods will auto-get the thumbnail ID if this isn't an attachment&nbsp;</div></li><li><div>                    $value = pods_image( $this-&gt;id(), $size, 0, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $object_field_found = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( !isset( $this-&gt;fields[ 'post_thumbnail_url' ] ) && ( 'post_thumbnail_url' == $params-&gt;name || 0 === strpos( $params-&gt;name, 'post_thumbnail_url.' ) ) ) {&nbsp;</div></li><li><div>                    $size = 'thumbnail';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 0 === strpos( $params-&gt;name, 'post_thumbnail_url.' ) ) {&nbsp;</div></li><li><div>                        $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                            $size = $field_names[ 1 ];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Pods will auto-get the thumbnail ID if this isn't an attachment&nbsp;</div></li><li><div>                    $value = pods_image_url( $this-&gt;id(), $size, 0, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $object_field_found = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 0 === strpos( $params-&gt;name, 'image_attachment.' ) ) {&nbsp;</div></li><li><div>                    $size = 'thumbnail';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $image_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                        $image_id = $field_names[ 1 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( isset( $field_names[ 2 ] ) )&nbsp;</div></li><li><div>                        $size = $field_names[ 2 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $image_id ) ) {&nbsp;</div></li><li><div>                        $value = pods_image( $image_id, $size, 0, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $value ) )&nbsp;</div></li><li><div>                            $object_field_found = true;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 0 === strpos( $params-&gt;name, 'image_attachment_url.' ) ) {&nbsp;</div></li><li><div>                    $size = 'thumbnail';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $image_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                        $image_id = $field_names[ 1 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( isset( $field_names[ 2 ] ) )&nbsp;</div></li><li><div>                        $size = $field_names[ 2 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $image_id ) ) {&nbsp;</div></li><li><div>                        $value = pods_image_url( $image_id, $size, 0, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $value ) )&nbsp;</div></li><li><div>                            $object_field_found = true;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( 'user' == $this-&gt;pod_data[ 'type' ] && !isset( $this-&gt;fields[ $params-&gt;name ] ) ) {&nbsp;</div></li><li><div>                if ( !isset( $this-&gt;fields[ 'avatar' ] ) && ( 'avatar' == $params-&gt;name || 0 === strpos( $params-&gt;name, 'avatar.' ) ) ) {&nbsp;</div></li><li><div>                    $size = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 0 === strpos( $params-&gt;name, 'avatar.' ) ) {&nbsp;</div></li><li><div>                        $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                            $size = (int) $field_names[ 1 ];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $size ) )&nbsp;</div></li><li><div>                        $value = get_avatar( $this-&gt;id(), $size );&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                        $value = get_avatar( $this-&gt;id() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $object_field_found = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( 0 === strpos( $params-&gt;name, 'image_attachment.' ) ) {&nbsp;</div></li><li><div>                $size = 'thumbnail';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $image_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                    $image_id = $field_names[ 1 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $field_names[ 2 ] ) )&nbsp;</div></li><li><div>                    $size = $field_names[ 2 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $image_id ) ) {&nbsp;</div></li><li><div>                    $value = pods_image( $image_id, $size, 0, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $value ) )&nbsp;</div></li><li><div>                        $object_field_found = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( 0 === strpos( $params-&gt;name, 'image_attachment_url.' ) ) {&nbsp;</div></li><li><div>                $size = 'thumbnail';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $image_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field_names = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $field_names[ 1 ] ) )&nbsp;</div></li><li><div>                    $image_id = $field_names[ 1 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $field_names[ 2 ] ) )&nbsp;</div></li><li><div>                    $size = $field_names[ 2 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $image_id ) ) {&nbsp;</div></li><li><div>                    $value = pods_image_url( $image_id, $size, 0, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $value ) )&nbsp;</div></li><li><div>                        $object_field_found = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false === $object_field_found ) {&nbsp;</div></li><li><div>                $params-&gt;traverse = array( $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( false !== strpos( $params-&gt;name, '.' ) ) {&nbsp;</div></li><li><div>                    $params-&gt;traverse = explode( '.', $params-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $params-&gt;name = $params-&gt;traverse[ 0 ];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $this-&gt;fields[ $params-&gt;name ] ) && isset( $this-&gt;fields[ $params-&gt;name ][ 'type' ] ) ) {&nbsp;</div></li><li><div>                    /**&nbsp;</div></li><li><div>                     * Modify value returned by field() after its retrieved, but before its validated or formatted&nbsp;</div></li><li><div>                     *&nbsp;</div></li><li><div>                     * Filter name is set dynamically with name of field: &quot;pods_pods_field_{field_name}&quot;&nbsp;</div></li><li><div>                     *&nbsp;</div></li><li><div>                     * @since unknown&nbsp;</div></li><li><div>                     *&nbsp;</div></li><li><div>                     * @param array|string|null $value Value retrieved.&nbsp;</div></li><li><div>                     * @param array|object $row Current row being outputted.&nbsp;</div></li><li><div>                     * @param array $params Params array passed to field().&nbsp;</div></li><li><div>                     * @param object|Pods $this Current Pods object.&nbsp;</div></li><li><div>                     *&nbsp;</div></li><li><div>                     */&nbsp;</div></li><li><div>                    $v = apply_filters( 'pods_pods_field_' . $this-&gt;fields[ $params-&gt;name ][ 'type' ], null, $this-&gt;fields[ $params-&gt;name ], $this-&gt;row, $params, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( null !== $v )&nbsp;</div></li><li><div>                        return $v;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $simple = false;&nbsp;</div></li><li><div>                $simple_data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $this-&gt;fields[ $params-&gt;name ] ) ) {&nbsp;</div></li><li><div>                    if ( 'meta' == $this-&gt;pod_data[ 'storage' ] ) {&nbsp;</div></li><li><div>                        if ( !in_array( $this-&gt;fields[ $params-&gt;name ][ 'type' ], $tableless_field_types ) )&nbsp;</div></li><li><div>                            $simple = true;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( in_array( $this-&gt;fields[ $params-&gt;name ][ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>                        $params-&gt;raw = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 'pick' == $this-&gt;fields[ $params-&gt;name ][ 'type' ] && in_array( $this-&gt;fields[ $params-&gt;name ][ 'pick_object' ], $simple_tableless_objects ) ) {&nbsp;</div></li><li><div>                            $simple = true;&nbsp;</div></li><li><div>                            $params-&gt;single = true;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( in_array( $this-&gt;fields[ $params-&gt;name ][ 'type' ], array( 'boolean', 'number', 'currency' ) ) )&nbsp;</div></li><li><div>                        $params-&gt;raw = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !isset( $this-&gt;fields[ $params-&gt;name ] ) || !in_array( $this-&gt;fields[ $params-&gt;name ][ 'type' ], $tableless_field_types ) || $simple ) {&nbsp;</div></li><li><div>                    if ( null === $params-&gt;single ) {&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;fields[ $params-&gt;name ] ) && !in_array( $this-&gt;fields[ $params-&gt;name ][ 'type' ], $tableless_field_types ) )&nbsp;</div></li><li><div>                            $params-&gt;single = true;&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                            $params-&gt;single = false;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $no_conflict = pods_no_conflict_check( $this-&gt;pod_data[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !$no_conflict )&nbsp;</div></li><li><div>                        pods_no_conflict_on( $this-&gt;pod_data[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( in_array( $this-&gt;pod_data[ 'type' ], array( 'post_type', 'media', 'taxonomy', 'user', 'comment' ) ) ) {&nbsp;</div></li><li><div>                        $id = $this-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $metadata_type = $this-&gt;pod_data['type'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( in_array( $this-&gt;pod_data[ 'type' ], array( 'post_type', 'media' ) ) ) {&nbsp;</div></li><li><div>                            $metadata_type = 'post';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Support for WPML 'duplicated' translation handling&nbsp;</div></li><li><div>                            if ( did_action( 'wpml_loaded' )&nbsp;</div></li><li><div>                                && apply_filters( 'wpml_is_translated_post_type', false, $this-&gt;pod_data[ 'name' ] ) ) {&nbsp;</div></li><li><div>                                $master_post_id = (int) apply_filters( 'wpml_master_post_from_duplicate', $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( 0 &lt; $master_post_id )&nbsp;</div></li><li><div>                                    $id = $master_post_id;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        } elseif ( 'taxonomy' == $this-&gt;pod_data[ 'type' ] ) {&nbsp;</div></li><li><div>                            $metadata_type = 'term';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $value = get_metadata( $metadata_type, $id, $params-&gt;name, $params-&gt;single );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $single_multi = 'single';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;fields[ $params-&gt;name ] ) ) {&nbsp;</div></li><li><div>                            $single_multi = pods_v( $this-&gt;fields[ $params-&gt;name ][ 'type' ] . '_format_type', $this-&gt;fields[ $params-&gt;name ][ 'options' ], 'single' );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $simple && !is_array( $value ) && 'single' != $single_multi ) {&nbsp;</div></li><li><div>                            $value = get_metadata( $metadata_type, $id, $params-&gt;name );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( 'settings' == $this-&gt;pod_data[ 'type' ] )&nbsp;</div></li><li><div>                        $value = get_option( $this-&gt;pod_data[ 'name' ] . '_' . $params-&gt;name, null );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Handle Simple Relationships&nbsp;</div></li><li><div>                    if ( $simple ) {&nbsp;</div></li><li><div>                        if ( null === $params-&gt;single )&nbsp;</div></li><li><div>                            $params-&gt;single = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $value = PodsForm::field_method( 'pick', 'simple_value', $params-&gt;name, $value, $this-&gt;fields[ $params-&gt;name ], $this-&gt;pod_data, $this-&gt;id(), true );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !$no_conflict )&nbsp;</div></li><li><div>                        pods_no_conflict_off( $this-&gt;pod_data[ 'type' ] );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    // Dot-traversal&nbsp;</div></li><li><div>                    $pod = $this-&gt;pod;&nbsp;</div></li><li><div>                    $ids = array( $this-&gt;id() );&nbsp;</div></li><li><div>                    $all_fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $lookup = $params-&gt;traverse;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Get fields matching traversal names&nbsp;</div></li><li><div>                    if ( !empty( $lookup ) ) {&nbsp;</div></li><li><div>                        $fields = $this-&gt;api-&gt;load_fields( array(&nbsp;</div></li><li><div>                            'name' =&gt; $lookup, &nbsp;</div></li><li><div>                            'type' =&gt; $tableless_field_types, &nbsp;</div></li><li><div>                            'object_fields' =&gt; true // @todo support object fields too&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $fields ) ) {&nbsp;</div></li><li><div>                            foreach ( $fields as $field ) {&nbsp;</div></li><li><div>                                if ( !empty( $field ) ) {&nbsp;</div></li><li><div>                                    if ( !isset( $all_fields[ $field[ 'pod' ] ] ) )&nbsp;</div></li><li><div>                                        $all_fields[ $field[ 'pod' ] ] = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $all_fields[ $field[ 'pod' ] ][ $field[ 'name' ] ] = $field;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $this-&gt;pod_data[ 'object_fields' ] ) ) {&nbsp;</div></li><li><div>                            foreach ( $this-&gt;pod_data[ 'object_fields' ] as $object_field =&gt; $object_field_opt ) {&nbsp;</div></li><li><div>                                if ( in_array( $object_field_opt[ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>                                    $all_fields[ $this-&gt;pod ][ $object_field ] = $object_field_opt;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $last_type = $last_object = $last_pick_val = '';&nbsp;</div></li><li><div>                    $last_options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $single_multi = pods_v( $this-&gt;fields[ $params-&gt;name ][ 'type' ] . '_format_type', $this-&gt;fields[ $params-&gt;name ][ 'options' ], 'single' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 'multi' == $single_multi )&nbsp;</div></li><li><div>                        $limit = (int) pods_v( $this-&gt;fields[ $params-&gt;name ][ 'type' ] . '_limit', $this-&gt;fields[ $params-&gt;name ][ 'options' ], 0 );&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                        $limit = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $last_limit = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Loop through each traversal level&nbsp;</div></li><li><div>                    foreach ( $params-&gt;traverse as $key =&gt; $field ) {&nbsp;</div></li><li><div>                        $last_loop = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( count( $params-&gt;traverse ) &lt;= ( $key + 1 ) )&nbsp;</div></li><li><div>                            $last_loop = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $field_exists = isset( $all_fields[ $pod ][ $field ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $simple = false;&nbsp;</div></li><li><div>                        $last_options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $field_exists && 'pick' == $all_fields[ $pod ][ $field ][ 'type' ] && in_array( $all_fields[ $pod ][ $field ][ 'pick_object' ], $simple_tableless_objects ) ) {&nbsp;</div></li><li><div>                            $simple = true;&nbsp;</div></li><li><div>                            $last_options = $all_fields[ $pod ][ $field ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // Tableless handler&nbsp;</div></li><li><div>                        if ( $field_exists && ( !in_array( $all_fields[ $pod ][ $field ][ 'type' ], array( 'pick', 'taxonomy' ) ) || !$simple ) ) {&nbsp;</div></li><li><div>                            $type = $all_fields[ $pod ][ $field ][ 'type' ];&nbsp;</div></li><li><div>                            $pick_object = $all_fields[ $pod ][ $field ][ 'pick_object' ];&nbsp;</div></li><li><div>                            $pick_val = $all_fields[ $pod ][ $field ][ 'pick_val' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( 'table' == $pick_object ) {&nbsp;</div></li><li><div>                                $pick_val = pods_v( 'pick_table', $all_fields[ $pod ][ $field ][ 'options' ], $pick_val, true );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif ( '__current__' == $pick_val ) {&nbsp;</div></li><li><div>                                $pick_val = $pod;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $last_limit = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( in_array( $type, $tableless_field_types ) ) {&nbsp;</div></li><li><div>                                $single_multi = pods_v( &quot;{$type}_format_type&quot;, $all_fields[ $pod ][ $field ][ 'options' ], 'single' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( 'multi' == $single_multi ) {&nbsp;</div></li><li><div>                                    $last_limit = (int) pods_v( &quot;{$type}_limit&quot;, $all_fields[ $pod ][ $field ][ 'options' ], 0 );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    $last_limit = 1;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $last_type = $type;&nbsp;</div></li><li><div>                            $last_object = $pick_object;&nbsp;</div></li><li><div>                            $last_pick_val = $pick_val;&nbsp;</div></li><li><div>                            $last_options = $all_fields[ $pod ][ $field ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Temporary hack until there's some better handling here&nbsp;</div></li><li><div>                            $last_limit = $last_limit * count( $ids );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Get related IDs&nbsp;</div></li><li><div>                            if ( !isset( $all_fields[ $pod ][ $field ][ 'pod_id' ] ) ) {&nbsp;</div></li><li><div>                                $all_fields[ $pod ][ $field ][ 'pod_id' ] = 0;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( isset( $all_fields[ $pod ][ $field ][ 'id' ] ) ) {&nbsp;</div></li><li><div>                                $ids = $this-&gt;api-&gt;lookup_related_items(&nbsp;</div></li><li><div>                                    $all_fields[ $pod ][ $field ][ 'id' ], &nbsp;</div></li><li><div>                                    $all_fields[ $pod ][ $field ][ 'pod_id' ], &nbsp;</div></li><li><div>                                    $ids, &nbsp;</div></li><li><div>                                    $all_fields[ $pod ][ $field ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // No items found&nbsp;</div></li><li><div>                            if ( empty( $ids ) ) {&nbsp;</div></li><li><div>                                return false;&nbsp;</div></li><li><div>                            } // @todo This should return array() if not $params-&gt;single&nbsp;</div></li><li><div>                            elseif ( 0 &lt; $last_limit ) {&nbsp;</div></li><li><div>                                $ids = array_slice( $ids, 0, $last_limit );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Get $pod if related to a Pod&nbsp;</div></li><li><div>                            if ( !empty( $pick_object ) && ( !empty( $pick_val ) || in_array( $pick_object, array( 'user', 'media', 'comment' ) ) ) ) {&nbsp;</div></li><li><div>                                if ( 'pod' == $pick_object ) {&nbsp;</div></li><li><div>                                    $pod = $pick_val;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    $check = $this-&gt;api-&gt;get_table_info( $pick_object, $pick_val );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( !empty( $check ) && !empty( $check[ 'pod' ] ) ) {&nbsp;</div></li><li><div>                                        $pod = $check[ 'pod' ][ 'name' ];&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        // Assume last iteration&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            // Invalid field&nbsp;</div></li><li><div>                            if ( 0 == $key ) {&nbsp;</div></li><li><div>                                return false;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $last_loop = true;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $last_loop ) {&nbsp;</div></li><li><div>                            $object_type = $last_object;&nbsp;</div></li><li><div>                            $object = $last_pick_val;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( in_array( $last_type, PodsForm::file_field_types() ) ) {&nbsp;</div></li><li><div>                                $object_type = 'media';&nbsp;</div></li><li><div>                                $object = 'attachment';&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $table = $this-&gt;api-&gt;get_table_info( $object_type, $object, null, null, $last_options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $join = $where = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $table[ 'join' ] ) )&nbsp;</div></li><li><div>                                $join = (array) $table[ 'join' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $table[ 'where' ] ) || !empty( $ids ) ) {&nbsp;</div></li><li><div>                                foreach ( $ids as $id ) {&nbsp;</div></li><li><div>                                    $where[ $id ] = '`t`.`' . $table[ 'field_id' ] . '` = ' . (int) $id;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $where ) ) {&nbsp;</div></li><li><div>                                    $where = array( implode( ' OR ', $where ) );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $table[ 'where' ] ) ) {&nbsp;</div></li><li><div>                                    $where = array_merge( $where, array_values( (array) $table[ 'where' ] ) );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            /**&nbsp;</div></li><li><div>                             * @var $related_obj Pods&nbsp;</div></li><li><div>                             */&nbsp;</div></li><li><div>                            $related_obj = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( 'pod' == $object_type )&nbsp;</div></li><li><div>                                $related_obj = pods( $object, null, false );&nbsp;</div></li><li><div>                            elseif ( !empty( $table[ 'pod' ] ) )&nbsp;</div></li><li><div>                                $related_obj = pods( $table[ 'pod' ][ 'name' ], null, false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $table[ 'table' ] ) || !empty( $related_obj ) ) {&nbsp;</div></li><li><div>                                $sql = array(&nbsp;</div></li><li><div>                                    'select' =&gt; '*, `t`.`' . $table[ 'field_id' ] . '` AS `pod_item_id`', &nbsp;</div></li><li><div>                                    'table' =&gt; $table[ 'table' ], &nbsp;</div></li><li><div>                                    'join' =&gt; $join, &nbsp;</div></li><li><div>                                    'where' =&gt; $where, &nbsp;</div></li><li><div>                                    'orderby' =&gt; $params-&gt;orderby, &nbsp;</div></li><li><div>                                    'pagination' =&gt; false, &nbsp;</div></li><li><div>                                    'search' =&gt; false, &nbsp;</div></li><li><div>                                    'limit' =&gt; -1, &nbsp;</div></li><li><div>                                    'expires' =&gt; 180  // @todo This could potentially cause issues if someone changes the data within this time and persistent storage is used&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // Output types&nbsp;</div></li><li><div>                                if ( in_array( $params-&gt;output, array( 'ids', 'objects', 'pods' ) ) )&nbsp;</div></li><li><div>                                    $sql[ 'select' ] = '`t`.`' . $table[ 'field_id' ] . '` AS `pod_item_id`';&nbsp;</div></li><li><div>                                elseif ( 'names' == $params-&gt;output && !empty( $table[ 'field_index' ] ) )&nbsp;</div></li><li><div>                                    $sql[ 'select' ] = '`t`.`' . $table[ 'field_index' ] . '` AS `pod_item_index`, `t`.`' . $table[ 'field_id' ] . '` AS `pod_item_id`';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $params-&gt;params ) && is_array( $params-&gt;params ) ) {&nbsp;</div></li><li><div>                                    $where = $sql[ 'where' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $sql = array_merge( $sql, $params-&gt;params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( isset( $params-&gt;params[ 'where' ] ) )&nbsp;</div></li><li><div>                                        $sql[ 'where' ] = array_merge( (array) $where, (array) $params-&gt;params['where' ] );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( empty( $related_obj ) ) {&nbsp;</div></li><li><div>                                    if ( !is_object( $this-&gt;alt_data ) )&nbsp;</div></li><li><div>                                        $this-&gt;alt_data = pods_data( null, 0, true, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $item_data = $this-&gt;alt_data-&gt;select( $sql );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    $item_data = $related_obj-&gt;find( $sql )-&gt;data();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $items = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $item_data ) ) {&nbsp;</div></li><li><div>                                    foreach ( $item_data as $item ) {&nbsp;</div></li><li><div>                                        if ( is_array( $item ) )&nbsp;</div></li><li><div>                                            $item = (object) $item;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( empty( $item-&gt;pod_item_id ) )&nbsp;</div></li><li><div>                                            continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        // Bypass pass field&nbsp;</div></li><li><div>                                        if ( isset( $item-&gt;user_pass ) )&nbsp;</div></li><li><div>                                            unset( $item-&gt;user_pass );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        // Get Item ID&nbsp;</div></li><li><div>                                        $item_id = $item-&gt;pod_item_id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        // Output types&nbsp;</div></li><li><div>                                        if ( 'ids' == $params-&gt;output )&nbsp;</div></li><li><div>                                            $item = (int) $item_id;&nbsp;</div></li><li><div>                                        elseif ( 'names' == $params-&gt;output && !empty( $table[ 'field_index' ] ) )&nbsp;</div></li><li><div>                                            $item = $item-&gt;pod_item_index;&nbsp;</div></li><li><div>                                        elseif ( 'objects' == $params-&gt;output ) {&nbsp;</div></li><li><div>                                            if ( in_array( $object_type, array( 'post_type', 'media' ) ) )&nbsp;</div></li><li><div>                                                $item = get_post( $item_id );&nbsp;</div></li><li><div>                                            elseif ( 'taxonomy' == $object_type )&nbsp;</div></li><li><div>                                                $item = get_term( $item_id, $object );&nbsp;</div></li><li><div>                                            elseif ( 'user' == $object_type ) {&nbsp;</div></li><li><div>                                                $item = get_userdata( $item_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                if ( !empty( $item ) ) {&nbsp;</div></li><li><div>                                                    // Get other vars&nbsp;</div></li><li><div>                                                    $roles = $item-&gt;roles;&nbsp;</div></li><li><div>                                                    $caps = $item-&gt;caps;&nbsp;</div></li><li><div>                                                    $allcaps = $item-&gt;allcaps;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    $item = $item-&gt;data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    // Set other vars&nbsp;</div></li><li><div>                                                    $item-&gt;roles = $roles;&nbsp;</div></li><li><div>                                                    $item-&gt;caps = $caps;&nbsp;</div></li><li><div>                                                    $item-&gt;allcaps = $allcaps;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    unset( $item-&gt;user_pass );&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            elseif ( 'comment' == $object_type )&nbsp;</div></li><li><div>                                                $item = get_comment( $item_id );&nbsp;</div></li><li><div>                                            else&nbsp;</div></li><li><div>                                                $item = (object) $item;&nbsp;</div></li><li><div>                                        } elseif ( 'pods' == $params-&gt;output ) {&nbsp;</div></li><li><div>                                            if ( in_array( $object_type, array( 'user', 'media' ) ) ) {&nbsp;</div></li><li><div>                                                $item = pods( $object_type, (int) $item_id );&nbsp;</div></li><li><div>                                            } else {&nbsp;</div></li><li><div>                                                $item = pods( $object, (int) $item_id );&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        else // arrays&nbsp;</div></li><li><div>                                            $item = get_object_vars( (object) $item );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        // Pass item data into $data&nbsp;</div></li><li><div>                                        $items[ $item_id ] = $item;&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    // Cleanup&nbsp;</div></li><li><div>                                    unset( $item_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    // Return all of the data in the order expected&nbsp;</div></li><li><div>                                    if ( empty( $params-&gt;orderby ) ) {&nbsp;</div></li><li><div>                                        foreach ( $ids as $id ) {&nbsp;</div></li><li><div>                                            if ( isset( $items[ $id ] ) ) {&nbsp;</div></li><li><div>                                                $data[ $id ] = $items[ $id ];&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    } else {&nbsp;</div></li><li><div>                                        // Use order set by orderby&nbsp;</div></li><li><div>                                        foreach ( $items as $id =&gt; $v ) {&nbsp;</div></li><li><div>                                            if ( in_array( $id, $ids ) ) {&nbsp;</div></li><li><div>                                                $data[ $id ] = $v;&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( in_array( $last_type, $tableless_field_types ) || in_array( $last_type, array( 'boolean', 'number', 'currency' ) ) )&nbsp;</div></li><li><div>                                $params-&gt;raw = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( empty( $data ) )&nbsp;</div></li><li><div>                                $value = false;&nbsp;</div></li><li><div>                            else {&nbsp;</div></li><li><div>                                $object_type = $table[ 'type' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( in_array( $table[ 'type' ], array( 'post_type', 'attachment', 'media' ) ) )&nbsp;</div></li><li><div>                                    $object_type = 'post';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $no_conflict = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( in_array( $object_type, array( 'post', 'taxonomy', 'user', 'comment', 'settings' ) ) ) {&nbsp;</div></li><li><div>                                    $no_conflict = pods_no_conflict_check( $object_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( !$no_conflict )&nbsp;</div></li><li><div>                                        pods_no_conflict_on( $object_type );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // Return entire array&nbsp;</div></li><li><div>                                if ( false !== $field_exists && ( in_array( $last_type, $tableless_field_types ) && !$simple ) )&nbsp;</div></li><li><div>                                    $value = $data;&nbsp;</div></li><li><div>                                // Return an array of single column values&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    $value = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    foreach ( $data as $item_id =&gt; $item ) {&nbsp;</div></li><li><div>                                        // $field is 123x123, needs to be _src.123x123&nbsp;</div></li><li><div>                                        $full_field = implode( '.', array_splice( $params-&gt;traverse, $key ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( is_array( $item ) && isset( $item[ $field ] ) ) {&nbsp;</div></li><li><div>                                            if ( $table[ 'field_id' ] == $field )&nbsp;</div></li><li><div>                                                $value[] = (int) $item[ $field ];&nbsp;</div></li><li><div>                                            else&nbsp;</div></li><li><div>                                                $value[] = $item[ $field ];&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        elseif ( is_object( $item ) && isset( $item-&gt;{$field} ) ) {&nbsp;</div></li><li><div>                                            if ( $table[ 'field_id' ] == $field )&nbsp;</div></li><li><div>                                                $value[] = (int) $item-&gt;{$field};&nbsp;</div></li><li><div>                                            else&nbsp;</div></li><li><div>                                                $value[] = $item-&gt;{$field};&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        elseif ( ( ( false !== strpos( $full_field, '_src' ) || 'guid' == $field ) && ( in_array( $table[ 'type' ], array( 'attachment', 'media' ) ) || in_array( $last_type, PodsForm::file_field_types() ) ) ) || ( in_array( $field, array( '_link', 'detail_url' ) ) || in_array( $field, array( 'permalink', 'the_permalink' ) ) && in_array( $last_type, PodsForm::file_field_types() ) ) ) {&nbsp;</div></li><li><div>                                            $size = 'full';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( false !== strpos( $full_field, '_src.' ) && 5 &lt; strlen( $full_field ) )&nbsp;</div></li><li><div>                                                $size = substr( $full_field, 5 );&nbsp;</div></li><li><div>                                            elseif ( false !== strpos( $full_field, '_src_relative.' ) && 14 &lt; strlen( $full_field ) )&nbsp;</div></li><li><div>                                                $size = substr( $full_field, 14 );&nbsp;</div></li><li><div>                                            elseif ( false !== strpos( $full_field, '_src_schemeless.' ) && 16 &lt; strlen( $full_field ) )&nbsp;</div></li><li><div>                                                $size = substr( $full_field, 16 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $value_url = pods_image_url( $item_id, $size );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( false !== strpos( $full_field, '_src_relative' ) && !empty( $value_url ) ) {&nbsp;</div></li><li><div>                                                $value_url_parsed = parse_url( $value_url );&nbsp;</div></li><li><div>                                                $value_url = $value_url_parsed[ 'path' ];&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            elseif ( false !== strpos( $full_field, '_src_schemeless' ) && !empty( $value_url ) )&nbsp;</div></li><li><div>                                                $value_url = str_replace( array( 'http://', 'https://' ), '//', $value_url );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( !empty( $value_url ) )&nbsp;</div></li><li><div>                                                $value[] = $value_url;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $params-&gt;raw_display = true;&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        elseif ( false !== strpos( $full_field, '_img' ) && ( in_array( $table[ 'type' ], array( 'attachment', 'media' ) ) || in_array( $last_type, PodsForm::file_field_types() ) ) ) {&nbsp;</div></li><li><div>                                            $size = 'full';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( false !== strpos( $full_field, '_img.' ) && 5 &lt; strlen( $full_field ) )&nbsp;</div></li><li><div>                                                $size = substr( $full_field, 5 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $value[] = pods_image( $item_id, $size );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $params-&gt;raw_display = true;&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        elseif ( in_array( $field, array( '_link', 'detail_url' ) ) || in_array( $field, array( 'permalink', 'the_permalink' ) ) ) {&nbsp;</div></li><li><div>                                            if ( 'pod' == $object_type ) {&nbsp;</div></li><li><div>                                                if ( is_object( $related_obj ) ) {&nbsp;</div></li><li><div>                                                    $related_obj-&gt;fetch( $item_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    $value[] = $related_obj-&gt;field( 'detail_url' );&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                                else&nbsp;</div></li><li><div>                                                    $value[] = '';&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            elseif ( 'post' == $object_type )&nbsp;</div></li><li><div>                                                $value[] = get_permalink( $item_id );&nbsp;</div></li><li><div>                                            elseif ( 'taxonomy' == $object_type )&nbsp;</div></li><li><div>                                                $value[] = get_term_link( $item_id, $object );&nbsp;</div></li><li><div>                                            elseif ( 'user' == $object_type )&nbsp;</div></li><li><div>                                                $value[] = get_author_posts_url( $item_id );&nbsp;</div></li><li><div>                                            elseif ( 'comment' == $object_type )&nbsp;</div></li><li><div>                                                $value[] = get_comment_link( $item_id );&nbsp;</div></li><li><div>                                            else&nbsp;</div></li><li><div>                                                $value[] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $params-&gt;raw_display = true;&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        elseif ( in_array( $object_type, array( 'post', 'taxonomy', 'user', 'comment' ) ) ) {&nbsp;</div></li><li><div>                                            $metadata_object_id = $item_id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $metadata_type = $object_type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( 'post' == $object_type ) {&nbsp;</div></li><li><div>                                                // Support for WPML 'duplicated' translation handling&nbsp;</div></li><li><div>                                                if ( did_action( 'wpml_loaded' )&nbsp;</div></li><li><div>                                                    && apply_filters( 'wpml_is_translated_post_type', false, $object ) ) {&nbsp;</div></li><li><div>                                                    $master_post_id = (int) apply_filters( 'wpml_master_post_from_duplicate', $metadata_object_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    if ( 0 &lt; $master_post_id )&nbsp;</div></li><li><div>                                                        $metadata_object_id = $master_post_id;&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            } elseif ( 'taxonomy' == $object_type ) {&nbsp;</div></li><li><div>                                                $metadata_type = 'term';&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $value[] = get_metadata( $metadata_type, $metadata_object_id, $field, true );&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        elseif ( 'settings' == $object_type )&nbsp;</div></li><li><div>                                            $value[] = get_option( $object . '_' . $field );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( in_array( $object_type, array( 'post', 'taxonomy', 'user', 'comment', 'settings' ) ) && !$no_conflict )&nbsp;</div></li><li><div>                                    pods_no_conflict_off( $object_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // Handle Simple Relationships&nbsp;</div></li><li><div>                                if ( $simple ) {&nbsp;</div></li><li><div>                                    if ( null === $params-&gt;single )&nbsp;</div></li><li><div>                                        $params-&gt;single = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $value = PodsForm::field_method( 'pick', 'simple_value', $field, $value, $last_options, $all_fields[ $pod ], 0, true );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                elseif ( false === $params-&gt;in_form && !empty( $value ) )&nbsp;</div></li><li><div>                                    $value = array_values( $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // Return a single column value&nbsp;</div></li><li><div>                                if ( false === $params-&gt;in_form && 1 == $limit && !empty( $value ) && is_array( $value ) && 1 == count( $value ) )&nbsp;</div></li><li><div>                                    $value = current( $value );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( $last_options ) {&nbsp;</div></li><li><div>                                $last_field_data = $last_options;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            break;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params-&gt;traverse ) && 1 &lt; count( $params-&gt;traverse ) ) {&nbsp;</div></li><li><div>            $field_names = implode( '.', $params-&gt;traverse );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;row[ $field_names ] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'arrays' != $params-&gt;output && in_array( $field_data[ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>            $this-&gt;row[ '_' . $params-&gt;output . '_' . $params-&gt;full_name ] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'arrays' == $params-&gt;output || !in_array( $field_data[ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>            $this-&gt;row[ $params-&gt;full_name ] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $params-&gt;single && is_array( $value ) && 1 == count( $value ) )&nbsp;</div></li><li><div>            $value = current( $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $last_field_data ) ) {&nbsp;</div></li><li><div>            $field_data = $last_field_data;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // @todo Expand this into traversed fields too&nbsp;</div></li><li><div>        if ( !empty( $field_data ) && ( $params-&gt;display || !$params-&gt;raw ) && !$params-&gt;in_form && !$params-&gt;raw_display ) {&nbsp;</div></li><li><div>            if ( $params-&gt;display || ( ( $params-&gt;get_meta || $params-&gt;deprecated ) && !in_array( $field_data[ 'type' ], $tableless_field_types ) ) ) {&nbsp;</div></li><li><div>                $field_data[ 'options' ] = pods_var_raw( 'options', $field_data, array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $post_temp = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'post_type' == pods_v( 'type', $this-&gt;pod_data ) && 0 &lt; $this-&gt;id() && ( !isset( $GLOBALS[ 'post' ] ) || empty( $GLOBALS[ 'post' ] ) ) ) {&nbsp;</div></li><li><div>                    global $post_ID, $post;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $post_temp = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $old_post = $GLOBALS[ 'post' ];&nbsp;</div></li><li><div>                    $old_ID = $GLOBALS[ 'post_ID' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $post = get_post( $this-&gt;id() );&nbsp;</div></li><li><div>                    $post_ID = $this-&gt;id();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $filter = pods_var_raw( 'display_filter', $field_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 0 &lt; strlen( $filter ) ) {&nbsp;</div></li><li><div>                    $args = array(&nbsp;</div></li><li><div>                        $filter, &nbsp;</div></li><li><div>                        $value&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $filter_args = pods_var_raw( 'display_filter_args', $field_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $filter_args ) )&nbsp;</div></li><li><div>                        $args = array_merge( $args, compact( $filter_args ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $value = call_user_func_array( 'apply_filters', $args );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 1 == pods_v( 'display_process', $field_data[ 'options' ], 1 ) ) {&nbsp;</div></li><li><div>                    $value = PodsForm::display(&nbsp;</div></li><li><div>                        $field_data[ 'type' ], &nbsp;</div></li><li><div>                        $value, &nbsp;</div></li><li><div>                        $params-&gt;name, &nbsp;</div></li><li><div>                        array_merge( $field_data, $field_data[ 'options' ] ), &nbsp;</div></li><li><div>                        $this-&gt;pod_data, &nbsp;</div></li><li><div>                        $this-&gt;id()&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $post_temp ) {&nbsp;</div></li><li><div>                    $post = $old_post;&nbsp;</div></li><li><div>                    $post_ID = $old_ID;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $value = PodsForm::value(&nbsp;</div></li><li><div>                    $field_data[ 'type' ], &nbsp;</div></li><li><div>                    $value, &nbsp;</div></li><li><div>                    $params-&gt;name, &nbsp;</div></li><li><div>                    array_merge( $field_data, $field_data[ 'options' ] ), &nbsp;</div></li><li><div>                    $this-&gt;pod_data, &nbsp;</div></li><li><div>                    $this-&gt;id()&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Modify value returned by field() directly before output.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * Will not run if value was null&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since unknown&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param array|string|null $value Value to be returned.&nbsp;</div></li><li><div>         * @param array|object $row Current row being outputted.&nbsp;</div></li><li><div>         * @param array $params Params array passed to field().&nbsp;</div></li><li><div>         * @param object|Pods $this Current Pods object.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $value = apply_filters( 'pods_pods_field', $value, $this-&gt;row, $params, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if an item field has a specific value in it&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $field Field name&nbsp;</div></li><li><div>     * @param mixed $value Value to check&nbsp;</div></li><li><div>     * @param int $id (optional) ID of the pod item to check&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool Whether the value was found&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function has ( $field, $value, $id = null ) {&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>        elseif ( $id != $this-&gt;id() )&nbsp;</div></li><li><div>            $pod = pods( $this-&gt;pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'has', $field, $value, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $this-&gt;fields[ $field ] ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Tableless fields&nbsp;</div></li><li><div>        if ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::tableless_field_types() ) ) {&nbsp;</div></li><li><div>            if ( !is_array( $value ) )&nbsp;</div></li><li><div>                $value = explode( ', ', $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'pick' == $this-&gt;fields[ $field ][ 'type' ] && in_array( $this-&gt;fields[ $field ][ 'pick_object' ], PodsForm::simple_tableless_objects() ) ) {&nbsp;</div></li><li><div>                $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $current_value ) )&nbsp;</div></li><li><div>                    $current_value = (array) $current_value;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $current_value as $v ) {&nbsp;</div></li><li><div>                    if ( in_array( $v, $value ) )&nbsp;</div></li><li><div>                        return true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $related_ids = $this-&gt;api-&gt;lookup_related_items( $this-&gt;fields[ $field ][ 'id' ], $this-&gt;pod_data[ 'id' ], $id, $this-&gt;fields[ $field ], $this-&gt;pod_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $value as $k =&gt; $v ) {&nbsp;</div></li><li><div>                    if ( !preg_match( '/[^0-9]/', $v ) )&nbsp;</div></li><li><div>                        $value[ $k ] = (int) $v;&nbsp;</div></li><li><div>                    // @todo Convert slugs into IDs&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $related_ids as $v ) {&nbsp;</div></li><li><div>                    if ( in_array( $v, $value ) )&nbsp;</div></li><li><div>                        return true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Text fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::text_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $current_value ) )&nbsp;</div></li><li><div>                return stripos( $current_value, $value );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // All other fields&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            return $this-&gt;is( $field, $value, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if an item field is a specific value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $field Field name&nbsp;</div></li><li><div>     * @param mixed $value Value to check&nbsp;</div></li><li><div>     * @param int $id (optional) ID of the pod item to check&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool Whether the value was found&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function is ( $field, $value, $id = null ) {&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>        elseif ( $id != $this-&gt;id() )&nbsp;</div></li><li><div>            $pod = pods( $this-&gt;pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'is', $field, $value, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $this-&gt;fields[ $field ] ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Tableless fields&nbsp;</div></li><li><div>        if ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::tableless_field_types() ) ) {&nbsp;</div></li><li><div>            if ( !is_array( $value ) )&nbsp;</div></li><li><div>                $value = explode( ', ', $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $current_value = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'pick' == $this-&gt;fields[ $field ][ 'type' ] && in_array( $this-&gt;fields[ $field ][ 'pick_object' ], PodsForm::simple_tableless_objects() ) ) {&nbsp;</div></li><li><div>                $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $current_value ) )&nbsp;</div></li><li><div>                    $current_value = (array) $current_value;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $current_value as $v ) {&nbsp;</div></li><li><div>                    if ( in_array( $v, $value ) )&nbsp;</div></li><li><div>                        return true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $related_ids = $this-&gt;api-&gt;lookup_related_items( $this-&gt;fields[ $field ][ 'id' ], $this-&gt;pod_data[ 'id' ], $id, $this-&gt;fields[ $field ], $this-&gt;pod_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $value as $k =&gt; $v ) {&nbsp;</div></li><li><div>                    if ( !preg_match( '/[^0-9]/', $v ) )&nbsp;</div></li><li><div>                        $value[ $k ] = (int) $v;&nbsp;</div></li><li><div>                    // @todo Convert slugs into IDs&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $related_ids as $v ) {&nbsp;</div></li><li><div>                    if ( in_array( $v, $value ) )&nbsp;</div></li><li><div>                        return true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $current_value ) )&nbsp;</div></li><li><div>                $current_value = array_filter( array_unique( $current_value ) );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $current_value = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $value ) )&nbsp;</div></li><li><div>                $value = array_filter( array_unique( $value ) );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $value = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            sort( $current_value );&nbsp;</div></li><li><div>            sort( $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $value === $current_value )&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Number fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::number_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( (float) $current_value === (float) $value )&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Date fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::date_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $current_value ) ) {&nbsp;</div></li><li><div>                if ( strtotime( $current_value ) == strtotime( $value ) )&nbsp;</div></li><li><div>                    return true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( empty( $value ) )&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Text fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::text_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( (string) $current_value === (string) $value )&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // All other fields&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $current_value === $value )&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function id () {&nbsp;</div></li><li><div>        if ( isset( $this-&gt;data-&gt;row ) && isset( $this-&gt;data-&gt;row[ 'id' ] ) ) {&nbsp;</div></li><li><div>            // If we already have data loaded return that ID&nbsp;</div></li><li><div>            return $this-&gt;data-&gt;row[ 'id' ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $this-&gt;field( $this-&gt;data-&gt;field_id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the previous item ID, loops at the last id to return the first&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     * @param array $params_override&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function prev_id ( $id = null, $params_override = null ) {&nbsp;</div></li><li><div>        if ( null === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = (int) $id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'select' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;, &nbsp;</div></li><li><div>            'where' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}` &lt; {$id}&quot;, &nbsp;</div></li><li><div>            'orderby' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}` DESC&quot;, &nbsp;</div></li><li><div>            'limit' =&gt; 1&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params_override ) || !empty( $this-&gt;params ) ) {&nbsp;</div></li><li><div>            if ( !empty( $params_override ) )&nbsp;</div></li><li><div>                $params = $params_override;&nbsp;</div></li><li><div>            elseif ( !empty( $this-&gt;params ) )&nbsp;</div></li><li><div>                $params = $this-&gt;params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $params ) ) {&nbsp;</div></li><li><div>                $params = get_object_vars( $params );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; $id ) {&nbsp;</div></li><li><div>                if ( isset( $params[ 'where' ] ) && !empty( $params[ 'where' ] ) ) {&nbsp;</div></li><li><div>                    $params[ 'where' ] = (array) $params[ 'where' ];&nbsp;</div></li><li><div>                    $params[ 'where' ][] = &quot;`t`.`{$this-&gt;data-&gt;field_id}` &lt; {$id}&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $params[ 'where' ] = &quot;`t`.`{$this-&gt;data-&gt;field_id}` &lt; {$id}&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( $params[ 'offset' ] ) && 0 &lt; $params[ 'offset' ] )&nbsp;</div></li><li><div>                $params[ 'offset' ] -= 1;&nbsp;</div></li><li><div>            elseif ( !isset( $params[ 'offset' ] ) && !empty( $this-&gt;params ) && 0 &lt; $this-&gt;row_number )&nbsp;</div></li><li><div>                $params[ 'offset' ] = $this-&gt;row_number - 1;&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                return 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $params[ 'orderby' ] ) && !empty( $params[ 'orderby' ] ) ) {&nbsp;</div></li><li><div>                if ( is_array( $params[ 'orderby' ] ) ) {&nbsp;</div></li><li><div>                    foreach ( $params[ 'orderby' ] as $orderby =&gt; $dir ) {&nbsp;</div></li><li><div>                        $dir = strtoupper( $dir );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !in_array( $dir, array( 'ASC', 'DESC' ) ) ) {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 'ASC' == $dir ) {&nbsp;</div></li><li><div>                            $params[ 'orderby' ][ $orderby ] = 'DESC';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            $params[ 'orderby' ][ $orderby ] = 'ASC';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $params[ 'orderby' ][ $this-&gt;data-&gt;field_id ] = 'DESC';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( &quot;`t`.`{$this-&gt;data-&gt;field_id}` DESC&quot; != $params[ 'orderby' ] ) {&nbsp;</div></li><li><div>                    $params[ 'orderby' ] .= &quot;, `t`.`{$this-&gt;data-&gt;field_id}` DESC&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params[ 'select' ] = &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>            $params[ 'limit' ] = 1;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod = pods( $this-&gt;pod, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $pod-&gt;fetch() )&nbsp;</div></li><li><div>            $new_id = $pod-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = $this-&gt;do_hook( 'prev_id', $new_id, $id, $pod, $params_override );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $new_id;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the next item ID, loops at the first id to return the last&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     * @param array $find_params&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function next_id ( $id = null, $params_override = null ) {&nbsp;</div></li><li><div>        if ( null === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = (int) $id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'select' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;, &nbsp;</div></li><li><div>            'where' =&gt; &quot;{$id} &lt; `t`.`{$this-&gt;data-&gt;field_id}`&quot;, &nbsp;</div></li><li><div>            'orderby' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}` ASC&quot;, &nbsp;</div></li><li><div>            'limit' =&gt; 1&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params_override ) || !empty( $this-&gt;params ) ) {&nbsp;</div></li><li><div>            if ( !empty( $params_override ) )&nbsp;</div></li><li><div>                $params = $params_override;&nbsp;</div></li><li><div>            elseif ( !empty( $this-&gt;params ) )&nbsp;</div></li><li><div>                $params = $this-&gt;params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $params ) ) {&nbsp;</div></li><li><div>                $params = get_object_vars( $params );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; $id ) {&nbsp;</div></li><li><div>                if ( isset( $params[ 'where' ] ) && !empty( $params[ 'where' ] ) ) {&nbsp;</div></li><li><div>                    $params[ 'where' ] = (array) $params[ 'where' ];&nbsp;</div></li><li><div>                    $params[ 'where' ][] = &quot;{$id} &lt; `t`.`{$this-&gt;data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $params[ 'where' ] = &quot;{$id} &lt; `t`.`{$this-&gt;data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !isset( $params[ 'offset' ] ) ) {&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;params ) && -1 &lt; $this-&gt;row_number )&nbsp;</div></li><li><div>                    $params[ 'offset' ] = $this-&gt;row_number + 1;&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $params[ 'offset' ] = 1;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $params[ 'offset' ] += 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params[ 'select' ] = &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>            $params[ 'limit' ] = 1;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod = pods( $this-&gt;pod, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $pod-&gt;fetch() )&nbsp;</div></li><li><div>            $new_id = $pod-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = $this-&gt;do_hook( 'next_id', $new_id, $id, $pod, $params_override );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $new_id;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the first item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $params_override&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function first_id ( $params_override = null ) {&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'select' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;, &nbsp;</div></li><li><div>            'orderby' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}` ASC&quot;, &nbsp;</div></li><li><div>            'limit' =&gt; 1&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params_override ) || !empty( $this-&gt;params ) ) {&nbsp;</div></li><li><div>            if ( !empty( $params_override ) )&nbsp;</div></li><li><div>                $params = $params_override;&nbsp;</div></li><li><div>            elseif ( !empty( $this-&gt;params ) )&nbsp;</div></li><li><div>                $params = $this-&gt;params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $params ) ) {&nbsp;</div></li><li><div>                $params = get_object_vars( $params );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params[ 'select' ] = &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>            $params[ 'offset' ] = 0;&nbsp;</div></li><li><div>            $params[ 'limit' ] = 1;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod = pods( $this-&gt;pod, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $pod-&gt;fetch() )&nbsp;</div></li><li><div>            $new_id = $pod-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = $this-&gt;do_hook( 'first_id', $new_id, $pod, $params_override );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $new_id;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the last item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $params_override&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function last_id ( $params_override = null ) {&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'select' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;, &nbsp;</div></li><li><div>            'orderby' =&gt; &quot;`t`.`{$this-&gt;data-&gt;field_id}` DESC&quot;, &nbsp;</div></li><li><div>            'limit' =&gt; 1&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params_override ) || !empty( $this-&gt;params ) ) {&nbsp;</div></li><li><div>            if ( !empty( $params_override ) )&nbsp;</div></li><li><div>                $params = $params_override;&nbsp;</div></li><li><div>            elseif ( !empty( $this-&gt;params ) )&nbsp;</div></li><li><div>                $params = $this-&gt;params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $params ) ) {&nbsp;</div></li><li><div>                $params = get_object_vars( $params );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $params[ 'total_found' ] ) )&nbsp;</div></li><li><div>                $params[ 'offset' ] = $params[ 'total_found' ] - 1;&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $params[ 'offset' ] = $this-&gt;total_found() - 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $params[ 'orderby' ] ) && !empty( $params[ 'orderby' ] ) ) {&nbsp;</div></li><li><div>                if ( is_array( $params[ 'orderby' ] ) ) {&nbsp;</div></li><li><div>                    foreach ( $params[ 'orderby' ] as $orderby =&gt; $dir ) {&nbsp;</div></li><li><div>                        $dir = strtoupper( $dir );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !in_array( $dir, array( 'ASC', 'DESC' ) ) ) {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 'ASC' == $dir ) {&nbsp;</div></li><li><div>                            $params[ 'orderby' ][ $orderby ] = 'DESC';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            $params[ 'orderby' ][ $orderby ] = 'ASC';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $params[ 'orderby' ][ $this-&gt;data-&gt;field_id ] = 'DESC';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( &quot;`t`.`{$this-&gt;data-&gt;field_id}` DESC&quot; != $params[ 'orderby' ] ) {&nbsp;</div></li><li><div>                    $params[ 'orderby' ] .= &quot;, `t`.`{$this-&gt;data-&gt;field_id}` DESC&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params[ 'select' ] = &quot;`t`.`{$this-&gt;data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>            $params[ 'limit' ] = 1;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod = pods( $this-&gt;pod, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $pod-&gt;fetch() )&nbsp;</div></li><li><div>            $new_id = $pod-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $new_id = $this-&gt;do_hook( 'last_id', $new_id, $pod, $params_override );&nbsp;</div></li><li><div>        return $new_id;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return the item name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function index () {&nbsp;</div></li><li><div>        return $this-&gt;field( $this-&gt;data-&gt;field_index );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Find items of a pod, much like WP_Query, but with advanced table handling.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $params An associative array of parameters&nbsp;</div></li><li><div>     * @param int $limit (optional) (deprecated) Limit the number of items to find, use -1 to return all items with no limit&nbsp;</div></li><li><div>     * @param string $where (optional) (deprecated) SQL WHERE declaration to use&nbsp;</div></li><li><div>     * @param string $sql (optional) (deprecated) For advanced use, a custom SQL query to run&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return \Pods The pod object&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/find/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function find ( $params = null, $limit = 15, $where = null, $sql = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $tableless_field_types = PodsForm::tableless_field_types();&nbsp;</div></li><li><div>        $simple_tableless_objects = PodsForm::simple_tableless_objects();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;params = $params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $select = '`t`.*';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( $this-&gt;pod_data[ 'type' ], array( 'pod', 'table' ) ) && 'table' == $this-&gt;pod_data[ 'storage' ] )&nbsp;</div></li><li><div>            $select .= ', `d`.*';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;data-&gt;table ) )&nbsp;</div></li><li><div>            return $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'table' =&gt; $this-&gt;data-&gt;table, &nbsp;</div></li><li><div>            'select' =&gt; $select, &nbsp;</div></li><li><div>            'join' =&gt; null, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            'where' =&gt; $where, &nbsp;</div></li><li><div>            'groupby' =&gt; null, &nbsp;</div></li><li><div>            'having' =&gt; null, &nbsp;</div></li><li><div>            'orderby' =&gt; null, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            'limit' =&gt; (int) $limit, &nbsp;</div></li><li><div>            'offset' =&gt; null, &nbsp;</div></li><li><div>            'page' =&gt; (int) $this-&gt;page, &nbsp;</div></li><li><div>            'page_var' =&gt; $this-&gt;page_var, &nbsp;</div></li><li><div>            'pagination' =&gt; (boolean) $this-&gt;pagination, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            'search' =&gt; (boolean) $this-&gt;search, &nbsp;</div></li><li><div>            'search_var' =&gt; $this-&gt;search_var, &nbsp;</div></li><li><div>            'search_query' =&gt; null, &nbsp;</div></li><li><div>            'search_mode' =&gt; $this-&gt;search_mode, &nbsp;</div></li><li><div>            'search_across' =&gt; false, &nbsp;</div></li><li><div>            'search_across_picks' =&gt; false, &nbsp;</div></li><li><div>            'search_across_files' =&gt; false, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            'filters' =&gt; $this-&gt;filters, &nbsp;</div></li><li><div>            'sql' =&gt; $sql, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            'expires' =&gt; null, &nbsp;</div></li><li><div>            'cache_mode' =&gt; 'cache'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $params ) )&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, $params );&nbsp;</div></li><li><div>        if ( is_object( $params ) )&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, get_object_vars( $params ) );&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $defaults[ 'orderby' ] = $params;&nbsp;</div></li><li><div>            $params = (object) $defaults;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = apply_filters( 'pods_pods_find', $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params-&gt;limit = (int) $params-&gt;limit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 == $params-&gt;limit )&nbsp;</div></li><li><div>            $params-&gt;limit = -1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;limit = (int) $params-&gt;limit;&nbsp;</div></li><li><div>        $this-&gt;offset = (int) $params-&gt;offset;&nbsp;</div></li><li><div>        $this-&gt;page = (int) $params-&gt;page;&nbsp;</div></li><li><div>        $this-&gt;page_var = $params-&gt;page_var;&nbsp;</div></li><li><div>        $this-&gt;pagination = (boolean) $params-&gt;pagination;&nbsp;</div></li><li><div>        $this-&gt;search = (boolean) $params-&gt;search;&nbsp;</div></li><li><div>        $this-&gt;search_var = $params-&gt;search_var;&nbsp;</div></li><li><div>        $params-&gt;join = (array) $params-&gt;join;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $params-&gt;search_query ) )&nbsp;</div></li><li><div>            $params-&gt;search_query = pods_var( $this-&gt;search_var, 'get', '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Allow orderby array ( 'field' =&gt; 'asc|desc' )&nbsp;</div></li><li><div>        if ( !empty( $params-&gt;orderby ) && is_array( $params-&gt;orderby ) ) {&nbsp;</div></li><li><div>            foreach ( $params-&gt;orderby as $k =&gt; &$orderby ) {&nbsp;</div></li><li><div>                if ( !is_numeric( $k ) ) {&nbsp;</div></li><li><div>                    $key = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $order = 'ASC';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 'DESC' == strtoupper( $orderby ) )&nbsp;</div></li><li><div>                        $order = 'DESC';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( isset( $this-&gt;fields[ $k ] ) && in_array( $this-&gt;fields[ $k ][ 'type' ], $tableless_field_types ) ) {&nbsp;</div></li><li><div>                        if ( in_array( $this-&gt;fields[ $k ][ 'pick_object' ], $simple_tableless_objects ) ) {&nbsp;</div></li><li><div>                            if ( 'table' == $this-&gt;pod_data[ 'storage' ] ) {&nbsp;</div></li><li><div>                                if ( !in_array( $this-&gt;pod_data[ 'type' ], array( 'pod', 'table' ) ) )&nbsp;</div></li><li><div>                                    $key = &quot;`d`.`{$k}`&quot;;&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    $key = &quot;`t`.`{$k}`&quot;;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $key = &quot;`{$k}`.`meta_value`&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            $pick_val = $this-&gt;fields[ $k ][ 'pick_val' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( '__current__' == $pick_val )&nbsp;</div></li><li><div>                                $pick_val = $this-&gt;pod;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $table = $this-&gt;api-&gt;get_table_info( $this-&gt;fields[ $k ][ 'pick_object' ], $pick_val );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $table ) )&nbsp;</div></li><li><div>                                $key = &quot;`{$k}`.`&quot; . $table[ 'field_index' ] . '`';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( empty( $key ) ) {&nbsp;</div></li><li><div>                        if ( !in_array( $this-&gt;pod_data[ 'type' ], array( 'pod', 'table' ) ) ) {&nbsp;</div></li><li><div>                            if ( isset( $this-&gt;pod_data[ 'object_fields' ][ $k ] ) )&nbsp;</div></li><li><div>                                $key = &quot;`t`.`{$k}`&quot;;&nbsp;</div></li><li><div>                            elseif ( isset( $this-&gt;fields[ $k ] ) ) {&nbsp;</div></li><li><div>                                if ( 'table' == $this-&gt;pod_data[ 'storage' ] )&nbsp;</div></li><li><div>                                    $key = &quot;`d`.`{$k}`&quot;;&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    $key = &quot;`{$k}`.`meta_value`&quot;;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else {&nbsp;</div></li><li><div>                                foreach ( $this-&gt;pod_data[ 'object_fields' ] as $object_field =&gt; $object_field_opt ) {&nbsp;</div></li><li><div>                                    if ( $object_field == $k || in_array( $k, $object_field_opt[ 'alias' ] ) )&nbsp;</div></li><li><div>                                        $key = &quot;`t`.`{$object_field}`&quot;;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( isset( $this-&gt;fields[ $k ] ) ) {&nbsp;</div></li><li><div>                            if ( 'table' == $this-&gt;pod_data[ 'storage' ] )&nbsp;</div></li><li><div>                                $key = &quot;`t`.`{$k}`&quot;;&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $key = &quot;`{$k}`.`meta_value`&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( empty( $key ) ) {&nbsp;</div></li><li><div>                            $key = $k;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( false === strpos( $key, ' ' ) && false === strpos( $key, '`' ) )&nbsp;</div></li><li><div>                                $key = '`' . str_replace( '.', '`.`', $key ) . '`';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $orderby = $key;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( false === strpos( $orderby, ' ' ) )&nbsp;</div></li><li><div>                        $orderby .= ' ' . $order;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Add prefix to $params-&gt;orderby if needed&nbsp;</div></li><li><div>        if ( !empty( $params-&gt;orderby ) ) {&nbsp;</div></li><li><div>            if ( !is_array( $params-&gt;orderby ) )&nbsp;</div></li><li><div>                $params-&gt;orderby = array( $params-&gt;orderby );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $params-&gt;orderby as &$prefix_orderby ) {&nbsp;</div></li><li><div>                if ( false === strpos( $prefix_orderby, ', ' ) && false === strpos( $prefix_orderby, '(' ) && false === stripos( $prefix_orderby, ' AS ' ) && false === strpos( $prefix_orderby, '`' ) && false === strpos( $prefix_orderby, '.' ) ) {&nbsp;</div></li><li><div>                    if ( false !== stripos( $prefix_orderby, ' DESC' ) ) {&nbsp;</div></li><li><div>                        $k = trim( str_ireplace( array( '`', ' DESC' ), '', $prefix_orderby ) );&nbsp;</div></li><li><div>                        $dir = 'DESC';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        $k = trim( str_ireplace( array( '`', ' ASC' ), '', $prefix_orderby ) );&nbsp;</div></li><li><div>                        $dir = 'ASC';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $key = $k;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !in_array( $this-&gt;pod_data[ 'type' ], array( 'pod', 'table' ) ) ) {&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;pod_data[ 'object_fields' ][ $k ] ) )&nbsp;</div></li><li><div>                            $key = &quot;`t`.`{$k}`&quot;;&nbsp;</div></li><li><div>                        elseif ( isset( $this-&gt;fields[ $k ] ) ) {&nbsp;</div></li><li><div>                            if ( 'table' == $this-&gt;pod_data[ 'storage' ] )&nbsp;</div></li><li><div>                                $key = &quot;`d`.`{$k}`&quot;;&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $key = &quot;`{$k}`.`meta_value`&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            foreach ( $this-&gt;pod_data[ 'object_fields' ] as $object_field =&gt; $object_field_opt ) {&nbsp;</div></li><li><div>                                if ( $object_field == $k || in_array( $k, $object_field_opt[ 'alias' ] ) )&nbsp;</div></li><li><div>                                    $key = &quot;`t`.`{$object_field}`&quot;;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( isset( $this-&gt;fields[ $k ] ) ) {&nbsp;</div></li><li><div>                        if ( 'table' == $this-&gt;pod_data[ 'storage' ] )&nbsp;</div></li><li><div>                            $key = &quot;`t`.`{$k}`&quot;;&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                            $key = &quot;`{$k}`.`meta_value`&quot;;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $prefix_orderby = &quot;{$key} {$dir}&quot;;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;select( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch an item from a Pod. If $id is null, it will return the next item in the list after running find().&nbsp;</div></li><li><div>     * You can rewind the list back to the start by using reset().&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Providing an $id will fetch a specific item from a Pod, much like a call to pods(), and can handle either an id or slug.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::fetch&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id ID or slug of the item to fetch&nbsp;</div></li><li><div>     * @param bool $explicit_set Whether to set explicitly (use false when in loop)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array An array of fields from the row&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/fetch/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function fetch ( $id = null, $explicit_set = true ) {&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Runs directly before an item is fetched by fetch()&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since unknown&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param int|string|null $id Item ID being fetched or null.&nbsp;</div></li><li><div>         * @param object|Pods $this Current Pods object.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        do_action( 'pods_pods_fetch', $id, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $id ) )&nbsp;</div></li><li><div>            $this-&gt;params = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;fetch( $id, $explicit_set );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;row;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * (Re)set the MySQL result pointer&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::reset&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $row ID of the row to reset to&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return \Pods The pod object&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/reset/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function reset ( $row = null ) {&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Runs directly before the Pods object is reset by reset()&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since unknown&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param int|string|null The ID of the row being reset to or null if being reset to the beginningg.&nbsp;</div></li><li><div>         * @param object|Pods $this Current Pods object.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        do_action( 'pods_pods_reset', $row, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;reset( $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch the total row count returned by the last call to find(), based on the 'limit' parameter set.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This is different than the total number of rows found in the database, which you can get with total_found().&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::total&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int Number of rows returned by find(), based on the 'limit' parameter set&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/total/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function total () {&nbsp;</div></li><li><div>        do_action( 'pods_pods_total', $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;total();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;total =& $this-&gt;data-&gt;total;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;total;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch the total amount of rows found by the last call to find(), regardless of the 'limit' parameter set.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This is different than the total number of rows limited by the current call, which you can get with total().&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::total_found&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int Number of rows returned by find(), regardless of the 'limit' parameter&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/total-found/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function total_found () {&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Runs directly before the value of total_found() is determined and returned.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since unknown&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param object|Pods $this Current Pods object.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        do_action( 'pods_pods_total_found', $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;total_found();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;total_found =& $this-&gt;data-&gt;total_found;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;total_found;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch the total number of pages, based on total rows found and the last find() limit&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param null|int $limit Rows per page&nbsp;</div></li><li><div>     * @param null|int $offset Offset of rows&nbsp;</div></li><li><div>     * @param null|int $total Total rows&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int Number of pages&nbsp;</div></li><li><div>     * @since 2.3.10&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function total_pages( $limit = null, $offset = null, $total = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'total_pages' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $limit ) {&nbsp;</div></li><li><div>            $limit = $this-&gt;limit;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $offset ) {&nbsp;</div></li><li><div>            $offset = $this-&gt;offset;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $total ) {&nbsp;</div></li><li><div>            $total = $this-&gt;total_found();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $total_pages = ceil( ( $total - $offset ) / $limit );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $total_pages;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch the zebra switch&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::zebra&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool Zebra state&nbsp;</div></li><li><div>     * @since 1.12&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function zebra () {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'zebra' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;data-&gt;zebra();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch the nth state&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::nth&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int|string $nth The $nth to match on the PodsData::row_number&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool Whether $nth matches&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function nth ( $nth = null ) {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'nth', $nth );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;data-&gt;nth( $nth );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fetch the current position in the loop (starting at 1)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsData::position&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int Current row number (+1)&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function position () {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'position' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;data-&gt;position();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add an item to a Pod by giving an array of field data or set a specific field to&nbsp;</div></li><li><div>     * a specific value if you're just wanting to add a new item but only set one field.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * You may be looking for save() in most cases where you're setting a specific field.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::save_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array|string $data Either an associative array of field information or a field name&nbsp;</div></li><li><div>     * @param mixed $value (optional) Value of the field, if $data is a field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int The item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/add/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add ( $data = null, $value = null ) {&nbsp;</div></li><li><div>        if ( null !== $value )&nbsp;</div></li><li><div>            $data = array( $data =&gt; $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = (array) $this-&gt;do_hook( 'add', $data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $data ) )&nbsp;</div></li><li><div>            return 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'data' =&gt; $data, &nbsp;</div></li><li><div>            'allow_custom_fields' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;api-&gt;save_pod_item( $params );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add an item to the values of a relationship field, add a value to a number field (field+1), add time to a date field, or add text to a text field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::save_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $field Field name&nbsp;</div></li><li><div>     * @param mixed $value ID(s) to add, int|float to add to number field, string for dates (+1 week), or string for text&nbsp;</div></li><li><div>     * @param int $id (optional) ID of the pod item to update&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int The item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_to ( $field, $value, $id = null ) {&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fetch = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $id ) {&nbsp;</div></li><li><div>            $fetch = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $id = $pod-&gt;id();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( $id != $this-&gt;id() ) {&nbsp;</div></li><li><div>            $pod = pods( $this-&gt;pod, $id );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'add_to', $field, $value, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $this-&gt;fields[ $field ] ) )&nbsp;</div></li><li><div>            return $id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Tableless fields&nbsp;</div></li><li><div>        if ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::tableless_field_types() ) ) {&nbsp;</div></li><li><div>            if ( !is_array( $value ) )&nbsp;</div></li><li><div>                $value = explode( ', ', $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'pick' == $this-&gt;fields[ $field ][ 'type' ] && in_array( $this-&gt;fields[ $field ][ 'pick_object' ], PodsForm::simple_tableless_objects() ) ) {&nbsp;</div></li><li><div>                $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $current_value ) || ( !is_array( $current_value ) && 0 &lt; strlen( $current_value ) ) )&nbsp;</div></li><li><div>                    $current_value = (array) $current_value;&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $current_value = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $value = array_merge( $current_value, $value );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $related_ids = $this-&gt;api-&gt;lookup_related_items( $this-&gt;fields[ $field ][ 'id' ], $this-&gt;pod_data[ 'id' ], $id, $this-&gt;fields[ $field ], $this-&gt;pod_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $value as $k =&gt; $v ) {&nbsp;</div></li><li><div>                    if ( !preg_match( '/[^0-9]/', $v ) )&nbsp;</div></li><li><div>                        $value[ $k ] = (int) $v;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $value = array_merge( $related_ids, $value );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $value ) )&nbsp;</div></li><li><div>                $value = array_filter( array_unique( $value ) );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $value = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $value ) )&nbsp;</div></li><li><div>                return $id;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Number fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::number_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = (float) $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = ( $current_value + (float) $value );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Date fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::date_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $current_value ) )&nbsp;</div></li><li><div>                $value = strtotime( $value, strtotime( $current_value ) );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $value = strtotime( $value );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Text fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::text_field_types() ) ) {&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $current_value ) )&nbsp;</div></li><li><div>                $value = $current_value . $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // @todo handle object fields and taxonomies&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'id' =&gt; $id, &nbsp;</div></li><li><div>            'data' =&gt; array(&nbsp;</div></li><li><div>                $field =&gt; $value&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = $this-&gt;api-&gt;save_pod_item( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 &lt; $id && $fetch ) {&nbsp;</div></li><li><div>            // Clear local var cache of field values&nbsp;</div></li><li><div>            $pod-&gt;data-&gt;row = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $pod-&gt;fetch( $id, false );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $id;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Remove an item from the values of a relationship field, remove a value from a number field (field-1), remove time to a date field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::save_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $field Field name&nbsp;</div></li><li><div>     * @param mixed $value ID(s) to add, int|float to add to number field, string for dates (-1 week), or string for text&nbsp;</div></li><li><div>     * @param int $id (optional) ID of the pod item to update&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int The item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function remove_from( $field, $value = null, $id = null ) {&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fetch = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $id ) {&nbsp;</div></li><li><div>            $fetch = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( $id != $this-&gt;id() ) {&nbsp;</div></li><li><div>            $pod = pods( $this-&gt;pod, $id );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'remove_from', $field, $value, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $this-&gt;fields[ $field ] ) ) {&nbsp;</div></li><li><div>            return $id;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Tableless fields&nbsp;</div></li><li><div>        if ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::tableless_field_types() ) ) {&nbsp;</div></li><li><div>            if ( empty( $value ) ) {&nbsp;</div></li><li><div>                $value = array();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $value ) ) {&nbsp;</div></li><li><div>                if ( !is_array( $value ) ) {&nbsp;</div></li><li><div>                    $value = explode( ', ', $value );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'pick' == $this-&gt;fields[ $field ][ 'type' ] && in_array( $this-&gt;fields[ $field ][ 'pick_object' ], PodsForm::simple_tableless_objects() ) ) {&nbsp;</div></li><li><div>                    $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $current_value ) ) {&nbsp;</div></li><li><div>                        $current_value = (array) $current_value;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $current_value as $k =&gt; $v ) {&nbsp;</div></li><li><div>                        if ( in_array( $v, $value ) ) {&nbsp;</div></li><li><div>                            unset( $current_value[ $k ] );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $value = $current_value;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $related_ids = $this-&gt;api-&gt;lookup_related_items( $this-&gt;fields[ $field ][ 'id' ], $this-&gt;pod_data[ 'id' ], $id, $this-&gt;fields[ $field ], $this-&gt;pod_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $value as $k =&gt; $v ) {&nbsp;</div></li><li><div>                        if ( !preg_match( '/[^0-9]/', $v ) ) {&nbsp;</div></li><li><div>                            $value[ $k ] = (int) $v;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        // @todo Convert slugs into IDs&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $related_ids as $k =&gt; $v ) {&nbsp;</div></li><li><div>                        if ( in_array( $v, $value ) ) {&nbsp;</div></li><li><div>                            unset( $related_ids[ $k ] );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $value = $related_ids;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $value ) ) {&nbsp;</div></li><li><div>                    $value = array_filter( array_unique( $value ) );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $value = array();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Number fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::number_field_types() ) ) {&nbsp;</div></li><li><div>            // Date fields don't support empty for removing&nbsp;</div></li><li><div>            if ( empty( $value ) ) {&nbsp;</div></li><li><div>                return $id;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $current_value = (float) $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = ( $current_value - (float) $value );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Date fields&nbsp;</div></li><li><div>        elseif ( in_array( $this-&gt;fields[ $field ][ 'type' ], PodsForm::date_field_types() ) ) {&nbsp;</div></li><li><div>            // Date fields don't support empty for removing&nbsp;</div></li><li><div>            if ( empty( $value ) ) {&nbsp;</div></li><li><div>                return $id;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $current_value = $pod-&gt;raw( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $current_value ) ) {&nbsp;</div></li><li><div>                $value = strtotime( $value, strtotime( $current_value ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $value = strtotime( $value );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = date_i18n( 'Y-m-d h:i:s', $value );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // @todo handle object fields and taxonomies&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'id' =&gt; $id, &nbsp;</div></li><li><div>            'data' =&gt; array(&nbsp;</div></li><li><div>                $field =&gt; $value&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = $this-&gt;api-&gt;save_pod_item( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 &lt; $id && $fetch ) {&nbsp;</div></li><li><div>            // Clear local var cache of field values&nbsp;</div></li><li><div>            $pod-&gt;data-&gt;row = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $pod-&gt;fetch( $id, false );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Save an item by giving an array of field data or set a specific field to a specific value.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Though this function has the capacity to add new items, best practice should direct you&nbsp;</div></li><li><div>     * to use add() for that instead.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::save_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array|string $data Either an associative array of field information or a field name&nbsp;</div></li><li><div>     * @param mixed $value (optional) Value of the field, if $data is a field name&nbsp;</div></li><li><div>     * @param int $id (optional) ID of the pod item to update&nbsp;</div></li><li><div>     * @param array $params (optional) Additional params to send to save_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int The item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/save/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function save ( $data = null, $value = null, $id = null, $params = null ) {&nbsp;</div></li><li><div>        if ( null !== $value )&nbsp;</div></li><li><div>            $data = array( $data =&gt; $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fetch = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $id || ( $this-&gt;row && $id == $this-&gt;id() ) ) {&nbsp;</div></li><li><div>            $fetch = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $id ) {&nbsp;</div></li><li><div>                $id = $this-&gt;id();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = (array) $this-&gt;do_hook( 'save', $data, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $data ) && empty( $params['is_new_item'] ) )&nbsp;</div></li><li><div>            return $id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $default = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params ) && is_array( $params ) )&nbsp;</div></li><li><div>            $default = $params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'id' =&gt; $id, &nbsp;</div></li><li><div>            'data' =&gt; $data, &nbsp;</div></li><li><div>            'allow_custom_fields' =&gt; true, &nbsp;</div></li><li><div>            'clear_slug_cache' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $default ) )&nbsp;</div></li><li><div>            $params = array_merge( $params, $default );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = $this-&gt;api-&gt;save_pod_item( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 &lt; $id && $fetch ) {&nbsp;</div></li><li><div>            // Clear local var cache of field values&nbsp;</div></li><li><div>            $this-&gt;data-&gt;row = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;fetch( $id, false );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $this-&gt;pod_data[ 'field_slug' ] ) ) {&nbsp;</div></li><li><div>            if ( 0 &lt; $id && $fetch ) {&nbsp;</div></li><li><div>                $slug = $this-&gt;field( $this-&gt;pod_data[ 'field_slug' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $slug = pods( $this-&gt;pod, $id )-&gt;field( $this-&gt;pod_data[ 'field_slug' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $slug ) ) {&nbsp;</div></li><li><div>                pods_cache_clear( $slug, 'pods_items_' . $this-&gt;pod );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $id;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Delete an item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::delete_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id ID of the Pod item to delete&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool Whether the item was successfully deleted&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/delete/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function delete ( $id = null ) {&nbsp;</div></li><li><div>        if ( null === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = (int) $this-&gt;do_hook( 'delete', $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $id ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'id' =&gt; $id&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;api-&gt;delete_pod_item( $params );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Reset Pod&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::reset_pod&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool Whether the Pod was successfully reset&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.1.1&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function reset_pod () {&nbsp;</div></li><li><div>        $params = array( 'id' =&gt; $this-&gt;pod_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;id = null;&nbsp;</div></li><li><div>        $this-&gt;data-&gt;row = array();&nbsp;</div></li><li><div>        $this-&gt;data-&gt;data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;data-&gt;total = 0;&nbsp;</div></li><li><div>        $this-&gt;data-&gt;total_found = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;api-&gt;reset_pod( $params );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Duplicate an item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::duplicate_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id ID of the pod item to duplicate&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return int|bool ID of the new pod item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/duplicate/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function duplicate ( $id = null ) {&nbsp;</div></li><li><div>        if ( null === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = (int) $this-&gt;do_hook( 'duplicate', $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $id ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'id' =&gt; $id&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;api-&gt;duplicate_pod_item( $params );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Import data / Save multiple rows of data at once&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::import&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $import_data PHP associative array or CSV input&nbsp;</div></li><li><div>     * @param bool $numeric_mode Use IDs instead of the name field when matching&nbsp;</div></li><li><div>     * @param string $format Format of import data, options are php or csv&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array IDs of imported items&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function import ( $import_data, $numeric_mode = false, $format = null ) {&nbsp;</div></li><li><div>        return $this-&gt;api-&gt;import( $import_data, $numeric_mode, $format );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Export an item's data&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::export_pod_item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $fields (optional) Fields to export&nbsp;</div></li><li><div>     * @param int $id (optional) ID of the pod item to export&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool Data array of the exported pod item&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/export/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function export ( $fields = null, $id = null, $format = null ) {&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod, &nbsp;</div></li><li><div>            'id' =&gt; $id, &nbsp;</div></li><li><div>            'fields' =&gt; null, &nbsp;</div></li><li><div>            'depth' =&gt; 2, &nbsp;</div></li><li><div>            'flatten' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $fields ) && ( isset( $fields[ 'fields' ] ) || isset( $fields[ 'depth' ] ) ) )&nbsp;</div></li><li><div>            $params = array_merge( $params, $fields );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params[ 'fields' ] = $fields;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $params[ 'fields' ] ) && is_array( $params[ 'fields' ] ) && !in_array( $this-&gt;pod_data[ 'field_id' ], $params[ 'fields' ] ) )&nbsp;</div></li><li><div>            $params[ 'fields' ] = array_merge( array( $this-&gt;pod_data[ 'field_id' ] ), $params[ 'fields' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $params[ 'id' ] )&nbsp;</div></li><li><div>            $params[ 'id' ] = $this-&gt;id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = (array) $this-&gt;do_hook( 'export', $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $params[ 'id' ] ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = $this-&gt;api-&gt;export_pod_item( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $format ) ) {&nbsp;</div></li><li><div>            if ( 'json' == $format )&nbsp;</div></li><li><div>                $data = json_encode( (array) $data );&nbsp;</div></li><li><div>            // @todo more formats&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Export data from all items&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see PodsAPI::export&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $params An associative array of parameters&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array Data arrays of all exported pod items&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function export_data ( $params = null ) {&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'fields' =&gt; null, &nbsp;</div></li><li><div>            'depth' =&gt; 2, &nbsp;</div></li><li><div>            'params' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $params ) )&nbsp;</div></li><li><div>            $params = $defaults;&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = array_merge( $defaults, (array) $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;api-&gt;export( $this, $params );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Display the pagination controls, types supported by default&nbsp;</div></li><li><div>     * are simple, paginate and advanced. The base and format parameters&nbsp;</div></li><li><div>     * are used only for the paginate view.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array $params Associative array of parameters&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string Pagination HTML&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/pagination/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function pagination( $params = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $params ) ) {&nbsp;</div></li><li><div>            $params = array();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( !is_array( $params ) ) {&nbsp;</div></li><li><div>            $params = array( 'label' =&gt; $params );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;page_var = pods_var_raw( 'page_var', $params, $this-&gt;page_var );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $url = pods_query_arg( null, null, $this-&gt;page_var );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $append = '?';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== strpos( $url, '?' ) ) {&nbsp;</div></li><li><div>            $append = '&';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'type' =&gt; 'advanced', &nbsp;</div></li><li><div>            'label' =&gt; __( 'Go to page:', 'pods' ), &nbsp;</div></li><li><div>            'show_label' =&gt; true, &nbsp;</div></li><li><div>            'first_text' =&gt; __( '&laquo; First', 'pods' ), &nbsp;</div></li><li><div>            'prev_text' =&gt; __( '&lsaquo; Previous', 'pods' ), &nbsp;</div></li><li><div>            'next_text' =&gt; __( 'Next &rsaquo;', 'pods' ), &nbsp;</div></li><li><div>            'last_text' =&gt; __( 'Last &raquo;', 'pods' ), &nbsp;</div></li><li><div>            'prev_next' =&gt; true, &nbsp;</div></li><li><div>            'first_last' =&gt; true, &nbsp;</div></li><li><div>            'limit' =&gt; (int) $this-&gt;limit, &nbsp;</div></li><li><div>            'offset' =&gt; (int) $this-&gt;offset, &nbsp;</div></li><li><div>            'page' =&gt; max( 1, (int) $this-&gt;page ), &nbsp;</div></li><li><div>            'mid_size' =&gt; 2, &nbsp;</div></li><li><div>            'end_size' =&gt; 1, &nbsp;</div></li><li><div>            'total_found' =&gt; $this-&gt;total_found(), &nbsp;</div></li><li><div>            'page_var' =&gt; $this-&gt;page_var, &nbsp;</div></li><li><div>            'base' =&gt; &quot;{$url}{$append}%_%&quot;, &nbsp;</div></li><li><div>            'format' =&gt; &quot;{$this-&gt;page_var}=%#%&quot;, &nbsp;</div></li><li><div>            'class' =&gt; '', &nbsp;</div></li><li><div>            'link_class' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = (object) array_merge( $defaults, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params-&gt;total = $this-&gt;total_pages( $params-&gt;limit, $params-&gt;offset, $params-&gt;total_found );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $params-&gt;limit &lt; 1 || $params-&gt;total_found &lt; 1 || 1 == $params-&gt;total || $params-&gt;total_found &lt;= $params-&gt;offset ) {&nbsp;</div></li><li><div>            return $this-&gt;do_hook( 'pagination', $this-&gt;do_hook( 'pagination_' . $params-&gt;type, '', $params ), $params );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pagination = $params-&gt;type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( $params-&gt;type, array( 'simple', 'advanced', 'paginate', 'list' ) ) ) {&nbsp;</div></li><li><div>            $pagination = 'advanced';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        pods_view( PODS_DIR . 'ui/front/pagination/' . $pagination . '.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $output = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;do_hook( 'pagination', $this-&gt;do_hook( 'pagination_' . $params-&gt;type, $output, $params ), $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return a filter form for searching a Pod&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array|string $params Comma-separated list of fields or array of parameters&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string Filters HTML&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/filters/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function filters ( $params = null ) {&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'fields' =&gt; $params, &nbsp;</div></li><li><div>            'label' =&gt; '', &nbsp;</div></li><li><div>            'action' =&gt; '', &nbsp;</div></li><li><div>            'search' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $params ) )&nbsp;</div></li><li><div>            $params = array_merge( $defaults, $params );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = apply_filters( 'pods_filters_params', $params, $pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = $params[ 'fields' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $fields && !is_array( $fields ) && 0 &lt; strlen( $fields ) )&nbsp;</div></li><li><div>            $fields = explode( ', ', $fields );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_fields = (array) pods_var_raw( 'object_fields', $this-&gt;pod_data, array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Force array&nbsp;</div></li><li><div>        if ( empty( $fields ) )&nbsp;</div></li><li><div>            $fields = array();&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $filter_fields = $fields; // Temporary&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $filter_fields as $k =&gt; $field ) {&nbsp;</div></li><li><div>                $name = $k;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $defaults = array(&nbsp;</div></li><li><div>                    'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !is_array( $field ) ) {&nbsp;</div></li><li><div>                    $name = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $field = array(&nbsp;</div></li><li><div>                        'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field = array_merge( $defaults, $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field[ 'name' ] = trim( $field[ 'name' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( pods_var_raw( 'hidden', $field, false, null, true ) )&nbsp;</div></li><li><div>                    $field[ 'type' ] = 'hidden';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $object_fields[ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>                    $fields[ $field[ 'name' ] ] = array_merge( $object_fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>                elseif ( isset( $this-&gt;fields[ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>                    $fields[ $field[ 'name' ] ] = array_merge( $this-&gt;fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $filter_fields ); // Cleanup&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;filters = array_keys( $fields );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $label = $params[ 'label' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( strlen( $label ) &lt; 1 )&nbsp;</div></li><li><div>            $label = __( 'Search', 'pods' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $action = $params[ 'action' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $search = trim( $params[ 'search' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( strlen( $search ) &lt; 1 )&nbsp;</div></li><li><div>            $search = pods_var_raw( $pod-&gt;search_var, 'get', '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        pods_view( PODS_DIR . 'ui/front/filters.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $output = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter the HTML output of filters()&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since unknown&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param string $output&nbsp;</div></li><li><div>         * @param array $params Params array passed to filters().&nbsp;</div></li><li><div>         * @param object|Pods $this Current Pods object.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        return apply_filters( 'pods_pods_filters', $output, $params, $this );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Run a helper within a Pod Page or WP Template&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see Pods_Helpers::helper&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $helper Helper name&nbsp;</div></li><li><div>     * @param string $value Value to run the helper on&nbsp;</div></li><li><div>     * @param string $name Field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed Anything returned by the helper&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function helper ( $helper, $value = null, $name = null ) {&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'helper' =&gt; $helper, &nbsp;</div></li><li><div>            'value' =&gt; $value, &nbsp;</div></li><li><div>            'name' =&gt; $name, &nbsp;</div></li><li><div>            'deprecated' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( class_exists( 'Pods_Templates' ) )&nbsp;</div></li><li><div>            $params[ 'deprecated' ] = Pods_Templates::$deprecated;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $helper ) )&nbsp;</div></li><li><div>            $params = array_merge( $params, $helper );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( class_exists( 'Pods_Helpers' ) )&nbsp;</div></li><li><div>            $value = Pods_Helpers::helper( $params, $this );&nbsp;</div></li><li><div>        elseif ( function_exists( $params[ 'helper' ] ) )&nbsp;</div></li><li><div>            $value = call_user_func( $params[ 'helper' ], $value );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $value = apply_filters( $params[ 'helper' ], $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Display the page template&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see Pods_Templates::template&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $template The template name&nbsp;</div></li><li><div>     * @param string $code Custom template code to use instead&nbsp;</div></li><li><div>     * @param bool $deprecated Whether to use deprecated functionality based on old function usage&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed Template output&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/template/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function template ( $template_name, $code = null, $deprecated = false ) {&nbsp;</div></li><li><div>        $out = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $obj =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $code ) ) {&nbsp;</div></li><li><div>            $code = str_replace( '$this-&gt;', '$obj-&gt;', $code ); // backwards compatibility&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $code = apply_filters( 'pods_templates_pre_template', $code, $template_name, $this );&nbsp;</div></li><li><div>            $code = apply_filters( &quot;pods_templates_pre_template_{$template_name}&quot;, $code, $template_name, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $code ) ) {&nbsp;</div></li><li><div>                // Only detail templates need $this-&gt;id&nbsp;</div></li><li><div>                if ( empty( $this-&gt;id ) ) {&nbsp;</div></li><li><div>                    while ( $this-&gt;fetch() ) {&nbsp;</div></li><li><div>                        echo $this-&gt;do_magic_tags( $code );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    echo $this-&gt;do_magic_tags( $code );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $out = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $out = apply_filters( 'pods_templates_post_template', $out, $code, $template_name, $this );&nbsp;</div></li><li><div>            $out = apply_filters( &quot;pods_templates_post_template_{$template_name}&quot;, $out, $code, $template_name, $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( class_exists( 'Pods_Templates' ) )&nbsp;</div></li><li><div>            $out = Pods_Templates::template( $template_name, $code, $this, $deprecated );&nbsp;</div></li><li><div>        elseif ( $template_name == trim( preg_replace( '/[^a-zA-Z0-9_\-\/]/', '', $template_name ), ' /-' ) ) {&nbsp;</div></li><li><div>            ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $default_templates = array(&nbsp;</div></li><li><div>                'pods/' . $template_name, &nbsp;</div></li><li><div>                'pods-' . $template_name, &nbsp;</div></li><li><div>                $template_name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $default_templates = apply_filters( 'pods_template_default_templates', $default_templates );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Only detail templates need $this-&gt;id&nbsp;</div></li><li><div>            if ( empty( $this-&gt;id ) ) {&nbsp;</div></li><li><div>                while ( $this-&gt;fetch() ) {&nbsp;</div></li><li><div>                    pods_template_part( $default_templates, compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                pods_template_part( $default_templates, compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $out = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $out = apply_filters( 'pods_templates_post_template', $out, $code, $template_name, $this );&nbsp;</div></li><li><div>            $out = apply_filters( &quot;pods_templates_post_template_{$template_name}&quot;, $out, $code, $template_name, $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $out;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Embed a form to add / edit a pod item from within your theme. Provide an array of $fields to include&nbsp;</div></li><li><div>     * and override options where needed. For WP object based Pods, you can pass through the WP object&nbsp;</div></li><li><div>     * field names too, such as &quot;post_title&quot; or &quot;post_content&quot; for example.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $params (optional) Fields to show on the form, defaults to all fields&nbsp;</div></li><li><div>     * @param string $label (optional) Save button label, defaults to &quot;Save Changes&quot;&nbsp;</div></li><li><div>     * @param string $thank_you (optional) Thank you URL to send to upon success&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     * @link http://pods.io/docs/form/&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function form ( $params = null, $label = null, $thank_you = null ) {&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'fields' =&gt; $params, &nbsp;</div></li><li><div>            'label' =&gt; $label, &nbsp;</div></li><li><div>            'thank_you' =&gt; $thank_you, &nbsp;</div></li><li><div>            'fields_only' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $params ) )&nbsp;</div></li><li><div>            $params = array_merge( $defaults, $params );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = $this-&gt;do_hook( 'form_params', $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = $params[ 'fields' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $fields && !is_array( $fields ) && 0 &lt; strlen( $fields ) )&nbsp;</div></li><li><div>            $fields = explode( ', ', $fields );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_fields = (array) pods_var_raw( 'object_fields', $this-&gt;pod_data, array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $fields ) ) {&nbsp;</div></li><li><div>            // Add core object fields if $fields is empty&nbsp;</div></li><li><div>            $fields = array_merge( $object_fields, $this-&gt;fields );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $form_fields = $fields; // Temporary&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $form_fields as $k =&gt; $field ) {&nbsp;</div></li><li><div>            $name = $k;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $defaults = array(&nbsp;</div></li><li><div>                'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !is_array( $field ) ) {&nbsp;</div></li><li><div>                $name = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field = array(&nbsp;</div></li><li><div>                    'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field = array_merge( $defaults, $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field[ 'name' ] = trim( $field[ 'name' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $default_value = pods_var_raw( 'default', $field );&nbsp;</div></li><li><div>            $value = pods_var_raw( 'value', $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $field[ 'name' ] ) )&nbsp;</div></li><li><div>                $field[ 'name' ] = trim( $name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $object_fields[ $field[ 'name' ] ] ) ) {&nbsp;</div></li><li><div>                $field = array_merge( $object_fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( $this-&gt;fields[ $field[ 'name' ] ] ) ) {&nbsp;</div></li><li><div>                $field = array_merge( $this-&gt;fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( pods_var_raw( 'hidden', $field, false, null, true ) )&nbsp;</div></li><li><div>                $field[ 'type' ] = 'hidden';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $fields[ $field[ 'name' ] ] = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $this-&gt;id ) && null !== $default_value ) {&nbsp;</div></li><li><div>                $this-&gt;row_override[ $field[ 'name' ] ] = $default_value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !empty( $this-&gt;id ) && null !== $value ) {&nbsp;</div></li><li><div>                $this-&gt;row[ $field[ 'name' ] ] = $value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        unset( $form_fields ); // Cleanup&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = $this-&gt;do_hook( 'form_fields', $fields, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $label = $params[ 'label' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $label ) )&nbsp;</div></li><li><div>            $label = __( 'Save Changes', 'pods' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $thank_you = $params[ 'thank_you' ];&nbsp;</div></li><li><div>        $fields_only = $params[ 'fields_only' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        PodsForm::$form_counter++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $thank_you ) ) {&nbsp;</div></li><li><div>            $success = 'success';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 1 &lt; PodsForm::$form_counter )&nbsp;</div></li><li><div>                $success .= PodsForm::$form_counter;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $thank_you = pods_query_arg( array( 'success*' =&gt; null, $success =&gt; 1 ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 1 == pods_v( $success, 'get', 0 ) ) {&nbsp;</div></li><li><div>                $message = __( 'Form submitted successfully', 'pods' );&nbsp;</div></li><li><div>                /**&nbsp;</div></li><li><div>                 * Change the text of the message that appears on succesful form submission.&nbsp;</div></li><li><div>                 *&nbsp;</div></li><li><div>                 * @param string $message&nbsp;</div></li><li><div>                 *&nbsp;</div></li><li><div>                 * @returns string the message&nbsp;</div></li><li><div>                 *&nbsp;</div></li><li><div>                 * @since 3.0.0&nbsp;</div></li><li><div>                 */&nbsp;</div></li><li><div>                $message = apply_filters( 'pods_pod_form_success_message', $message );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                echo '&lt;div id=&quot;message&quot; class=&quot;pods-form-front-success&quot;&gt;' . $message . '&lt;/div&gt;';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        pods_view( PODS_DIR . 'ui/front/form.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $output = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;id ) )&nbsp;</div></li><li><div>            $this-&gt;row_override = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;do_hook( 'form', $output, $fields, $label, $thank_you, $this, $this-&gt;id() );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param array $fields (optional) Fields to show in the view, defaults to all fields&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     * @since 2.3.10&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function view( $fields = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Convert comma separated list of fields to an array&nbsp;</div></li><li><div>        if ( null !== $fields && !is_array( $fields ) && 0 &lt; strlen( $fields ) ) {&nbsp;</div></li><li><div>            $fields = explode( ', ', $fields );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_fields = (array) pods_v( 'object_fields', $this-&gt;pod_data, array(), true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $fields ) ) {&nbsp;</div></li><li><div>            // Add core object fields if $fields is empty&nbsp;</div></li><li><div>            $fields = array_merge( $object_fields, $this-&gt;fields );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $view_fields = $fields; // Temporary&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $view_fields as $name =&gt; $field ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $defaults = array(&nbsp;</div></li><li><div>                'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !is_array( $field ) ) {&nbsp;</div></li><li><div>                $name = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field = array(&nbsp;</div></li><li><div>                    'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field = array_merge( $defaults, $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field[ 'name' ] = trim( $field[ 'name' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $field[ 'name' ] ) ) {&nbsp;</div></li><li><div>                $field[ 'name' ] = trim( $name );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $object_fields[ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>                $field = array_merge( $field, $object_fields[ $field[ 'name' ] ] );&nbsp;</div></li><li><div>            elseif ( isset( $this-&gt;fields[ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>                $field = array_merge( $this-&gt;fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( pods_v( 'hidden', $field, false, null, true ) || 'hidden' == $field[ 'type' ] ) {&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !PodsForm::permission( $field[ 'type' ], $field[ 'name' ], $field[ 'options' ], $fields, $pod, $pod-&gt;id() ) ) {&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $fields[ $field[ 'name' ] ] = $field;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        unset( $view_fields ); // Cleanup&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $output = pods_view( PODS_DIR . 'ui/front/view.php', compact( array_keys( get_defined_vars() ) ), false, 'cache', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;do_hook( 'view', $output, $fields, $this-&gt;id() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Replace magic tags with their values&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $code The content to evaluate&nbsp;</div></li><li><div>     * @param object $obj The Pods object&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string Code with Magic Tags evaluated&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function do_magic_tags ( $code ) {&nbsp;</div></li><li><div>        return preg_replace_callback( '/({@(.*?)})/m', array( $this, 'process_magic_tags' ), $code );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Replace magic tags with their values&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $tag The magic tag to process&nbsp;</div></li><li><div>     * @param object $obj The Pods object&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string Code with Magic Tags evaluated&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0.2&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private function process_magic_tags ( $tag ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $tag ) ) {&nbsp;</div></li><li><div>            if ( !isset( $tag[ 2 ] ) && strlen( trim( $tag[ 2 ] ) ) &lt; 1 )&nbsp;</div></li><li><div>                return '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $tag = $tag[ 2 ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $tag = trim( $tag, ' {@}' );&nbsp;</div></li><li><div>        $tag = explode( ', ', $tag );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $tag ) || !isset( $tag[ 0 ] ) || strlen( trim( $tag[ 0 ] ) ) &lt; 1 )&nbsp;</div></li><li><div>            return '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $tag as $k =&gt; $v ) {&nbsp;</div></li><li><div>            $tag[ $k ] = trim( $v );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $field_name = $tag[ 0 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $helper_name = $before = $after = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $tag[ 1 ] ) && !empty( $tag[ 1 ] ) ) {&nbsp;</div></li><li><div>            $value = $this-&gt;field( $field_name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $helper_name = $tag[ 1 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = $this-&gt;helper( $helper_name, $value, $field_name );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $value = $this-&gt;display( $field_name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $tag[ 2 ] ) && !empty( $tag[ 2 ] ) )&nbsp;</div></li><li><div>            $before = $tag[ 2 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $tag[ 3 ] ) && !empty( $tag[ 3 ] ) )&nbsp;</div></li><li><div>            $after = $tag[ 3 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $value = apply_filters( 'pods_do_magic_tags', $value, $field_name, $helper_name, $before, $after );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_array( $value ) )&nbsp;</div></li><li><div>            $value = pods_serial_comma( $value, array( 'field' =&gt; $field_name, 'fields' =&gt; $this-&gt;fields ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $value && false !== $value )&nbsp;</div></li><li><div>            return $before . $value . $after;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return '';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Generate UI for Data Management&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $options Array or String containing Pod or Options to be used&nbsp;</div></li><li><div>     * @param bool $amend Whether to amend the default UI options or replace entirely&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return PodsUI|void UI object or void if custom UI used&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3.10&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function ui ( $options = null, $amend = false ) {&nbsp;</div></li><li><div>        $num = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $options ) )&nbsp;</div></li><li><div>            $options = array();&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $num = pods_var( 'num', $options, '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $num ) ) {&nbsp;</div></li><li><div>                $num = '';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $this-&gt;id() != pods_var( 'id' . $num, 'get', null, null, true ) )&nbsp;</div></li><li><div>            $this-&gt;fetch( pods_var( 'id' . $num, 'get', null, null, true ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $options ) && !$amend ) {&nbsp;</div></li><li><div>            $this-&gt;ui = $options;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return pods_ui( $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( !empty( $options ) || 'custom' != pods_var( 'ui_style', $this-&gt;pod_data[ 'options' ], 'post_type', null, true ) ) {&nbsp;</div></li><li><div>            $actions_enabled = pods_var_raw( 'ui_actions_enabled', $this-&gt;pod_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $actions_enabled ) )&nbsp;</div></li><li><div>                $actions_enabled = (array) $actions_enabled;&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $actions_enabled = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $available_actions = array(&nbsp;</div></li><li><div>                'add', &nbsp;</div></li><li><div>                'edit', &nbsp;</div></li><li><div>                'duplicate', &nbsp;</div></li><li><div>                'delete', &nbsp;</div></li><li><div>                'reorder', &nbsp;</div></li><li><div>                'export'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $actions_enabled ) ) {&nbsp;</div></li><li><div>                $actions_disabled = array(&nbsp;</div></li><li><div>                    'view' =&gt; 'view'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $available_actions as $action ) {&nbsp;</div></li><li><div>                    if ( !in_array( $action, $actions_enabled ) )&nbsp;</div></li><li><div>                        $actions_disabled[ $action ] = $action;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $actions_disabled = array(&nbsp;</div></li><li><div>                    'duplicate' =&gt; 'duplicate', &nbsp;</div></li><li><div>                    'view' =&gt; 'view', &nbsp;</div></li><li><div>                    'export' =&gt; 'export'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 1 == pods_var( 'ui_export', $this-&gt;pod_data[ 'options' ], 0 ) )&nbsp;</div></li><li><div>                    unset( $actions_disabled[ 'export' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $options ) ) {&nbsp;</div></li><li><div>                $author_restrict = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $this-&gt;fields[ 'author' ] ) && 'pick' == $this-&gt;fields[ 'author' ][ 'type' ] && 'user' == $this-&gt;fields[ 'author' ][ 'pick_object' ] )&nbsp;</div></li><li><div>                    $author_restrict = 'author.ID';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !pods_is_admin( array( 'pods', 'pods_content' ) ) ) {&nbsp;</div></li><li><div>                    if ( !current_user_can( 'pods_add_' . $this-&gt;pod ) ) {&nbsp;</div></li><li><div>                        $actions_disabled[ 'add' ] = 'add';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 'add' == pods_var( 'action' . $num, 'get' ) )&nbsp;</div></li><li><div>                            $_GET[ 'action' . $num ] = 'manage';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !$author_restrict && !current_user_can( 'pods_edit_' . $this-&gt;pod ) && !current_user_can( 'pods_edit_others_' . $this-&gt;pod ) )&nbsp;</div></li><li><div>                        $actions_disabled[ 'edit' ] = 'edit';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !$author_restrict && !current_user_can( 'pods_delete_' . $this-&gt;pod ) && !current_user_can( 'pods_delete_others_' . $this-&gt;pod ) )&nbsp;</div></li><li><div>                        $actions_disabled[ 'delete' ] = 'delete';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !current_user_can( 'pods_reorder_' . $this-&gt;pod ) )&nbsp;</div></li><li><div>                        $actions_disabled[ 'reorder' ] = 'reorder';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !current_user_can( 'pods_export_' . $this-&gt;pod ) )&nbsp;</div></li><li><div>                        $actions_disabled[ 'export' ] = 'export';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $_GET[ 'action' . $num ] = pods_var( 'action' . $num, 'get', pods_var( 'action', $options, 'manage' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $index = $this-&gt;pod_data[ 'field_id' ];&nbsp;</div></li><li><div>            $label = __( 'ID', 'pods' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $this-&gt;pod_data[ 'fields' ][ $this-&gt;pod_data[ 'field_index' ] ] ) ) {&nbsp;</div></li><li><div>                $index = $this-&gt;pod_data[ 'field_index' ];&nbsp;</div></li><li><div>                $label = $this-&gt;pod_data[ 'fields' ][ $this-&gt;pod_data[ 'field_index' ] ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $manage = array(&nbsp;</div></li><li><div>                $index =&gt; $label&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $this-&gt;pod_data[ 'fields' ][ 'modified' ] ) )&nbsp;</div></li><li><div>                $manage[ 'modified' ] = $this-&gt;pod_data[ 'fields' ][ 'modified' ][ 'label' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $manage_fields = pods_var_raw( 'ui_fields_manage', $this-&gt;pod_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $manage_fields ) ) {&nbsp;</div></li><li><div>                $manage_new = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $manage_fields as $manage_field ) {&nbsp;</div></li><li><div>                    if ( isset( $this-&gt;pod_data[ 'fields' ][ $manage_field ] ) )&nbsp;</div></li><li><div>                        $manage_new[ $manage_field ] = $this-&gt;pod_data[ 'fields' ][ $manage_field ];&nbsp;</div></li><li><div>                    elseif ( isset( $this-&gt;pod_data[ 'object_fields' ][ $manage_field ] ) )&nbsp;</div></li><li><div>                        $manage_new[ $manage_field ] = $this-&gt;pod_data[ 'object_fields' ][ $manage_field ];&nbsp;</div></li><li><div>                    elseif ( $manage_field == $this-&gt;pod_data[ 'field_id' ] ) {&nbsp;</div></li><li><div>                        $field = array(&nbsp;</div></li><li><div>                            'name' =&gt; $manage_field, &nbsp;</div></li><li><div>                            'label' =&gt; 'ID', &nbsp;</div></li><li><div>                            'type' =&gt; 'number', &nbsp;</div></li><li><div>                            'width' =&gt; '8%'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $manage_new[ $manage_field ] = PodsForm::field_setup( $field, null, $field[ 'type' ] );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $manage_new ) )&nbsp;</div></li><li><div>                    $manage = $manage_new;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $manage = apply_filters( 'pods_admin_ui_fields_' . $this-&gt;pod, apply_filters( 'pods_admin_ui_fields', $manage, $this-&gt;pod, $this ), $this-&gt;pod, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $icon = pods_var_raw( 'ui_icon', $this-&gt;pod_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $icon ) )&nbsp;</div></li><li><div>                $icon = pods_image_url( $icon, '32x32' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $filters = pods_var_raw( 'ui_filters', $this-&gt;pod_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $filters ) ) {&nbsp;</div></li><li><div>                $filters_new = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $filters = (array) $filters;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $filters as $filter_field ) {&nbsp;</div></li><li><div>                    if ( isset( $this-&gt;pod_data[ 'fields' ][ $filter_field ] ) )&nbsp;</div></li><li><div>                        $filters_new[ $filter_field ] = $this-&gt;pod_data[ 'fields' ][ $filter_field ];&nbsp;</div></li><li><div>                    elseif ( isset( $this-&gt;pod_data[ 'object_fields' ][ $filter_field ] ) )&nbsp;</div></li><li><div>                        $filters_new[ $filter_field ] = $this-&gt;pod_data[ 'object_fields' ][ $filter_field ];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $filters = $filters_new;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $ui = array(&nbsp;</div></li><li><div>                'fields' =&gt; array(&nbsp;</div></li><li><div>                    'manage' =&gt; $manage, &nbsp;</div></li><li><div>                    'add' =&gt; $this-&gt;pod_data[ 'fields' ], &nbsp;</div></li><li><div>                    'edit' =&gt; $this-&gt;pod_data[ 'fields' ], &nbsp;</div></li><li><div>                    'duplicate' =&gt; $this-&gt;pod_data[ 'fields' ]&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'icon' =&gt; $icon, &nbsp;</div></li><li><div>                'actions_disabled' =&gt; $actions_disabled&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $filters ) ) {&nbsp;</div></li><li><div>                $ui[ 'fields' ][ 'search' ] = $filters;&nbsp;</div></li><li><div>                $ui[ 'filters' ] = array_keys( $filters );&nbsp;</div></li><li><div>                $ui[ 'filters_enhanced' ] = true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $reorder_field = pods_var_raw( 'ui_reorder_field', $this-&gt;pod_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( in_array( 'reorder', $actions_enabled ) && !in_array( 'reorder', $actions_disabled ) && !empty( $reorder_field ) && ( ( !empty( $this-&gt;pod_data[ 'object_fields' ] ) && isset( $this-&gt;pod_data[ 'object_fields' ][ $reorder_field ] ) ) || isset( $this-&gt;pod_data[ 'fields' ][ $reorder_field ] ) ) ) {&nbsp;</div></li><li><div>                $ui[ 'reorder' ] = array( 'on' =&gt; $reorder_field );&nbsp;</div></li><li><div>                $ui[ 'orderby' ] = $reorder_field;&nbsp;</div></li><li><div>                $ui[ 'orderby_dir' ] = 'ASC';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $author_restrict ) )&nbsp;</div></li><li><div>                $ui[ 'restrict' ] = array( 'author_restrict' =&gt; $author_restrict );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'delete', $ui[ 'actions_disabled' ] ) ) {&nbsp;</div></li><li><div>                $ui[ 'actions_bulk' ] = array(&nbsp;</div></li><li><div>                    'delete' =&gt; array(&nbsp;</div></li><li><div>                        'label' =&gt; __( 'Delete', 'pods' )&nbsp;</div></li><li><div>                        // callback not needed, Pods has this built-in for delete&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $detail_url = pods_var( 'detail_url', $this-&gt;pod_data[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $detail_url ) ) {&nbsp;</div></li><li><div>                $ui[ 'actions_custom' ] = array(&nbsp;</div></li><li><div>                    'view_url' =&gt; array(&nbsp;</div></li><li><div>                        'label' =&gt; 'View', &nbsp;</div></li><li><div>                        'link' =&gt; get_site_url() . '/' . $detail_url&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // @todo Customize the Add New / Manage links to point to their correct menu items&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $ui = apply_filters( 'pods_admin_ui_' . $this-&gt;pod, apply_filters( 'pods_admin_ui', $ui, $this-&gt;pod, $this ), $this-&gt;pod, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Override UI options&nbsp;</div></li><li><div>            foreach ( $options as $option =&gt; $value ) {&nbsp;</div></li><li><div>                $ui[ $option ] = $value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;ui = $ui;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return pods_ui( $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        do_action( 'pods_admin_ui_custom', $this );&nbsp;</div></li><li><div>        do_action( 'pods_admin_ui_custom_' . $this-&gt;pod, $this );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Handle filters / actions for the class&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see pods_do_hook&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed Value filtered&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private function do_hook () {&nbsp;</div></li><li><div>        $args = func_get_args();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $args ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $name = array_shift( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return pods_do_hook( 'pods', $name, $args, $this );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Handle variables that have been deprecated and PodsData vars&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var $name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __get ( $name ) {&nbsp;</div></li><li><div>        $name = (string) $name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // PodsData vars&nbsp;</div></li><li><div>        if ( 0 === strpos( $name, 'field_' ) && isset( $this-&gt;data-&gt;{$name} ) ) {&nbsp;</div></li><li><div>            return $this-&gt;data-&gt;{$name};&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $this-&gt;deprecated ) ) {&nbsp;</div></li><li><div>            require_once( PODS_DIR . 'deprecated/classes/Pods.php' );&nbsp;</div></li><li><div>            $this-&gt;deprecated = new Pods_Deprecated( $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $var = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;deprecated-&gt;{$name} ) ) {&nbsp;</div></li><li><div>            if ( ! class_exists( 'Pod' ) || Pod::$deprecated_notice ) {&nbsp;</div></li><li><div>                pods_deprecated( &quot;Pods-&gt;{$name}&quot;, '2.0' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $var = $this-&gt;deprecated-&gt;{$name};&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( ! class_exists( 'Pod' ) || Pod::$deprecated_notice ) {&nbsp;</div></li><li><div>            pods_deprecated( &quot;Pods-&gt;{$name}&quot;, '2.0' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $var;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Handle methods that have been deprecated and any aliasing&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var $name&nbsp;</div></li><li><div>     * @var $args&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __call ( $name, $args ) {&nbsp;</div></li><li><div>        $name = (string) $name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // select &gt; find alias&nbsp;</div></li><li><div>        if ( 'select' == $name ) {&nbsp;</div></li><li><div>            return call_user_func_array( array( $this, 'find' ), $args );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $this-&gt;deprecated ) ) {&nbsp;</div></li><li><div>            require_once( PODS_DIR . 'deprecated/classes/Pods.php' );&nbsp;</div></li><li><div>            $this-&gt;deprecated = new Pods_Deprecated( $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( method_exists( $this-&gt;deprecated, $name ) ) {&nbsp;</div></li><li><div>            return call_user_func_array( array( $this-&gt;deprecated, $name ), $args );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( ! class_exists( 'Pod' ) || Pod::$deprecated_notice ) {&nbsp;</div></li><li><div>            pods_deprecated( &quot;Pods::{$name}&quot;, '2.0' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.6.5.2</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/pods/2.6.8/classes/pods/" class="active">2.6.8</a></li><li><a href="http://hookr.io/plugins/pods/2.6.7-a-1/classes/pods/" class="">2.6.7-a-1</a></li><li><a href="http://hookr.io/plugins/pods/2.6.7/classes/pods/" class="">2.6.7</a></li><li><a href="http://hookr.io/plugins/pods/2.6.6/classes/pods/" class="">2.6.6</a></li><li><a href="http://hookr.io/plugins/pods/2.6.5.2/classes/pods/" class="">2.6.5.2</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>Pods</li><li><span></span>wp-plugin</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>