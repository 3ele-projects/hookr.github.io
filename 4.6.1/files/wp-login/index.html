<!DOCTYPE html>
<!--[if lt IE 7]> <html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]-->
<!--[if IE 7]>    <html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]-->
<!--[if IE 8]>    <html class="hookr file lt-ie9 ie8 ie"><![endif]-->
<!--[if IE 9]>    <html class="hookr file ie9 ie"><![endif]-->
<!--[if gt IE 9]> <html class="hookr file gt-ie9 ie"><![endif]-->
<html lang="en-US" id="single" class="hookr file" data-site="wordpress" data-version="4.6.1" data-type="file" data-id="4845">
    <head xmlns="http://www.w3.org/1999/xhtml">
        <title>
        wp-login | file | WordPress | hookr.io        </title>
        <meta charset="UTF-8">            
        <meta name="author" content="thepassionofthechris \m/," />
        <meta name="keywords" content="file, wordpress, 4.6.1" />
        <meta name="description" content="The WordPress Hook/API Index" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" />
        <link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png">
        <link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif">
        <link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg">
        <meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" />        
        		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.9"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=aca0f10f64a5d0e7b69f05d86fd57ff3' type='text/css' media='screen' />
<link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.9' type='text/css' media='screen' />
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/jquery.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/bs-loophole.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/vendor/bootstrap-3.3.1/js/tooltip.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/effect.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/vendor/jvette/jvette.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/vendor/ScrollToFixed-master/jquery-scrolltofixed.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/jquery.cookie.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/core.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/widget.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/mouse.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/tabs.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/slider.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/jquery.placeholder.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/vendor/amplify-1.1.2/amplify.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.jquery.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.util.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.application.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.component.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.api.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.api.view.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/vendor/zeroclipboard-master/dist/ZeroClipboard.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-includes/js/jquery/ui/effect-highlight.min.js?ver=4.4.9'></script>
<script type='text/javascript' src='http://hookr.io/wp-content/themes/hookr/assets/js/hookr.api.single.js?ver=4.4.9'></script>
<link rel='https://api.w.org/' href='http://hookr.io/wp-json/' />
<link rel="canonical" href="http://hookr.io/files/wp-login/" />
<link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-login%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-login%2F&#038;format=xml" />
<script>
/**<![CDATA[*/
if ('undefined' === typeof Hookr)
    var Hookr = {};
if ('undefined' === typeof Hookr.Util)
    Hookr.Util = {};
Hookr.Util = jQuery && jQuery.extend(Hookr.Util, {"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.6.1-file-wp-login","actions":{"popover":0,"range":1,"search":2,"stat":3}});       
/**]]>*/
</script>
            <!--[if lt IE 9]>
            <script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script>
            <script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script>
        <![endif]-->
    </head>
    <body id="wp-login" class="blog single single-file">
<div id="gutter">
    <div>
        <ul id="nav-breadcrumb" role="navigation" class="pivot clear fix">
<!-- Breadcrumb NavXT 5.3.1 -->
<li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.6.1." href="http://hookr.io/4.6.1/" class="H_VERSION"><span property="name">4.6.1</span></a><meta property="position" content="2"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wp-login</span><meta property="position" content="3"></span></li>
</ul>    </div>
</div><header class="jv-fixed">
    <div>
                
<button class="btn" data-jv-trigger="left"><span></span></button>        
<h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1>
<nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file">
    <ul role="navigation">
                <li class="" data-id="all" data-count="6118"><a href="http://hookr.io/4.6.1/all/" title="All">All <span class="count badge">6118</span></a></li>
                <li class="" data-id="new" data-count="0"><a href="http://hookr.io/4.6.1/new/" title="New">New <span class="count badge">0</span></a></li>
                <li class="" data-id="hooks" data-count="2420"><a href="http://hookr.io/4.6.1/hooks/" title="Hooks">Hooks <span class="count badge">2420</span></a></li>
                <li class="" data-id="action" data-count="835"><a href="http://hookr.io/4.6.1/actions/" title="Actions">Actions <span class="count badge">835</span></a></li>
                <li class="" data-id="filter" data-count="1585"><a href="http://hookr.io/4.6.1/filters/" title="Filters">Filters <span class="count badge">1585</span></a></li>
                <li class="" data-id="class" data-count="329"><a href="http://hookr.io/4.6.1/classes/" title="Classes">Classes <span class="count badge">329</span></a></li>
                <li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.6.1/constants/" title="Constants">Constants <span class="count badge">566</span></a></li>
                <li class="" data-id="function" data-count="2795"><a href="http://hookr.io/4.6.1/functions/" title="Functions">Functions <span class="count badge">2795</span></a></li>
                <li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.6.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li>
            </ul>
</nav>    <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left">
    <ul role="navigation">
        <li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li>        
        <li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li>
        <li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li>         
        <li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li>
        <li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li>  
        <li class=""><a href="http://hookr.io/about/" title="About">About</a></li>  
        <li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li>  
    </ul>
</nav>    </div>    
</header><div role="main" id="middle">
    <div>        
                                            
        <div id="mainbar">
    <article>
    <section>
        <h1>/wp-login.php</h1>
        <p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * WordPress User Page</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Handles authentication, registering, resetting passwords, forgot password, </span>&nbsp;</div></li><li><div><span class="comment"> * and other user handling.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @package WordPress</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Make sure that the WordPress bootstrap has run before continuing. */</span>&nbsp;</div></li><li><div>require( dirname(__FILE__) . '/wp-load.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Redirect to https login if forced to use SSL</span>&nbsp;</div></li><li><div>if ( force_ssl_admin() && ! is_ssl() ) {&nbsp;</div></li><li><div>  if ( 0 === strpos($_SERVER['REQUEST_URI'], 'http') ) {&nbsp;</div></li><li><div>      wp_redirect( set_url_scheme( $_SERVER['REQUEST_URI'], 'https' ) );&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      wp_redirect( 'https:<span class="comment">//' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'] );</span>&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Output the login page header.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string   $title    Optional. WordPress login Page title to display in the `&lt;title&gt;` element.</span>&nbsp;</div></li><li><div><span class="comment"> *                           Default 'Log In'.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string   $message  Optional. Message to display in header. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> * @param WP_Error $wp_error Optional. The error to pass. Default empty.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function login_header( $title = 'Log In', $message = '', $wp_error = '' ) {&nbsp;</div></li><li><div>  global $error, $interim_login, $action;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Don't index any of these forms</span>&nbsp;</div></li><li><div>  add_action( 'login_head', 'wp_no_robots' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( wp_is_mobile() )&nbsp;</div></li><li><div>      add_action( 'login_head', 'wp_login_viewport_meta' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( empty($wp_error) )&nbsp;</div></li><li><div>      $wp_error = new WP_Error();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Shake it!</span>&nbsp;</div></li><li><div>  $shake_error_codes = array( 'empty_password', 'empty_email', 'invalid_email', 'invalidcombo', 'empty_username', 'invalid_username', 'incorrect_password' );&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the error codes array for shaking the login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $shake_error_codes Error codes that shake the login form.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $shake_error_codes = apply_filters( 'shake_error_codes', $shake_error_codes );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $shake_error_codes && $wp_error-&gt;get_error_code() && in_array( $wp_error-&gt;get_error_code(), $shake_error_codes ) )&nbsp;</div></li><li><div>      add_action( 'login_head', 'wp_shake_js', 12 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $separator = is_rtl() ? ' &rsaquo; ' : ' &lsaquo; ';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  ?&gt;&lt;!DOCTYPE html&gt;&nbsp;</div></li><li><div>  &lt;!--[if IE 8]&gt;&nbsp;</div></li><li><div>      &lt;html xmlns=&quot;http:<span class="comment">//www.w3.org/1999/xhtml&quot; class=&quot;ie8&quot; &lt;?php language_attributes(); ?&gt;&gt;</span>&nbsp;</div></li><li><div>  &lt;![endif]--&gt;&nbsp;</div></li><li><div>  &lt;!--[if !(IE 8) ]&gt;&lt;!--&gt;&nbsp;</div></li><li><div>      &lt;html xmlns=&quot;http:<span class="comment">//www.w3.org/1999/xhtml&quot; &lt;?php language_attributes(); ?&gt;&gt;</span>&nbsp;</div></li><li><div>  &lt;!--&lt;![endif]--&gt;&nbsp;</div></li><li><div>  &lt;head&gt;&nbsp;</div></li><li><div>  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;&lt;?php bloginfo('html_type'); ?&gt;; charset=&lt;?php bloginfo('charset'); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>  &lt;title&gt;&lt;?php echo get_bloginfo( 'name', 'display' ) . $separator . $title; ?&gt;&lt;/title&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_style( 'login' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Remove all stored post data on logging out.</span>&nbsp;</div></li><li><div><span class="comment">   * This could be added by add_action('login_head'...) like wp_shake_js(), </span>&nbsp;</div></li><li><div><span class="comment">   * but maybe better if it's not removable by plugins</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( 'loggedout' == $wp_error-&gt;get_error_code() ) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;script&gt;if(&quot;sessionStorage&quot; in window) {try{for(var key in sessionStorage) {if(key.indexOf(&quot;wp-autosave-&quot;)!=-1) {sessionStorage.removeItem(key)}}}catch(e) {}};&lt;/script&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Enqueue scripts and styles for the login page.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'login_enqueue_scripts' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires in the login page header after scripts are enqueued.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'login_head' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_multisite() ) {&nbsp;</div></li><li><div>      $login_header_url = network_home_url();&nbsp;</div></li><li><div>      $login_header_title = get_current_site()-&gt;site_name;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $login_header_url = __( 'https:<span class="comment">//wordpress.org/' );</span>&nbsp;</div></li><li><div>      $login_header_title = __( 'Powered by WordPress' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters link URL of the header logo above login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $login_header_url Login header logo URL.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $login_header_url = apply_filters( 'login_headerurl', $login_header_url );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the title attribute of the header logo above login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $login_header_title Login header logo title attribute.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $login_header_title = apply_filters( 'login_headertitle', $login_header_title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $classes = array( 'login-action-' . $action, 'wp-core-ui' );&nbsp;</div></li><li><div>  if ( wp_is_mobile() )&nbsp;</div></li><li><div>      $classes[] = 'mobile';&nbsp;</div></li><li><div>  if ( is_rtl() )&nbsp;</div></li><li><div>      $classes[] = 'rtl';&nbsp;</div></li><li><div>  if ( $interim_login ) {&nbsp;</div></li><li><div>      $classes[] = 'interim-login';&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;style type=&quot;text/css&quot;&gt;html{background-color: transparent;}&lt;/style&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'success' ===  $interim_login )&nbsp;</div></li><li><div>          $classes[] = 'interim-login-success';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $classes[] =' locale-' . sanitize_html_class( strtolower( str_replace( '_', '-', get_locale() ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the login page body classes.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array  $classes An array of body classes.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $action  The action that brought the visitor to the login page.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $classes = apply_filters( 'login_body_class', $classes, $action );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;/head&gt;&nbsp;</div></li><li><div>  &lt;body class=&quot;login &lt;?php echo esc_attr( implode( ' ', $classes ) ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires in the login page header after the body tag is opened.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.6.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'login_header' );&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;div id=&quot;login&quot;&gt;&nbsp;</div></li><li><div>      &lt;h1&gt;&lt;a href=&quot;&lt;?php echo esc_url( $login_header_url ); ?&gt;&quot; title=&quot;&lt;?php echo esc_attr( $login_header_title ); ?&gt;&quot; tabindex=&quot;-1&quot;&gt;&lt;?php bloginfo( 'name' ); ?&gt;&lt;/a&gt;&lt;/h1&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  unset( $login_header_url, $login_header_title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the message to display above the login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $message Login message text.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $message = apply_filters( 'login_message', $message );&nbsp;</div></li><li><div>  if ( !empty( $message ) )&nbsp;</div></li><li><div>      echo $message . &quot;\n&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// In case a plugin uses $error rather than the $wp_errors object</span>&nbsp;</div></li><li><div>  if ( !empty( $error ) ) {&nbsp;</div></li><li><div>      $wp_error-&gt;add('error', $error);&nbsp;</div></li><li><div>      unset($error);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $wp_error-&gt;get_error_code() ) {&nbsp;</div></li><li><div>      $errors = '';&nbsp;</div></li><li><div>      $messages = '';&nbsp;</div></li><li><div>      foreach ( $wp_error-&gt;get_error_codes() as $code ) {&nbsp;</div></li><li><div>          $severity = $wp_error-&gt;get_error_data( $code );&nbsp;</div></li><li><div>          foreach ( $wp_error-&gt;get_error_messages( $code ) as $error_message ) {&nbsp;</div></li><li><div>              if ( 'message' == $severity )&nbsp;</div></li><li><div>                  $messages .= '    ' . $error_message . &quot;&lt;br /&gt;\n&quot;;&nbsp;</div></li><li><div>              else&nbsp;</div></li><li><div>                  $errors .= '    ' . $error_message . &quot;&lt;br /&gt;\n&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! empty( $errors ) ) {&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Filters the error messages displayed above the login form.</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @param string $errors Login error message.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          echo '&lt;div id=&quot;login_error&quot;&gt;' . apply_filters( 'login_errors', $errors ) . &quot;&lt;/div&gt;\n&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! empty( $messages ) ) {&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Filters instructional messages displayed above the login form.</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @param string $messages Login messages.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          echo '&lt;p class=&quot;message&quot;&gt;' . apply_filters( 'login_messages', $messages ) . &quot;&lt;/p&gt;\n&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>} <span class="comment">// End of login_header()</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs the footer for the login page.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $input_id Which input to auto-focus</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function login_footer($input_id = '') {&nbsp;</div></li><li><div>  global $interim_login;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Don't allow interim logins to navigate away from the page.</span>&nbsp;</div></li><li><div>  if ( ! $interim_login ): ?&gt;&nbsp;</div></li><li><div>  &lt;p id=&quot;backtoblog&quot;&gt;&lt;a href=&quot;&lt;?php echo esc_url( home_url( '/' ) ); ?&gt;&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      <span class="comment">/** translators: %s: site title */</span>&nbsp;</div></li><li><div>      printf( _x( '&larr; Back to %s', 'site' ), get_bloginfo( 'title', 'display' ) );&nbsp;</div></li><li><div>  ?&gt;&lt;/a&gt;&lt;/p&gt;&nbsp;</div></li><li><div>  &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;?php if ( !empty($input_id) ) : ?&gt;&nbsp;</div></li><li><div>  &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>  try{document.getElementById('&lt;?php echo $input_id; ?&gt;').focus();}catch(e) {}&nbsp;</div></li><li><div>  if(typeof wpOnload=='function')wpOnload();&nbsp;</div></li><li><div>  &lt;/script&gt;&nbsp;</div></li><li><div>  &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires in the login page footer.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'login_footer' ); ?&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>  &lt;/body&gt;&nbsp;</div></li><li><div>  &lt;/html&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_shake_js() {&nbsp;</div></li><li><div>  if ( wp_is_mobile() )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>addLoadEvent = function(func) {if(typeof jQuery!=&quot;undefined&quot;)jQuery(document).ready(func);else if(typeof wpOnload!='function') {wpOnload=func;}else{var oldonload=wpOnload;wpOnload=function() {oldonload();func();}}};&nbsp;</div></li><li><div>function s(id, pos) {g(id).left=pos+'px';}&nbsp;</div></li><li><div>function g(id) {return document.getElementById(id).style;}&nbsp;</div></li><li><div>function shake(id, a, d) {c=a.shift();s(id, c);if(a.length&gt;0) {setTimeout(function() {shake(id, a, d);}, d);}else{try{g(id).position='static';wp_attempt_focus();}catch(e) {}}}&nbsp;</div></li><li><div>addLoadEvent(function() { var p=new Array(15, 30, 15, 0, -15, -30, -15, 0);p=p.concat(p.concat(p));var i=document.forms[0].id;g(i).position='relative';shake(i, p, 20);});&nbsp;</div></li><li><div>&lt;/script&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.7.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wp_login_viewport_meta() {&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Handles sending password retrieval email to user.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @global wpdb         $wpdb      WordPress database abstraction object.</span>&nbsp;</div></li><li><div><span class="comment"> * @global PasswordHash $wp_hasher Portable PHP password hashing framework.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return bool|WP_Error True: when finish. WP_Error on error</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function retrieve_password() {&nbsp;</div></li><li><div>  global $wpdb, $wp_hasher;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $errors = new WP_Error();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( empty( $_POST['user_login'] ) ) {&nbsp;</div></li><li><div>      $errors-&gt;add('empty_username', __('&lt;strong&gt;ERROR&lt;/strong&gt;: Enter a username or email address.'));&nbsp;</div></li><li><div>  } elseif ( strpos( $_POST['user_login'], '@' ) ) {&nbsp;</div></li><li><div>      $user_data = get_user_by( 'email', trim( wp_unslash( $_POST['user_login'] ) ) );&nbsp;</div></li><li><div>      if ( empty( $user_data ) )&nbsp;</div></li><li><div>          $errors-&gt;add('invalid_email', __('&lt;strong&gt;ERROR&lt;/strong&gt;: There is no user registered with that email address.'));&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $login = trim($_POST['user_login']);&nbsp;</div></li><li><div>      $user_data = get_user_by('login', $login);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before errors are returned from a password reset request.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0 Added the `$errors` parameter.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_Error $errors A WP_Error object containing any errors generated</span>&nbsp;</div></li><li><div><span class="comment">   *                         by using invalid credentials.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'lostpassword_post', $errors );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $errors-&gt;get_error_code() )&nbsp;</div></li><li><div>      return $errors;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !$user_data ) {&nbsp;</div></li><li><div>      $errors-&gt;add('invalidcombo', __('&lt;strong&gt;ERROR&lt;/strong&gt;: Invalid username or email.'));&nbsp;</div></li><li><div>      return $errors;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Redefining user_login ensures we return the right case in the email.</span>&nbsp;</div></li><li><div>  $user_login = $user_data-&gt;user_login;&nbsp;</div></li><li><div>  $user_email = $user_data-&gt;user_email;&nbsp;</div></li><li><div>  $key = get_password_reset_key( $user_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_wp_error( $key ) ) {&nbsp;</div></li><li><div>      return $key;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $message = __('Someone has requested a password reset for the following account:') . &quot;\r\n\r\n&quot;;&nbsp;</div></li><li><div>  $message .= network_home_url( '/' ) . &quot;\r\n\r\n&quot;;&nbsp;</div></li><li><div>  $message .= sprintf(__('Username: %s'), $user_login) . &quot;\r\n\r\n&quot;;&nbsp;</div></li><li><div>  $message .= __('If this was a mistake, just ignore this email and nothing will happen.') . &quot;\r\n\r\n&quot;;&nbsp;</div></li><li><div>  $message .= __('To reset your password, visit the following address:') . &quot;\r\n\r\n&quot;;&nbsp;</div></li><li><div>  $message .= '&lt;' . network_site_url(&quot;wp-login.php?action=rp&key=$key&login=&quot; . rawurlencode($user_login), 'login') . &quot;&gt;\r\n&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_multisite() )&nbsp;</div></li><li><div>      $blogname = $GLOBALS['current_site']-&gt;site_name;&nbsp;</div></li><li><div>  else&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * The blogname option is escaped with esc_html on the way into the database</span>&nbsp;</div></li><li><div><span class="comment">       * in sanitize_option we want to reverse this for the plain text arena of emails.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $blogname = wp_specialchars_decode(get_option('blogname'), ENT_QUOTES);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $title = sprintf( __('[%s] Password Reset'), $blogname );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the subject of the password reset email.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.4.0 Added the `$user_login` and `$user_data` parameters.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $title      Default email title.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $user_login The username for the user.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_User $user_data  WP_User object.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $title = apply_filters( 'retrieve_password_title', $title, $user_login, $user_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the message body of the password reset mail.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.1.0 Added `$user_login` and `$user_data` parameters.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $message    Default mail message.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $key        The activation key.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $user_login The username for the user.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_User $user_data  WP_User object.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $message = apply_filters( 'retrieve_password_message', $message, $key, $user_login, $user_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $message && !wp_mail( $user_email, wp_specialchars_decode( $title ), $message ) )&nbsp;</div></li><li><div>      wp_die( __('The email could not be sent.') . &quot;&lt;br /&gt;\n&quot; . __('Possible reason: your host may have disabled the mail() function.') );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return true;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//</span>&nbsp;</div></li><li><div><span class="comment">// Main</span>&nbsp;</div></li><li><div><span class="comment">//</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div>$action = isset($_REQUEST['action']) ? $_REQUEST['action'] : 'login';&nbsp;</div></li><li><div>$errors = new WP_Error();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( isset($_GET['key']) )&nbsp;</div></li><li><div>  $action = 'resetpass';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// validate action so as to default to the login screen</span>&nbsp;</div></li><li><div>if ( !in_array( $action, array( 'postpass', 'logout', 'lostpassword', 'retrievepassword', 'resetpass', 'rp', 'register', 'login' ), true ) && false === has_filter( 'login_form_' . $action ) )&nbsp;</div></li><li><div>  $action = 'login';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>nocache_headers();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>header('Content-Type: '.get_bloginfo('html_type').'; charset='.get_bloginfo('charset'));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( defined( 'RELOCATE' ) && RELOCATE ) { <span class="comment">// Move flag is set</span>&nbsp;</div></li><li><div>  if ( isset( $_SERVER['PATH_INFO'] ) && ($_SERVER['PATH_INFO'] != $_SERVER['PHP_SELF']) )&nbsp;</div></li><li><div>      $_SERVER['PHP_SELF'] = str_replace( $_SERVER['PATH_INFO'], '', $_SERVER['PHP_SELF'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $url = dirname( set_url_scheme( 'http:<span class="comment">//' .  $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'] ) );</span>&nbsp;</div></li><li><div>  if ( $url != get_option( 'siteurl' ) )&nbsp;</div></li><li><div>      update_option( 'siteurl', $url );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Set a cookie now to see if they are supported by the browser.</span>&nbsp;</div></li><li><div>$secure = ( 'https' === parse_url( wp_login_url(), PHP_URL_SCHEME ) );&nbsp;</div></li><li><div>setcookie( TEST_COOKIE, 'WP Cookie check', 0, COOKIEPATH, COOKIE_DOMAIN, $secure );&nbsp;</div></li><li><div>if ( SITECOOKIEPATH != COOKIEPATH )&nbsp;</div></li><li><div>  setcookie( TEST_COOKIE, 'WP Cookie check', 0, SITECOOKIEPATH, COOKIE_DOMAIN, $secure );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Fires when the login form is initialized.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.2.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>do_action( 'login_init' );&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Fires before a specified login form action.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The dynamic portion of the hook name, `$action`, refers to the action</span>&nbsp;</div></li><li><div><span class="comment"> * that brought the visitor to the login form. Actions include 'postpass', </span>&nbsp;</div></li><li><div><span class="comment"> * 'logout', 'lostpassword', etc.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.8.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>do_action( 'login_form_' . $action );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>$http_post = ('POST' == $_SERVER['REQUEST_METHOD']);&nbsp;</div></li><li><div>$interim_login = isset($_REQUEST['interim-login']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>switch ($action) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>case 'postpass' :&nbsp;</div></li><li><div>  if ( ! array_key_exists( 'post_password', $_POST ) ) {&nbsp;</div></li><li><div>      wp_safe_redirect( wp_get_referer() );&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  require_once ABSPATH . WPINC . '/class-phpass.php';&nbsp;</div></li><li><div>  $hasher = new PasswordHash( 8, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the life span of the post password cookie.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * By default, the cookie expires 10 days from creation. To turn this</span>&nbsp;</div></li><li><div><span class="comment">   * into a session cookie, return 0.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.7.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $expires The expiry time, as passed to setcookie().</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $expire = apply_filters( 'post_password_expires', time() + 10 * DAY_IN_SECONDS );&nbsp;</div></li><li><div>  $referer = wp_get_referer();&nbsp;</div></li><li><div>  if ( $referer ) {&nbsp;</div></li><li><div>      $secure = ( 'https' === parse_url( $referer, PHP_URL_SCHEME ) );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $secure = false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  setcookie( 'wp-postpass_' . COOKIEHASH, $hasher-&gt;HashPassword( wp_unslash( $_POST['post_password'] ) ), $expire, COOKIEPATH, COOKIE_DOMAIN, $secure );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_safe_redirect( wp_get_referer() );&nbsp;</div></li><li><div>  exit();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>case 'logout' :&nbsp;</div></li><li><div>  check_admin_referer('log-out');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $user = wp_get_current_user();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_logout();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! empty( $_REQUEST['redirect_to'] ) ) {&nbsp;</div></li><li><div>      $redirect_to = $requested_redirect_to = $_REQUEST['redirect_to'];&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $redirect_to = 'wp-login.php?loggedout=true';&nbsp;</div></li><li><div>      $requested_redirect_to = '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the log out redirect URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 4.2.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $redirect_to           The redirect destination URL.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string  $requested_redirect_to The requested redirect destination URL passed as a parameter.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_User $user                  The WP_User object for the user that's logging out.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $redirect_to = apply_filters( 'logout_redirect', $redirect_to, $requested_redirect_to, $user );&nbsp;</div></li><li><div>  wp_safe_redirect( $redirect_to );&nbsp;</div></li><li><div>  exit();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>case 'lostpassword' :&nbsp;</div></li><li><div>case 'retrievepassword' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $http_post ) {&nbsp;</div></li><li><div>      $errors = retrieve_password();&nbsp;</div></li><li><div>      if ( !is_wp_error($errors) ) {&nbsp;</div></li><li><div>          $redirect_to = !empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : 'wp-login.php?checkemail=confirm';&nbsp;</div></li><li><div>          wp_safe_redirect( $redirect_to );&nbsp;</div></li><li><div>          exit();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset( $_GET['error'] ) ) {&nbsp;</div></li><li><div>      if ( 'invalidkey' == $_GET['error'] ) {&nbsp;</div></li><li><div>          $errors-&gt;add( 'invalidkey', __( 'Your password reset link appears to be invalid. Please request a new link below.' ) );&nbsp;</div></li><li><div>      } elseif ( 'expiredkey' == $_GET['error'] ) {&nbsp;</div></li><li><div>          $errors-&gt;add( 'expiredkey', __( 'Your password reset link has expired. Please request a new link below.' ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $lostpassword_redirect = ! empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : '';&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the URL redirected to after submitting the lostpassword/retrievepassword form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $lostpassword_redirect The redirect destination URL.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $redirect_to = apply_filters( 'lostpassword_redirect', $lostpassword_redirect );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the lost password form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 1.5.1</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'lost_password' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  login_header(__('Lost Password'), '&lt;p class=&quot;message&quot;&gt;' . __('Please enter your username or email address. You will receive a link to create a new password via email.') . '&lt;/p&gt;', $errors);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $user_login = isset($_POST['user_login']) ? wp_unslash($_POST['user_login']) : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;form name=&quot;lostpasswordform&quot; id=&quot;lostpasswordform&quot; action=&quot;&lt;?php echo esc_url( network_site_url( 'wp-login.php?action=lostpassword', 'login_post' ) ); ?&gt;&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>  &lt;p&gt;&nbsp;</div></li><li><div>      &lt;label for=&quot;user_login&quot; &gt;&lt;?php _e('Username or Email') ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;text&quot; name=&quot;user_login&quot; id=&quot;user_login&quot; class=&quot;input&quot; value=&quot;&lt;?php echo esc_attr($user_login); ?&gt;&quot; size=&quot;20&quot; /&gt;&lt;/label&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires inside the lostpassword form tags, before the hidden fields.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'lostpassword_form' ); ?&gt;&nbsp;</div></li><li><div>  &lt;input type=&quot;hidden&quot; name=&quot;redirect_to&quot; value=&quot;&lt;?php echo esc_attr( $redirect_to ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>  &lt;p class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;wp-submit&quot; id=&quot;wp-submit&quot; class=&quot;button button-primary button-large&quot; value=&quot;&lt;?php esc_attr_e('Get New Password'); ?&gt;&quot; /&gt;&lt;/p&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;p id=&quot;nav&quot;&gt;&nbsp;</div></li><li><div>&lt;a href=&quot;&lt;?php echo esc_url( wp_login_url() ); ?&gt;&quot;&gt;&lt;?php _e('Log in') ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>if ( get_option( 'users_can_register' ) ) :&nbsp;</div></li><li><div>  $registration_url = sprintf( '&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;', esc_url( wp_registration_url() ), __( 'Register' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span>&nbsp;</div></li><li><div>  echo ' | ' . apply_filters( 'register', $registration_url );&nbsp;</div></li><li><div>endif;&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>login_footer('user_login');&nbsp;</div></li><li><div>break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>case 'resetpass' :&nbsp;</div></li><li><div>case 'rp' :&nbsp;</div></li><li><div>  list( $rp_path ) = explode( '?', wp_unslash( $_SERVER['REQUEST_URI'] ) );&nbsp;</div></li><li><div>  $rp_cookie = 'wp-resetpass-' . COOKIEHASH;&nbsp;</div></li><li><div>  if ( isset( $_GET['key'] ) ) {&nbsp;</div></li><li><div>      $value = sprintf( '%s:%s', wp_unslash( $_GET['login'] ), wp_unslash( $_GET['key'] ) );&nbsp;</div></li><li><div>      setcookie( $rp_cookie, $value, 0, $rp_path, COOKIE_DOMAIN, is_ssl(), true );&nbsp;</div></li><li><div>      wp_safe_redirect( remove_query_arg( array( 'key', 'login' ) ) );&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset( $_COOKIE[ $rp_cookie ] ) && 0 &lt; strpos( $_COOKIE[ $rp_cookie ], ':' ) ) {&nbsp;</div></li><li><div>      list( $rp_login, $rp_key ) = explode( ':', wp_unslash( $_COOKIE[ $rp_cookie ] ), 2 );&nbsp;</div></li><li><div>      $user = check_password_reset_key( $rp_key, $rp_login );&nbsp;</div></li><li><div>      if ( isset( $_POST['pass1'] ) && ! hash_equals( $rp_key, $_POST['rp_key'] ) ) {&nbsp;</div></li><li><div>          $user = false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $user = false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! $user || is_wp_error( $user ) ) {&nbsp;</div></li><li><div>      setcookie( $rp_cookie, ' ', time() - YEAR_IN_SECONDS, $rp_path, COOKIE_DOMAIN, is_ssl(), true );&nbsp;</div></li><li><div>      if ( $user && $user-&gt;get_error_code() === 'expired_key' )&nbsp;</div></li><li><div>          wp_redirect( site_url( 'wp-login.php?action=lostpassword&error=expiredkey' ) );&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          wp_redirect( site_url( 'wp-login.php?action=lostpassword&error=invalidkey' ) );&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $errors = new WP_Error();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset($_POST['pass1']) && $_POST['pass1'] != $_POST['pass2'] )&nbsp;</div></li><li><div>      $errors-&gt;add( 'password_reset_mismatch', __( 'The passwords do not match.' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires before the password reset procedure is validated.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.5.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param object           $errors WP Error object.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_User|WP_Error $user   WP_User object if the login and reset key match. WP_Error object otherwise.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'validate_password_reset', $errors, $user );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ( ! $errors-&gt;get_error_code() ) && isset( $_POST['pass1'] ) && !empty( $_POST['pass1'] ) ) {&nbsp;</div></li><li><div>      reset_password($user, $_POST['pass1']);&nbsp;</div></li><li><div>      setcookie( $rp_cookie, ' ', time() - YEAR_IN_SECONDS, $rp_path, COOKIE_DOMAIN, is_ssl(), true );&nbsp;</div></li><li><div>      login_header( __( 'Password Reset' ), '&lt;p class=&quot;message reset-pass&quot;&gt;' . __( 'Your password has been reset.' ) . ' &lt;a href=&quot;' . esc_url( wp_login_url() ) . '&quot;&gt;' . __( 'Log in' ) . '&lt;/a&gt;&lt;/p&gt;' );&nbsp;</div></li><li><div>      login_footer();&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_script('utils');&nbsp;</div></li><li><div>  wp_enqueue_script('user-profile');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  login_header(__('Reset Password'), '&lt;p class=&quot;message reset-pass&quot;&gt;' . __('Enter your new password below.') . '&lt;/p&gt;', $errors );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&lt;form name=&quot;resetpassform&quot; id=&quot;resetpassform&quot; action=&quot;&lt;?php echo esc_url( network_site_url( 'wp-login.php?action=resetpass', 'login_post' ) ); ?&gt;&quot; method=&quot;post&quot; autocomplete=&quot;off&quot;&gt;&nbsp;</div></li><li><div>  &lt;input type=&quot;hidden&quot; id=&quot;user_login&quot; value=&quot;&lt;?php echo esc_attr( $rp_login ); ?&gt;&quot; autocomplete=&quot;off&quot; /&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;div class=&quot;user-pass1-wrap&quot;&gt;&nbsp;</div></li><li><div>      &lt;p&gt;&nbsp;</div></li><li><div>          &lt;label for=&quot;pass1&quot;&gt;&lt;?php _e( 'New password' ) ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;div class=&quot;wp-pwd&quot;&gt;&nbsp;</div></li><li><div>          &lt;span class=&quot;password-input-wrapper&quot;&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;password&quot; data-reveal=&quot;1&quot; data-pw=&quot;&lt;?php echo esc_attr( wp_generate_password( 16 ) ); ?&gt;&quot; name=&quot;pass1&quot; id=&quot;pass1&quot; class=&quot;input&quot; size=&quot;20&quot; value=&quot;&quot; autocomplete=&quot;off&quot; aria-describedby=&quot;pass-strength-result&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/span&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;pass-strength-result&quot; class=&quot;hide-if-no-js&quot; aria-live=&quot;polite&quot;&gt;&lt;?php _e( 'Strength indicator' ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;p class=&quot;user-pass2-wrap&quot;&gt;&nbsp;</div></li><li><div>      &lt;label for=&quot;pass2&quot;&gt;&lt;?php _e( 'Confirm new password' ) ?&gt;&lt;/label&gt;&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;password&quot; name=&quot;pass2&quot; id=&quot;pass2&quot; class=&quot;input&quot; size=&quot;20&quot; value=&quot;&quot; autocomplete=&quot;off&quot; /&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;p class=&quot;description indicator-hint&quot;&gt;&lt;?php echo wp_get_password_hint(); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>  &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires following the 'Strength indicator' meter in the user password reset form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.9.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_User $user User object of the user whose password is being reset.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'resetpass_form', $user );&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;input type=&quot;hidden&quot; name=&quot;rp_key&quot; value=&quot;&lt;?php echo esc_attr( $rp_key ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>  &lt;p class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;wp-submit&quot; id=&quot;wp-submit&quot; class=&quot;button button-primary button-large&quot; value=&quot;&lt;?php esc_attr_e('Reset Password'); ?&gt;&quot; /&gt;&lt;/p&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;p id=&quot;nav&quot;&gt;&nbsp;</div></li><li><div>&lt;a href=&quot;&lt;?php echo esc_url( wp_login_url() ); ?&gt;&quot;&gt;&lt;?php _e( 'Log in' ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>if ( get_option( 'users_can_register' ) ) :&nbsp;</div></li><li><div>  $registration_url = sprintf( '&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;', esc_url( wp_registration_url() ), __( 'Register' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span>&nbsp;</div></li><li><div>  echo ' | ' . apply_filters( 'register', $registration_url );&nbsp;</div></li><li><div>endif;&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>login_footer('user_pass');&nbsp;</div></li><li><div>break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>case 'register' :&nbsp;</div></li><li><div>  if ( is_multisite() ) {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters the Multisite sign up URL.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $sign_up_url The sign up URL.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      wp_redirect( apply_filters( 'wp_signup_location', network_site_url( 'wp-signup.php' ) ) );&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !get_option('users_can_register') ) {&nbsp;</div></li><li><div>      wp_redirect( site_url('wp-login.php?registration=disabled') );&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $user_login = '';&nbsp;</div></li><li><div>  $user_email = '';&nbsp;</div></li><li><div>  if ( $http_post ) {&nbsp;</div></li><li><div>      $user_login = isset( $_POST['user_login'] ) ? $_POST['user_login'] : '';&nbsp;</div></li><li><div>      $user_email = isset( $_POST['user_email'] ) ? $_POST['user_email'] : '';&nbsp;</div></li><li><div>      $errors = register_new_user($user_login, $user_email);&nbsp;</div></li><li><div>      if ( !is_wp_error($errors) ) {&nbsp;</div></li><li><div>          $redirect_to = !empty( $_POST['redirect_to'] ) ? $_POST['redirect_to'] : 'wp-login.php?checkemail=registered';&nbsp;</div></li><li><div>          wp_safe_redirect( $redirect_to );&nbsp;</div></li><li><div>          exit();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $registration_redirect = ! empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : '';&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the registration redirect URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $registration_redirect The redirect destination URL.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $redirect_to = apply_filters( 'registration_redirect', $registration_redirect );&nbsp;</div></li><li><div>  login_header(__('Registration Form'), '&lt;p class=&quot;message register&quot;&gt;' . __('Register For This Site') . '&lt;/p&gt;', $errors);&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&lt;form name=&quot;registerform&quot; id=&quot;registerform&quot; action=&quot;&lt;?php echo esc_url( site_url( 'wp-login.php?action=register', 'login_post' ) ); ?&gt;&quot; method=&quot;post&quot; novalidate=&quot;novalidate&quot;&gt;&nbsp;</div></li><li><div>  &lt;p&gt;&nbsp;</div></li><li><div>      &lt;label for=&quot;user_login&quot;&gt;&lt;?php _e('Username') ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;text&quot; name=&quot;user_login&quot; id=&quot;user_login&quot; class=&quot;input&quot; value=&quot;&lt;?php echo esc_attr(wp_unslash($user_login)); ?&gt;&quot; size=&quot;20&quot; /&gt;&lt;/label&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>  &lt;p&gt;&nbsp;</div></li><li><div>      &lt;label for=&quot;user_email&quot;&gt;&lt;?php _e('Email') ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;email&quot; name=&quot;user_email&quot; id=&quot;user_email&quot; class=&quot;input&quot; value=&quot;&lt;?php echo esc_attr( wp_unslash( $user_email ) ); ?&gt;&quot; size=&quot;25&quot; /&gt;&lt;/label&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires following the 'Email' field in the user registration form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'register_form' );&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;p id=&quot;reg_passmail&quot;&gt;&lt;?php _e( 'Registration confirmation will be emailed to you.' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>  &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>  &lt;input type=&quot;hidden&quot; name=&quot;redirect_to&quot; value=&quot;&lt;?php echo esc_attr( $redirect_to ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>  &lt;p class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;wp-submit&quot; id=&quot;wp-submit&quot; class=&quot;button button-primary button-large&quot; value=&quot;&lt;?php esc_attr_e('Register'); ?&gt;&quot; /&gt;&lt;/p&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;p id=&quot;nav&quot;&gt;&nbsp;</div></li><li><div>&lt;a href=&quot;&lt;?php echo esc_url( wp_login_url() ); ?&gt;&quot;&gt;&lt;?php _e( 'Log in' ); ?&gt;&lt;/a&gt; |&nbsp;</div></li><li><div>&lt;a href=&quot;&lt;?php echo esc_url( wp_lostpassword_url() ); ?&gt;&quot;&gt;&lt;?php _e( 'Lost your password?' ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>&lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>login_footer('user_login');&nbsp;</div></li><li><div>break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>case 'login' :&nbsp;</div></li><li><div>default:&nbsp;</div></li><li><div>  $secure_cookie = '';&nbsp;</div></li><li><div>  $customize_login = isset( $_REQUEST['customize-login'] );&nbsp;</div></li><li><div>  if ( $customize_login )&nbsp;</div></li><li><div>      wp_enqueue_script( 'customize-base' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If the user wants ssl but the session is not ssl, force a secure cookie.</span>&nbsp;</div></li><li><div>  if ( !empty($_POST['log']) && !force_ssl_admin() ) {&nbsp;</div></li><li><div>      $user_name = sanitize_user($_POST['log']);&nbsp;</div></li><li><div>      $user = get_user_by( 'login', $user_name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $user && strpos( $user_name, '@' ) ) {&nbsp;</div></li><li><div>          $user = get_user_by( 'email', $user_name );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $user ) {&nbsp;</div></li><li><div>          if ( get_user_option('use_ssl', $user-&gt;ID) ) {&nbsp;</div></li><li><div>              $secure_cookie = true;&nbsp;</div></li><li><div>              force_ssl_admin(true);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset( $_REQUEST['redirect_to'] ) ) {&nbsp;</div></li><li><div>      $redirect_to = $_REQUEST['redirect_to'];&nbsp;</div></li><li><div>      <span class="comment">// Redirect to https if user wants ssl</span>&nbsp;</div></li><li><div>      if ( $secure_cookie && false !== strpos($redirect_to, 'wp-admin') )&nbsp;</div></li><li><div>          $redirect_to = preg_replace('|^http:<span class="comment">//|', 'https://', $redirect_to);</span>&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $redirect_to = admin_url();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $reauth = empty($_REQUEST['reauth']) ? false : true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $user = wp_signon( array(), $secure_cookie );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( empty( $_COOKIE[ LOGGED_IN_COOKIE ] ) ) {&nbsp;</div></li><li><div>      if ( headers_sent() ) {&nbsp;</div></li><li><div>          $user = new WP_Error( 'test_cookie', sprintf( __( '&lt;strong&gt;ERROR&lt;/strong&gt;: Cookies are blocked due to unexpected output. For help, please see &lt;a href=&quot;%1$s&quot;&gt;this documentation&lt;/a&gt; or try the &lt;a href=&quot;%2$s&quot;&gt;support forums&lt;/a&gt;.' ), &nbsp;</div></li><li><div>              __( 'https:<span class="comment">//codex.wordpress.org/Cookies' ), __( 'https://wordpress.org/support/' ) ) );</span>&nbsp;</div></li><li><div>      } elseif ( isset( $_POST['testcookie'] ) && empty( $_COOKIE[ TEST_COOKIE ] ) ) {&nbsp;</div></li><li><div>          <span class="comment">// If cookies are disabled we can't log in even with a valid user+pass</span>&nbsp;</div></li><li><div>          $user = new WP_Error( 'test_cookie', sprintf( __( '&lt;strong&gt;ERROR&lt;/strong&gt;: Cookies are blocked or not supported by your browser. You must &lt;a href=&quot;%s&quot;&gt;enable cookies&lt;/a&gt; to use WordPress.' ), &nbsp;</div></li><li><div>              __( 'https:<span class="comment">//codex.wordpress.org/Cookies' ) ) );</span>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $requested_redirect_to = isset( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : '';&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the login redirect URL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string           $redirect_to           The redirect destination URL.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string           $requested_redirect_to The requested redirect destination URL passed as a parameter.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_User|WP_Error $user                  WP_User object if login was successful, WP_Error object otherwise.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $redirect_to = apply_filters( 'login_redirect', $redirect_to, $requested_redirect_to, $user );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( !is_wp_error($user) && !$reauth ) {&nbsp;</div></li><li><div>      if ( $interim_login ) {&nbsp;</div></li><li><div>          $message = '&lt;p class=&quot;message&quot;&gt;' . __('You have logged in successfully.') . '&lt;/p&gt;';&nbsp;</div></li><li><div>          $interim_login = 'success';&nbsp;</div></li><li><div>          login_header( '', $message ); ?&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          <span class="comment">/** This action is documented in wp-login.php */</span>&nbsp;</div></li><li><div>          do_action( 'login_footer' ); ?&gt;&nbsp;</div></li><li><div>          &lt;?php if ( $customize_login ) : ?&gt;&nbsp;</div></li><li><div>              &lt;script type=&quot;text/javascript&quot;&gt;setTimeout( function() { new wp.customize.Messenger({ url: '&lt;?php echo wp_customize_url(); ?&gt;', channel: 'login' }).send('login') }, 1000 );&lt;/script&gt;&nbsp;</div></li><li><div>          &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>          &lt;/body&gt;&lt;/html&gt;&nbsp;</div></li><li><div>&lt;?php        exit;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ( empty( $redirect_to ) || $redirect_to == 'wp-admin/' || $redirect_to == admin_url() ) ) {&nbsp;</div></li><li><div>          <span class="comment">// If the user doesn't belong to a blog, send them to user admin. If the user can't edit posts, send them to their profile.</span>&nbsp;</div></li><li><div>          if ( is_multisite() && !get_active_blog_for_user($user-&gt;ID) && !is_super_admin( $user-&gt;ID ) )&nbsp;</div></li><li><div>              $redirect_to = user_admin_url();&nbsp;</div></li><li><div>          elseif ( is_multisite() && !$user-&gt;has_cap('read') )&nbsp;</div></li><li><div>              $redirect_to = get_dashboard_url( $user-&gt;ID );&nbsp;</div></li><li><div>          elseif ( !$user-&gt;has_cap('edit_posts') )&nbsp;</div></li><li><div>              $redirect_to = $user-&gt;has_cap( 'read' ) ? admin_url( 'profile.php' ) : home_url();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          wp_redirect( $redirect_to );&nbsp;</div></li><li><div>          exit();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      wp_safe_redirect($redirect_to);&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $errors = $user;&nbsp;</div></li><li><div>  <span class="comment">// Clear errors if loggedout is set.</span>&nbsp;</div></li><li><div>  if ( !empty($_GET['loggedout']) || $reauth )&nbsp;</div></li><li><div>      $errors = new WP_Error();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $interim_login ) {&nbsp;</div></li><li><div>      if ( ! $errors-&gt;get_error_code() )&nbsp;</div></li><li><div>          $errors-&gt;add( 'expired', __( 'Your session has expired. Please log in to continue where you left off.' ), 'message' );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      <span class="comment">// Some parts of this script use the main login form to display a message</span>&nbsp;</div></li><li><div>      if        ( isset($_GET['loggedout']) && true == $_GET['loggedout'] )&nbsp;</div></li><li><div>          $errors-&gt;add('loggedout', __('You are now logged out.'), 'message');&nbsp;</div></li><li><div>      elseif    ( isset($_GET['registration']) && 'disabled' == $_GET['registration'] )&nbsp;</div></li><li><div>          $errors-&gt;add('registerdisabled', __('User registration is currently not allowed.'));&nbsp;</div></li><li><div>      elseif    ( isset($_GET['checkemail']) && 'confirm' == $_GET['checkemail'] )&nbsp;</div></li><li><div>          $errors-&gt;add('confirm', __('Check your email for the confirmation link.'), 'message');&nbsp;</div></li><li><div>      elseif    ( isset($_GET['checkemail']) && 'newpass' == $_GET['checkemail'] )&nbsp;</div></li><li><div>          $errors-&gt;add('newpass', __('Check your email for your new password.'), 'message');&nbsp;</div></li><li><div>      elseif    ( isset($_GET['checkemail']) && 'registered' == $_GET['checkemail'] )&nbsp;</div></li><li><div>          $errors-&gt;add('registered', __('Registration complete. Please check your email.'), 'message');&nbsp;</div></li><li><div>      elseif ( strpos( $redirect_to, 'about.php?updated' ) )&nbsp;</div></li><li><div>          $errors-&gt;add('updated', __( '&lt;strong&gt;You have successfully updated WordPress!&lt;/strong&gt; Please log back in to see what&#8217;s new.' ), 'message' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Filters the login page errors.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.6.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param object $errors      WP Error object.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $redirect_to Redirect destination URL.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $errors = apply_filters( 'wp_login_errors', $errors, $redirect_to );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Clear any stale cookies.</span>&nbsp;</div></li><li><div>  if ( $reauth )&nbsp;</div></li><li><div>      wp_clear_auth_cookie();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  login_header(__('Log In'), '', $errors);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset($_POST['log']) )&nbsp;</div></li><li><div>      $user_login = ( 'incorrect_password' == $errors-&gt;get_error_code() || 'empty_password' == $errors-&gt;get_error_code() ) ? esc_attr(wp_unslash($_POST['log'])) : '';&nbsp;</div></li><li><div>  $rememberme = ! empty( $_POST['rememberme'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! empty( $errors-&gt;errors ) ) {&nbsp;</div></li><li><div>      $aria_describedby_error = ' aria-describedby=&quot;login_error&quot;';&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $aria_describedby_error = '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;form name=&quot;loginform&quot; id=&quot;loginform&quot; action=&quot;&lt;?php echo esc_url( site_url( 'wp-login.php', 'login_post' ) ); ?&gt;&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>  &lt;p&gt;&nbsp;</div></li><li><div>      &lt;label for=&quot;user_login&quot;&gt;&lt;?php _e('Username or Email') ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;text&quot; name=&quot;log&quot; id=&quot;user_login&quot;&lt;?php echo $aria_describedby_error; ?&gt; class=&quot;input&quot; value=&quot;&lt;?php echo esc_attr( $user_login ); ?&gt;&quot; size=&quot;20&quot; /&gt;&lt;/label&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>  &lt;p&gt;&nbsp;</div></li><li><div>      &lt;label for=&quot;user_pass&quot;&gt;&lt;?php _e('Password') ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;password&quot; name=&quot;pwd&quot; id=&quot;user_pass&quot;&lt;?php echo $aria_describedby_error; ?&gt; class=&quot;input&quot; value=&quot;&quot; size=&quot;20&quot; /&gt;&lt;/label&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fires following the 'Password' field in the login form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'login_form' );&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;p class=&quot;forgetmenot&quot;&gt;&lt;label for=&quot;rememberme&quot;&gt;&lt;input name=&quot;rememberme&quot; type=&quot;checkbox&quot; id=&quot;rememberme&quot; value=&quot;forever&quot; &lt;?php checked( $rememberme ); ?&gt; /&gt; &lt;?php esc_attr_e('Remember Me'); ?&gt;&lt;/label&gt;&lt;/p&gt;&nbsp;</div></li><li><div>  &lt;p class=&quot;submit&quot;&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;submit&quot; name=&quot;wp-submit&quot; id=&quot;wp-submit&quot; class=&quot;button button-primary button-large&quot; value=&quot;&lt;?php esc_attr_e('Log In'); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>&lt;?php    if ( $interim_login ) { ?&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;hidden&quot; name=&quot;interim-login&quot; value=&quot;1&quot; /&gt;&nbsp;</div></li><li><div>&lt;?php    } else { ?&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;hidden&quot; name=&quot;redirect_to&quot; value=&quot;&lt;?php echo esc_attr($redirect_to); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>&lt;?php     } ?&gt;&nbsp;</div></li><li><div>&lt;?php   if ( $customize_login ) : ?&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;hidden&quot; name=&quot;customize-login&quot; value=&quot;1&quot; /&gt;&nbsp;</div></li><li><div>&lt;?php   endif; ?&gt;&nbsp;</div></li><li><div>      &lt;input type=&quot;hidden&quot; name=&quot;testcookie&quot; value=&quot;1&quot; /&gt;&nbsp;</div></li><li><div>  &lt;/p&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;?php if ( ! $interim_login ) { ?&gt;&nbsp;</div></li><li><div>&lt;p id=&quot;nav&quot;&gt;&nbsp;</div></li><li><div>&lt;?php if ( ! isset( $_GET['checkemail'] ) || ! in_array( $_GET['checkemail'], array( 'confirm', 'newpass' ) ) ) :&nbsp;</div></li><li><div>  if ( get_option( 'users_can_register' ) ) :&nbsp;</div></li><li><div>      $registration_url = sprintf( '&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;', esc_url( wp_registration_url() ), __( 'Register' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">/** This filter is documented in wp-includes/general-template.php */</span></span></span>&nbsp;</div></li><li><div>      echo apply_filters( 'register', $registration_url ) . ' | ';&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;a href=&quot;&lt;?php echo esc_url( wp_lostpassword_url() ); ?&gt;&quot;&gt;&lt;?php _e( 'Lost your password?' ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>&lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&lt;/p&gt;&nbsp;</div></li><li><div>&lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>function wp_attempt_focus() {&nbsp;</div></li><li><div>setTimeout( function() { try{&nbsp;</div></li><li><div>&lt;?php if ( $user_login ) { ?&gt;&nbsp;</div></li><li><div>d = document.getElementById('user_pass');&nbsp;</div></li><li><div>d.value = '';&nbsp;</div></li><li><div>&lt;?php } else { ?&gt;&nbsp;</div></li><li><div>d = document.getElementById('user_login');&nbsp;</div></li><li><div>&lt;?php if ( 'invalid_username' == $errors-&gt;get_error_code() ) { ?&gt;&nbsp;</div></li><li><div>if( d.value != '' )&nbsp;</div></li><li><div>d.value = '';&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>}?&gt;&nbsp;</div></li><li><div>d.focus();&nbsp;</div></li><li><div>d.select();&nbsp;</div></li><li><div>} catch(e) {}&nbsp;</div></li><li><div>}, 200);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;?php if ( !$error ) { ?&gt;&nbsp;</div></li><li><div>wp_attempt_focus();&nbsp;</div></li><li><div>&lt;?php } ?&gt;&nbsp;</div></li><li><div>if(typeof wpOnload=='function')wpOnload();&nbsp;</div></li><li><div>&lt;?php if ( $interim_login ) { ?&gt;&nbsp;</div></li><li><div>(function() {&nbsp;</div></li><li><div>try {&nbsp;</div></li><li><div>  var i, links = document.getElementsByTagName('a');&nbsp;</div></li><li><div>  for ( i in links ) {&nbsp;</div></li><li><div>      if ( links[i].href )&nbsp;</div></li><li><div>          links[i].target = '_blank';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>} catch(e) {}&nbsp;</div></li><li><div>}());&nbsp;</div></li><li><div>&lt;?php } ?&gt;&nbsp;</div></li><li><div>&lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>login_footer();&nbsp;</div></li><li><div>break;&nbsp;</div></li><li><div>} <span class="comment">// end action switch</span>&nbsp;</div></li></ol></pre>.</p>    </section>
</article>
</div><div id="sidebar">
    <ul class="widgets">
<li>
    <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a>
</li>    
<li id="versions">
        
</li>    
<li id="tags">
    <dl>
        <dt>Tags</dt>
        <dd>
        <ul><li><span></span>wordpress</li><li><span></span>file</li><li><span></span></li><li><span></span>wp-root</li></ul>    
        </dd>
    </dl>
</li>
    </ul>
</div>    </div>
</div><script>
/**<![CDATA[*/
Hookr.View.init();
Hookr.Single.init();
/**]]>*/
</script><footer>
    <div>        
            
<ul id="nav-social" class="pivot" role="navigation">
    <li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li>
</ul>
            
        <div>
            &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> <!--| <a href="http://hookr.io/about/" title="About">About</a> | <a href="http://hookr.io/contact/" title="Contact">Contact</a>--><!--| <a href="http://twitter.com/explodybits">courtesy of @explodybits</a> --> | Proudly Powered by WordPress
        </div>
    </div>
</footer>
        <!-- 9 queries. 0.355 seconds. -->        <script type='text/javascript' src='http://hookr.io/wp-includes/js/wp-embed.min.js?ver=4.4.9'></script>
        <script>
        /**<![CDATA[*/
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-49583310-1', 'hookr.io');
            ga('send', 'pageview');
        /**]]>*/
        </script>
    </body>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk (Request URI is rejected)
Page Caching using disk: enhanced (Requested URI is rejected)
Database Caching using xcache (Request-wide Request URI is rejected)
Object Caching 452/464 objects using xcache

 Served from: hookr.io @ 2017-04-22 18:41:12 by W3 Total Cache -->