<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr function lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr function lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr function lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr function ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr function gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr function" data-site="wordpress" data-id="56875"><head xmlns="http://www.w3.org/1999/xhtml"><title> edd_get_purchase_link | function | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="edd_get_purchase_link, function, plugin, easy-digital-downloads, 2.7.8" /><meta name="description" content="Get Purchase Link" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=200b44c425cb832960af08fd1b89be0c' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/functions/edd_get_purchase_link/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffunctions%2Fedd_get_purchase_link%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffunctions%2Fedd_get_purchase_link%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-2.7.8-function-edd_get_purchase_link","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="edd_get_purchase_link" class="single single-function single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to easy-digital-downloads." href="http://hookr.io/plugins/easy-digital-downloads/" class="plugin"><span property="name">easy-digital-downloads</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.7.8." href="http://hookr.io/plugins/easy-digital-downloads/2.7.8/" class="H_VERSION"><span property="name">2.7.8</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to functions." href="http://hookr.io/plugins/easy-digital-downloads/2.7.8/functions/" class=""><span property="name">functions</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">edd_get_purchase_link</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="function"><ul role="navigation"><li class="" data-id="all" data-count="0"><a href="http://hookr.io/2.7.8/all/" title="All">All <span class="count badge">0</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/2.7.8/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="0"><a href="http://hookr.io/2.7.8/hooks/" title="Hooks">Hooks <span class="count badge">0</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/2.7.8/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="0"><a href="http://hookr.io/2.7.8/filters/" title="Filters">Filters <span class="count badge">0</span></a></li><li class="" data-id="class" data-count="0"><a href="http://hookr.io/2.7.8/classes/" title="Classes">Classes <span class="count badge">0</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/2.7.8/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="active" data-id="function" data-count="0"><a href="http://hookr.io/2.7.8/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/2.7.8/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>edd_get_purchase_link</strong></h1><p>Get Purchase Link.</p> </section> <section id="description"><h2>Description</h2><pre><div><em>(string)</em> edd_get_purchase_link( <span class="param">(array)</span> <a href="#" class="param" data-type="(array) " data-desc="Arguments for display." data-depr="" data-opt="1" title="Arguments for display.">$args = array()</a> );&nbsp;</div></pre><p>Builds a Purchase link for a specified download based on arguments passed. This function is used all over EDD to generate the Purchase or Add to Cart buttons. If no arguments are passed, the function uses the defaults that have been set by the plugin. The Purchase link is built for simple and variable pricing and filters are available throughout the function to override certain elements of the function.</p><p> <code>$download_id</code> = null, <code>$link_text</code> = null, <code>$style</code> = null, <code>$color</code> = null, <code>$class</code> = null</p> </section> <section id="returns"><h2>Returns <span class="count">(string)</span></h2><p>$purchase_form</p> </section> <section id="params"><h2>Parameters <span class="count">(1)</span></h2><dl><dt> <span class="index">0.</span> <span class="param"> $args </span> &mdash; Optional. <span class="type">(array)</span> => <code>array()</code></dt><dd> Arguments for display</dd></dl> </section><hr /> <section id="usage"><h2>Usage</h2><pre><ol><li><div>if ( !function_exists( '<span class="func">edd_get_purchase_link</span>' ) ) {&nbsp;</div></li><li><div>    require_once '/includes/template-functions.php';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// Arguments for display</span>&nbsp;</div></li><li><div><span class="param">$args</span> = array();&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// NOTICE! Understand what this does before running.</span>&nbsp;</div></li><li><div><span class="param">$result</span> = <span class="func">edd_get_purchase_link</span>(<span class="param">$args</span>);&nbsp;</div></li><li><div>   &nbsp;</div></li></ol></pre></section><hr /> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The function is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/easy-digital-downloads/2.7.8/files/includes-template-functions/" class="file">/includes/template-functions.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="25" class="block" start="49"><li><div>function edd_get_purchase_link( $args = array() ) {&nbsp;</div></li><li><div>    global $post, $edd_displayed_form_ids;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $purchase_page = edd_get_option( 'purchase_page', false );&nbsp;</div></li><li><div>    if ( ! $purchase_page || $purchase_page == 0 ) {&nbsp;</div></li><li><div>        edd_set_error( 'set_checkout', sprintf( __( 'No checkout page has been configured. Visit &lt;a href=&quot;%s&quot;&gt;Settings&lt;/a&gt; to set one.', 'easy-digital-downloads' ), admin_url( 'edit.php?post_type=download&page=edd-settings' ) ) );&nbsp;</div></li><li><div>        edd_print_errors();&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $post_id = is_object( $post ) ? $post-&gt;ID : 0;&nbsp;</div></li><li><div>    $button_behavior = edd_get_download_button_behavior( $post_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $defaults = apply_filters( 'edd_purchase_link_defaults', array(&nbsp;</div></li><li><div>        'download_id' =&gt; $post_id, &nbsp;</div></li><li><div>        'price' =&gt; (bool) true, &nbsp;</div></li><li><div>        'price_id' =&gt; isset( $args['price_id'] ) ? $args['price_id'] : false, &nbsp;</div></li><li><div>        'direct' =&gt; $button_behavior == 'direct' ? true : false, &nbsp;</div></li><li><div>        'text' =&gt; $button_behavior == 'direct' ? edd_get_option( 'buy_now_text', __( 'Buy Now', 'easy-digital-downloads' ) ) : edd_get_option( 'add_to_cart_text', __( 'Purchase', 'easy-digital-downloads' ) ), &nbsp;</div></li><li><div>        'style' =&gt; edd_get_option( 'button_style', 'button' ), &nbsp;</div></li><li><div>        'color' =&gt; edd_get_option( 'checkout_color', 'blue' ), &nbsp;</div></li><li><div>        'class' =&gt; 'edd-submit'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // Override the straight_to_gateway if the shop doesn't support it&nbsp;</div></li><li><div>    if ( ! edd_shop_supports_buy_now() ) {&nbsp;</div></li><li><div>        $args['direct'] = false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $download = new EDD_Download( $args['download_id'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if( empty( $download-&gt;ID ) ) {&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if( 'publish' !== $download-&gt;post_status && ! current_user_can( 'edit_product', $download-&gt;ID ) ) {&nbsp;</div></li><li><div>        return false; // Product not published or user doesn't have permission to view drafts&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // Override color if color == inherit&nbsp;</div></li><li><div>    $args['color'] = ( $args['color'] == 'inherit' ) ? '' : $args['color'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $options = array();&nbsp;</div></li><li><div>    $variable_pricing = $download-&gt;has_variable_prices();&nbsp;</div></li><li><div>    $data_variable = $variable_pricing ? ' data-variable-price=&quot;yes&quot;' : 'data-variable-price=&quot;no&quot;';&nbsp;</div></li><li><div>    $type = $download-&gt;is_single_price_mode() ? 'data-price-mode=multi' : 'data-price-mode=single';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $show_price = $args['price'] && $args['price'] !== 'no';&nbsp;</div></li><li><div>    $data_price_value = 0;&nbsp;</div></li><li><div>    $price = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( $variable_pricing && false !== $args['price_id'] ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $price_id = $args['price_id'];&nbsp;</div></li><li><div>        $prices = $download-&gt;prices;&nbsp;</div></li><li><div>        $options['price_id'] = $args['price_id'];&nbsp;</div></li><li><div>        $found_price = isset( $prices[$price_id] ) ? $prices[$price_id]['amount'] : false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data_price_value = $found_price;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $show_price ) {&nbsp;</div></li><li><div>            $price = $found_price;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    } elseif ( ! $variable_pricing ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data_price_value = $download-&gt;price;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $show_price ) {&nbsp;</div></li><li><div>            $price = $download-&gt;price;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $args['display_price'] = $data_price_value;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $data_price = 'data-price=&quot;' . $data_price_value . '&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $button_text = ! empty( $args['text'] ) ? '&nbsp;&ndash;&nbsp;' . $args['text'] : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( false !== $price ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 == $price ) {&nbsp;</div></li><li><div>            $args['text'] = __( 'Free', 'easy-digital-downloads' ) . $button_text;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $args['text'] = edd_currency_filter( edd_format_amount( $price ) ) . $button_text;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( edd_item_in_cart( $download-&gt;ID, $options ) && ( ! $variable_pricing || ! $download-&gt;is_single_price_mode() ) ) {&nbsp;</div></li><li><div>        $button_display = 'style=&quot;display:none;&quot;';&nbsp;</div></li><li><div>        $checkout_display = '';&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>        $button_display = '';&nbsp;</div></li><li><div>        $checkout_display = 'style=&quot;display:none;&quot;';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // Collect any form IDs we've displayed already so we can avoid duplicate IDs&nbsp;</div></li><li><div>    if ( isset( $edd_displayed_form_ids[ $download-&gt;ID ] ) ) {&nbsp;</div></li><li><div>        $edd_displayed_form_ids[ $download-&gt;ID ]++;&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>        $edd_displayed_form_ids[ $download-&gt;ID ] = 1;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $form_id = ! empty( $args['form_id'] ) ? $args['form_id'] : 'edd_purchase_' . $download-&gt;ID;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // If we've already generated a form ID for this download ID, append -#&nbsp;</div></li><li><div>    if ( $edd_displayed_form_ids[ $download-&gt;ID ] &gt; 1 ) {&nbsp;</div></li><li><div>        $form_id .= '-' . $edd_displayed_form_ids[ $download-&gt;ID ];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $args = apply_filters( 'edd_purchase_link_args', $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    ob_start();&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>    &lt;form id=&quot;&lt;?php echo $form_id; ?&gt;&quot; class=&quot;edd_download_purchase_form edd_purchase_&lt;?php echo absint( $download-&gt;ID ); ?&gt;&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php do_action( 'edd_purchase_link_top', $download-&gt;ID, $args ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;div class=&quot;edd_purchase_submit_wrapper&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            $class = implode( ' ', array( $args['style'], $args['color'], trim( $args['class'] ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ! edd_is_ajax_disabled() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                echo '&lt;a href=&quot;#&quot; class=&quot;edd-add-to-cart ' . esc_attr( $class ) . '&quot; data-action=&quot;edd_add_to_cart&quot; data-download-id=&quot;' . esc_attr( $download-&gt;ID ) . '&quot; ' . $data_variable . ' ' . $type . ' ' . $data_price . ' ' . $button_display . '&gt;&lt;span class=&quot;edd-add-to-cart-label&quot;&gt;' . $args['text'] . '&lt;/span&gt; &lt;span class=&quot;edd-loading&quot; aria-label=&quot;' . esc_attr__( 'Loading', 'easy-digital-downloads' ) . '&quot;&gt;&lt;/span&gt;&lt;/a&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            echo '&lt;input type=&quot;submit&quot; class=&quot;edd-add-to-cart edd-no-js ' . esc_attr( $class ) . '&quot; name=&quot;edd_purchase_download&quot; value=&quot;' . esc_attr( $args['text'] ) . '&quot; data-action=&quot;edd_add_to_cart&quot; data-download-id=&quot;' . esc_attr( $download-&gt;ID ) . '&quot; ' . $data_variable . ' ' . $type . ' ' . $button_display . '/&gt;';&nbsp;</div></li><li><div>            echo '&lt;a href=&quot;' . esc_url( edd_get_checkout_uri() ) . '&quot; class=&quot;edd_go_to_checkout ' . esc_attr( $class ) . '&quot; ' . $checkout_display . '&gt;' . __( 'Checkout', 'easy-digital-downloads' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;?php if ( ! edd_is_ajax_disabled() ) : ?&gt;&nbsp;</div></li><li><div>                &lt;span class=&quot;edd-cart-ajax-alert&quot; aria-live=&quot;assertive&quot;&gt;&nbsp;</div></li><li><div>                    &lt;span class=&quot;edd-cart-added-alert&quot; style=&quot;display: none;&quot;&gt;&nbsp;</div></li><li><div>                        &lt;svg class=&quot;edd-icon edd-icon-check&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;28&quot; height=&quot;28&quot; viewBox=&quot;0 0 28 28&quot; aria-hidden=&quot;true&quot;&gt;&nbsp;</div></li><li><div>                            &lt;path d=&quot;M26.11 8.844c0 .39-.157.78-.44 1.062L12.234 23.344c-.28.28-.672.438-1.062.438s-.78-.156-1.06-.438l-7.782-7.78c-.28-.282-.438-.673-.438-1.063s.156-.78.438-1.06l2.125-2.126c.28-.28.672-.438 1.062-.438s.78.156 1.062.438l4.594 4.61L21.42 5.656c.282-.28.673-.438 1.063-.438s.78.155 1.062.437l2.125 2.125c.28.28.438.672.438 1.062z&quot;/&gt;&nbsp;</div></li><li><div>                        &lt;/svg&gt;&nbsp;</div></li><li><div>                        &lt;?php echo __( 'Added to cart', 'easy-digital-downloads' ); ?&gt;&nbsp;</div></li><li><div>                    &lt;/span&gt;&nbsp;</div></li><li><div>                &lt;/span&gt;&nbsp;</div></li><li><div>            &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>            &lt;?php if( ! $download-&gt;is_free( $args['price_id'] ) && ! edd_download_is_tax_exclusive( $download-&gt;ID ) ): ?&gt;&nbsp;</div></li><li><div>                &lt;?php if ( edd_display_tax_rate() && edd_prices_include_tax() ) {&nbsp;</div></li><li><div>                    echo '&lt;span class=&quot;edd_purchase_tax_rate&quot;&gt;' . sprintf( __( 'Includes %1$s&#37; tax', 'easy-digital-downloads' ), edd_get_tax_rate() * 100 ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>                } elseif ( edd_display_tax_rate() && ! edd_prices_include_tax() ) {&nbsp;</div></li><li><div>                    echo '&lt;span class=&quot;edd_purchase_tax_rate&quot;&gt;' . sprintf( __( 'Excluding %1$s&#37; tax', 'easy-digital-downloads' ), edd_get_tax_rate() * 100 ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>                } ?&gt;&nbsp;</div></li><li><div>            &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&lt;!--end .edd_purchase_submit_wrapper--&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;input type=&quot;hidden&quot; name=&quot;download_id&quot; value=&quot;&lt;?php echo esc_attr( $download-&gt;ID ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>        &lt;?php if ( $variable_pricing && isset( $price_id ) && isset( $prices[$price_id] ) ): ?&gt;&nbsp;</div></li><li><div>            &lt;input type=&quot;hidden&quot; name=&quot;edd_options[price_id][]&quot; id=&quot;edd_price_option_&lt;?php echo $download-&gt;ID; ?&gt;_1&quot; class=&quot;edd_price_option_&lt;?php echo $download-&gt;ID; ?&gt;&quot; value=&quot;&lt;?php echo $price_id; ?&gt;&quot;&gt;&nbsp;</div></li><li><div>        &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>        &lt;?php if( ! empty( $args['direct'] ) && ! $download-&gt;is_free( $args['price_id'] ) ) { ?&gt;&nbsp;</div></li><li><div>            &lt;input type=&quot;hidden&quot; name=&quot;edd_action&quot; class=&quot;edd_action_input&quot; value=&quot;straight_to_gateway&quot;&gt;&nbsp;</div></li><li><div>        &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>            &lt;input type=&quot;hidden&quot; name=&quot;edd_action&quot; class=&quot;edd_action_input&quot; value=&quot;add_to_cart&quot;&gt;&nbsp;</div></li><li><div>        &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php if( apply_filters( 'edd_download_redirect_to_checkout', edd_straight_to_checkout(), $download-&gt;ID, $args ) ) : ?&gt;&nbsp;</div></li><li><div>            &lt;input type=&quot;hidden&quot; name=&quot;edd_redirect_to_checkout&quot; id=&quot;edd_redirect_to_checkout&quot; value=&quot;1&quot;&gt;&nbsp;</div></li><li><div>        &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php do_action( 'edd_purchase_link_end', $download-&gt;ID, $args ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    &lt;/form&gt;&lt;!--end #&lt;?php echo esc_attr( $form_id ); ?&gt;--&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>    $purchase_form = ob_get_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    return apply_filters( 'edd_purchase_download_form', $purchase_form, $args );&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 1.0</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/easy-digital-downloads/2.7.8/functions/edd_get_purchase_link/" class="active">2.7.8</a></li><li><a href="http://hookr.io/plugins/easy-digital-downloads/2.7.7/functions/edd_get_purchase_link/" class="">2.7.7</a></li><li><a href="http://hookr.io/plugins/easy-digital-downloads/2.7.6/functions/edd_get_purchase_link/" class="">2.7.6</a></li><li><a href="http://hookr.io/plugins/easy-digital-downloads/2.7.5/functions/edd_get_purchase_link/" class="">2.7.5</a></li><li><a href="http://hookr.io/plugins/easy-digital-downloads/2.7.4/functions/edd_get_purchase_link/" class="">2.7.4</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>function</li><li><span></span>edd_get_purchase_link</li><li><span></span>wp-plugin</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>