<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="wordpress" data-version="4.7.4" data-type="class" data-id="1320"><head xmlns="http://www.w3.org/1999/xhtml"><title> getid3_matroska | class | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="getid3_matroska, class, wordpress, 4.7.4" /><meta name="description" content="The WordPress Core getid3 matroska class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=08e43e02294f91f460279647a80d09d5' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/getid3_matroska/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fgetid3_matroska%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fgetid3_matroska%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7.4-class-getid3_matroska","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="getid3_matroska" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7.4." href="http://hookr.io/4.7.4/" class="H_VERSION"><span property="name">4.7.4</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/4.7.4/classes/" class=""><span property="name">classes</span></a><meta property="position" content="3"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">getid3_matroska</span><meta property="position" content="4"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="6316"><a href="http://hookr.io/4.7.4/all/" title="All">All <span class="count badge">6316</span></a></li><li class="" data-id="new" data-count="6"><a href="http://hookr.io/4.7.4/new/" title="New">New <span class="count badge">6</span></a></li><li class="" data-id="hooks" data-count="2538"><a href="http://hookr.io/4.7.4/hooks/" title="Hooks">Hooks <span class="count badge">2538</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7.4/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1674"><a href="http://hookr.io/4.7.4/filters/" title="Filters">Filters <span class="count badge">1674</span></a></li><li class="active" data-id="class" data-count="351"><a href="http://hookr.io/4.7.4/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7.4/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="" data-id="function" data-count="2853"><a href="http://hookr.io/4.7.4/functions/" title="Functions">Functions <span class="count badge">2853</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>getid3_matroska</strong></h1><p>The WordPress Core <strong>getid3 matroska</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/4.7.4/files/wp-includes-id3-module-audio-video-matroska/" class="file">/wp-includes/ID3/module.audio-video.matroska.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="51" class="block" start="216"><li><div>class getid3_matroska extends getid3_handler&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>    // public options&nbsp;</div></li><li><div>    public static $hide_clusters = true;  // if true, do not return information about CLUSTER chunks, since there's a lot of them and they're not usually useful [default: TRUE]&nbsp;</div></li><li><div>    public static $parse_whole_file = false; // true to parse the whole file, not only header [default: FALSE]&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // private parser settings/placeholders&nbsp;</div></li><li><div>    private $EBMLbuffer = '';&nbsp;</div></li><li><div>    private $EBMLbuffer_offset = 0;&nbsp;</div></li><li><div>    private $EBMLbuffer_length = 0;&nbsp;</div></li><li><div>    private $current_offset = 0;&nbsp;</div></li><li><div>    private $unuseful_elements = array(EBML_ID_CRC32, EBML_ID_VOID);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function Analyze()&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $info = &$this-&gt;getid3-&gt;info;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // parse container&nbsp;</div></li><li><div>        try {&nbsp;</div></li><li><div>            $this-&gt;parseEBML($info);&nbsp;</div></li><li><div>        } catch (Exception $e) {&nbsp;</div></li><li><div>            $info['error'][] = 'EBML parser: '.$e-&gt;getMessage();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // calculate playtime&nbsp;</div></li><li><div>        if (isset($info['matroska']['info']) && is_array($info['matroska']['info'])) {&nbsp;</div></li><li><div>            foreach ($info['matroska']['info'] as $key =&gt; $infoarray) {&nbsp;</div></li><li><div>                if (isset($infoarray['Duration'])) {&nbsp;</div></li><li><div>                    // TimecodeScale is how many nanoseconds each Duration unit is&nbsp;</div></li><li><div>                    $info['playtime_seconds'] = $infoarray['Duration'] * ((isset($infoarray['TimecodeScale']) ? $infoarray['TimecodeScale'] : 1000000) / 1000000000);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // extract tags&nbsp;</div></li><li><div>        if (isset($info['matroska']['tags']) && is_array($info['matroska']['tags'])) {&nbsp;</div></li><li><div>            foreach ($info['matroska']['tags'] as $key =&gt; $infoarray) {&nbsp;</div></li><li><div>                $this-&gt;ExtractCommentsSimpleTag($infoarray);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // process tracks&nbsp;</div></li><li><div>        if (isset($info['matroska']['tracks']['tracks']) && is_array($info['matroska']['tracks']['tracks'])) {&nbsp;</div></li><li><div>            foreach ($info['matroska']['tracks']['tracks'] as $key =&gt; $trackarray) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $track_info = array();&nbsp;</div></li><li><div>                $track_info['dataformat'] = self::CodecIDtoCommonName($trackarray['CodecID']);&nbsp;</div></li><li><div>                $track_info['default'] = (isset($trackarray['FlagDefault']) ? $trackarray['FlagDefault'] : true);&nbsp;</div></li><li><div>                if (isset($trackarray['Name'])) { $track_info['name'] = $trackarray['Name']; }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                switch ($trackarray['TrackType']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    case 1: // Video&nbsp;</div></li><li><div>                        $track_info['resolution_x'] = $trackarray['PixelWidth'];&nbsp;</div></li><li><div>                        $track_info['resolution_y'] = $trackarray['PixelHeight'];&nbsp;</div></li><li><div>                        $track_info['display_unit'] = self::displayUnit(isset($trackarray['DisplayUnit']) ? $trackarray['DisplayUnit'] : 0);&nbsp;</div></li><li><div>                        $track_info['display_x'] = (isset($trackarray['DisplayWidth']) ? $trackarray['DisplayWidth'] : $trackarray['PixelWidth']);&nbsp;</div></li><li><div>                        $track_info['display_y'] = (isset($trackarray['DisplayHeight']) ? $trackarray['DisplayHeight'] : $trackarray['PixelHeight']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if (isset($trackarray['PixelCropBottom'])) { $track_info['crop_bottom'] = $trackarray['PixelCropBottom']; }&nbsp;</div></li><li><div>                        if (isset($trackarray['PixelCropTop']))    { $track_info['crop_top'] = $trackarray['PixelCropTop']; }&nbsp;</div></li><li><div>                        if (isset($trackarray['PixelCropLeft']))   { $track_info['crop_left'] = $trackarray['PixelCropLeft']; }&nbsp;</div></li><li><div>                        if (isset($trackarray['PixelCropRight']))  { $track_info['crop_right'] = $trackarray['PixelCropRight']; }&nbsp;</div></li><li><div>                        if (isset($trackarray['DefaultDuration'])) { $track_info['frame_rate'] = round(1000000000 / $trackarray['DefaultDuration'], 3); }&nbsp;</div></li><li><div>                        if (isset($trackarray['CodecName']))       { $track_info['codec'] = $trackarray['CodecName']; }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        switch ($trackarray['CodecID']) {&nbsp;</div></li><li><div>                            case 'V_MS/VFW/FOURCC':&nbsp;</div></li><li><div>                                getid3_lib::IncludeDependency(GETID3_INCLUDEPATH.'module.audio-video.riff.php', __FILE__, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $parsed = getid3_riff::ParseBITMAPINFOHEADER($trackarray['CodecPrivate']);&nbsp;</div></li><li><div>                                $track_info['codec'] = getid3_riff::fourccLookup($parsed['fourcc']);&nbsp;</div></li><li><div>                                $info['matroska']['track_codec_parsed'][$trackarray['TrackNumber']] = $parsed;&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            /**case 'V_MPEG4/ISO/AVC':&nbsp;</div></li><li><div>                                $h264['profile'] = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], 1, 1));&nbsp;</div></li><li><div>                                $h264['level'] = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], 3, 1));&nbsp;</div></li><li><div>                                $rn = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], 4, 1));&nbsp;</div></li><li><div>                                $h264['NALUlength'] = ($rn & 3) + 1;&nbsp;</div></li><li><div>                                $rn = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], 5, 1));&nbsp;</div></li><li><div>                                $nsps = ($rn & 31);&nbsp;</div></li><li><div>                                $offset = 6;&nbsp;</div></li><li><div>                                for ($i = 0; $i &lt; $nsps; $i ++) {&nbsp;</div></li><li><div>                                    $length = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], $offset, 2));&nbsp;</div></li><li><div>                                    $h264['SPS'][] = substr($trackarray['CodecPrivate'], $offset + 2, $length);&nbsp;</div></li><li><div>                                    $offset       += 2 + $length;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $npps = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], $offset, 1));&nbsp;</div></li><li><div>                                $offset            += 1;&nbsp;</div></li><li><div>                                for ($i = 0; $i &lt; $npps; $i ++) {&nbsp;</div></li><li><div>                                    $length = getid3_lib::BigEndian2Int(substr($trackarray['CodecPrivate'], $offset, 2));&nbsp;</div></li><li><div>                                    $h264['PPS'][] = substr($trackarray['CodecPrivate'], $offset + 2, $length);&nbsp;</div></li><li><div>                                    $offset       += 2 + $length;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $info['matroska']['track_codec_parsed'][$trackarray['TrackNumber']] = $h264;&nbsp;</div></li><li><div>                                break;*/&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $info['video']['streams'][] = $track_info;&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    case 2: // Audio&nbsp;</div></li><li><div>                        $track_info['sample_rate'] = (isset($trackarray['SamplingFrequency']) ? $trackarray['SamplingFrequency'] : 8000.0);&nbsp;</div></li><li><div>                        $track_info['channels'] = (isset($trackarray['Channels']) ? $trackarray['Channels'] : 1);&nbsp;</div></li><li><div>                        $track_info['language'] = (isset($trackarray['Language']) ? $trackarray['Language'] : 'eng');&nbsp;</div></li><li><div>                        if (isset($trackarray['BitDepth']))  { $track_info['bits_per_sample'] = $trackarray['BitDepth']; }&nbsp;</div></li><li><div>                        if (isset($trackarray['CodecName'])) { $track_info['codec'] = $trackarray['CodecName']; }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        switch ($trackarray['CodecID']) {&nbsp;</div></li><li><div>                            case 'A_PCM/INT/LIT':&nbsp;</div></li><li><div>                            case 'A_PCM/INT/BIG':&nbsp;</div></li><li><div>                                $track_info['bitrate'] = $trackarray['SamplingFrequency'] * $trackarray['Channels'] * $trackarray['BitDepth'];&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case 'A_AC3':&nbsp;</div></li><li><div>                            case 'A_DTS':&nbsp;</div></li><li><div>                            case 'A_MPEG/L3':&nbsp;</div></li><li><div>                            case 'A_MPEG/L2':&nbsp;</div></li><li><div>                            case 'A_FLAC':&nbsp;</div></li><li><div>                                getid3_lib::IncludeDependency(GETID3_INCLUDEPATH.'module.audio.'.($track_info['dataformat'] == 'mp2' ? 'mp3' : $track_info['dataformat']).'.php', __FILE__, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if (!isset($info['matroska']['track_data_offsets'][$trackarray['TrackNumber']])) {&nbsp;</div></li><li><div>                                    $this-&gt;warning('Unable to parse audio data ['.basename(__FILE__).':'.__LINE__.'] because $info[matroska][track_data_offsets]['.$trackarray['TrackNumber'].'] not set');&nbsp;</div></li><li><div>                                    break;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // create temp instance&nbsp;</div></li><li><div>                                $getid3_temp = new getID3();&nbsp;</div></li><li><div>                                if ($track_info['dataformat'] != 'flac') {&nbsp;</div></li><li><div>                                    $getid3_temp-&gt;openfile($this-&gt;getid3-&gt;filename);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $getid3_temp-&gt;info['avdataoffset'] = $info['matroska']['track_data_offsets'][$trackarray['TrackNumber']]['offset'];&nbsp;</div></li><li><div>                                if ($track_info['dataformat'][0] == 'm' || $track_info['dataformat'] == 'flac') {&nbsp;</div></li><li><div>                                    $getid3_temp-&gt;info['avdataend'] = $info['matroska']['track_data_offsets'][$trackarray['TrackNumber']]['offset'] + $info['matroska']['track_data_offsets'][$trackarray['TrackNumber']]['length'];&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // analyze&nbsp;</div></li><li><div>                                $class = 'getid3_'.($track_info['dataformat'] == 'mp2' ? 'mp3' : $track_info['dataformat']);&nbsp;</div></li><li><div>                                $header_data_key = $track_info['dataformat'][0] == 'm' ? 'mpeg' : $track_info['dataformat'];&nbsp;</div></li><li><div>                                $getid3_audio = new $class($getid3_temp, __CLASS__);&nbsp;</div></li><li><div>                                if ($track_info['dataformat'] == 'flac') {&nbsp;</div></li><li><div>                                    $getid3_audio-&gt;AnalyzeString($trackarray['CodecPrivate']);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    $getid3_audio-&gt;Analyze();&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info[$header_data_key])) {&nbsp;</div></li><li><div>                                    $info['matroska']['track_codec_parsed'][$trackarray['TrackNumber']] = $getid3_temp-&gt;info[$header_data_key];&nbsp;</div></li><li><div>                                    if (isset($getid3_temp-&gt;info['audio']) && is_array($getid3_temp-&gt;info['audio'])) {&nbsp;</div></li><li><div>                                        foreach ($getid3_temp-&gt;info['audio'] as $key =&gt; $value) {&nbsp;</div></li><li><div>                                            $track_info[$key] = $value;&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    $this-&gt;warning('Unable to parse audio data ['.basename(__FILE__).':'.__LINE__.'] because '.$class.'::Analyze() failed at offset '.$getid3_temp-&gt;info['avdataoffset']);&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // copy errors and warnings&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info['error'])) {&nbsp;</div></li><li><div>                                    foreach ($getid3_temp-&gt;info['error'] as $newerror) {&nbsp;</div></li><li><div>                                        $this-&gt;warning($class.'() says: ['.$newerror.']');&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info['warning'])) {&nbsp;</div></li><li><div>                                    foreach ($getid3_temp-&gt;info['warning'] as $newerror) {&nbsp;</div></li><li><div>                                        $this-&gt;warning($class.'() says: ['.$newerror.']');&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                unset($getid3_temp, $getid3_audio);&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case 'A_AAC':&nbsp;</div></li><li><div>                            case 'A_AAC/MPEG2/LC':&nbsp;</div></li><li><div>                            case 'A_AAC/MPEG2/LC/SBR':&nbsp;</div></li><li><div>                            case 'A_AAC/MPEG4/LC':&nbsp;</div></li><li><div>                            case 'A_AAC/MPEG4/LC/SBR':&nbsp;</div></li><li><div>                                $this-&gt;warning($trackarray['CodecID'].' audio data contains no header, audio/video bitrates can\'t be calculated');&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case 'A_VORBIS':&nbsp;</div></li><li><div>                                if (!isset($trackarray['CodecPrivate'])) {&nbsp;</div></li><li><div>                                    $this-&gt;warning('Unable to parse audio data ['.basename(__FILE__).':'.__LINE__.'] because CodecPrivate data not set');&nbsp;</div></li><li><div>                                    break;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $vorbis_offset = strpos($trackarray['CodecPrivate'], 'vorbis', 1);&nbsp;</div></li><li><div>                                if ($vorbis_offset === false) {&nbsp;</div></li><li><div>                                    $this-&gt;warning('Unable to parse audio data ['.basename(__FILE__).':'.__LINE__.'] because CodecPrivate data does not contain &quot;vorbis&quot; keyword');&nbsp;</div></li><li><div>                                    break;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $vorbis_offset -= 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                getid3_lib::IncludeDependency(GETID3_INCLUDEPATH.'module.audio.ogg.php', __FILE__, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // create temp instance&nbsp;</div></li><li><div>                                $getid3_temp = new getID3();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // analyze&nbsp;</div></li><li><div>                                $getid3_ogg = new getid3_ogg($getid3_temp);&nbsp;</div></li><li><div>                                $oggpageinfo['page_seqno'] = 0;&nbsp;</div></li><li><div>                                $getid3_ogg-&gt;ParseVorbisPageHeader($trackarray['CodecPrivate'], $vorbis_offset, $oggpageinfo);&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info['ogg'])) {&nbsp;</div></li><li><div>                                    $info['matroska']['track_codec_parsed'][$trackarray['TrackNumber']] = $getid3_temp-&gt;info['ogg'];&nbsp;</div></li><li><div>                                    if (isset($getid3_temp-&gt;info['audio']) && is_array($getid3_temp-&gt;info['audio'])) {&nbsp;</div></li><li><div>                                        foreach ($getid3_temp-&gt;info['audio'] as $key =&gt; $value) {&nbsp;</div></li><li><div>                                            $track_info[$key] = $value;&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // copy errors and warnings&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info['error'])) {&nbsp;</div></li><li><div>                                    foreach ($getid3_temp-&gt;info['error'] as $newerror) {&nbsp;</div></li><li><div>                                        $this-&gt;warning('getid3_ogg() says: ['.$newerror.']');&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info['warning'])) {&nbsp;</div></li><li><div>                                    foreach ($getid3_temp-&gt;info['warning'] as $newerror) {&nbsp;</div></li><li><div>                                        $this-&gt;warning('getid3_ogg() says: ['.$newerror.']');&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if (!empty($getid3_temp-&gt;info['ogg']['bitrate_nominal'])) {&nbsp;</div></li><li><div>                                    $track_info['bitrate'] = $getid3_temp-&gt;info['ogg']['bitrate_nominal'];&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                unset($getid3_temp, $getid3_ogg, $oggpageinfo, $vorbis_offset);&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case 'A_MS/ACM':&nbsp;</div></li><li><div>                                getid3_lib::IncludeDependency(GETID3_INCLUDEPATH.'module.audio-video.riff.php', __FILE__, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $parsed = getid3_riff::parseWAVEFORMATex($trackarray['CodecPrivate']);&nbsp;</div></li><li><div>                                foreach ($parsed as $key =&gt; $value) {&nbsp;</div></li><li><div>                                    if ($key != 'raw') {&nbsp;</div></li><li><div>                                        $track_info[$key] = $value;&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $info['matroska']['track_codec_parsed'][$trackarray['TrackNumber']] = $parsed;&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            default:&nbsp;</div></li><li><div>                                $this-&gt;warning('Unhandled audio type &quot;'.(isset($trackarray['CodecID']) ? $trackarray['CodecID'] : '').'&quot;');&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $info['audio']['streams'][] = $track_info;&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if (!empty($info['video']['streams'])) {&nbsp;</div></li><li><div>                $info['video'] = self::getDefaultStreamInfo($info['video']['streams']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (!empty($info['audio']['streams'])) {&nbsp;</div></li><li><div>                $info['audio'] = self::getDefaultStreamInfo($info['audio']['streams']);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // process attachments&nbsp;</div></li><li><div>        if (isset($info['matroska']['attachments']) && $this-&gt;getid3-&gt;option_save_attachments !== getID3::ATTACHMENTS_NONE) {&nbsp;</div></li><li><div>            foreach ($info['matroska']['attachments'] as $i =&gt; $entry) {&nbsp;</div></li><li><div>                if (strpos($entry['FileMimeType'], 'image/') === 0 && !empty($entry['FileData'])) {&nbsp;</div></li><li><div>                    $info['matroska']['comments']['picture'][] = array('data' =&gt; $entry['FileData'], 'image_mime' =&gt; $entry['FileMimeType'], 'filename' =&gt; $entry['FileName']);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // determine mime type&nbsp;</div></li><li><div>        if (!empty($info['video']['streams'])) {&nbsp;</div></li><li><div>            $info['mime_type'] = ($info['matroska']['doctype'] == 'webm' ? 'video/webm' : 'video/x-matroska');&nbsp;</div></li><li><div>        } elseif (!empty($info['audio']['streams'])) {&nbsp;</div></li><li><div>            $info['mime_type'] = ($info['matroska']['doctype'] == 'webm' ? 'audio/webm' : 'audio/x-matroska');&nbsp;</div></li><li><div>        } elseif (isset($info['mime_type'])) {&nbsp;</div></li><li><div>            unset($info['mime_type']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function parseEBML(&$info) {&nbsp;</div></li><li><div>        // http://www.matroska.org/technical/specs/index.html#EBMLBasics&nbsp;</div></li><li><div>        $this-&gt;current_offset = $info['avdataoffset'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        while ($this-&gt;getEBMLelement($top_element, $info['avdataend'])) {&nbsp;</div></li><li><div>            switch ($top_element['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case EBML_ID_EBML:&nbsp;</div></li><li><div>                    $info['matroska']['header']['offset'] = $top_element['offset'];&nbsp;</div></li><li><div>                    $info['matroska']['header']['length'] = $top_element['length'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    while ($this-&gt;getEBMLelement($element_data, $top_element['end'], true)) {&nbsp;</div></li><li><div>                        switch ($element_data['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_EBMLVERSION:&nbsp;</div></li><li><div>                            case EBML_ID_EBMLREADVERSION:&nbsp;</div></li><li><div>                            case EBML_ID_EBMLMAXIDLENGTH:&nbsp;</div></li><li><div>                            case EBML_ID_EBMLMAXSIZELENGTH:&nbsp;</div></li><li><div>                            case EBML_ID_DOCTYPEVERSION:&nbsp;</div></li><li><div>                            case EBML_ID_DOCTYPEREADVERSION:&nbsp;</div></li><li><div>                                $element_data['data'] = getid3_lib::BigEndian2Int($element_data['data']);&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_DOCTYPE:&nbsp;</div></li><li><div>                                $element_data['data'] = getid3_lib::trimNullByte($element_data['data']);&nbsp;</div></li><li><div>                                $info['matroska']['doctype'] = $element_data['data'];&nbsp;</div></li><li><div>                                $info['fileformat'] = $element_data['data'];&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            default:&nbsp;</div></li><li><div>                                $this-&gt;unhandledElement('header', __LINE__, $element_data);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        unset($element_data['offset'], $element_data['end']);&nbsp;</div></li><li><div>                        $info['matroska']['header']['elements'][] = $element_data;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case EBML_ID_SEGMENT:&nbsp;</div></li><li><div>                    $info['matroska']['segment'][0]['offset'] = $top_element['offset'];&nbsp;</div></li><li><div>                    $info['matroska']['segment'][0]['length'] = $top_element['length'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    while ($this-&gt;getEBMLelement($element_data, $top_element['end'])) {&nbsp;</div></li><li><div>                        if ($element_data['id'] != EBML_ID_CLUSTER || !self::$hide_clusters) { // collect clusters only if required&nbsp;</div></li><li><div>                            $info['matroska']['segments'][] = $element_data;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        switch ($element_data['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_SEEKHEAD: // Contains the position of other level 1 elements.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($seek_entry, $element_data['end'])) {&nbsp;</div></li><li><div>                                    switch ($seek_entry['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_SEEK: // Contains a single seek entry to an EBML element&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_seek_entry, $seek_entry['end'], true)) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                switch ($sub_seek_entry['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_SEEKID:&nbsp;</div></li><li><div>                                                        $seek_entry['target_id'] = self::EBML2Int($sub_seek_entry['data']);&nbsp;</div></li><li><div>                                                        $seek_entry['target_name'] = self::EBMLidName($seek_entry['target_id']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_SEEKPOSITION:&nbsp;</div></li><li><div>                                                        $seek_entry['target_offset'] = $element_data['offset'] + getid3_lib::BigEndian2Int($sub_seek_entry['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('seekhead.seek', __LINE__, $sub_seek_entry);                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ($seek_entry['target_id'] != EBML_ID_CLUSTER || !self::$hide_clusters) { // collect clusters only if required&nbsp;</div></li><li><div>                                                $info['matroska']['seek'][] = $seek_entry;&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('seekhead', __LINE__, $seek_entry);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_TRACKS: // A top-level block of information with many tracks described.&nbsp;</div></li><li><div>                                $info['matroska']['tracks'] = $element_data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($track_entry, $element_data['end'])) {&nbsp;</div></li><li><div>                                    switch ($track_entry['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_TRACKENTRY: //subelements: Describes a track with all elements.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($subelement, $track_entry['end'], array(EBML_ID_VIDEO, EBML_ID_AUDIO, EBML_ID_CONTENTENCODINGS, EBML_ID_CODECPRIVATE))) {&nbsp;</div></li><li><div>                                                switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_TRACKNUMBER:&nbsp;</div></li><li><div>                                                    case EBML_ID_TRACKUID:&nbsp;</div></li><li><div>                                                    case EBML_ID_TRACKTYPE:&nbsp;</div></li><li><div>                                                    case EBML_ID_MINCACHE:&nbsp;</div></li><li><div>                                                    case EBML_ID_MAXCACHE:&nbsp;</div></li><li><div>                                                    case EBML_ID_MAXBLOCKADDITIONID:&nbsp;</div></li><li><div>                                                    case EBML_ID_DEFAULTDURATION: // nanoseconds per frame&nbsp;</div></li><li><div>                                                        $track_entry[$subelement['id_name']] = getid3_lib::BigEndian2Int($subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_TRACKTIMECODESCALE:&nbsp;</div></li><li><div>                                                        $track_entry[$subelement['id_name']] = getid3_lib::BigEndian2Float($subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CODECID:&nbsp;</div></li><li><div>                                                    case EBML_ID_LANGUAGE:&nbsp;</div></li><li><div>                                                    case EBML_ID_NAME:&nbsp;</div></li><li><div>                                                    case EBML_ID_CODECNAME:&nbsp;</div></li><li><div>                                                        $track_entry[$subelement['id_name']] = getid3_lib::trimNullByte($subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CODECPRIVATE:&nbsp;</div></li><li><div>                                                        $track_entry[$subelement['id_name']] = $this-&gt;readEBMLelementData($subelement['length'], true);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_FLAGENABLED:&nbsp;</div></li><li><div>                                                    case EBML_ID_FLAGDEFAULT:&nbsp;</div></li><li><div>                                                    case EBML_ID_FLAGFORCED:&nbsp;</div></li><li><div>                                                    case EBML_ID_FLAGLACING:&nbsp;</div></li><li><div>                                                    case EBML_ID_CODECDECODEALL:&nbsp;</div></li><li><div>                                                        $track_entry[$subelement['id_name']] = (bool) getid3_lib::BigEndian2Int($subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_VIDEO:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], true)) {&nbsp;</div></li><li><div>                                                            switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_PIXELWIDTH:&nbsp;</div></li><li><div>                                                                case EBML_ID_PIXELHEIGHT:&nbsp;</div></li><li><div>                                                                case EBML_ID_PIXELCROPBOTTOM:&nbsp;</div></li><li><div>                                                                case EBML_ID_PIXELCROPTOP:&nbsp;</div></li><li><div>                                                                case EBML_ID_PIXELCROPLEFT:&nbsp;</div></li><li><div>                                                                case EBML_ID_PIXELCROPRIGHT:&nbsp;</div></li><li><div>                                                                case EBML_ID_DISPLAYWIDTH:&nbsp;</div></li><li><div>                                                                case EBML_ID_DISPLAYHEIGHT:&nbsp;</div></li><li><div>                                                                case EBML_ID_DISPLAYUNIT:&nbsp;</div></li><li><div>                                                                case EBML_ID_ASPECTRATIOTYPE:&nbsp;</div></li><li><div>                                                                case EBML_ID_STEREOMODE:&nbsp;</div></li><li><div>                                                                case EBML_ID_OLDSTEREOMODE:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_FLAGINTERLACED:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = (bool)getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_GAMMAVALUE:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Float($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_COLOURSPACE:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = getid3_lib::trimNullByte($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                default:&nbsp;</div></li><li><div>                                                                    $this-&gt;unhandledElement('track.video', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_AUDIO:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], true)) {&nbsp;</div></li><li><div>                                                            switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHANNELS:&nbsp;</div></li><li><div>                                                                case EBML_ID_BITDEPTH:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_SAMPLINGFREQUENCY:&nbsp;</div></li><li><div>                                                                case EBML_ID_OUTPUTSAMPLINGFREQUENCY:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Float($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHANNELPOSITIONS:&nbsp;</div></li><li><div>                                                                    $track_entry[$sub_subelement['id_name']] = getid3_lib::trimNullByte($sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                default:&nbsp;</div></li><li><div>                                                                    $this-&gt;unhandledElement('track.audio', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CONTENTENCODINGS:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'])) {&nbsp;</div></li><li><div>                                                            switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CONTENTENCODING:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                    while ($this-&gt;getEBMLelement($sub_sub_subelement, $sub_subelement['end'], array(EBML_ID_CONTENTCOMPRESSION, EBML_ID_CONTENTENCRYPTION))) {&nbsp;</div></li><li><div>                                                                        switch ($sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            case EBML_ID_CONTENTENCODINGORDER:&nbsp;</div></li><li><div>                                                                            case EBML_ID_CONTENTENCODINGSCOPE:&nbsp;</div></li><li><div>                                                                            case EBML_ID_CONTENTENCODINGTYPE:&nbsp;</div></li><li><div>                                                                                $track_entry[$sub_subelement['id_name']][$sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            case EBML_ID_CONTENTCOMPRESSION:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                while ($this-&gt;getEBMLelement($sub_sub_sub_subelement, $sub_sub_subelement['end'], true)) {&nbsp;</div></li><li><div>                                                                                    switch ($sub_sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTCOMPALGO:&nbsp;</div></li><li><div>                                                                                            $track_entry[$sub_subelement['id_name']][$sub_sub_subelement['id_name']][$sub_sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTCOMPSETTINGS:&nbsp;</div></li><li><div>                                                                                            $track_entry[$sub_subelement['id_name']][$sub_sub_subelement['id_name']][$sub_sub_sub_subelement['id_name']] = $sub_sub_sub_subelement['data'];&nbsp;</div></li><li><div>                                                                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                        default:&nbsp;</div></li><li><div>                                                                                            $this-&gt;unhandledElement('track.contentencodings.contentencoding.contentcompression', __LINE__, $sub_sub_sub_subelement);&nbsp;</div></li><li><div>                                                                                    }&nbsp;</div></li><li><div>                                                                                }&nbsp;</div></li><li><div>                                                                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            case EBML_ID_CONTENTENCRYPTION:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                while ($this-&gt;getEBMLelement($sub_sub_sub_subelement, $sub_sub_subelement['end'], true)) {&nbsp;</div></li><li><div>                                                                                    switch ($sub_sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTENCALGO:&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTSIGALGO:&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTSIGHASHALGO:&nbsp;</div></li><li><div>                                                                                            $track_entry[$sub_subelement['id_name']][$sub_sub_subelement['id_name']][$sub_sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTENCKEYID:&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTSIGNATURE:&nbsp;</div></li><li><div>                                                                                        case EBML_ID_CONTENTSIGKEYID:&nbsp;</div></li><li><div>                                                                                            $track_entry[$sub_subelement['id_name']][$sub_sub_subelement['id_name']][$sub_sub_sub_subelement['id_name']] = $sub_sub_sub_subelement['data'];&nbsp;</div></li><li><div>                                                                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                                        default:&nbsp;</div></li><li><div>                                                                                            $this-&gt;unhandledElement('track.contentencodings.contentencoding.contentcompression', __LINE__, $sub_sub_sub_subelement);&nbsp;</div></li><li><div>                                                                                    }&nbsp;</div></li><li><div>                                                                                }&nbsp;</div></li><li><div>                                                                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            default:&nbsp;</div></li><li><div>                                                                                $this-&gt;unhandledElement('track.contentencodings.contentencoding', __LINE__, $sub_sub_subelement);&nbsp;</div></li><li><div>                                                                        }&nbsp;</div></li><li><div>                                                                    }&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                default:&nbsp;</div></li><li><div>                                                                    $this-&gt;unhandledElement('track.contentencodings', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('track', __LINE__, $subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $info['matroska']['tracks']['tracks'][] = $track_entry;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('tracks', __LINE__, $track_entry);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_INFO: // Contains miscellaneous general information and statistics on the file.&nbsp;</div></li><li><div>                                $info_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($subelement, $element_data['end'], true)) {&nbsp;</div></li><li><div>                                    switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_TIMECODESCALE:&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']] = getid3_lib::BigEndian2Int($subelement['data']);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_DURATION:&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']] = getid3_lib::BigEndian2Float($subelement['data']);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_DATEUTC:&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']] = getid3_lib::BigEndian2Int($subelement['data']);&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name'].'_unix'] = self::EBMLdate2unix($info_entry[$subelement['id_name']]);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_SEGMENTUID:&nbsp;</div></li><li><div>                                        case EBML_ID_PREVUID:&nbsp;</div></li><li><div>                                        case EBML_ID_NEXTUID:&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']] = getid3_lib::trimNullByte($subelement['data']);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_SEGMENTFAMILY:&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']][] = getid3_lib::trimNullByte($subelement['data']);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_SEGMENTFILENAME:&nbsp;</div></li><li><div>                                        case EBML_ID_PREVFILENAME:&nbsp;</div></li><li><div>                                        case EBML_ID_NEXTFILENAME:&nbsp;</div></li><li><div>                                        case EBML_ID_TITLE:&nbsp;</div></li><li><div>                                        case EBML_ID_MUXINGAPP:&nbsp;</div></li><li><div>                                        case EBML_ID_WRITINGAPP:&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']] = getid3_lib::trimNullByte($subelement['data']);&nbsp;</div></li><li><div>                                            $info['matroska']['comments'][strtolower($subelement['id_name'])][] = $info_entry[$subelement['id_name']];&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_CHAPTERTRANSLATE:&nbsp;</div></li><li><div>                                            $chaptertranslate_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], true)) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CHAPTERTRANSLATEEDITIONUID:&nbsp;</div></li><li><div>                                                        $chaptertranslate_entry[$sub_subelement['id_name']][] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CHAPTERTRANSLATECODEC:&nbsp;</div></li><li><div>                                                        $chaptertranslate_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CHAPTERTRANSLATEID:&nbsp;</div></li><li><div>                                                        $chaptertranslate_entry[$sub_subelement['id_name']] = getid3_lib::trimNullByte($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('info.chaptertranslate', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $info_entry[$subelement['id_name']] = $chaptertranslate_entry;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('info', __LINE__, $subelement);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $info['matroska']['info'][] = $info_entry;&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_CUES: // A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non &quot;live&quot; streams.&nbsp;</div></li><li><div>                                if (self::$hide_clusters) { // do not parse cues if hide clusters is &quot;ON&quot; till they point to clusters anyway&nbsp;</div></li><li><div>                                    $this-&gt;current_offset = $element_data['end'];&nbsp;</div></li><li><div>                                    break;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $cues_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($subelement, $element_data['end'])) {&nbsp;</div></li><li><div>                                    switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_CUEPOINT:&nbsp;</div></li><li><div>                                            $cuepoint_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], array(EBML_ID_CUETRACKPOSITIONS))) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CUETRACKPOSITIONS:&nbsp;</div></li><li><div>                                                        $cuetrackpositions_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        while ($this-&gt;getEBMLelement($sub_sub_subelement, $sub_subelement['end'], true)) {&nbsp;</div></li><li><div>                                                            switch ($sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CUETRACK:&nbsp;</div></li><li><div>                                                                case EBML_ID_CUECLUSTERPOSITION:&nbsp;</div></li><li><div>                                                                case EBML_ID_CUEBLOCKNUMBER:&nbsp;</div></li><li><div>                                                                case EBML_ID_CUECODECSTATE:&nbsp;</div></li><li><div>                                                                    $cuetrackpositions_entry[$sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                default:&nbsp;</div></li><li><div>                                                                    $this-&gt;unhandledElement('cues.cuepoint.cuetrackpositions', __LINE__, $sub_sub_subelement);&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                        $cuepoint_entry[$sub_subelement['id_name']][] = $cuetrackpositions_entry;&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CUETIME:&nbsp;</div></li><li><div>                                                        $cuepoint_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('cues.cuepoint', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $cues_entry[] = $cuepoint_entry;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('cues', __LINE__, $subelement);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $info['matroska']['cues'] = $cues_entry;&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_TAGS: // Element containing elements specific to Tracks/Chapters.&nbsp;</div></li><li><div>                                $tags_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($subelement, $element_data['end'], false)) {&nbsp;</div></li><li><div>                                    switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_TAG:&nbsp;</div></li><li><div>                                            $tag_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], false)) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_TARGETS:&nbsp;</div></li><li><div>                                                        $targets_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        while ($this-&gt;getEBMLelement($sub_sub_subelement, $sub_subelement['end'], true)) {&nbsp;</div></li><li><div>                                                            switch ($sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_TARGETTYPEVALUE:&nbsp;</div></li><li><div>                                                                    $targets_entry[$sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    $targets_entry[strtolower($sub_sub_subelement['id_name']).'_long'] = self::TargetTypeValue($targets_entry[$sub_sub_subelement['id_name']]);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_TARGETTYPE:&nbsp;</div></li><li><div>                                                                    $targets_entry[$sub_sub_subelement['id_name']] = $sub_sub_subelement['data'];&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_TAGTRACKUID:&nbsp;</div></li><li><div>                                                                case EBML_ID_TAGEDITIONUID:&nbsp;</div></li><li><div>                                                                case EBML_ID_TAGCHAPTERUID:&nbsp;</div></li><li><div>                                                                case EBML_ID_TAGATTACHMENTUID:&nbsp;</div></li><li><div>                                                                    $targets_entry[$sub_sub_subelement['id_name']][] = getid3_lib::BigEndian2Int($sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                default:&nbsp;</div></li><li><div>                                                                    $this-&gt;unhandledElement('tags.tag.targets', __LINE__, $sub_sub_subelement);&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                        $tag_entry[$sub_subelement['id_name']] = $targets_entry;&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_SIMPLETAG:&nbsp;</div></li><li><div>                                                        $tag_entry[$sub_subelement['id_name']][] = $this-&gt;HandleEMBLSimpleTag($sub_subelement['end']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('tags.tag', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $tags_entry[] = $tag_entry;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('tags', __LINE__, $subelement);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $info['matroska']['tags'] = $tags_entry;&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_ATTACHMENTS: // Contain attached files.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($subelement, $element_data['end'])) {&nbsp;</div></li><li><div>                                    switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_ATTACHEDFILE:&nbsp;</div></li><li><div>                                            $attachedfile_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], array(EBML_ID_FILEDATA))) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_FILEDESCRIPTION:&nbsp;</div></li><li><div>                                                    case EBML_ID_FILENAME:&nbsp;</div></li><li><div>                                                    case EBML_ID_FILEMIMETYPE:&nbsp;</div></li><li><div>                                                        $attachedfile_entry[$sub_subelement['id_name']] = $sub_subelement['data'];&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_FILEDATA:&nbsp;</div></li><li><div>                                                        $attachedfile_entry['data_offset'] = $this-&gt;current_offset;&nbsp;</div></li><li><div>                                                        $attachedfile_entry['data_length'] = $sub_subelement['length'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        $attachedfile_entry[$sub_subelement['id_name']] = $this-&gt;saveAttachment(&nbsp;</div></li><li><div>                                                            $attachedfile_entry['FileName'], &nbsp;</div></li><li><div>                                                            $attachedfile_entry['data_offset'], &nbsp;</div></li><li><div>                                                            $attachedfile_entry['data_length']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        $this-&gt;current_offset = $sub_subelement['end'];&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_FILEUID:&nbsp;</div></li><li><div>                                                        $attachedfile_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('attachments.attachedfile', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $info['matroska']['attachments'][] = $attachedfile_entry;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('attachments', __LINE__, $subelement);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_CHAPTERS:&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($subelement, $element_data['end'])) {&nbsp;</div></li><li><div>                                    switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_EDITIONENTRY:&nbsp;</div></li><li><div>                                            $editionentry_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], array(EBML_ID_CHAPTERATOM))) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_EDITIONUID:&nbsp;</div></li><li><div>                                                        $editionentry_entry[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_EDITIONFLAGHIDDEN:&nbsp;</div></li><li><div>                                                    case EBML_ID_EDITIONFLAGDEFAULT:&nbsp;</div></li><li><div>                                                    case EBML_ID_EDITIONFLAGORDERED:&nbsp;</div></li><li><div>                                                        $editionentry_entry[$sub_subelement['id_name']] = (bool)getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CHAPTERATOM:&nbsp;</div></li><li><div>                                                        $chapteratom_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        while ($this-&gt;getEBMLelement($sub_sub_subelement, $sub_subelement['end'], array(EBML_ID_CHAPTERTRACK, EBML_ID_CHAPTERDISPLAY))) {&nbsp;</div></li><li><div>                                                            switch ($sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERSEGMENTUID:&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERSEGMENTEDITIONUID:&nbsp;</div></li><li><div>                                                                    $chapteratom_entry[$sub_sub_subelement['id_name']] = $sub_sub_subelement['data'];&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERFLAGENABLED:&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERFLAGHIDDEN:&nbsp;</div></li><li><div>                                                                    $chapteratom_entry[$sub_sub_subelement['id_name']] = (bool)getid3_lib::BigEndian2Int($sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERUID:&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERTIMESTART:&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERTIMEEND:&nbsp;</div></li><li><div>                                                                    $chapteratom_entry[$sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERTRACK:&nbsp;</div></li><li><div>                                                                    $chaptertrack_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                    while ($this-&gt;getEBMLelement($sub_sub_sub_subelement, $sub_sub_subelement['end'], true)) {&nbsp;</div></li><li><div>                                                                        switch ($sub_sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            case EBML_ID_CHAPTERTRACKNUMBER:&nbsp;</div></li><li><div>                                                                                $chaptertrack_entry[$sub_sub_sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_sub_sub_subelement['data']);&nbsp;</div></li><li><div>                                                                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            default:&nbsp;</div></li><li><div>                                                                                $this-&gt;unhandledElement('chapters.editionentry.chapteratom.chaptertrack', __LINE__, $sub_sub_sub_subelement);&nbsp;</div></li><li><div>                                                                        }&nbsp;</div></li><li><div>                                                                    }&nbsp;</div></li><li><div>                                                                    $chapteratom_entry[$sub_sub_subelement['id_name']][] = $chaptertrack_entry;&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                case EBML_ID_CHAPTERDISPLAY:&nbsp;</div></li><li><div>                                                                    $chapterdisplay_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                    while ($this-&gt;getEBMLelement($sub_sub_sub_subelement, $sub_sub_subelement['end'], true)) {&nbsp;</div></li><li><div>                                                                        switch ($sub_sub_sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            case EBML_ID_CHAPSTRING:&nbsp;</div></li><li><div>                                                                            case EBML_ID_CHAPLANGUAGE:&nbsp;</div></li><li><div>                                                                            case EBML_ID_CHAPCOUNTRY:&nbsp;</div></li><li><div>                                                                                $chapterdisplay_entry[$sub_sub_sub_subelement['id_name']] = $sub_sub_sub_subelement['data'];&nbsp;</div></li><li><div>                                                                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                            default:&nbsp;</div></li><li><div>                                                                                $this-&gt;unhandledElement('chapters.editionentry.chapteratom.chapterdisplay', __LINE__, $sub_sub_sub_subelement);&nbsp;</div></li><li><div>                                                                        }&nbsp;</div></li><li><div>                                                                    }&nbsp;</div></li><li><div>                                                                    $chapteratom_entry[$sub_sub_subelement['id_name']][] = $chapterdisplay_entry;&nbsp;</div></li><li><div>                                                                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                                default:&nbsp;</div></li><li><div>                                                                    $this-&gt;unhandledElement('chapters.editionentry.chapteratom', __LINE__, $sub_sub_subelement);&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                        $editionentry_entry[$sub_subelement['id_name']][] = $chapteratom_entry;&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('chapters.editionentry', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $info['matroska']['chapters'][] = $editionentry_entry;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('chapters', __LINE__, $subelement);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            case EBML_ID_CLUSTER: // The lower level element containing the (monolithic) Block structure.&nbsp;</div></li><li><div>                                $cluster_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                while ($this-&gt;getEBMLelement($subelement, $element_data['end'], array(EBML_ID_CLUSTERSILENTTRACKS, EBML_ID_CLUSTERBLOCKGROUP, EBML_ID_CLUSTERSIMPLEBLOCK))) {&nbsp;</div></li><li><div>                                    switch ($subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_CLUSTERTIMECODE:&nbsp;</div></li><li><div>                                        case EBML_ID_CLUSTERPOSITION:&nbsp;</div></li><li><div>                                        case EBML_ID_CLUSTERPREVSIZE:&nbsp;</div></li><li><div>                                            $cluster_entry[$subelement['id_name']] = getid3_lib::BigEndian2Int($subelement['data']);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_CLUSTERSILENTTRACKS:&nbsp;</div></li><li><div>                                            $cluster_silent_tracks = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], true)) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CLUSTERSILENTTRACKNUMBER:&nbsp;</div></li><li><div>                                                        $cluster_silent_tracks[] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('cluster.silenttracks', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $cluster_entry[$subelement['id_name']][] = $cluster_silent_tracks;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_CLUSTERBLOCKGROUP:&nbsp;</div></li><li><div>                                            $cluster_block_group = array('offset' =&gt; $this-&gt;current_offset);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            while ($this-&gt;getEBMLelement($sub_subelement, $subelement['end'], array(EBML_ID_CLUSTERBLOCK))) {&nbsp;</div></li><li><div>                                                switch ($sub_subelement['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CLUSTERBLOCK:&nbsp;</div></li><li><div>                                                        $cluster_block_group[$sub_subelement['id_name']] = $this-&gt;HandleEMBLClusterBlock($sub_subelement, EBML_ID_CLUSTERBLOCK, $info);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CLUSTERREFERENCEPRIORITY: // unsigned-int&nbsp;</div></li><li><div>                                                    case EBML_ID_CLUSTERBLOCKDURATION:     // unsigned-int&nbsp;</div></li><li><div>                                                        $cluster_block_group[$sub_subelement['id_name']] = getid3_lib::BigEndian2Int($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CLUSTERREFERENCEBLOCK:    // signed-int&nbsp;</div></li><li><div>                                                        $cluster_block_group[$sub_subelement['id_name']][] = getid3_lib::BigEndian2Int($sub_subelement['data'], false, true);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    case EBML_ID_CLUSTERCODECSTATE:&nbsp;</div></li><li><div>                                                        $cluster_block_group[$sub_subelement['id_name']] = getid3_lib::trimNullByte($sub_subelement['data']);&nbsp;</div></li><li><div>                                                        break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    default:&nbsp;</div></li><li><div>                                                        $this-&gt;unhandledElement('clusters.blockgroup', __LINE__, $sub_subelement);&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            $cluster_entry[$subelement['id_name']][] = $cluster_block_group;&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        case EBML_ID_CLUSTERSIMPLEBLOCK:&nbsp;</div></li><li><div>                                            $cluster_entry[$subelement['id_name']][] = $this-&gt;HandleEMBLClusterBlock($subelement, EBML_ID_CLUSTERSIMPLEBLOCK, $info);&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        default:&nbsp;</div></li><li><div>                                            $this-&gt;unhandledElement('cluster', __LINE__, $subelement);&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $this-&gt;current_offset = $subelement['end'];&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                if (!self::$hide_clusters) {&nbsp;</div></li><li><div>                                    $info['matroska']['cluster'][] = $cluster_entry;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // check to see if all the data we need exists already, if so, break out of the loop&nbsp;</div></li><li><div>                                if (!self::$parse_whole_file) {&nbsp;</div></li><li><div>                                    if (isset($info['matroska']['info']) && is_array($info['matroska']['info'])) {&nbsp;</div></li><li><div>                                        if (isset($info['matroska']['tracks']['tracks']) && is_array($info['matroska']['tracks']['tracks'])) {&nbsp;</div></li><li><div>                                            if (count($info['matroska']['track_data_offsets']) == count($info['matroska']['tracks']['tracks'])) {&nbsp;</div></li><li><div>                                                return;&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            default:&nbsp;</div></li><li><div>                                $this-&gt;unhandledElement('segment', __LINE__, $element_data);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                default:&nbsp;</div></li><li><div>                    $this-&gt;unhandledElement('root', __LINE__, $top_element);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function EnsureBufferHasEnoughData($min_data=1024) {&nbsp;</div></li><li><div>        if (($this-&gt;current_offset - $this-&gt;EBMLbuffer_offset) &gt;= ($this-&gt;EBMLbuffer_length - $min_data)) {&nbsp;</div></li><li><div>            $read_bytes = max($min_data, $this-&gt;getid3-&gt;fread_buffer_size());&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            try {&nbsp;</div></li><li><div>                $this-&gt;fseek($this-&gt;current_offset);&nbsp;</div></li><li><div>                $this-&gt;EBMLbuffer_offset = $this-&gt;current_offset;&nbsp;</div></li><li><div>                $this-&gt;EBMLbuffer = $this-&gt;fread($read_bytes);&nbsp;</div></li><li><div>                $this-&gt;EBMLbuffer_length = strlen($this-&gt;EBMLbuffer);&nbsp;</div></li><li><div>            } catch (getid3_exception $e) {&nbsp;</div></li><li><div>                $this-&gt;warning('EBML parser: '.$e-&gt;getMessage());&nbsp;</div></li><li><div>                return false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ($this-&gt;EBMLbuffer_length == 0 && $this-&gt;feof()) {&nbsp;</div></li><li><div>                return $this-&gt;error('EBML parser: ran out of file at offset '.$this-&gt;current_offset);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function readEBMLint() {&nbsp;</div></li><li><div>        $actual_offset = $this-&gt;current_offset - $this-&gt;EBMLbuffer_offset;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get length of integer&nbsp;</div></li><li><div>        $first_byte_int = ord($this-&gt;EBMLbuffer[$actual_offset]);&nbsp;</div></li><li><div>        if       (0x80 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 1;&nbsp;</div></li><li><div>        } elseif (0x40 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 2;&nbsp;</div></li><li><div>        } elseif (0x20 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 3;&nbsp;</div></li><li><div>        } elseif (0x10 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 4;&nbsp;</div></li><li><div>        } elseif (0x08 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 5;&nbsp;</div></li><li><div>        } elseif (0x04 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 6;&nbsp;</div></li><li><div>        } elseif (0x02 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 7;&nbsp;</div></li><li><div>        } elseif (0x01 & $first_byte_int) {&nbsp;</div></li><li><div>            $length = 8;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            throw new Exception('invalid EBML integer (leading 0x00) at '.$this-&gt;current_offset);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // read&nbsp;</div></li><li><div>        $int_value = self::EBML2Int(substr($this-&gt;EBMLbuffer, $actual_offset, $length));&nbsp;</div></li><li><div>        $this-&gt;current_offset += $length;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $int_value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function readEBMLelementData($length, $check_buffer=false) {&nbsp;</div></li><li><div>        if ($check_buffer && !$this-&gt;EnsureBufferHasEnoughData($length)) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $data = substr($this-&gt;EBMLbuffer, $this-&gt;current_offset - $this-&gt;EBMLbuffer_offset, $length);&nbsp;</div></li><li><div>        $this-&gt;current_offset += $length;&nbsp;</div></li><li><div>        return $data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function getEBMLelement(&$element, $parent_end, $get_data=false) {&nbsp;</div></li><li><div>        if ($this-&gt;current_offset &gt;= $parent_end) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (!$this-&gt;EnsureBufferHasEnoughData()) {&nbsp;</div></li><li><div>            $this-&gt;current_offset = PHP_INT_MAX; // do not exit parser right now, allow to finish current loop to gather maximum information&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $element = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // set offset&nbsp;</div></li><li><div>        $element['offset'] = $this-&gt;current_offset;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get ID&nbsp;</div></li><li><div>        $element['id'] = $this-&gt;readEBMLint();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get name&nbsp;</div></li><li><div>        $element['id_name'] = self::EBMLidName($element['id']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get length&nbsp;</div></li><li><div>        $element['length'] = $this-&gt;readEBMLint();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get end offset&nbsp;</div></li><li><div>        $element['end'] = $this-&gt;current_offset + $element['length'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get raw data&nbsp;</div></li><li><div>        $dont_parse = (in_array($element['id'], $this-&gt;unuseful_elements) || $element['id_name'] == dechex($element['id']));&nbsp;</div></li><li><div>        if (($get_data === true || (is_array($get_data) && !in_array($element['id'], $get_data))) && !$dont_parse) {&nbsp;</div></li><li><div>            $element['data'] = $this-&gt;readEBMLelementData($element['length'], $element);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function unhandledElement($type, $line, $element) {&nbsp;</div></li><li><div>        // warn only about unknown and missed elements, not about unuseful&nbsp;</div></li><li><div>        if (!in_array($element['id'], $this-&gt;unuseful_elements)) {&nbsp;</div></li><li><div>            $this-&gt;warning('Unhandled '.$type.' element ['.basename(__FILE__).':'.$line.'] ('.$element['id'].'::'.$element['id_name'].' ['.$element['length'].' bytes]) at '.$element['offset']);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // increase offset for unparsed elements&nbsp;</div></li><li><div>        if (!isset($element['data'])) {&nbsp;</div></li><li><div>            $this-&gt;current_offset = $element['end'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function ExtractCommentsSimpleTag($SimpleTagArray) {&nbsp;</div></li><li><div>        if (!empty($SimpleTagArray['SimpleTag'])) {&nbsp;</div></li><li><div>            foreach ($SimpleTagArray['SimpleTag'] as $SimpleTagKey =&gt; $SimpleTagData) {&nbsp;</div></li><li><div>                if (!empty($SimpleTagData['TagName']) && !empty($SimpleTagData['TagString'])) {&nbsp;</div></li><li><div>                    $this-&gt;getid3-&gt;info['matroska']['comments'][strtolower($SimpleTagData['TagName'])][] = $SimpleTagData['TagString'];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (!empty($SimpleTagData['SimpleTag'])) {&nbsp;</div></li><li><div>                    $this-&gt;ExtractCommentsSimpleTag($SimpleTagData);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function HandleEMBLSimpleTag($parent_end) {&nbsp;</div></li><li><div>        $simpletag_entry = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        while ($this-&gt;getEBMLelement($element, $parent_end, array(EBML_ID_SIMPLETAG))) {&nbsp;</div></li><li><div>            switch ($element['id']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case EBML_ID_TAGNAME:&nbsp;</div></li><li><div>                case EBML_ID_TAGLANGUAGE:&nbsp;</div></li><li><div>                case EBML_ID_TAGSTRING:&nbsp;</div></li><li><div>                case EBML_ID_TAGBINARY:&nbsp;</div></li><li><div>                    $simpletag_entry[$element['id_name']] = $element['data'];&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case EBML_ID_SIMPLETAG:&nbsp;</div></li><li><div>                    $simpletag_entry[$element['id_name']][] = $this-&gt;HandleEMBLSimpleTag($element['end']);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                case EBML_ID_TAGDEFAULT:&nbsp;</div></li><li><div>                    $simpletag_entry[$element['id_name']] = (bool)getid3_lib::BigEndian2Int($element['data']);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                default:&nbsp;</div></li><li><div>                    $this-&gt;unhandledElement('tag.simpletag', __LINE__, $element);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $simpletag_entry;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function HandleEMBLClusterBlock($element, $block_type, &$info) {&nbsp;</div></li><li><div>        // http://www.matroska.org/technical/specs/index.html#block_structure&nbsp;</div></li><li><div>        // http://www.matroska.org/technical/specs/index.html#simpleblock_structure&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $block_data = array();&nbsp;</div></li><li><div>        $block_data['tracknumber'] = $this-&gt;readEBMLint();&nbsp;</div></li><li><div>        $block_data['timecode'] = getid3_lib::BigEndian2Int($this-&gt;readEBMLelementData(2), false, true);&nbsp;</div></li><li><div>        $block_data['flags_raw'] = getid3_lib::BigEndian2Int($this-&gt;readEBMLelementData(1));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ($block_type == EBML_ID_CLUSTERSIMPLEBLOCK) {&nbsp;</div></li><li><div>            $block_data['flags']['keyframe'] = (($block_data['flags_raw'] & 0x80) &gt;&gt; 7);&nbsp;</div></li><li><div>            //$block_data['flags']['reserved1'] = (($block_data['flags_raw'] & 0x70) &gt;&gt; 4);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            //$block_data['flags']['reserved1'] = (($block_data['flags_raw'] & 0xF0) &gt;&gt; 4);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $block_data['flags']['invisible'] = (bool)(($block_data['flags_raw'] & 0x08) &gt;&gt; 3);&nbsp;</div></li><li><div>        $block_data['flags']['lacing'] =       (($block_data['flags_raw'] & 0x06) &gt;&gt; 1);  // 00=no lacing; 01=Xiph lacing; 11=EBML lacing; 10=fixed-size lacing&nbsp;</div></li><li><div>        if ($block_type == EBML_ID_CLUSTERSIMPLEBLOCK) {&nbsp;</div></li><li><div>            $block_data['flags']['discardable'] = (($block_data['flags_raw'] & 0x01));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            //$block_data['flags']['reserved2'] = (($block_data['flags_raw'] & 0x01) &gt;&gt; 0);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $block_data['flags']['lacing_type'] = self::BlockLacingType($block_data['flags']['lacing']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Lace (when lacing bit is set)&nbsp;</div></li><li><div>        if ($block_data['flags']['lacing'] &gt; 0) {&nbsp;</div></li><li><div>            $block_data['lace_frames'] = getid3_lib::BigEndian2Int($this-&gt;readEBMLelementData(1)) + 1; // Number of frames in the lace-1 (uint8)&nbsp;</div></li><li><div>            if ($block_data['flags']['lacing'] != 0x02) {&nbsp;</div></li><li><div>                for ($i = 1; $i &lt; $block_data['lace_frames']; $i ++) { // Lace-coded size of each frame of the lace, except for the last one (multiple uint8). *This is not used with Fixed-size lacing as it is calculated automatically from (total size of lace) / (number of frames in lace).&nbsp;</div></li><li><div>                    if ($block_data['flags']['lacing'] == 0x03) { // EBML lacing&nbsp;</div></li><li><div>                        $block_data['lace_frames_size'][$i] = $this-&gt;readEBMLint(); // TODO: read size correctly, calc size for the last frame. For now offsets are deteminded OK with readEBMLint() and that's the most important thing.&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else { // Xiph lacing&nbsp;</div></li><li><div>                        $block_data['lace_frames_size'][$i] = 0;&nbsp;</div></li><li><div>                        do {&nbsp;</div></li><li><div>                            $size = getid3_lib::BigEndian2Int($this-&gt;readEBMLelementData(1));&nbsp;</div></li><li><div>                            $block_data['lace_frames_size'][$i] += $size;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        while ($size == 255);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ($block_data['flags']['lacing'] == 0x01) { // calc size of the last frame only for Xiph lacing, till EBML sizes are now anyway determined incorrectly&nbsp;</div></li><li><div>                    $block_data['lace_frames_size'][] = $element['end'] - $this-&gt;current_offset - array_sum($block_data['lace_frames_size']);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (!isset($info['matroska']['track_data_offsets'][$block_data['tracknumber']])) {&nbsp;</div></li><li><div>            $info['matroska']['track_data_offsets'][$block_data['tracknumber']]['offset'] = $this-&gt;current_offset;&nbsp;</div></li><li><div>            $info['matroska']['track_data_offsets'][$block_data['tracknumber']]['length'] = $element['end'] - $this-&gt;current_offset;&nbsp;</div></li><li><div>            //$info['matroska']['track_data_offsets'][$block_data['tracknumber']]['total_length'] = 0;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        //$info['matroska']['track_data_offsets'][$block_data['tracknumber']]['total_length'] += $info['matroska']['track_data_offsets'][$block_data['tracknumber']]['length'];&nbsp;</div></li><li><div>        //$info['matroska']['track_data_offsets'][$block_data['tracknumber']]['duration'] = $block_data['timecode'] * ((isset($info['matroska']['info'][0]['TimecodeScale']) ? $info['matroska']['info'][0]['TimecodeScale'] : 1000000) / 1000000000);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // set offset manually&nbsp;</div></li><li><div>        $this-&gt;current_offset = $element['end'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $block_data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private static function EBML2Int($EBMLstring) {&nbsp;</div></li><li><div>        // http://matroska.org/specs/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Element ID coded with an UTF-8 like system:&nbsp;</div></li><li><div>        // 1xxx xxxx                                  - Class A IDs (2^7 -2 possible values) (base 0x8X)&nbsp;</div></li><li><div>        // 01xx xxxx  xxxx xxxx                       - Class B IDs (2^14-2 possible values) (base 0x4X 0xXX)&nbsp;</div></li><li><div>        // 001x xxxx  xxxx xxxx  xxxx xxxx            - Class C IDs (2^21-2 possible values) (base 0x2X 0xXX 0xXX)&nbsp;</div></li><li><div>        // 0001 xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx - Class D IDs (2^28-2 possible values) (base 0x1X 0xXX 0xXX 0xXX)&nbsp;</div></li><li><div>        // Values with all x at 0 and 1 are reserved (hence the -2).&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Data size, in octets, is also coded with an UTF-8 like system :&nbsp;</div></li><li><div>        // 1xxx xxxx                                                                              - value 0 to  2^7-2&nbsp;</div></li><li><div>        // 01xx xxxx  xxxx xxxx                                                                   - value 0 to 2^14-2&nbsp;</div></li><li><div>        // 001x xxxx  xxxx xxxx  xxxx xxxx                                                        - value 0 to 2^21-2&nbsp;</div></li><li><div>        // 0001 xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx                                             - value 0 to 2^28-2&nbsp;</div></li><li><div>        // 0000 1xxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx                                  - value 0 to 2^35-2&nbsp;</div></li><li><div>        // 0000 01xx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx                       - value 0 to 2^42-2&nbsp;</div></li><li><div>        // 0000 001x  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx            - value 0 to 2^49-2&nbsp;</div></li><li><div>        // 0000 0001  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx  xxxx xxxx - value 0 to 2^56-2&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $first_byte_int = ord($EBMLstring[0]);&nbsp;</div></li><li><div>        if (0x80 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x7F);&nbsp;</div></li><li><div>        } elseif (0x40 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x3F);&nbsp;</div></li><li><div>        } elseif (0x20 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x1F);&nbsp;</div></li><li><div>        } elseif (0x10 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x0F);&nbsp;</div></li><li><div>        } elseif (0x08 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x07);&nbsp;</div></li><li><div>        } elseif (0x04 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x03);&nbsp;</div></li><li><div>        } elseif (0x02 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x01);&nbsp;</div></li><li><div>        } elseif (0x01 & $first_byte_int) {&nbsp;</div></li><li><div>            $EBMLstring[0] = chr($first_byte_int & 0x00);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return getid3_lib::BigEndian2Int($EBMLstring);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private static function EBMLdate2unix($EBMLdatestamp) {&nbsp;</div></li><li><div>        // Date - signed 8 octets integer in nanoseconds with 0 indicating the precise beginning of the millennium (at 2001-01-01T00:00:00, 000000000 UTC)&nbsp;</div></li><li><div>        // 978307200 == mktime(0, 0, 0, 1, 1, 2001) == January 1, 2001 12:00:00am UTC&nbsp;</div></li><li><div>        return round(($EBMLdatestamp / 1000000000) + 978307200);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function TargetTypeValue($target_type) {&nbsp;</div></li><li><div>        // http://www.matroska.org/technical/specs/tagging/index.html&nbsp;</div></li><li><div>        static $TargetTypeValue = array();&nbsp;</div></li><li><div>        if (empty($TargetTypeValue)) {&nbsp;</div></li><li><div>            $TargetTypeValue[10] = 'A: ~ V:shot';                                           // the lowest hierarchy found in music or movies&nbsp;</div></li><li><div>            $TargetTypeValue[20] = 'A:subtrack/part/movement ~ V:scene';                    // corresponds to parts of a track for audio (like a movement)&nbsp;</div></li><li><div>            $TargetTypeValue[30] = 'A:track/song ~ V:chapter';                              // the common parts of an album or a movie&nbsp;</div></li><li><div>            $TargetTypeValue[40] = 'A:part/session ~ V:part/session';                       // when an album or episode has different logical parts&nbsp;</div></li><li><div>            $TargetTypeValue[50] = 'A:album/opera/concert ~ V:movie/episode/concert';       // the most common grouping level of music and video (equals to an episode for TV series)&nbsp;</div></li><li><div>            $TargetTypeValue[60] = 'A:edition/issue/volume/opus ~ V:season/sequel/volume';  // a list of lower levels grouped together&nbsp;</div></li><li><div>            $TargetTypeValue[70] = 'A:collection ~ V:collection';                           // the high hierarchy consisting of many different lower items&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($TargetTypeValue[$target_type]) ? $TargetTypeValue[$target_type] : $target_type);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function BlockLacingType($lacingtype) {&nbsp;</div></li><li><div>        // http://matroska.org/technical/specs/index.html#block_structure&nbsp;</div></li><li><div>        static $BlockLacingType = array();&nbsp;</div></li><li><div>        if (empty($BlockLacingType)) {&nbsp;</div></li><li><div>            $BlockLacingType[0x00] = 'no lacing';&nbsp;</div></li><li><div>            $BlockLacingType[0x01] = 'Xiph lacing';&nbsp;</div></li><li><div>            $BlockLacingType[0x02] = 'fixed-size lacing';&nbsp;</div></li><li><div>            $BlockLacingType[0x03] = 'EBML lacing';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($BlockLacingType[$lacingtype]) ? $BlockLacingType[$lacingtype] : $lacingtype);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function CodecIDtoCommonName($codecid) {&nbsp;</div></li><li><div>        // http://www.matroska.org/technical/specs/codecid/index.html&nbsp;</div></li><li><div>        static $CodecIDlist = array();&nbsp;</div></li><li><div>        if (empty($CodecIDlist)) {&nbsp;</div></li><li><div>            $CodecIDlist['A_AAC'] = 'aac';&nbsp;</div></li><li><div>            $CodecIDlist['A_AAC/MPEG2/LC'] = 'aac';&nbsp;</div></li><li><div>            $CodecIDlist['A_AC3'] = 'ac3';&nbsp;</div></li><li><div>            $CodecIDlist['A_DTS'] = 'dts';&nbsp;</div></li><li><div>            $CodecIDlist['A_FLAC'] = 'flac';&nbsp;</div></li><li><div>            $CodecIDlist['A_MPEG/L1'] = 'mp1';&nbsp;</div></li><li><div>            $CodecIDlist['A_MPEG/L2'] = 'mp2';&nbsp;</div></li><li><div>            $CodecIDlist['A_MPEG/L3'] = 'mp3';&nbsp;</div></li><li><div>            $CodecIDlist['A_PCM/INT/LIT'] = 'pcm';       // PCM Integer Little Endian&nbsp;</div></li><li><div>            $CodecIDlist['A_PCM/INT/BIG'] = 'pcm';       // PCM Integer Big Endian&nbsp;</div></li><li><div>            $CodecIDlist['A_QUICKTIME/QDMC'] = 'quicktime'; // Quicktime: QDesign Music&nbsp;</div></li><li><div>            $CodecIDlist['A_QUICKTIME/QDM2'] = 'quicktime'; // Quicktime: QDesign Music v2&nbsp;</div></li><li><div>            $CodecIDlist['A_VORBIS'] = 'vorbis';&nbsp;</div></li><li><div>            $CodecIDlist['V_MPEG1'] = 'mpeg';&nbsp;</div></li><li><div>            $CodecIDlist['V_THEORA'] = 'theora';&nbsp;</div></li><li><div>            $CodecIDlist['V_REAL/RV40'] = 'real';&nbsp;</div></li><li><div>            $CodecIDlist['V_REAL/RV10'] = 'real';&nbsp;</div></li><li><div>            $CodecIDlist['V_REAL/RV20'] = 'real';&nbsp;</div></li><li><div>            $CodecIDlist['V_REAL/RV30'] = 'real';&nbsp;</div></li><li><div>            $CodecIDlist['V_QUICKTIME'] = 'quicktime'; // Quicktime&nbsp;</div></li><li><div>            $CodecIDlist['V_MPEG4/ISO/AP'] = 'mpeg4';&nbsp;</div></li><li><div>            $CodecIDlist['V_MPEG4/ISO/ASP'] = 'mpeg4';&nbsp;</div></li><li><div>            $CodecIDlist['V_MPEG4/ISO/AVC'] = 'h264';&nbsp;</div></li><li><div>            $CodecIDlist['V_MPEG4/ISO/SP'] = 'mpeg4';&nbsp;</div></li><li><div>            $CodecIDlist['V_VP8'] = 'vp8';&nbsp;</div></li><li><div>            $CodecIDlist['V_MS/VFW/FOURCC'] = 'vcm'; // Microsoft (TM) Video Codec Manager (VCM)&nbsp;</div></li><li><div>            $CodecIDlist['A_MS/ACM'] = 'acm'; // Microsoft (TM) Audio Codec Manager (ACM)&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return (isset($CodecIDlist[$codecid]) ? $CodecIDlist[$codecid] : $codecid);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private static function EBMLidName($value) {&nbsp;</div></li><li><div>        static $EBMLidList = array();&nbsp;</div></li><li><div>        if (empty($EBMLidList)) {&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_ASPECTRATIOTYPE] = 'AspectRatioType';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_ATTACHEDFILE] = 'AttachedFile';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_ATTACHMENTLINK] = 'AttachmentLink';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_ATTACHMENTS] = 'Attachments';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_AUDIO] = 'Audio';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_BITDEPTH] = 'BitDepth';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHANNELPOSITIONS] = 'ChannelPositions';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHANNELS] = 'Channels';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPCOUNTRY] = 'ChapCountry';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPLANGUAGE] = 'ChapLanguage';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPPROCESS] = 'ChapProcess';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPPROCESSCODECID] = 'ChapProcessCodecID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPPROCESSCOMMAND] = 'ChapProcessCommand';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPPROCESSDATA] = 'ChapProcessData';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPPROCESSPRIVATE] = 'ChapProcessPrivate';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPPROCESSTIME] = 'ChapProcessTime';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPSTRING] = 'ChapString';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERATOM] = 'ChapterAtom';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERDISPLAY] = 'ChapterDisplay';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERFLAGENABLED] = 'ChapterFlagEnabled';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERFLAGHIDDEN] = 'ChapterFlagHidden';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERPHYSICALEQUIV] = 'ChapterPhysicalEquiv';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERS] = 'Chapters';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERSEGMENTEDITIONUID] = 'ChapterSegmentEditionUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERSEGMENTUID] = 'ChapterSegmentUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTIMEEND] = 'ChapterTimeEnd';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTIMESTART] = 'ChapterTimeStart';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTRACK] = 'ChapterTrack';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTRACKNUMBER] = 'ChapterTrackNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTRANSLATE] = 'ChapterTranslate';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTRANSLATECODEC] = 'ChapterTranslateCodec';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTRANSLATEEDITIONUID] = 'ChapterTranslateEditionUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERTRANSLATEID] = 'ChapterTranslateID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CHAPTERUID] = 'ChapterUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTER] = 'Cluster';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCK] = 'ClusterBlock';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKADDID] = 'ClusterBlockAddID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKADDITIONAL] = 'ClusterBlockAdditional';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKADDITIONID] = 'ClusterBlockAdditionID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKADDITIONS] = 'ClusterBlockAdditions';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKDURATION] = 'ClusterBlockDuration';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKGROUP] = 'ClusterBlockGroup';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKMORE] = 'ClusterBlockMore';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERBLOCKVIRTUAL] = 'ClusterBlockVirtual';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERCODECSTATE] = 'ClusterCodecState';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERDELAY] = 'ClusterDelay';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERDURATION] = 'ClusterDuration';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERENCRYPTEDBLOCK] = 'ClusterEncryptedBlock';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERFRAMENUMBER] = 'ClusterFrameNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERLACENUMBER] = 'ClusterLaceNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERPOSITION] = 'ClusterPosition';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERPREVSIZE] = 'ClusterPrevSize';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERREFERENCEBLOCK] = 'ClusterReferenceBlock';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERREFERENCEPRIORITY] = 'ClusterReferencePriority';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERREFERENCEVIRTUAL] = 'ClusterReferenceVirtual';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERSILENTTRACKNUMBER] = 'ClusterSilentTrackNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERSILENTTRACKS] = 'ClusterSilentTracks';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERSIMPLEBLOCK] = 'ClusterSimpleBlock';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERTIMECODE] = 'ClusterTimecode';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERTIMESLICE] = 'ClusterTimeSlice';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECDECODEALL] = 'CodecDecodeAll';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECDOWNLOADURL] = 'CodecDownloadURL';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECID] = 'CodecID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECINFOURL] = 'CodecInfoURL';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECNAME] = 'CodecName';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECPRIVATE] = 'CodecPrivate';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CODECSETTINGS] = 'CodecSettings';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_COLOURSPACE] = 'ColourSpace';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTCOMPALGO] = 'ContentCompAlgo';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTCOMPRESSION] = 'ContentCompression';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTCOMPSETTINGS] = 'ContentCompSettings';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCALGO] = 'ContentEncAlgo';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCKEYID] = 'ContentEncKeyID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCODING] = 'ContentEncoding';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCODINGORDER] = 'ContentEncodingOrder';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCODINGS] = 'ContentEncodings';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCODINGSCOPE] = 'ContentEncodingScope';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCODINGTYPE] = 'ContentEncodingType';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTENCRYPTION] = 'ContentEncryption';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTSIGALGO] = 'ContentSigAlgo';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTSIGHASHALGO] = 'ContentSigHashAlgo';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTSIGKEYID] = 'ContentSigKeyID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CONTENTSIGNATURE] = 'ContentSignature';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CRC32] = 'CRC32';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEBLOCKNUMBER] = 'CueBlockNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUECLUSTERPOSITION] = 'CueClusterPosition';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUECODECSTATE] = 'CueCodecState';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEPOINT] = 'CuePoint';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEREFCLUSTER] = 'CueRefCluster';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEREFCODECSTATE] = 'CueRefCodecState';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEREFERENCE] = 'CueReference';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEREFNUMBER] = 'CueRefNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUEREFTIME] = 'CueRefTime';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUES] = 'Cues';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUETIME] = 'CueTime';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUETRACK] = 'CueTrack';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CUETRACKPOSITIONS] = 'CueTrackPositions';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DATEUTC] = 'DateUTC';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DEFAULTDURATION] = 'DefaultDuration';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DISPLAYHEIGHT] = 'DisplayHeight';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DISPLAYUNIT] = 'DisplayUnit';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DISPLAYWIDTH] = 'DisplayWidth';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DOCTYPE] = 'DocType';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DOCTYPEREADVERSION] = 'DocTypeReadVersion';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DOCTYPEVERSION] = 'DocTypeVersion';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_DURATION] = 'Duration';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EBML] = 'EBML';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EBMLMAXIDLENGTH] = 'EBMLMaxIDLength';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EBMLMAXSIZELENGTH] = 'EBMLMaxSizeLength';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EBMLREADVERSION] = 'EBMLReadVersion';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EBMLVERSION] = 'EBMLVersion';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EDITIONENTRY] = 'EditionEntry';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EDITIONFLAGDEFAULT] = 'EditionFlagDefault';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EDITIONFLAGHIDDEN] = 'EditionFlagHidden';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EDITIONFLAGORDERED] = 'EditionFlagOrdered';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_EDITIONUID] = 'EditionUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FILEDATA] = 'FileData';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FILEDESCRIPTION] = 'FileDescription';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FILEMIMETYPE] = 'FileMimeType';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FILENAME] = 'FileName';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FILEREFERRAL] = 'FileReferral';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FILEUID] = 'FileUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FLAGDEFAULT] = 'FlagDefault';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FLAGENABLED] = 'FlagEnabled';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FLAGFORCED] = 'FlagForced';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FLAGINTERLACED] = 'FlagInterlaced';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_FLAGLACING] = 'FlagLacing';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_GAMMAVALUE] = 'GammaValue';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_INFO] = 'Info';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_LANGUAGE] = 'Language';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_MAXBLOCKADDITIONID] = 'MaxBlockAdditionID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_MAXCACHE] = 'MaxCache';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_MINCACHE] = 'MinCache';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_MUXINGAPP] = 'MuxingApp';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_NAME] = 'Name';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_NEXTFILENAME] = 'NextFilename';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_NEXTUID] = 'NextUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_OUTPUTSAMPLINGFREQUENCY] = 'OutputSamplingFrequency';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PIXELCROPBOTTOM] = 'PixelCropBottom';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PIXELCROPLEFT] = 'PixelCropLeft';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PIXELCROPRIGHT] = 'PixelCropRight';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PIXELCROPTOP] = 'PixelCropTop';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PIXELHEIGHT] = 'PixelHeight';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PIXELWIDTH] = 'PixelWidth';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PREVFILENAME] = 'PrevFilename';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_PREVUID] = 'PrevUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SAMPLINGFREQUENCY] = 'SamplingFrequency';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEEK] = 'Seek';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEEKHEAD] = 'SeekHead';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEEKID] = 'SeekID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEEKPOSITION] = 'SeekPosition';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEGMENT] = 'Segment';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEGMENTFAMILY] = 'SegmentFamily';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEGMENTFILENAME] = 'SegmentFilename';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SEGMENTUID] = 'SegmentUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_SIMPLETAG] = 'SimpleTag';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_CLUSTERSLICES] = 'ClusterSlices';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_STEREOMODE] = 'StereoMode';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_OLDSTEREOMODE] = 'OldStereoMode';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAG] = 'Tag';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGATTACHMENTUID] = 'TagAttachmentUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGBINARY] = 'TagBinary';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGCHAPTERUID] = 'TagChapterUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGDEFAULT] = 'TagDefault';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGEDITIONUID] = 'TagEditionUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGLANGUAGE] = 'TagLanguage';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGNAME] = 'TagName';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGTRACKUID] = 'TagTrackUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGS] = 'Tags';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TAGSTRING] = 'TagString';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TARGETS] = 'Targets';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TARGETTYPE] = 'TargetType';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TARGETTYPEVALUE] = 'TargetTypeValue';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TIMECODESCALE] = 'TimecodeScale';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TITLE] = 'Title';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKENTRY] = 'TrackEntry';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKNUMBER] = 'TrackNumber';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKOFFSET] = 'TrackOffset';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKOVERLAY] = 'TrackOverlay';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKS] = 'Tracks';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKTIMECODESCALE] = 'TrackTimecodeScale';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKTRANSLATE] = 'TrackTranslate';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKTRANSLATECODEC] = 'TrackTranslateCodec';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKTRANSLATEEDITIONUID] = 'TrackTranslateEditionUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKTRANSLATETRACKID] = 'TrackTranslateTrackID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKTYPE] = 'TrackType';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_TRACKUID] = 'TrackUID';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_VIDEO] = 'Video';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_VOID] = 'Void';&nbsp;</div></li><li><div>            $EBMLidList[EBML_ID_WRITINGAPP] = 'WritingApp';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return (isset($EBMLidList[$value]) ? $EBMLidList[$value] : dechex($value));&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function displayUnit($value) {&nbsp;</div></li><li><div>        // http://www.matroska.org/technical/specs/index.html#DisplayUnit&nbsp;</div></li><li><div>        static $units = array(&nbsp;</div></li><li><div>            0 =&gt; 'pixels', &nbsp;</div></li><li><div>            1 =&gt; 'centimeters', &nbsp;</div></li><li><div>            2 =&gt; 'inches', &nbsp;</div></li><li><div>            3 =&gt; 'Display Aspect Ratio');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return (isset($units[$value]) ? $units[$value] : 'unknown');&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private static function getDefaultStreamInfo($streams)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        foreach (array_reverse($streams) as $stream) {&nbsp;</div></li><li><div>            if ($stream['default']) {&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $unset = array('default', 'name');&nbsp;</div></li><li><div>        foreach ($unset as $u) {&nbsp;</div></li><li><div>            if (isset($stream[$u])) {&nbsp;</div></li><li><div>                unset($stream[$u]);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $info = $stream;&nbsp;</div></li><li><div>        $info['streams'] = $streams;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $info;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 4.7</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/4.7.4/classes/getid3_matroska/" class="active">4.7.4</a></li><li><a href="http://hookr.io/4.7.3/classes/getid3_matroska/" class="">4.7.3</a></li><li><a href="http://hookr.io/4.7.2/classes/getid3_matroska/" class="">4.7.2</a></li><li><a href="http://hookr.io/4.7.1/classes/getid3_matroska/" class="">4.7.1</a></li><li><a href="http://hookr.io/4.7/classes/getid3_matroska/" class="">4.7</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>class</li><li><span></span>getid3_matroska</li><li><span></span>wp-include</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>