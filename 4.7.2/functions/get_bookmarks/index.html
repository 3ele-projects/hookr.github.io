<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr function lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr function lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr function lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr function ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr function gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr function" data-site="wordpress" data-version="4.7.2" data-type="function" data-id="1414"><head xmlns="http://www.w3.org/1999/xhtml"><title> get_bookmarks | function | WordPress | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="get_bookmarks, function, wordpress, 4.7.2" /><meta name="description" content="Retrieves the list of bookmarks" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.11"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=5527b00927372876b262e05377724509' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.11' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/functions/get_bookmarks/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffunctions%2Fget_bookmarks%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffunctions%2Fget_bookmarks%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"wordpress-4.7.2-function-get_bookmarks","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="get_bookmarks" class="single single-function single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.7.2." href="http://hookr.io/4.7.2/" class="H_VERSION"><span property="name">4.7.2</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to functions." href="http://hookr.io/4.7.2/functions/" class=""><span property="name">functions</span></a><meta property="position" content="3"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">get_bookmarks</span><meta property="position" content="4"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="function"><ul role="navigation"><li class="" data-id="all" data-count="6308"><a href="http://hookr.io/4.7.2/all/" title="All">All <span class="count badge">6308</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/4.7.2/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="2531"><a href="http://hookr.io/4.7.2/hooks/" title="Hooks">Hooks <span class="count badge">2531</span></a></li><li class="" data-id="action" data-count="864"><a href="http://hookr.io/4.7.2/actions/" title="Actions">Actions <span class="count badge">864</span></a></li><li class="" data-id="filter" data-count="1667"><a href="http://hookr.io/4.7.2/filters/" title="Filters">Filters <span class="count badge">1667</span></a></li><li class="" data-id="class" data-count="351"><a href="http://hookr.io/4.7.2/classes/" title="Classes">Classes <span class="count badge">351</span></a></li><li class="" data-id="constant" data-count="566"><a href="http://hookr.io/4.7.2/constants/" title="Constants">Constants <span class="count badge">566</span></a></li><li class="active" data-id="function" data-count="2852"><a href="http://hookr.io/4.7.2/functions/" title="Functions">Functions <span class="count badge">2852</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/4.7.2/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class="active"><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>get_bookmarks</strong></h1><p>Retrieves the list of bookmarks.</p> </section> <section id="description"><h2>Description</h2><pre><div><em>(array)</em> get_bookmarks( <span class="param">(string)</span> <a href="#" class="param" data-type="(string) " data-desc="String or array of arguments<br />to retrieve bookmarks." data-depr="" data-opt="1" title="String or array of arguments<br />to retrieve bookmarks.">$args = ''</a> );&nbsp;</div></pre><p>Attempts to retrieve from the cache first based on MD5 hash of arguments. If that fails, then the query will be built from the arguments and executed. The results will be stored to the cache.</p> </section> <section id="returns"><h2>Returns <span class="count">(array)</span></h2><p>List of bookmark row objects.</p> </section> <section id="params"><h2>Parameters <span class="count">(1)</span></h2><dl><dt> <span class="index">0.</span> <span class="param"> $args </span> &mdash; Optional. <span class="type">(string)</span> => <code>''</code></dt><dd> String or array of arguments to retrieve bookmarks.<div id="struct-args" class="struct"><h3>Options</h3><ul><li><a href="#args-list" class="list" title="View List"><span>List</span></a></li><li><a href="#args-code" class="code" title="View Code"><span>Code</span></a></li><li><a href="#args-close" class="close" title="Close Options"><span>Close</span></a></li></ul><div id="args-list"><ul><li> <span class="key">orderby</span> <span class="type">(string)</span> => <code class="default"> 'name' </code><div><p>How to order the links by. Accepts post fields.</p></div></li><li> <span class="key">order</span> <span class="type">(string)</span> => <code class="default"> 'ASC' </code><div><p>Whether to order bookmarks in ascending or descending order. Accepts ASC  (ascending) or DESC (descending).</p></div></li><li> <span class="key">limit</span> <span class="type">(int)</span> => <code class="default"> -1 </code><div><p>Amount of bookmarks to display. Accepts 1+ or -1 for all.</p></div></li><li> <span class="key">category</span> <span class="type">(string)</span> => <code class="default"> '' </code><div><p>Comma-separated list of category ids to include links from.</p></div></li><li> <span class="key">category_name</span> <span class="type">(string)</span> => <code class="default"> '' </code><div><p>Category to retrieve links for by name.</p></div></li><li> <span class="key">hide_invisible</span> <span class="type">(int|bool)</span> => <code class="default"> 1 </code><div><p>Whether to show or hide links marked as invisible.. Accepts 1|true or 0|false.</p></div></li><li> <span class="key">show_updated</span> <span class="type">(int|bool)</span> => <code class="default"> 0 </code><div><p>Whether to display the time the bookmark was last updated. Accepts 1|true or 0|false.</p></div></li><li> <span class="key">include</span> <span class="type">(string)</span> => <code class="default"> '' </code><div><p>Comma-separated list of bookmark IDs to include.</p></div></li></ul></div><div id="args-code"><pre>
array(

    <span class="comment">/**
     * <span>How to order the links by. Accepts post fields.</span>
     *
     * @type string
     * @default <strong>'name'</strong>
     */</span>
    '<strong class="key">orderby</strong>' => <span class="val">'name'</span>,

    <span class="comment">/**
     * <span>Whether to order bookmarks in ascending or descending order. Accepts <strong>'ASC'</strong> (ascending) or</span>
     * <span><strong>'DESC'</strong> (descending).</span>
     *
     * @type string
     * @default <strong>'ASC'</strong>
     */</span>
    '<strong class="key">order</strong>' => <span class="val">'ASC'</span>,

    <span class="comment">/**
     * <span>Amount of bookmarks to display. Accepts 1+ or -1 for all.</span>
     *
     * @type int
     * @default -1
     */</span>
    '<strong class="key">limit</strong>' => <span class="val">-1</span>,

    <span class="comment">/**
     * <span>Comma-separated list of category ids to include links from.</span>
     *
     * @type string
     * @default ''
     */</span>
    '<strong class="key">category</strong>' => <span class="val">''</span>,

    <span class="comment">/**
     * <span>Category to retrieve links for by name.</span>
     *
     * @type string
     * @default ''
     */</span>
    '<strong class="key">category_name</strong>' => <span class="val">''</span>,

    <span class="comment">/**
     * <span>Whether to show or hide links marked as <strong>'invisible'</strong>. Accepts 1|true or 0|false.</span>
     *
     * @type int|bool
     * @default 1
     */</span>
    '<strong class="key">hide_invisible</strong>' => <span class="val">1</span>,

    <span class="comment">/**
     * <span>Whether to display the time the bookmark was last updated. Accepts 1|true or 0|false.</span>
     *
     * @type int|bool
     */</span>
    '<strong class="key">show_updated</strong>' => <span class="val">0</span>,

    <span class="comment">/**
     * <span>Comma-separated list of bookmark IDs to include.</span>
     *
     * @type string
     * @default ''
     */</span>
    '<strong class="key">include</strong>' => <span class="val">''</span>
);        </pre></div><div id="args-close"><p class="hellip">&hellip;</p></div></div><script>;(function($)
{$('#struct-args').tabs({active:$.cookie('structtab')||0,activate:function(event,ui){$.cookie('structtab',ui.newTab.index(),{path:'/',expires:10});}});})(window.jQuery);</script></dd></dl> </section><hr /> <section id="usage"><h2>Usage</h2><pre><ol><li><div>if ( !function_exists( '<span class="func">get_bookmarks</span>' ) ) {&nbsp;</div></li><li><div>    require_once ABSPATH . WPINC . '/bookmark.php';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// Optional. String or array of arguments to retrieve bookmarks.</span>&nbsp;</div></li><li><div><span class="param">$args</span> = array(&nbsp;</div></li><li><div>    'orderby' => 'name',&nbsp;</div></li><li><div>    'order' => 'ASC',&nbsp;</div></li><li><div>    'limit' => -1,&nbsp;</div></li><li><div>    'category' => '',&nbsp;</div></li><li><div>    'category_name' => '',&nbsp;</div></li><li><div>    'hide_invisible' => 1,&nbsp;</div></li><li><div>    'show_updated' => 0,&nbsp;</div></li><li><div>    'include' => ''&nbsp;</div></li><li><div>);&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// NOTICE! Understand what this does before running.</span>&nbsp;</div></li><li><div><span class="param">$result</span> = <span class="func">get_bookmarks</span>(<span class="param">$args</span>);&nbsp;</div></li><li><div>   &nbsp;</div></li></ol></pre></section><hr /> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The function is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/4.7.2/files/wp-includes-bookmark/" class="file">/wp-includes/bookmark.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="26" class="block" start="118"><li><div>function get_bookmarks( $args = '' ) {&nbsp;</div></li><li><div>    global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $defaults = array(&nbsp;</div></li><li><div>        'orderby' =&gt; 'name', 'order' =&gt; 'ASC', &nbsp;</div></li><li><div>        'limit' =&gt; -1, 'category' =&gt; '', &nbsp;</div></li><li><div>        'category_name' =&gt; '', 'hide_invisible' =&gt; 1, &nbsp;</div></li><li><div>        'show_updated' =&gt; 0, 'include' =&gt; '', &nbsp;</div></li><li><div>        'exclude' =&gt; '', 'search' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $r = <a href="http://hookr.io/4.7.2/functions/wp_parse_args/" data-id="1435869" title="wp_parse_args" class="function">wp_parse_args</a>( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $key = md5( serialize( $r ) );&nbsp;</div></li><li><div>    $cache = false;&nbsp;</div></li><li><div>    if ( 'rand' !== $r['orderby'] && $cache = <a href="http://hookr.io/4.7.2/functions/wp_cache_get/" data-id="1433355" title="wp_cache_get" class="function">wp_cache_get</a>( 'get_bookmarks', 'bookmark' ) ) {&nbsp;</div></li><li><div>        if ( is_array( $cache ) && isset( $cache[ $key ] ) ) {&nbsp;</div></li><li><div>            $bookmarks = $cache[ $key ];&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * Filters the returned list of bookmarks.&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * The first time the hook is evaluated in this file, it returns the cached&nbsp;</div></li><li><div>             * bookmarks list. The second evaluation returns a cached bookmarks list if the&nbsp;</div></li><li><div>             * link category is passed but does not exist. The third evaluation returns&nbsp;</div></li><li><div>             * the full cached results.&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @since 2.1.0&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @see get_bookmarks()&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @param array $bookmarks List of the cached bookmarks.&nbsp;</div></li><li><div>             * @param array $r         An array of bookmark query arguments.&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            return <a href="http://hookr.io/4.7.2/functions/apply_filters/" data-id="1436899" title="apply_filters" class="function">apply_filters</a>( <a href="http://hookr.io/4.7.2/filters/get_bookmarks/" data-id="1433342" title="get_bookmarks" class="filter">'get_bookmarks'</a>, $bookmarks, $r );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( ! is_array( $cache ) ) {&nbsp;</div></li><li><div>        $cache = array();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $inclusions = '';&nbsp;</div></li><li><div>    if ( ! empty( $r['include'] ) ) {&nbsp;</div></li><li><div>        $r['exclude'] = '';  //ignore exclude, category, and category_name params if using include&nbsp;</div></li><li><div>        $r['category'] = '';&nbsp;</div></li><li><div>        $r['category_name'] = '';&nbsp;</div></li><li><div>        $inclinks = preg_split( '/[\s, ]+/', $r['include'] );&nbsp;</div></li><li><div>        if ( count( $inclinks ) ) {&nbsp;</div></li><li><div>            foreach ( $inclinks as $inclink ) {&nbsp;</div></li><li><div>                if ( empty( $inclusions ) ) {&nbsp;</div></li><li><div>                    $inclusions = ' AND ( link_id = ' . intval( $inclink ) . ' ';&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $inclusions .= ' OR link_id = ' . intval( $inclink ) . ' ';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (! empty( $inclusions ) ) {&nbsp;</div></li><li><div>        $inclusions .= ')';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $exclusions = '';&nbsp;</div></li><li><div>    if ( ! empty( $r['exclude'] ) ) {&nbsp;</div></li><li><div>        $exlinks = preg_split( '/[\s, ]+/', $r['exclude'] );&nbsp;</div></li><li><div>        if ( count( $exlinks ) ) {&nbsp;</div></li><li><div>            foreach ( $exlinks as $exlink ) {&nbsp;</div></li><li><div>                if ( empty( $exclusions ) ) {&nbsp;</div></li><li><div>                    $exclusions = ' AND ( link_id &lt;&gt; ' . intval( $exlink ) . ' ';&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $exclusions .= ' AND link_id &lt;&gt; ' . intval( $exlink ) . ' ';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if ( ! empty( $exclusions ) ) {&nbsp;</div></li><li><div>        $exclusions .= ')';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( ! empty( $r['category_name'] ) ) {&nbsp;</div></li><li><div>        if ( $r['category'] = <a href="http://hookr.io/4.7.2/functions/get_term_by/" data-id="1438402" title="get_term_by" class="function">get_term_by</a>('name', $r['category_name'], 'link_category') ) {&nbsp;</div></li><li><div>            $r['category'] = $r['category']-&gt;term_id;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $cache[ $key ] = array();&nbsp;</div></li><li><div>            <a href="http://hookr.io/4.7.2/functions/wp_cache_set/" data-id="1433361" title="wp_cache_set" class="function">wp_cache_set</a>( 'get_bookmarks', $cache, 'bookmark' );&nbsp;</div></li><li><div>            /** This filter is documented in wp-includes/bookmark.php */&nbsp;</div></li><li><div>            return <a href="http://hookr.io/4.7.2/functions/apply_filters/" data-id="1436899" title="apply_filters" class="function">apply_filters</a>( <a href="http://hookr.io/4.7.2/filters/get_bookmarks/" data-id="1433342" title="get_bookmarks" class="filter">'get_bookmarks'</a>, array(), $r );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $search = '';&nbsp;</div></li><li><div>    if ( ! empty( $r['search'] ) ) {&nbsp;</div></li><li><div>        $like = '%' . $wpdb-&gt;esc_like( $r['search'] ) . '%';&nbsp;</div></li><li><div>        $search = $wpdb-&gt;prepare(&quot; AND ( (link_url LIKE %s) OR (link_name LIKE %s) OR (link_description LIKE %s) ) &quot;, $like, $like, $like );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $category_query = '';&nbsp;</div></li><li><div>    $join = '';&nbsp;</div></li><li><div>    if ( ! empty( $r['category'] ) ) {&nbsp;</div></li><li><div>        $incategories = preg_split( '/[\s, ]+/', $r['category'] );&nbsp;</div></li><li><div>        if ( count($incategories) ) {&nbsp;</div></li><li><div>            foreach ( $incategories as $incat ) {&nbsp;</div></li><li><div>                if ( empty( $category_query ) ) {&nbsp;</div></li><li><div>                    $category_query = ' AND ( tt.term_id = ' . intval( $incat ) . ' ';&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $category_query .= ' OR tt.term_id = ' . intval( $incat ) . ' ';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if ( ! empty( $category_query ) ) {&nbsp;</div></li><li><div>        $category_query .= &quot;) AND taxonomy = 'link_category'&quot;;&nbsp;</div></li><li><div>        $join = &quot; INNER JOIN $wpdb-&gt;term_relationships AS tr ON ($wpdb-&gt;links.link_id = tr.object_id) INNER JOIN $wpdb-&gt;term_taxonomy as tt ON tt.term_taxonomy_id = tr.term_taxonomy_id&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( $r['show_updated'] ) {&nbsp;</div></li><li><div>        $recently_updated_test = &quot;, IF (DATE_ADD(link_updated, INTERVAL 120 MINUTE) &gt;= NOW(), 1, 0) as recently_updated &quot;;&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>        $recently_updated_test = '';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $get_updated = ( $r['show_updated'] ) ? ', UNIX_TIMESTAMP(link_updated) AS link_updated_f ' : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $orderby = strtolower( $r['orderby'] );&nbsp;</div></li><li><div>    $length = '';&nbsp;</div></li><li><div>    switch ( $orderby ) {&nbsp;</div></li><li><div>        case 'length':&nbsp;</div></li><li><div>            $length = &quot;, CHAR_LENGTH(link_name) AS length&quot;;&nbsp;</div></li><li><div>            break;&nbsp;</div></li><li><div>        case 'rand':&nbsp;</div></li><li><div>            $orderby = 'rand()';&nbsp;</div></li><li><div>            break;&nbsp;</div></li><li><div>        case 'link_id':&nbsp;</div></li><li><div>            $orderby = &quot;$wpdb-&gt;links.link_id&quot;;&nbsp;</div></li><li><div>            break;&nbsp;</div></li><li><div>        default:&nbsp;</div></li><li><div>            $orderparams = array();&nbsp;</div></li><li><div>            $keys = array( 'link_id', 'link_name', 'link_url', 'link_visible', 'link_rating', 'link_owner', 'link_updated', 'link_notes', 'link_description' );&nbsp;</div></li><li><div>            foreach ( explode( ', ', $orderby ) as $ordparam ) {&nbsp;</div></li><li><div>                $ordparam = trim( $ordparam );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( in_array( 'link_' . $ordparam, $keys ) ) {&nbsp;</div></li><li><div>                    $orderparams[] = 'link_' . $ordparam;&nbsp;</div></li><li><div>                } elseif ( in_array( $ordparam, $keys ) ) {&nbsp;</div></li><li><div>                    $orderparams[] = $ordparam;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $orderby = implode( ', ', $orderparams );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( empty( $orderby ) ) {&nbsp;</div></li><li><div>        $orderby = 'link_name';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $order = strtoupper( $r['order'] );&nbsp;</div></li><li><div>    if ( '' !== $order && ! in_array( $order, array( 'ASC', 'DESC' ) ) ) {&nbsp;</div></li><li><div>        $order = 'ASC';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $visible = '';&nbsp;</div></li><li><div>    if ( $r['hide_invisible'] ) {&nbsp;</div></li><li><div>        $visible = &quot;AND link_visible = 'Y'&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $query = &quot;SELECT * $length $recently_updated_test $get_updated FROM $wpdb-&gt;links $join WHERE 1=1 $visible $category_query&quot;;&nbsp;</div></li><li><div>    $query .= &quot; $exclusions $inclusions $search&quot;;&nbsp;</div></li><li><div>    $query .= &quot; ORDER BY $orderby $order&quot;;&nbsp;</div></li><li><div>    if ( $r['limit'] != -1 ) {&nbsp;</div></li><li><div>        $query .= ' LIMIT ' . $r['limit'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $results = $wpdb-&gt;get_results( $query );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ( 'rand()' !== $orderby ) {&nbsp;</div></li><li><div>        $cache[ $key ] = $results;&nbsp;</div></li><li><div>        <a href="http://hookr.io/4.7.2/functions/wp_cache_set/" data-id="1433361" title="wp_cache_set" class="function">wp_cache_set</a>( 'get_bookmarks', $cache, 'bookmark' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /** This filter is documented in wp-includes/bookmark.php */&nbsp;</div></li><li><div>    return <a href="http://hookr.io/4.7.2/functions/apply_filters/" data-id="1436899" title="apply_filters" class="function">apply_filters</a>( <a href="http://hookr.io/4.7.2/filters/get_bookmarks/" data-id="1433342" title="get_bookmarks" class="filter">'get_bookmarks'</a>, $results, $r );&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.1.0</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/4.7.4/functions/get_bookmarks/" class="">4.7.4</a></li><li><a href="http://hookr.io/4.7.3/functions/get_bookmarks/" class="">4.7.3</a></li><li><a href="http://hookr.io/4.7.2/functions/get_bookmarks/" class="active">4.7.2</a></li><li><a href="http://hookr.io/4.7.1/functions/get_bookmarks/" class="">4.7.1</a></li><li><a href="http://hookr.io/4.7/functions/get_bookmarks/" class="">4.7</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>wordpress</li><li><span></span>function</li><li><span></span>get_bookmarks</li><li><span></span>wp-include</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>