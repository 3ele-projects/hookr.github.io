<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="theme" data-version="3.7.2" data-slug="evolve" data-type="file" data-id="98458"><head xmlns="http://www.w3.org/1999/xhtml"><title> library-functions-basic-functions | file | Evolve | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, theme, evolve, 3.7.2" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=5eb2436595eed2043d6fcf6db7f3c400' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/library-functions-basic-functions/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Flibrary-functions-basic-functions%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Flibrary-functions-basic-functions%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"theme-evolve-3.7.2-file-library-functions-basic-functions","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="library-functions-basic-functions" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to themes." href="http://hookr.io/themes/" class=""><span property="name">themes</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to evolve." href="http://hookr.io/themes/evolve/" class="plugin"><span property="name">evolve</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.7.2." href="http://hookr.io/themes/evolve/3.7.2/" class="H_VERSION"><span property="name">3.7.2</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/themes/evolve/3.7.2/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">library-functions-basic-funct&hellip;</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="742"><a href="http://hookr.io/themes/evolve/3.7.2/all/" title="All">All <span class="count badge">742</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/themes/evolve/3.7.2/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="473"><a href="http://hookr.io/themes/evolve/3.7.2/hooks/" title="Hooks">Hooks <span class="count badge">473</span></a></li><li class="" data-id="action" data-count="274"><a href="http://hookr.io/themes/evolve/3.7.2/actions/" title="Actions">Actions <span class="count badge">274</span></a></li><li class="" data-id="filter" data-count="199"><a href="http://hookr.io/themes/evolve/3.7.2/filters/" title="Filters">Filters <span class="count badge">199</span></a></li><li class="" data-id="class" data-count="123"><a href="http://hookr.io/themes/evolve/3.7.2/classes/" title="Classes">Classes <span class="count badge">123</span></a></li><li class="" data-id="constant" data-count="17"><a href="http://hookr.io/themes/evolve/3.7.2/constants/" title="Constants">Constants <span class="count badge">17</span></a></li><li class="" data-id="function" data-count="129"><a href="http://hookr.io/themes/evolve/3.7.2/functions/" title="Functions">Functions <span class="count badge">129</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/themes/evolve/3.7.2/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class="active"><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/library/functions/basic-functions.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/** Theme Setup Functions */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_after_setup() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  add_theme_support('automatic-feed-links');&nbsp;</div></li><li><div>  add_theme_support('post-thumbnails');&nbsp;</div></li><li><div>  add_theme_support('title-tag');&nbsp;</div></li><li><div>  add_image_size('post-thumbnail', 680, 330, true);&nbsp;</div></li><li><div>  add_image_size('slider-thumbnail', 400, 280, true);&nbsp;</div></li><li><div>  add_image_size('tabs-img', 50, 50, true);&nbsp;</div></li><li><div>  add_editor_style('editor-style.css');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (version_compare($GLOBALS['wp_version'], '4.1', '&lt;')) :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Filters wp_title to print a neat &lt;title&gt; tag based on what is being viewed.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $title Default title text for current view.</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $sep   Optional separator.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @return string The filtered title.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function evolve_wp_title($title, $sep) {&nbsp;</div></li><li><div>          if (is_feed()) {&nbsp;</div></li><li><div>              return $title;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          global $page, $paged;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Add the blog name</span>&nbsp;</div></li><li><div>          $title .= get_bloginfo('name', 'display');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Add the blog description for the home/front page.</span>&nbsp;</div></li><li><div>          $site_description = get_bloginfo('description', 'display');&nbsp;</div></li><li><div>          if ($site_description && ( is_home() || is_front_page() )) {&nbsp;</div></li><li><div>              $title .= &quot; $sep $site_description&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Add a page number if necessary:</span>&nbsp;</div></li><li><div>          if (( $paged &gt;= 2 || $page &gt;= 2 ) && !is_404()) {&nbsp;</div></li><li><div>              $title .= &quot; $sep &quot; . sprintf(__('Page %s', 'evolve'), max($paged, $page));&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $title;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      add_filter('wp_title', 'evolve_wp_title', 10, 2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Title shim for sites older than WordPress 4.1.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @link https://make.wordpress.org/core/2014/10/29/title-tags-in-4-1/</span>&nbsp;</div></li><li><div><span class="comment">       * @todo Remove this function when WordPress 4.3 is released.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function evolve_render_title() {&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>          &lt;title&gt;&lt;?php wp_title('-', true, 'right'); ?&gt;&lt;/title&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      add_action('wp_head', 'evolve_render_title');&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_width_px = evolve_get_option('evl_width_px', '1200');&nbsp;</div></li><li><div>  $evolve_width_px = apply_filters('evolve_header_image_width', $evolve_width_px);&nbsp;</div></li><li><div><span class="comment">//define( 'HEADER_IMAGE_WIDTH', apply_filters( 'evolve_header_image_width', $evolve_width_px ) );</span>&nbsp;</div></li><li><div><span class="comment">//define( 'HEADER_IMAGE_HEIGHT', apply_filters( 'evolve_header_image_height', 170 ) );</span>&nbsp;</div></li><li><div><span class="comment">//define( 'HEADER_TEXTCOLOR', '' );</span>&nbsp;</div></li><li><div><span class="comment">//define( 'NO_HEADER_TEXT', true );</span>&nbsp;</div></li><li><div><span class="comment">//mod by denzel, allow flexible width and flexible height.</span>&nbsp;</div></li><li><div>  $args = array(&nbsp;</div></li><li><div>      'flex-width' =&gt; true, &nbsp;</div></li><li><div>      'width' =&gt; $evolve_width_px, &nbsp;</div></li><li><div>      'flex-height' =&gt; true, &nbsp;</div></li><li><div>      'height' =&gt; 200, &nbsp;</div></li><li><div>      'header-text' =&gt; false, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  add_theme_support('custom-header', $args);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_width_layout = evolve_get_option('evl_width_layout', 'fixed');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($evolve_width_layout == &quot;fixed&quot;) {&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'default-color' =&gt; 'e5e5e5', &nbsp;</div></li><li><div>          'default-image' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      add_theme_support('custom-background', $defaults);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  add_theme_support('post-formats', array(&nbsp;</div></li><li><div>      'aside', &nbsp;</div></li><li><div>      'audio', &nbsp;</div></li><li><div>      'chat', &nbsp;</div></li><li><div>      'gallery', &nbsp;</div></li><li><div>      'image', &nbsp;</div></li><li><div>      'link', &nbsp;</div></li><li><div>      'quote', &nbsp;</div></li><li><div>      'status', &nbsp;</div></li><li><div>      'video'&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  load_theme_textdomain('evolve', get_template_directory() . '/languages');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  register_nav_menu('primary-menu', __('Primary Menu', 'evolve'));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_layout = evolve_get_option('evl_layout', '2cr');&nbsp;</div></li><li><div>  $evolve_width_layout = evolve_get_option('evl_width_layout', 'fixed');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  global $content_width;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($evolve_layout == &quot;2cl&quot; || $evolve_layout == &quot;2cr&quot;) {&nbsp;</div></li><li><div>      if (!isset($content_width)) {&nbsp;</div></li><li><div>          $content_width = 610;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  if (( $evolve_layout == &quot;3cl&quot; || $evolve_layout == &quot;3cr&quot; ) ||&nbsp;</div></li><li><div>          ( $evolve_layout == &quot;3cm&quot; )&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>      if (!isset($content_width)) {&nbsp;</div></li><li><div>          $content_width = 506;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  if ($evolve_layout == &quot;1c&quot;) {&nbsp;</div></li><li><div>      if (!isset($content_width)) {&nbsp;</div></li><li><div>          $content_width = 955;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action('after_setup_theme', 'evolve_after_setup');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * bbPress Integration</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.1.5</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>load_theme_textdomain('evolve', get_template_directory() . '/languages');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Functions - Evolve gatekeeper</span>&nbsp;</div></li><li><div><span class="comment"> * This file defines a few constants variables, loads up the core Evolve file, </span>&nbsp;</div></li><li><div><span class="comment"> * and finally initialises the main WP Evolve Class.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @package    EvoLve</span>&nbsp;</div></li><li><div><span class="comment"> * @subpackage Functions</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div><span class="comment">/** Blast you red baron! Initialise WP Evolve */</span>&nbsp;</div></li><li><div>get_template_part('library/evolve');&nbsp;</div></li><li><div>WPevolve::init();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>get_template_part('library/functions/tabs-widget');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** evolve_truncate */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_truncate($str, $length = 10, $trailing = '..') {&nbsp;</div></li><li><div>  $length -= mb_strlen($trailing);&nbsp;</div></li><li><div>  if (mb_strlen($str) &gt; $length) {&nbsp;</div></li><li><div>      return mb_substr($str, 0, $length) . $trailing;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $res = $str;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $res;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** evolve_excerpt_max_charlength */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_excerpt_max_charlength($num) {&nbsp;</div></li><li><div>  $limit = $num + 1;&nbsp;</div></li><li><div>  $excerpt = explode(' ', get_the_excerpt(), $limit);&nbsp;</div></li><li><div>  array_pop($excerpt);&nbsp;</div></li><li><div>  $excerpt = implode(&quot; &quot;, $excerpt) . &quot; [...]&quot;;&nbsp;</div></li><li><div>  echo $excerpt;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Get first image */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_get_first_image() {&nbsp;</div></li><li><div>  global $post, $posts;&nbsp;</div></li><li><div>  $first_img = '';&nbsp;</div></li><li><div>  $output = preg_match_all('/&lt;img.+src=[\'&quot;]([^\'&quot;]+)[\'&quot;].*&gt;/i', $post-&gt;post_content, $matches);&nbsp;</div></li><li><div>  if (isset($matches[1][0])) {&nbsp;</div></li><li><div>      $first_img = $matches [1][0];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $first_img;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Tiny URL</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_tinyurl($url) {&nbsp;</div></li><li><div>  $response = esc_url(wp_remote_retrieve_body(wp_remote_get('http:<span class="comment">//tinyurl.com/api-create.php?url=' . $url)));</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $response;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Similar Posts</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_similar_posts() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $post = '';&nbsp;</div></li><li><div>  $orig_post = $post;&nbsp;</div></li><li><div>  global $post;&nbsp;</div></li><li><div>  $evolve_similar_posts = evolve_get_option('evl_similar_posts', 'disable');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($evolve_similar_posts == &quot;category&quot;) {&nbsp;</div></li><li><div>      $matchby = get_the_category($post-&gt;ID);&nbsp;</div></li><li><div>      $matchin = 'category';&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $matchby = wp_get_post_tags($post-&gt;ID);&nbsp;</div></li><li><div>      $matchin = 'tag';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($matchby) {&nbsp;</div></li><li><div>      $matchby_ids = array();&nbsp;</div></li><li><div>      foreach ($matchby as $individual_matchby) {&nbsp;</div></li><li><div>          $matchby_ids[] = $individual_matchby-&gt;term_id;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = array(&nbsp;</div></li><li><div>          $matchin . '__in' =&gt; $matchby_ids, &nbsp;</div></li><li><div>          'post__not_in' =&gt; array($post-&gt;ID), &nbsp;</div></li><li><div>          'showposts' =&gt; 5, <span class="comment">// Number of related posts that will be shown.</span>&nbsp;</div></li><li><div>          'ignore_sticky_posts' =&gt; 1&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $my_query = new wp_query($args);&nbsp;</div></li><li><div>      if ($my_query-&gt;have_posts()) {&nbsp;</div></li><li><div>          echo '&lt;div class=&quot;similar-posts&quot;&gt;&lt;h5&gt;' . __('Similar posts', 'evolve') . '&lt;/h5&gt;&lt;ul&gt;';&nbsp;</div></li><li><div>          while ($my_query-&gt;have_posts()) {&nbsp;</div></li><li><div>              $my_query-&gt;the_post();&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              &lt;li&gt;&nbsp;</div></li><li><div>                  &lt;a href=&quot;&lt;?php the_permalink() ?&gt;&quot; rel=&quot;bookmark&quot; title=&quot;&lt;?php _e('Permanent Link to', 'evolve'); ?&gt; &lt;?php the_title(); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php&nbsp;</div></li><li><div>                      if (get_the_title()) {&nbsp;</div></li><li><div>                          $title = the_title('', '', false);&nbsp;</div></li><li><div>                          $evolve_posts_excerpt_title_length = intval(evolve_get_option('evl_posts_excerpt_title_length', '40'));&nbsp;</div></li><li><div>                          echo evolve_truncate($title, $evolve_posts_excerpt_title_length, '...');&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          echo __(&quot;Untitled&quot;, &quot;evolve&quot;);&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      ?&gt;&nbsp;</div></li><li><div>                  &lt;/a&gt;&nbsp;</div></li><li><div>                  &lt;?php if (get_the_content()) { ?&gt; &mdash;&nbsp;</div></li><li><div>                      &lt;small&gt;&lt;?php echo evolve_excerpt_max_charlength(60); ?&gt;&lt;/small&gt; &lt;?php } ?&gt;&nbsp;</div></li><li><div>              &lt;/li&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo '&lt;/ul&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $post = $orig_post;&nbsp;</div></li><li><div>  wp_reset_query();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_footer_hooks() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (is_page_template('contact.php')):&nbsp;</div></li><li><div>      $status_gmap = evolve_get_option('evl_status_gmap', '1');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($status_gmap):&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_gmap_address = evolve_get_option('evl_gmap_address', 'Via dei Fori Imperiali');&nbsp;</div></li><li><div>          $evolve_gmap_type = evolve_get_option('evl_gmap_type', 'hybrid');&nbsp;</div></li><li><div>          $evolve_map_zoom_level = evolve_get_option('evl_map_zoom_level', '18');&nbsp;</div></li><li><div>          $evolve_map_scrollwheel = evolve_get_option('evl_map_scrollwheel', '0');&nbsp;</div></li><li><div>          $evolve_map_scale = evolve_get_option('evl_map_scale', '0');&nbsp;</div></li><li><div>          $evolve_map_zoomcontrol = evolve_get_option('evl_map_zoomcontrol', '0');&nbsp;</div></li><li><div>          $evolve_map_pin = evolve_get_option('evl_map_pin', '0');&nbsp;</div></li><li><div>          $evolve_map_pop = evolve_get_option('evl_map_popup', '0');&nbsp;</div></li><li><div>          $evolve_gmap_address = addslashes($evolve_gmap_address);&nbsp;</div></li><li><div>          $addresses = explode('|', $evolve_gmap_address);&nbsp;</div></li><li><div>          $markers = '';&nbsp;</div></li><li><div>          if ($evolve_map_pop == '0') {&nbsp;</div></li><li><div>              $map_popup = &quot;false&quot;;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $map_popup = &quot;true&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          foreach ($addresses as $address_string) {&nbsp;</div></li><li><div>              $markers .= &quot;{&nbsp;</div></li><li><div>          address: '{$address_string}', &nbsp;</div></li><li><div>          html: {&nbsp;</div></li><li><div>              content: '{$address_string}', &nbsp;</div></li><li><div>              popup: {$map_popup}&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }, &quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;script type='text/javascript'&gt;&nbsp;</div></li><li><div>              jQuery(document).ready(&nbsp;</div></li><li><div>                      function($) {&nbsp;</div></li><li><div>                      jQuery('#gmap').goMap(&nbsp;</div></li><li><div>                      {&nbsp;</div></li><li><div>                      address: '&lt;?php echo $addresses[0]; ?&gt;', &nbsp;</div></li><li><div>                              maptype: '&lt;?php echo $evolve_gmap_type; ?&gt;', &nbsp;</div></li><li><div>                              zoom: &lt;?php echo $evolve_map_zoom_level; ?&gt;, &nbsp;</div></li><li><div>                              scrollwheel: &lt;?php if ($evolve_map_scrollwheel): ?&gt;false&lt;?php else: ?&gt;true&lt;?php endif; ?&gt;, &nbsp;</div></li><li><div>                                                  scaleControl: &lt;?php if ($evolve_map_scale): ?&gt;false&lt;?php else: ?&gt;true&lt;?php endif; ?&gt;, &nbsp;</div></li><li><div>                                                                      navigationControl: &lt;?php if ($evolve_map_zoomcontrol): ?&gt;false&lt;?php else: ?&gt;true&lt;?php endif; ?&gt;, &nbsp;</div></li><li><div>          &lt;?php if (!$evolve_map_pin): ?&gt;markers: [&lt;?php echo $markers; ?&gt;], &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div> );&lt;/script&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>      var $jx = jQuery.noConflict();&nbsp;</div></li><li><div>      $jx(&quot;div.post&quot;).mouseover(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-post&quot;).css('visibility', 'visible');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> ).mouseout(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-post&quot;).css('visibility', 'hidden');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      $jx(&quot;div.type-page&quot;).mouseover(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-page&quot;).css('visibility', 'visible');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> ).mouseout(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-page&quot;).css('visibility', 'hidden');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      $jx(&quot;div.type-attachment&quot;).mouseover(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-post&quot;).css('visibility', 'visible');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> ).mouseout(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-post&quot;).css('visibility', 'hidden');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      $jx(&quot;li.comment&quot;).mouseover(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-comment&quot;).css('visibility', 'visible');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> ).mouseout(&nbsp;</div></li><li><div>              function() {&nbsp;</div></li><li><div>              $jx(this).find(&quot;span.edit-comment&quot;).css('visibility', 'hidden');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> );&lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  $evolve_sticky_header = evolve_get_option('evl_sticky_header', '1');&nbsp;</div></li><li><div>  $page_ID = get_queried_object_id();&nbsp;</div></li><li><div>  $evolve_slider_position = evolve_get_option('evl_slider_position', 'below');&nbsp;</div></li><li><div>  if ($evolve_sticky_header == &quot;1&quot; && get_post_meta($page_ID, 'evolve_slider_position', true) == 'above' || (get_post_meta($page_ID, 'evolve_slider_position', true) == 'default' && $evolve_slider_position == 'above') || (is_home() && $evolve_slider_position == 'above')) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>          jQuery(document).ready(&nbsp;</div></li><li><div>                  function ($) {&nbsp;</div></li><li><div>                      if (jQuery('.sticky-header').length &gt;= 1) {&nbsp;</div></li><li><div>                          jQuery(window).scroll(function () {&nbsp;</div></li><li><div>                              var header = jQuery(document).scrollTop();&nbsp;</div></li><li><div>                              var headerHeight = jQuery('.sliderblock').height() + jQuery('.new-top-menu').height() + jQuery('.menu-header').height() + jQuery('.header-pattern').height();&nbsp;</div></li><li><div>                              if (header &gt; headerHeight) {&nbsp;</div></li><li><div>                                  jQuery('.sticky-header').addClass('sticky');&nbsp;</div></li><li><div>                                  jQuery('.sticky-header').show();&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  jQuery('.sticky-header').removeClass('sticky');&nbsp;</div></li><li><div>                                  jQuery('.sticky-header').hide();&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          });&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> );&lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  } elseif ($evolve_sticky_header == &quot;1&quot;) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>          jQuery(document).ready(&nbsp;</div></li><li><div>                  function($) {&nbsp;</div></li><li><div>                  if (jQuery('.sticky-header').length &gt;= 1) {&nbsp;</div></li><li><div>                  jQuery(window).scroll(function() {&nbsp;</div></li><li><div>                  var header = jQuery(document).scrollTop();&nbsp;</div></li><li><div>                  var headerHeight = jQuery('.new-top-menu').height() + jQuery('.menu-header').height() + jQuery('.header-pattern').height();&nbsp;</div></li><li><div>                  if (header &gt; headerHeight) {&nbsp;</div></li><li><div>                  jQuery('.sticky-header').addClass('sticky');&nbsp;</div></li><li><div>                  jQuery('.sticky-header').show();&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                  jQuery('.sticky-header').removeClass('sticky');&nbsp;</div></li><li><div>                  jQuery('.sticky-header').hide();&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  });&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> );&lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_animatecss = evolve_get_option('evl_animatecss', '1');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($evolve_animatecss == &quot;1&quot;) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>          <span class="comment">/*----------------------------*/</span>&nbsp;</div></li><li><div>          /* Animated Buttons&nbsp;</div></li><li><div>           <span class="comment">/*----------------------------*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          var $animated = jQuery.noConflict();&nbsp;</div></li><li><div>          $animated('.post-more').hover(&nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).addClass('animated pulse')&nbsp;</div></li><li><div>                  }, &nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).removeClass('animated pulse')&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>          $animated('.read-more').hover(&nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).addClass('animated pulse')&nbsp;</div></li><li><div>                  }, &nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).removeClass('animated pulse')&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>          $animated('#submit').hover(&nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).addClass('animated pulse')&nbsp;</div></li><li><div>                  }, &nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).removeClass('animated pulse')&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>          $animated('input[type=&quot;submit&quot;]').hover(&nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).addClass('animated pulse')&nbsp;</div></li><li><div>                  }, &nbsp;</div></li><li><div>                  function () {&nbsp;</div></li><li><div>                      $animated(this).removeClass('animated pulse')&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_carousel_slider = evolve_get_option('evl_carousel_slider', '1');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($evolve_carousel_slider == &quot;1&quot;):&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_carousel_speed = evolve_get_option('evl_carousel_speed', '3500');&nbsp;</div></li><li><div>      if (empty($evolve_carousel_speed)): $evolve_carousel_speed = '3500';&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">/*----------------*/</span></span>&nbsp;</div></li><li><div>          /* AnythingSlider&nbsp;</div></li><li><div>           <span class="comment"><span class="comment">/*----------------*/</span></span>&nbsp;</div></li><li><div>          var $s = jQuery.noConflict();&nbsp;</div></li><li><div>          $s(&nbsp;</div></li><li><div>                  function() {&nbsp;</div></li><li><div>                  $s('#slides')&nbsp;</div></li><li><div>                          .anythingSlider({autoPlay: true, delay: &lt;?php echo $evolve_carousel_speed; ?&gt;, })&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_bootstrap_speed = evolve_get_option('evl_bootstrap_speed', '7000');&nbsp;</div></li><li><div>  if (empty($evolve_bootstrap_speed)): $evolve_bootstrap_speed = '7000';&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_parallax_slider = evolve_get_option('evl_parallax_slider_support', '1');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ($evolve_parallax_slider == &quot;1&quot;):&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_parallax_speed = evolve_get_option('evl_parallax_speed', '4000');&nbsp;</div></li><li><div>      if (empty($evolve_parallax_speed)): $evolve_parallax_speed = '4000';&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">/*----------------*/</span></span>&nbsp;</div></li><li><div>          /* Parallax Slider&nbsp;</div></li><li><div>           <span class="comment"><span class="comment">/*----------------*/</span></span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          var $par = jQuery.noConflict();&nbsp;</div></li><li><div>          $par('#da-slider').cslider(&nbsp;</div></li><li><div>                  {&nbsp;</div></li><li><div>                      autoplay: true, &nbsp;</div></li><li><div>                      bgincrement: 450, &nbsp;</div></li><li><div>                      interval: &lt;?php echo $evolve_parallax_speed; ?&gt;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div> );&lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>      <span class="comment">/*----------------------*/</span>&nbsp;</div></li><li><div>      <span class="comment">/* Bootstrap Slider</span>&nbsp;</div></li><li><div><span class="comment">       /*---------------------*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      var $carousel = jQuery.noConflict();&nbsp;</div></li><li><div>      $carousel('#myCarousel').carousel(&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  interval: 7000&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $carousel('#carousel-nav a').click(&nbsp;</div></li><li><div>              function(q) {&nbsp;</div></li><li><div>              q.preventDefault();&nbsp;</div></li><li><div>              targetSlide = $carousel(this).attr('data-to') - 1;&nbsp;</div></li><li><div>              $carousel('#myCarousel').carousel(targetSlide);&nbsp;</div></li><li><div>              $carousel(this).addClass('active').siblings().removeClass('active');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      $carousel('#bootstrap-slider').carousel(&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  interval: &lt;?php echo $evolve_bootstrap_speed; ?&gt;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $carousel('#carousel-nav a').click(&nbsp;</div></li><li><div>              function (q) {&nbsp;</div></li><li><div>                  q.preventDefault();&nbsp;</div></li><li><div>                  targetSlide = $carousel(this).attr('data-to') - 1;&nbsp;</div></li><li><div>                  $carousel('#bootstrap-slider').carousel(targetSlide);&nbsp;</div></li><li><div>                  $carousel(this).addClass('active').siblings().removeClass('active');&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  &lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_hexDarker($hex, $factor = 30) {&nbsp;</div></li><li><div>  $new_hex = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// if hex code null than assign transparent for hide PHP warning /</span>&nbsp;</div></li><li><div>  $hex = empty($hex) ? 'ransparent' : $hex;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $base['R'] = hexdec($hex{0} . $hex{1});&nbsp;</div></li><li><div>  $base['G'] = hexdec($hex{2} . $hex{3});&nbsp;</div></li><li><div>  $base['B'] = hexdec($hex{4} . $hex{5});&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ($base as $k =&gt; $v) {&nbsp;</div></li><li><div>      $amount = $v / 100;&nbsp;</div></li><li><div>      $amount = round($amount * $factor);&nbsp;</div></li><li><div>      $new_decimal = $v - $amount;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $new_hex_component = dechex($new_decimal);&nbsp;</div></li><li><div>      if (strlen($new_hex_component) &lt; 2) {&nbsp;</div></li><li><div>          $new_hex_component = &quot;0&quot; . $new_hex_component;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $new_hex .= $new_hex_component;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $new_hex;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_enqueue_comment_reply() {&nbsp;</div></li><li><div>  if (is_singular() && comments_open() && get_option('thread_comments')) {&nbsp;</div></li><li><div>      wp_enqueue_script('comment-reply');&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action('wp_enqueue_scripts', 'evolve_enqueue_comment_reply');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Share This Buttons</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_sharethis() {&nbsp;</div></li><li><div>  global $post;&nbsp;</div></li><li><div>  $image_url = wp_get_attachment_url(get_post_thumbnail_id($post-&gt;ID));&nbsp;</div></li><li><div>  if (empty($image_url)) {&nbsp;</div></li><li><div>      $image_url = get_template_directory_uri() . '/assets/images/no-thumbnail.jpg';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;share-this&quot;&gt;&nbsp;</div></li><li><div>      &lt;a rel=&quot;nofollow&quot; class=&quot;tipsytext&quot; title=&quot;&lt;?php _e('Share on Twitter', 'evolve'); ?&gt;&quot; target=&quot;_blank&quot; href=&quot;http:<span class="comment">//twitter.com/intent/tweet?status=&lt;?php the_title(); ?&gt;+&raquo;+&lt;?php echo esc_url(evolve_tinyurl(get_permalink())); ?&gt;&quot;&gt;&lt;i class=&quot;t4p-icon-social-twitter&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>      &lt;a rel=&quot;nofollow&quot; class=&quot;tipsytext&quot; title=&quot;&lt;?php _e('Share on Facebook', 'evolve'); ?&gt;&quot; target=&quot;_blank&quot; href=&quot;http:<span class="comment">//www.facebook.com/sharer/sharer.php?u=&lt;?php the_permalink(); ?&gt;&amp;t=&lt;?php the_title(); ?&gt;&quot;&gt;&lt;i class=&quot;t4p-icon-social-facebook&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>      &lt;a rel=&quot;nofollow&quot; class=&quot;tipsytext&quot; title=&quot;&lt;?php _e('Share on Google Plus', 'evolve'); ?&gt;&quot; target=&quot;_blank&quot; href=&quot;https:<span class="comment">//plus.google.com/share?url=&lt;?php the_permalink(); ?&gt;&quot;&gt;&lt;i class=&quot;t4p-icon-social-google-plus&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>      &lt;a rel=&quot;nofollow&quot; class=&quot;tipsytext&quot; title=&quot;&lt;?php _e('Share on Pinterest', 'evolve'); ?&gt;&quot; target=&quot;_blank&quot; href=&quot;http:<span class="comment">//pinterest.com/pin/create/button/?url=&lt;?php the_permalink(); ?&gt;&media=&lt;?php echo $image_url; ?&gt;&description=&lt;?php the_title(); ?&gt;&quot;&gt;&lt;i class=&quot;t4p-icon-social-pinterest&quot;&gt;&lt;/i&gt;&lt;/a&gt;            </span>&nbsp;</div></li><li><div>      &lt;a rel=&quot;nofollow&quot; class=&quot;tipsytext&quot; title=&quot;&lt;?php _e('Share by Email', 'evolve'); ?&gt;&quot; target=&quot;_blank&quot; href=&quot;http:<span class="comment">//www.addtoany.com/email?linkurl=&lt;?php the_permalink(); ?&gt;&linkname=&lt;?php the_title(); ?&gt;&quot;&gt;&lt;i class=&quot;t4p-icon-social-envelope-o&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>      &lt;a rel=&quot;nofollow&quot; class=&quot;tipsytext&quot; title=&quot;&lt;?php _e('More options', 'evolve'); ?&gt;&quot; target=&quot;_blank&quot; href=&quot;http:<span class="comment">//www.addtoany.com/share_save#url=&lt;?php the_permalink(); ?&gt;&linkname=&lt;?php the_title(); ?&gt;&quot;&gt;&lt;i class=&quot;t4p-icon-redo&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Bootstrap Slider */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function evolve_bootstrap() {&nbsp;</div></li><li><div>  global $evl_options;&nbsp;</div></li><li><div>  $wrap = false;&nbsp;</div></li><li><div>  for ($i = 1; $i &lt;= 5; $i ++) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($evl_options[&quot;evl_bootstrap_slide{$i}&quot;] == 1) {&nbsp;</div></li><li><div>          $active = &quot;&quot;;&nbsp;</div></li><li><div>          if (!$wrap) {&nbsp;</div></li><li><div>              $wrap = true;&nbsp;</div></li><li><div>              echo &quot;&lt;div id='bootstrap-slider' class='carousel slide' data-ride='carousel'&gt;&quot;;&nbsp;</div></li><li><div>              echo &quot;&lt;div class='carousel-inner'&gt;&quot;;&nbsp;</div></li><li><div>              $active = &quot; active&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo &quot;&lt;div class='item&quot; . $active . &quot;'&gt;&quot;;&nbsp;</div></li><li><div>          echo &quot;&lt;img class='img-responsive' src='&quot; . $evl_options[&quot;evl_bootstrap_slide{$i}_img&quot;]['url'] . &quot;' alt='&quot; . $evl_options[&quot;evl_bootstrap_slide{$i}_title&quot;] . &quot;' /&gt;&quot;;&nbsp;</div></li><li><div>          if (( strlen($evl_options[&quot;evl_bootstrap_slide{$i}_title&quot;]) &gt; 0 ) || ( strlen($evl_options[&quot;evl_bootstrap_slide{$i}_desc&quot;]) &gt; 0 )) {&nbsp;</div></li><li><div>              ?&gt;    &nbsp;</div></li><li><div>              &lt;div class=&quot;carousel-caption &lt;?php echo evolve_bootstrap_layout_class(); ?&gt;&quot; &gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  if (strlen($evl_options[&quot;evl_bootstrap_slide{$i}_title&quot;]) &gt; 0) {&nbsp;</div></li><li><div>                      echo &quot;&lt;h2&gt;&quot; . esc_attr($evl_options[&quot;evl_bootstrap_slide{$i}_title&quot;]) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if (strlen($evl_options[&quot;evl_bootstrap_slide{$i}_desc&quot;]) &gt; 0) {&nbsp;</div></li><li><div>                      echo &quot;&lt;p&gt;&quot; . esc_attr($evl_options[&quot;evl_bootstrap_slide{$i}_desc&quot;]) . &quot;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo do_shortcode($evl_options[&quot;evl_bootstrap_slide{$i}_button&quot;]);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($wrap) {&nbsp;</div></li><li><div>          echo &quot;&lt;/div&gt;&nbsp;</div></li><li><div>          &lt;a class='left carousel-control' href='#bootstrap-slider' data-slide='prev'&gt;&lt;/a&gt;&lt;a class='right carousel-control' href='#bootstrap-slider' data-slide='next'&gt;&lt;/a&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** Function use for add css class in Bootstrap Slider */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_bootstrap_layout_class() {&nbsp;</div></li><li><div>      $bootstrap_layout = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_bootstrap_layout = evolve_get_option('evl_bootstrap_layout', 'bootstrap_left');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($evolve_bootstrap_layout == &quot;bootstrap_right&quot;) {&nbsp;</div></li><li><div>          $bootstrap_layout = 'layout-right';&nbsp;</div></li><li><div>      } elseif ($evolve_bootstrap_layout == &quot;bootstrap_center&quot;) {&nbsp;</div></li><li><div>          $bootstrap_layout = 'layout-center';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $bootstrap_layout = 'layout-left';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $bootstrap_layout;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** Parallax Slider */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_parallax() {&nbsp;</div></li><li><div>      global $evl_options;&nbsp;</div></li><li><div>      if ($evl_options['evl_show_slide1'] == &quot;1&quot; || $evl_options['evl_show_slide2'] == &quot;1&quot; || $evl_options['evl_show_slide3'] == &quot;1&quot; || $evl_options['evl_show_slide4'] == &quot;1&quot; || $evl_options['evl_show_slide5'] == &quot;1&quot;) {&nbsp;</div></li><li><div>          echo &quot;&lt;div id='da-slider' class='da-slider'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          for ($i = 1; $i &lt;= 5; $i++) {&nbsp;</div></li><li><div>              if ($evl_options[&quot;evl_show_slide{$i}&quot;] == &quot;1&quot;) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo &quot;&lt;div class='da-slide'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo &quot;&lt;h2&gt;&quot; . esc_attr($evl_options[&quot;evl_slide{$i}_title&quot;]) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo &quot;&lt;p&gt;&quot; . esc_attr($evl_options[&quot;evl_slide{$i}_desc&quot;]) . &quot;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo do_shortcode($evl_options[&quot;evl_slide{$i}_button&quot;]);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo &quot;&lt;div class='da-img'&gt;&lt;img class='img-responsive' src='&quot; . $evl_options[&quot;evl_slide{$i}_img&quot;]['url'] . &quot;' alt='&quot; . $evl_options[&quot;evl_slide{$i}_title&quot;] . &quot;' /&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo &quot;&lt;nav class='da-arrows'&gt;&lt;span class='da-arrows-prev'&gt;&lt;/span&gt;&lt;span class='da-arrows-next'&gt;&lt;/span&gt;&lt;/nav&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** Front Page Content Boxes */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_content_boxes() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_content_boxes = evolve_get_option('evl_content_boxes', '1');&nbsp;</div></li><li><div>      $evolve_content_box1_enable = evolve_get_option('evl_content_box1_enable', '1');&nbsp;</div></li><li><div>      if ($evolve_content_box1_enable === false) {&nbsp;</div></li><li><div>          $evolve_content_box1_enable = '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $evolve_content_box2_enable = evolve_get_option('evl_content_box2_enable', '1');&nbsp;</div></li><li><div>      if ($evolve_content_box2_enable === false) {&nbsp;</div></li><li><div>          $evolve_content_box2_enable = '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $evolve_content_box3_enable = evolve_get_option('evl_content_box3_enable', '1');&nbsp;</div></li><li><div>      if ($evolve_content_box3_enable === false) {&nbsp;</div></li><li><div>          $evolve_content_box3_enable = '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $evolve_content_box4_enable = evolve_get_option('evl_content_box4_enable', '1');&nbsp;</div></li><li><div>      if ($evolve_content_box4_enable === false) {&nbsp;</div></li><li><div>          $evolve_content_box4_enable = '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ($evolve_content_boxes == &quot;1&quot;) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo &quot;&lt;div class='home-content-boxes'&gt;&lt;div class='row'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_content_box1_title = evolve_get_option('evl_content_box1_title', 'Beautifully Simple');&nbsp;</div></li><li><div>          if ($evolve_content_box1_title === false) {&nbsp;</div></li><li><div>              $evolve_content_box1_title = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box1_desc = evolve_get_option('evl_content_box1_desc', 'Clean modern theme with smooth and pixel perfect design focused on details');&nbsp;</div></li><li><div>          if ($evolve_content_box1_desc === false) {&nbsp;</div></li><li><div>              $evolve_content_box1_desc = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box1_button = evolve_get_option('evl_content_box1_button', '&lt;a class=&quot;read-more btn t4p-button&quot; href=&quot;#&quot;&gt;Learn more&lt;/a&gt;');&nbsp;</div></li><li><div>          if ($evolve_content_box1_button === false) {&nbsp;</div></li><li><div>              $evolve_content_box1_button = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box1_icon = evolve_get_option('evl_content_box1_icon', 'fa-cube');&nbsp;</div></li><li><div>          if ($evolve_content_box1_icon === false) {&nbsp;</div></li><li><div>              $evolve_content_box1_icon = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Count how many boxes are enabled on frontpage</span>&nbsp;</div></li><li><div><span class="comment">           * Apply proper responsivity class</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @since 3.1.5</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $BoxCount = 0; <span class="comment">// Box Counter</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_content_box1_enable == true) {&nbsp;</div></li><li><div>              $BoxCount ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ($evolve_content_box2_enable == true) {&nbsp;</div></li><li><div>              $BoxCount ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ($evolve_content_box3_enable == true) {&nbsp;</div></li><li><div>              $BoxCount ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ($evolve_content_box4_enable == true) {&nbsp;</div></li><li><div>              $BoxCount ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          switch ($BoxCount):&nbsp;</div></li><li><div>              case $BoxCount == 1:&nbsp;</div></li><li><div>                  $BoxClass = 'col-md-12';&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              case $BoxCount == 2:&nbsp;</div></li><li><div>                  $BoxClass = 'col-md-6';&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              case $BoxCount == 3:&nbsp;</div></li><li><div>                  $BoxClass = 'col-md-4';&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              case $BoxCount == 4:&nbsp;</div></li><li><div>                  $BoxClass = 'col-md-3';&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              default:&nbsp;</div></li><li><div>                  $BoxClass = 'col-md-3';&nbsp;</div></li><li><div>          endswitch;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_content_box1_enable == true) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='col-sm-12 $BoxClass content-box content-box-1'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;i class='fa &quot; . $evolve_content_box1_icon . &quot;'&gt;&lt;/i&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;h2&gt;&quot; . esc_attr($evolve_content_box1_title) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;p&gt;&quot; . do_shortcode($evolve_content_box1_desc) . &quot;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='cntbox_btn sbtn1'&gt;&quot; . do_shortcode($evolve_content_box1_button) . &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_content_box2_title = evolve_get_option('evl_content_box2_title', 'Easy Customizable');&nbsp;</div></li><li><div>          if ($evolve_content_box2_title === false) {&nbsp;</div></li><li><div>              $evolve_content_box2_title = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box2_desc = evolve_get_option('evl_content_box2_desc', 'Over a hundred theme options ready to make your website unique');&nbsp;</div></li><li><div>          if ($evolve_content_box2_desc === false) {&nbsp;</div></li><li><div>              $evolve_content_box2_desc = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box2_button = evolve_get_option('evl_content_box2_button', '&lt;a class=&quot;read-more btn t4p-button&quot; href=&quot;#&quot;&gt;Learn more&lt;/a&gt;');&nbsp;</div></li><li><div>          if ($evolve_content_box2_button === false) {&nbsp;</div></li><li><div>              $evolve_content_box2_button = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box2_icon = evolve_get_option('evl_content_box2_icon', 'fa-circle-o-notch');&nbsp;</div></li><li><div>          if ($evolve_content_box2_icon === false) {&nbsp;</div></li><li><div>              $evolve_content_box2_icon = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_content_box2_enable == true) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='col-sm-12 $BoxClass content-box content-box-2'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;i class='fa &quot; . $evolve_content_box2_icon . &quot;'&gt;&lt;/i&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;h2&gt;&quot; . esc_attr($evolve_content_box2_title) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;p&gt;&quot; . do_shortcode($evolve_content_box2_desc) . &quot;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='cntbox_btn sbtn2'&gt;&quot; . do_shortcode($evolve_content_box2_button) . &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_content_box3_title = evolve_get_option('evl_content_box3_title', 'Contact Form Ready');&nbsp;</div></li><li><div>          if ($evolve_content_box3_title === false) {&nbsp;</div></li><li><div>              $evolve_content_box3_title = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box3_desc = evolve_get_option('evl_content_box3_desc', 'Built-In Contact Page with Google Maps is a standard for this theme');&nbsp;</div></li><li><div>          if ($evolve_content_box3_desc === false) {&nbsp;</div></li><li><div>              $evolve_content_box3_desc = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box3_button = evolve_get_option('evl_content_box3_button', '&lt;a class=&quot;read-more btn t4p-button&quot; href=&quot;#&quot;&gt;Learn more&lt;/a&gt;');&nbsp;</div></li><li><div>          if ($evolve_content_box3_button === false) {&nbsp;</div></li><li><div>              $evolve_content_box3_button = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box3_icon = evolve_get_option('evl_content_box3_icon', 'fa-send');&nbsp;</div></li><li><div>          if ($evolve_content_box3_icon === false) {&nbsp;</div></li><li><div>              $evolve_content_box3_icon = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_content_box3_enable == true) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='col-sm-12 $BoxClass content-box content-box-3'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;i class='fa &quot; . $evolve_content_box3_icon . &quot;'&gt;&lt;/i&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;h2&gt;&quot; . esc_attr($evolve_content_box3_title) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;p&gt;&quot; . do_shortcode($evolve_content_box3_desc) . &quot;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='cntbox_btn sbtn3'&gt;&quot; . do_shortcode($evolve_content_box3_button) . &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_content_box4_title = evolve_get_option('evl_content_box4_title', 'Modern Blog Layouts');&nbsp;</div></li><li><div>          if ($evolve_content_box4_title === false) {&nbsp;</div></li><li><div>              $evolve_content_box4_title = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box4_desc = evolve_get_option('evl_content_box4_desc', 'Up to 3 Blog Layouts, responsive on all media devices');&nbsp;</div></li><li><div>          if ($evolve_content_box4_desc === false) {&nbsp;</div></li><li><div>              $evolve_content_box4_desc = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box4_button = evolve_get_option('evl_content_box4_button', '&lt;a class=&quot;read-more btn t4p-button&quot; href=&quot;#&quot;&gt;Learn more&lt;/a&gt;');&nbsp;</div></li><li><div>          if ($evolve_content_box4_button === false) {&nbsp;</div></li><li><div>              $evolve_content_box4_button = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $evolve_content_box4_icon = evolve_get_option('evl_content_box4_icon', 'fa-tablet');&nbsp;</div></li><li><div>          if ($evolve_content_box4_icon === false) {&nbsp;</div></li><li><div>              $evolve_content_box4_icon = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_content_box4_enable == true) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='col-sm-12 $BoxClass content-box content-box-4'&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;i class='fa &quot; . $evolve_content_box4_icon . &quot;'&gt;&lt;/i&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;h2&gt;&quot; . esc_attr($evolve_content_box4_title) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;p&gt;&quot; . do_shortcode($evolve_content_box4_desc) . &quot;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;div class='cntbox_btn sbtn4'&gt;&quot; . do_shortcode($evolve_content_box4_button) . &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo &quot;&lt;/div&gt;&lt;/div&gt;&lt;div class='clearfix'&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * evolve_Walker_Nav_Menu</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  class evolve_Walker_Nav_Menu extends Walker_Nav_Menu {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * @see   Walker::start_lvl()</span>&nbsp;</div></li><li><div><span class="comment">       * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $output Passed by reference. Used to append additional content.</span>&nbsp;</div></li><li><div><span class="comment">       * @param int    $depth  Depth of page. Used for padding.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * @see   Walker::start_el()</span>&nbsp;</div></li><li><div><span class="comment">       * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $output       Passed by reference. Used to append additional content.</span>&nbsp;</div></li><li><div><span class="comment">       * @param object $item         Menu item data object.</span>&nbsp;</div></li><li><div><span class="comment">       * @param int    $depth        Depth of menu item. Used for padding.</span>&nbsp;</div></li><li><div><span class="comment">       * @param int    $current_page Menu item ID.</span>&nbsp;</div></li><li><div><span class="comment">       * @param object $args</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      public function start_el(&$output, $item, $depth = 0, $args = array(), $id = 0) {&nbsp;</div></li><li><div>          $indent = ( $depth ) ? str_repeat(&quot;\t&quot;, $depth) : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Dividers, Headers or Disabled</span>&nbsp;</div></li><li><div><span class="comment">           * =============================</span>&nbsp;</div></li><li><div><span class="comment">           * Determine whether the item is a Divider, Header, Disabled or regular</span>&nbsp;</div></li><li><div><span class="comment">           * menu item. To prevent errors we use the strcasecmp() function to so a</span>&nbsp;</div></li><li><div><span class="comment">           * comparison that is not case sensitive. The strcasecmp() function returns</span>&nbsp;</div></li><li><div><span class="comment">           * a 0 if the strings are equal.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $class_names = $value = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $classes = empty($item-&gt;classes) ? array() : (array) $item-&gt;classes;&nbsp;</div></li><li><div>          $classes[] = 'menu-item-' . $item-&gt;ID;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $class_names = join(' ', apply_filters('nav_menu_css_class', array_filter($classes), $item, $args));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($args-&gt;has_children) {&nbsp;</div></li><li><div>              $class_names .= ' dropdown';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (in_array('current-menu-item', $classes)) {&nbsp;</div></li><li><div>              $class_names .= ' active';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $class_names = $class_names ? ' class=&quot;' . esc_attr($class_names) . '&quot;' : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $id = apply_filters('nav_menu_item_id', 'menu-item-' . $item-&gt;ID, $item, $args);&nbsp;</div></li><li><div>          $id = $id ? ' id=&quot;' . esc_attr($id) . '&quot;' : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $output .= $indent . '&lt;li' . $id . $value . $class_names . '&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * PolyLang Broken Flag Images - Fix</span>&nbsp;</div></li><li><div><span class="comment">           * =================================</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * @by    jerry</span>&nbsp;</div></li><li><div><span class="comment">           * @since 3.2.0</span>&nbsp;</div></li><li><div><span class="comment">           * @todo  find better solution</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $item-&gt;title_2 = $item-&gt;title; <span class="comment">// Let's take flag image</span>&nbsp;</div></li><li><div>          if (class_exists('Polylang')) {&nbsp;</div></li><li><div>              if (preg_match('/&lt;img src=/', $item-&gt;title)) {&nbsp;</div></li><li><div>                  $item-&gt;title = strip_tags($item-&gt;title); <span class="comment">// Let's remove flag image</span>&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $atts = array();&nbsp;</div></li><li><div>          $atts['title'] = !empty($item-&gt;title) ? $item-&gt;title : '';&nbsp;</div></li><li><div>          $atts['target'] = !empty($item-&gt;target) ? $item-&gt;target : '';&nbsp;</div></li><li><div>          $atts['rel'] = !empty($item-&gt;xfn) ? $item-&gt;xfn : '';&nbsp;</div></li><li><div>          $atts['href'] = !empty($item-&gt;url) ? $item-&gt;url : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $atts = apply_filters('nav_menu_link_attributes', $atts, $item, $args);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $attributes = '';&nbsp;</div></li><li><div>          foreach ($atts as $attr =&gt; $value) {&nbsp;</div></li><li><div>              if (!empty($value)) {&nbsp;</div></li><li><div>                  $value = ( 'href' === $attr ) ? esc_url($value) : esc_attr($value);&nbsp;</div></li><li><div>                  $attributes .= ' ' . $attr . '=&quot;' . $value . '&quot;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $item_output = $args-&gt;before;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Glyphicons</span>&nbsp;</div></li><li><div><span class="comment">           * ===========</span>&nbsp;</div></li><li><div><span class="comment">           * Since the the menu item is NOT a Divider or Header we check the see</span>&nbsp;</div></li><li><div><span class="comment">           * if there is a value in the attr_title property. If the attr_title</span>&nbsp;</div></li><li><div><span class="comment">           * property is NOT null we apply it as the class name for the glyphicon.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          if (evolve_get_option('evl_main_menu_hover_effect', 'rollover') == 'disable') {&nbsp;</div></li><li><div>              $item_output .= '&lt;a' . $attributes . '&gt;';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $item_output .= '&lt;a' . $attributes . '&gt;&lt;span data-hover=&quot;' . $item-&gt;title . '&quot;&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $item_output .= $args-&gt;link_before . apply_filters('the_title', $item-&gt;title_2, $item-&gt;ID) . $args-&gt;link_after;&nbsp;</div></li><li><div>          $item_output .= ( $args-&gt;has_children && 0 === $depth ) ? ' &lt;span class=&quot;arrow&quot;&gt;&lt;/span&gt;' : '';&nbsp;</div></li><li><div>          if (evolve_get_option('evl_main_menu_hover_effect', 'rollover') == 'disable') {&nbsp;</div></li><li><div>              $item_output .= '&lt;/a&gt;';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $item_output .= '&lt;/span&gt;&lt;/a&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $item_output .= $args-&gt;after;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $output .= apply_filters('walker_nav_menu_start_el', $item_output, $item, $depth, $args);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Traverse elements to create list from elements.</span>&nbsp;</div></li><li><div><span class="comment">       * Display one element if the element doesn't have any children otherwise, </span>&nbsp;</div></li><li><div><span class="comment">       * display the element and its children. Will only traverse up to the max</span>&nbsp;</div></li><li><div><span class="comment">       * depth and no ignore elements under that depth.</span>&nbsp;</div></li><li><div><span class="comment">       * This method shouldn't be called directly, use the walk() method instead.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @see   Walker::start_el()</span>&nbsp;</div></li><li><div><span class="comment">       * @since 2.5.0</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @param object $element           Data object</span>&nbsp;</div></li><li><div><span class="comment">       * @param array  $children_elements List of elements to continue traversing.</span>&nbsp;</div></li><li><div><span class="comment">       * @param int    $max_depth         Max depth to traverse.</span>&nbsp;</div></li><li><div><span class="comment">       * @param int    $depth             Depth of current element.</span>&nbsp;</div></li><li><div><span class="comment">       * @param array  $args</span>&nbsp;</div></li><li><div><span class="comment">       * @param string $output            Passed by reference. Used to append additional content.</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @return null Null on failure with no changes to parameters.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      public function display_element($element, &$children_elements, $max_depth, $depth, $args, &$output) {&nbsp;</div></li><li><div>          if (!$element) {&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $id_field = $this-&gt;db_fields['id'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Display this element.</span>&nbsp;</div></li><li><div>          if (is_object($args[0])) {&nbsp;</div></li><li><div>              $args[0]-&gt;has_children = !empty($children_elements[$element-&gt;$id_field]);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          parent::display_element($element, $children_elements, $max_depth, $depth, $args, $output);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//end evolve_Walker_Nav_Menu</span>&nbsp;</div></li><li><div><span class="comment">// Breadcrumbs //</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_breadcrumb() {&nbsp;</div></li><li><div>      global $data, $post;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo '&lt;ul class=&quot;breadcrumbs&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo '&lt;li&gt;&lt;a class=&quot;home&quot; href=&quot;';&nbsp;</div></li><li><div>      echo home_url();&nbsp;</div></li><li><div>      echo '&quot;&gt;' . __('Home', 'evolve');&nbsp;</div></li><li><div>      echo &quot;&lt;/a&gt;&lt;/li&gt;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $params['link_none'] = '';&nbsp;</div></li><li><div>      $separator = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_category()) {&nbsp;</div></li><li><div>          $category = get_the_category();&nbsp;</div></li><li><div>          $ID = $category[0]-&gt;cat_ID;&nbsp;</div></li><li><div>          echo is_wp_error($cat_parents = get_category_parents($ID, TRUE, '', FALSE)) ? '' : '&lt;li&gt;' . $cat_parents . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_tax()) {&nbsp;</div></li><li><div>          $term = get_term_by('slug', get_query_var('term'), get_query_var('taxonomy'));&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . $term-&gt;name . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_home()) {&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . __('Blog', 'evolve') . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_page() && !is_front_page()) {&nbsp;</div></li><li><div>          $parents = array();&nbsp;</div></li><li><div>          $parent_id = $post-&gt;post_parent;&nbsp;</div></li><li><div>          while ($parent_id) :&nbsp;</div></li><li><div>              $page = get_page($parent_id);&nbsp;</div></li><li><div>              if ($params[&quot;link_none&quot;]) {&nbsp;</div></li><li><div>                  $parents[] = get_the_title($page-&gt;ID);&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $parents[] = '&lt;li&gt;&lt;a href=&quot;' . get_permalink($page-&gt;ID) . '&quot; title=&quot;' . get_the_title($page-&gt;ID) . '&quot;&gt;' . get_the_title($page-&gt;ID) . '&lt;/a&gt;&lt;/li&gt;' . $separator;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $parent_id = $page-&gt;post_parent;&nbsp;</div></li><li><div>          endwhile;&nbsp;</div></li><li><div>          $parents = array_reverse($parents);&nbsp;</div></li><li><div>          echo join(' ', $parents);&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . get_the_title() . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_single() && !is_attachment()) {&nbsp;</div></li><li><div>          $cat_1_line = '';&nbsp;</div></li><li><div>          $categories_1 = get_the_category($post-&gt;ID);&nbsp;</div></li><li><div>          if ($categories_1):&nbsp;</div></li><li><div>              foreach ($categories_1 as $cat_1):&nbsp;</div></li><li><div>                  $cat_1_ids[] = $cat_1-&gt;term_id;&nbsp;</div></li><li><div>              endforeach;&nbsp;</div></li><li><div>              $cat_1_line = implode(', ', $cat_1_ids);&nbsp;</div></li><li><div>          endif;&nbsp;</div></li><li><div>          $categories = get_categories(array(&nbsp;</div></li><li><div>              'include' =&gt; $cat_1_line, &nbsp;</div></li><li><div>              'orderby' =&gt; 'id'&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>          if ($categories) :&nbsp;</div></li><li><div>              foreach ($categories as $cat) :&nbsp;</div></li><li><div>                  $cats[] = '&lt;li&gt;&lt;a href=&quot;' . get_category_link($cat-&gt;term_id) . '&quot; title=&quot;' . $cat-&gt;name . '&quot;&gt;' . $cat-&gt;name . '&lt;/a&gt;&lt;/li&gt;';&nbsp;</div></li><li><div>              endforeach;&nbsp;</div></li><li><div>              echo join(' ', $cats);&nbsp;</div></li><li><div>          endif;&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . get_the_title() . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_tag()) {&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . &quot;Tag: &quot; . single_tag_title('', false) . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_404()) {&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . __(&quot;404 - Page not Found&quot;, 'evolve') . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_search()) {&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . __(&quot;Search&quot;, 'evolve') . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_year()) {&nbsp;</div></li><li><div>          echo '&lt;li&gt;' . get_the_time('Y') . '&lt;/li&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (is_attachment()) {&nbsp;</div></li><li><div>          if (!empty($post-&gt;post_parent)) {&nbsp;</div></li><li><div>              echo &quot;&lt;li&gt;&lt;a href='&quot; . get_permalink($post-&gt;post_parent) . &quot;'&gt;&quot; . get_the_title($post-&gt;post_parent) . &quot;&lt;/a&gt;&lt;/li&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo &quot;&lt;li&gt;&quot; . get_the_title() . &quot;&lt;/li&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo &quot;&lt;/ul&gt;&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_posts_slider() {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;slide_holder&quot;&gt;&nbsp;</div></li><li><div>          &lt;div class=&quot;slide-container&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;ul id=&quot;slides&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  $number_items = evolve_get_option('evl_posts_number', '5');&nbsp;</div></li><li><div>                  $slider_content = evolve_get_option('evl_posts_slider_content', 'recent');&nbsp;</div></li><li><div>                  $slider_content_category = '';&nbsp;</div></li><li><div>                  $slider_content_category = evolve_get_option('evl_posts_slider_id', '');&nbsp;</div></li><li><div>                  <span class="comment">//make array categories into string with commas.</span>&nbsp;</div></li><li><div>                  if (is_array($slider_content_category)) {&nbsp;</div></li><li><div>                      $slider_content_category = implode(&quot;, &quot;, $slider_content_category);&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if ($slider_content == &quot;category&quot; && !empty($slider_content_category)) {&nbsp;</div></li><li><div>                      $slider_content_ID = $slider_content_category;&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $slider_content_ID = '';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $args = array(&nbsp;</div></li><li><div>                      'cat' =&gt; $slider_content_ID, &nbsp;</div></li><li><div>                      'showposts' =&gt; $number_items, &nbsp;</div></li><li><div>                      'ignore_sticky_posts' =&gt; 1, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                  query_posts($args);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if (have_posts()) : $featured = new WP_Query($args);&nbsp;</div></li><li><div>                      while ($featured-&gt;have_posts()) : $featured-&gt;the_post();&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          &lt;li class=&quot;slide&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              &lt;?php&nbsp;</div></li><li><div>                              if (has_post_thumbnail()) {&nbsp;</div></li><li><div>                                  echo '&lt;div class=&quot;featured-thumbnail&quot;&gt;&lt;a href=&quot;';&nbsp;</div></li><li><div>                                  the_permalink();&nbsp;</div></li><li><div>                                  echo '&quot;&gt;';&nbsp;</div></li><li><div>                                  the_post_thumbnail('slider-thumbnail');&nbsp;</div></li><li><div>                                  echo '&lt;/a&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  $image = evolve_get_first_image();&nbsp;</div></li><li><div>                                  if ($image):&nbsp;</div></li><li><div>                                      echo '&lt;div class=&quot;featured-thumbnail&quot;&gt;&lt;a href=&quot;';&nbsp;</div></li><li><div>                                      the_permalink();&nbsp;</div></li><li><div>                                      echo '&quot;&gt;&lt;img src=&quot;' . $image . '&quot; alt=&quot;';&nbsp;</div></li><li><div>                                      the_title();&nbsp;</div></li><li><div>                                      echo '&quot; /&gt;&lt;/a&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>                                  endif;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              &lt;h2 class=&quot;featured-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;a class=&quot;title&quot; href=&quot;&lt;?php the_permalink() ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php&nbsp;</div></li><li><div>                                      $title = the_title('', '', false);&nbsp;</div></li><li><div>                                      $length = evolve_get_option('evl_posts_slider_title_length', 40);&nbsp;</div></li><li><div>                                      echo evolve_truncate($title, $length, '...');&nbsp;</div></li><li><div>                                      ?&gt;&nbsp;</div></li><li><div>                                  &lt;/a&gt;&nbsp;</div></li><li><div>                              &lt;/h2&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              &lt;p&gt;&lt;?php&nbsp;</div></li><li><div>                                  $excerpt_length = evolve_get_option('evl_posts_slider_excerpt_length', 40);&nbsp;</div></li><li><div>                                  echo evolve_excerpt_max_charlength($excerpt_length);&nbsp;</div></li><li><div>                                  ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                              &lt;a class=&quot;button post-more&quot; href=&quot;&lt;?php the_permalink(); ?&gt;&quot;&gt;&lt;?php _e('Read More', 'evolve'); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          &lt;/li&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                      endwhile;&nbsp;</div></li><li><div>                  else:&nbsp;</div></li><li><div>                      ?&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php _e('&lt;h2 style=&quot;color:#fff;&quot;&gt;Oops, no posts to display! Please check your post slider Category (ID) settings&lt;/h2&gt;', 'evolve'); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  endif;&nbsp;</div></li><li><div>                  wp_reset_query();&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/ul&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Woocommerce Support</span>&nbsp;</div></li><li><div>  add_theme_support('woocommerce');&nbsp;</div></li><li><div>  add_filter('woocommerce_enqueue_styles', '__return_false');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Remove Double Cart Totals</span>&nbsp;</div></li><li><div><span class="comment">   * =========================</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @woocommerce</span>&nbsp;</div></li><li><div><span class="comment">   * @bugfix</span>&nbsp;</div></li><li><div><span class="comment">   * @jerry</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if (class_exists('Woocommerce')) {&nbsp;</div></li><li><div>      remove_action('woocommerce_cart_collaterals', 'woocommerce_cart_totals', 10); <span class="comment">// Remove Duplicated Cart Totals</span>&nbsp;</div></li><li><div>      remove_action('woocommerce_proceed_to_checkout', 'woocommerce_button_proceed_to_checkout', 20); <span class="comment">// Remove Duplicated Checkout Button</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Register default function when plugin not activated</span>&nbsp;</div></li><li><div>  add_action('wp_head', 'evolve_plugins_loaded');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_plugins_loaded() {&nbsp;</div></li><li><div>      if (!function_exists('is_woocommerce')) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          function is_woocommerce() {&nbsp;</div></li><li><div>              return false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (!function_exists('is_product')) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          function is_product() {&nbsp;</div></li><li><div>              return false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (!function_exists('is_buddypress')) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          function is_buddypress() {&nbsp;</div></li><li><div>              return false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (!function_exists('is_bbpress')) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          function is_bbpress() {&nbsp;</div></li><li><div>              return false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Woo Config</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  include_once( ABSPATH . 'wp-admin/includes/plugin.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (is_plugin_active('woocommerce/woocommerce.php')) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      include_once( get_template_directory() . '/library/woo-config.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (!function_exists('t4p_addURLParameter')) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function t4p_addURLParameter($url, $paramName, $paramValue) {&nbsp;</div></li><li><div>          $url_data = parse_url($url);&nbsp;</div></li><li><div>          if (!isset($url_data[&quot;query&quot;])) {&nbsp;</div></li><li><div>              $url_data[&quot;query&quot;] = &quot;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $params = array();&nbsp;</div></li><li><div>          parse_str($url_data['query'], $params);&nbsp;</div></li><li><div>          $params[$paramName] = $paramValue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($paramName == 'product_count') {&nbsp;</div></li><li><div>              $params['paged'] = '1';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $url_data['query'] = http_build_query($params);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return t4p_build_url($url_data);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function t4p_build_url($url_data) {&nbsp;</div></li><li><div>      $url = &quot;&quot;;&nbsp;</div></li><li><div>      if (isset($url_data['host'])) {&nbsp;</div></li><li><div>          $url .= $url_data['scheme'] . ':<span class="comment">//';</span>&nbsp;</div></li><li><div>          if (isset($url_data['user'])) {&nbsp;</div></li><li><div>              $url .= $url_data['user'];&nbsp;</div></li><li><div>              if (isset($url_data['pass'])) {&nbsp;</div></li><li><div>                  $url .= ':' . $url_data['pass'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $url .= '@';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $url .= $url_data['host'];&nbsp;</div></li><li><div>          if (isset($url_data['port'])) {&nbsp;</div></li><li><div>              $url .= ':' . $url_data['port'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($url_data['path'])) {&nbsp;</div></li><li><div>          $url .= $url_data['path'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($url_data['query'])) {&nbsp;</div></li><li><div>          $url .= '?' . $url_data['query'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($url_data['fragment'])) {&nbsp;</div></li><li><div>          $url .= '#' . $url_data['fragment'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $url;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment"><span class="comment">//////////////////////////////////////////////////////////////////</span></span>&nbsp;</div></li><li><div><span class="comment">// Woo Products Shortcode Recode</span>&nbsp;</div></li><li><div><span class="comment"><span class="comment">//////////////////////////////////////////////////////////////////</span></span>&nbsp;</div></li><li><div>  function evolve_woo_product($atts, $content = null) {&nbsp;</div></li><li><div>      global $woocommerce_loop;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (empty($atts)) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = array(&nbsp;</div></li><li><div>          'post_type' =&gt; 'product', &nbsp;</div></li><li><div>          'posts_per_page' =&gt; 1, &nbsp;</div></li><li><div>          'no_found_rows' =&gt; 1, &nbsp;</div></li><li><div>          'post_status' =&gt; 'publish', &nbsp;</div></li><li><div>          'meta_query' =&gt; array(&nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>                  'key' =&gt; '_visibility', &nbsp;</div></li><li><div>                  'value' =&gt; array('catalog', 'visible'), &nbsp;</div></li><li><div>                  'compare' =&gt; 'IN'&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          'columns' =&gt; 1&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (isset($atts['sku'])) {&nbsp;</div></li><li><div>          $args['meta_query'][] = array(&nbsp;</div></li><li><div>              'key' =&gt; '_sku', &nbsp;</div></li><li><div>              'value' =&gt; $atts['sku'], &nbsp;</div></li><li><div>              'compare' =&gt; '='&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (isset($atts['id'])) {&nbsp;</div></li><li><div>          $args['p'] = $atts['id'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (isset($columns)) {&nbsp;</div></li><li><div>          $woocommerce_loop['columns'] = $columns;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $products = new WP_Query($args);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($products-&gt;have_posts()) :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          woocommerce_product_loop_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          while ($products-&gt;have_posts()) : $products-&gt;the_post();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              woocommerce_get_template_part('content', 'product');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          endwhile; <span class="comment">// end of the loop. </span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          woocommerce_product_loop_end();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_reset_postdata();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return '&lt;div class=&quot;woocommerce&quot;&gt;' . ob_get_clean() . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Infinite Scroll</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.2.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  add_action('wp_footer', 'evolve_infinite_scroll_blog');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_infinite_scroll_blog() {&nbsp;</div></li><li><div>      echo '&lt;script&gt;&nbsp;</div></li><li><div>          if (jQuery(&quot;.posts-container-infinite&quot;).length == 1) {&nbsp;</div></li><li><div>              var ias = jQuery.ias({&nbsp;</div></li><li><div>                  container: &quot;.posts-container-infinite&quot;, &nbsp;</div></li><li><div>                  item: &quot;div.post&quot;, &nbsp;</div></li><li><div>                  pagination: &quot;div.pagination&quot;, &nbsp;</div></li><li><div>                  next: &quot;a.pagination-next&quot;, &nbsp;</div></li><li><div>              });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              ias.extension(new IASTriggerExtension({&nbsp;</div></li><li><div>                      text: &quot;Load more items&quot;, &nbsp;</div></li><li><div>                      offset: 99999&nbsp;</div></li><li><div>              }));&nbsp;</div></li><li><div>              ias.extension(new IASSpinnerExtension({&nbsp;</div></li><li><div>              }));&nbsp;</div></li><li><div>              ias.extension(new IASNoneLeftExtension());&nbsp;</div></li><li><div>          }else{';&nbsp;</div></li><li><div>      $evolve_pagination_type = evolve_get_option('evl_pagination_type', 'pagination');&nbsp;</div></li><li><div>      if ($evolve_pagination_type == &quot;infinite&quot; && !is_single() && (is_page_template('blog-page.php') || is_home() )) {&nbsp;</div></li><li><div>          echo '&nbsp;</div></li><li><div>                      var ias = jQuery.ias({&nbsp;</div></li><li><div>                           container: &quot;#primary&quot;, &nbsp;</div></li><li><div>                           item: &quot;.post&quot;, &nbsp;</div></li><li><div>                           pagination: &quot;.navigation-links&quot;, &nbsp;</div></li><li><div>                           next: &quot;.nav-previous a&quot;, &nbsp;</div></li><li><div>                      });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      ias.extension(new IASTriggerExtension({&nbsp;</div></li><li><div>                              text: &quot;Load more items&quot;, &nbsp;</div></li><li><div>                              offset: 99999&nbsp;</div></li><li><div>                      }));&nbsp;</div></li><li><div>                      ias.extension(new IASSpinnerExtension({&nbsp;</div></li><li><div>                      }));&nbsp;</div></li><li><div>                      ias.extension(new IASNoneLeftExtension());';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo '}&nbsp;</div></li><li><div>  &lt;/script&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>     &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to use get buddypress page id</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_bp_get_id() {&nbsp;</div></li><li><div>      $post_id = '';&nbsp;</div></li><li><div>      $bp_page_id = get_option('bp-pages');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_buddypress()) {&nbsp;</div></li><li><div>          if (bp_is_current_component('members')) {&nbsp;</div></li><li><div>              $post_id = $bp_page_id['members'];&nbsp;</div></li><li><div>          } elseif (bp_is_current_component('activity')) {&nbsp;</div></li><li><div>              $post_id = $bp_page_id['activity'];&nbsp;</div></li><li><div>          } elseif (bp_is_current_component('groups')) {&nbsp;</div></li><li><div>              $post_id = $bp_page_id['groups'];&nbsp;</div></li><li><div>          } elseif (bp_is_current_component('register')) {&nbsp;</div></li><li><div>              $post_id = $bp_page_id['register'];&nbsp;</div></li><li><div>          } elseif (bp_is_current_component('activate')) {&nbsp;</div></li><li><div>              $post_id = $bp_page_id['activate'];&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $post_id = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $post_id;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to print out css class according to layout or post meta</span>&nbsp;</div></li><li><div><span class="comment">   * used in content-blog.php, index.php, buddypress.php, bbpress.php</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.3.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * added by Denzel</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_layout_class($type = 1) {&nbsp;</div></li><li><div><span class="comment">//$type = 1 is for content-blog.php and index.php, which includes the get_post_meta($post-&gt;ID, 'evolve_full_width', true)..</span>&nbsp;</div></li><li><div><span class="comment">//$type = 2 is for buddypress.php and bbpress.php, which EXCLUDES the get_post_meta($post-&gt;ID, 'evolve_full_width', true)..  </span>&nbsp;</div></li><li><div>      global $post;&nbsp;</div></li><li><div>      global $wp_query;&nbsp;</div></li><li><div>      $evolve_layout = evolve_get_option('evl_layout', '2cl');&nbsp;</div></li><li><div>      $evolve_post_layout = evolve_get_option('evl_post_layout', 'two');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $post_id = '';&nbsp;</div></li><li><div>      if ($wp_query-&gt;is_posts_page) {&nbsp;</div></li><li><div>          $post_id = get_option('page_for_posts');&nbsp;</div></li><li><div>      } elseif (is_buddypress()) {&nbsp;</div></li><li><div>          $post_id = evolve_bp_get_id();&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $post_id = isset($post-&gt;ID) ? $post-&gt;ID : '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $layout_css = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($evolve_layout == &quot;1c&quot;) {&nbsp;</div></li><li><div>          $layout_css.= ' col-md-12';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $layout_css.= ' col-xs-12 col-sm-6';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (($evolve_layout == &quot;2cr&quot; && ($evolve_post_layout == &quot;two&quot;) || $evolve_layout == &quot;2cl&quot; && ($evolve_post_layout == &quot;two&quot;))) {&nbsp;</div></li><li><div>              $layout_css.= ' col-md-8';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (($evolve_layout == &quot;3cm&quot; || $evolve_layout == &quot;3cl&quot; || $evolve_layout == &quot;3cr&quot;)) {&nbsp;</div></li><li><div>              $layout_css.= ' col-md-6';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $layout_css.= ' col-md-8';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (is_single() || is_page() || is_404() || is_search()) {&nbsp;</div></li><li><div>              $layout_css.= ' col-single';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      if ($type == 1) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (class_exists('Woocommerce')):&nbsp;</div></li><li><div>              if (is_cart() || is_checkout() || is_account_page() || (get_option('woocommerce_thanks_page_id') && is_page(get_option('woocommerce_thanks_page_id')))) {&nbsp;</div></li><li><div>                  $layout_css .= ' full-width';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          endif;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_single() || is_page() || $wp_query-&gt;is_posts_page || is_buddypress() || is_bbpress()):&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_sidebar_position = get_post_meta($post_id, 'evolve_sidebar_position', true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (($type == 1 && $evolve_sidebar_position == 'default') || ($type == 2 && $evolve_sidebar_position == 'default')) {&nbsp;</div></li><li><div>              if (get_post_meta($post_id, 'evolve_full_width', true) == 'yes') {&nbsp;</div></li><li><div>                  $layout_css .= ' full-width';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == '2cl') {&nbsp;</div></li><li><div>              $layout_css = 'col-xs-12 col-sm-6 col-md-8 col-md-8 float-left';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == '2cr') {&nbsp;</div></li><li><div>              $layout_css = 'col-xs-12 col-sm-6 col-md-8 col-md-8 float-right';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == &quot;3cm&quot;) {&nbsp;</div></li><li><div>              $layout_css = 'col-xs-12 col-sm-6 col-md-6 float-left';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == &quot;3cr&quot;) {&nbsp;</div></li><li><div>              $layout_css = 'col-xs-12 col-sm-6 col-md-6 float-right';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == &quot;3cl&quot;) {&nbsp;</div></li><li><div>              $layout_css = 'col-xs-12 col-sm-6 col-md-6 float-left';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (is_single() || is_page() || $wp_query-&gt;is_posts_page) {&nbsp;</div></li><li><div>              $layout_css.= ' col-single';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo $layout_css;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to print out css class according to layout</span>&nbsp;</div></li><li><div><span class="comment">   * used in content-blog.php, index.php.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * added by Denzel</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_post_class($xyz) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_post_layout = evolve_get_option('evl_post_layout', 'two');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($evolve_post_layout == &quot;two&quot;) {&nbsp;</div></li><li><div>          echo ' col-md-6 odd' . ( $xyz % 2 );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          echo ' col-md-4 odd' . ( $xyz % 3 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (has_post_format(array(&nbsp;</div></li><li><div>                  'aside', &nbsp;</div></li><li><div>                  'audio', &nbsp;</div></li><li><div>                  'chat', &nbsp;</div></li><li><div>                  'gallery', &nbsp;</div></li><li><div>                  'image', &nbsp;</div></li><li><div>                  'link', &nbsp;</div></li><li><div>                  'quote', &nbsp;</div></li><li><div>                  'status', &nbsp;</div></li><li><div>                  'video'&nbsp;</div></li><li><div> ), '')) {&nbsp;</div></li><li><div>          echo ' formatted-post';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to print out css class according to post format</span>&nbsp;</div></li><li><div><span class="comment">   * used in content-blog.php, index.php.</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * added by Denzel</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_post_class_2() {&nbsp;</div></li><li><div>      if (has_post_format(array(&nbsp;</div></li><li><div>                  'aside', &nbsp;</div></li><li><div>                  'audio', &nbsp;</div></li><li><div>                  'chat', &nbsp;</div></li><li><div>                  'gallery', &nbsp;</div></li><li><div>                  'image', &nbsp;</div></li><li><div>                  'link', &nbsp;</div></li><li><div>                  'quote', &nbsp;</div></li><li><div>                  'status', &nbsp;</div></li><li><div>                  'video'&nbsp;</div></li><li><div> ), '') || is_sticky()&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>          echo 'formatted-post formatted-single margin-40';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to print out css class according to layout</span>&nbsp;</div></li><li><div><span class="comment">   * used in sidebar.php</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * added by Denzel</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_sidebar_class() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $wp_query;&nbsp;</div></li><li><div>      global $post;&nbsp;</div></li><li><div>      $post_id = '';&nbsp;</div></li><li><div>      if ($wp_query-&gt;is_posts_page) {&nbsp;</div></li><li><div>          $post_id = get_option('page_for_posts');&nbsp;</div></li><li><div>      } elseif (is_buddypress()) {&nbsp;</div></li><li><div>          $post_id = evolve_bp_get_id();&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $post_id = isset($post-&gt;ID) ? $post-&gt;ID : '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $sidebar_css = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_layout = evolve_get_option('evl_layout', '2cl');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//use PHP switch statement, is easier to understand.</span></span>&nbsp;</div></li><li><div>      switch ($evolve_layout):&nbsp;</div></li><li><div>          case &quot;1c&quot;:&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">//do nothing</span></span>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;2cl&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-sm-6 col-md-4';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;2cr&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-sm-6 col-md-4';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;3cm&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-xs-12 col-sm-6 col-md-3';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;3cl&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-xs-12 col-sm-6 col-md-3';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;3cr&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-xs-12 col-sm-6 col-md-3';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>      endswitch;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_sidebar_position = get_post_meta($post_id, 'evolve_sidebar_position', true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if(is_page() || is_single()):&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//use PHP switch statement, is easier to understand.</span></span>&nbsp;</div></li><li><div>      switch ($evolve_sidebar_position):&nbsp;</div></li><li><div>          case &quot;default&quot;:&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">//do nothing</span></span>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;2cl&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-sm-6 col-md-4';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;2cr&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-sm-6 col-md-4';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;3cm&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-xs-12 col-sm-6 col-md-3';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;3cl&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-xs-12 col-sm-6 col-md-3 float-right';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case &quot;3cr&quot;:&nbsp;</div></li><li><div>              $sidebar_css = 'col-xs-12 col-sm-6 col-md-3 float-left';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>      endswitch;&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo $sidebar_css;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to determine whether to get_sidebar, depending on theme options layout and post meta layout.</span>&nbsp;</div></li><li><div><span class="comment">   * used in 404.php, archive.php, attachment.php, author.php, bbpress.php, blog-page.php, ... </span>&nbsp;</div></li><li><div><span class="comment">   * buddypress.php, index.php, page.php, search.php single.php</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @return boolean indicates whether to load sidebar.</span>&nbsp;</div></li><li><div><span class="comment">   * added by Denzel</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_lets_get_sidebar() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $wp_query, $post;&nbsp;</div></li><li><div>      $post_id = '';&nbsp;</div></li><li><div>      if ($wp_query-&gt;is_posts_page) {&nbsp;</div></li><li><div>          $post_id = get_option('page_for_posts');&nbsp;</div></li><li><div>      } elseif (is_buddypress()) {&nbsp;</div></li><li><div>          $post_id = evolve_bp_get_id();&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $post_id = isset($post-&gt;ID) ? $post-&gt;ID : '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $get_sidebar = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_layout = evolve_get_option('evl_layout', '2cl');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($evolve_layout != &quot;1c&quot;) {&nbsp;</div></li><li><div>          $get_sidebar = true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (( is_page() || is_single() || $wp_query-&gt;is_posts_page || is_buddypress() || is_bbpress()) && get_post_meta($post_id, 'evolve_full_width', true) == 'yes') {&nbsp;</div></li><li><div>          $get_sidebar = false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_single() || is_page() || $wp_query-&gt;is_posts_page || is_buddypress() || is_bbpress()):&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_sidebar_position = get_post_meta($post_id, 'evolve_sidebar_position', true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position != 'default' && $evolve_sidebar_position != '') {&nbsp;</div></li><li><div>              $get_sidebar = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $get_sidebar;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * function to determine whether to get_sidebar('2'), depending on theme options layout and post meta layout.</span>&nbsp;</div></li><li><div><span class="comment">   * used in 404.php, archive.php, attachment.php, author.php, bbpress.php, blog-page.php, ... </span>&nbsp;</div></li><li><div><span class="comment">   * buddypress.php, index.php, page.php, search.php single.php</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @return boolean indicates whether to load sidebar.</span>&nbsp;</div></li><li><div><span class="comment">   * added by Denzel</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_lets_get_sidebar_2() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $wp_query, $post;&nbsp;</div></li><li><div>      $post_id = '';&nbsp;</div></li><li><div>      if ($wp_query-&gt;is_posts_page) {&nbsp;</div></li><li><div>          $post_id = get_option('page_for_posts');&nbsp;</div></li><li><div>      } elseif (is_buddypress()) {&nbsp;</div></li><li><div>          $post_id = evolve_bp_get_id();&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $post_id = isset($post-&gt;ID) ? $post-&gt;ID : '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $get_sidebar = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_layout = evolve_get_option('evl_layout', '2cl');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($evolve_layout == &quot;3cm&quot; || $evolve_layout == &quot;3cl&quot; || $evolve_layout == &quot;3cr&quot;) {&nbsp;</div></li><li><div>          $get_sidebar = true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (( is_page() || is_single() || $wp_query-&gt;is_posts_page || is_buddypress() || is_bbpress()) && get_post_meta($post_id, 'evolve_full_width', true) == 'yes') {&nbsp;</div></li><li><div>          $get_sidebar = false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (is_single() || is_page() || $wp_query-&gt;is_posts_page || is_buddypress() || is_bbpress()):&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $evolve_sidebar_position = get_post_meta($post_id, 'evolve_sidebar_position', true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == '2cl' || $evolve_sidebar_position == '2cr') {&nbsp;</div></li><li><div>              $get_sidebar = false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($evolve_sidebar_position == &quot;3cm&quot; || $evolve_sidebar_position == &quot;3cl&quot; || $evolve_sidebar_position == &quot;3cr&quot;) {&nbsp;</div></li><li><div>              $get_sidebar = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $get_sidebar;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_print_fonts($name, $css_class, $additional_css = '', $additional_color_css_class = '', $imp = '') {&nbsp;</div></li><li><div>      global $evl_options;&nbsp;</div></li><li><div>      $options = $evl_options;&nbsp;</div></li><li><div>      $css = '';&nbsp;</div></li><li><div>      $font_size = '';&nbsp;</div></li><li><div>      $font_family = '';&nbsp;</div></li><li><div>      $font_style = '';&nbsp;</div></li><li><div>      $font_weight = '';&nbsp;</div></li><li><div>      $color = '';&nbsp;</div></li><li><div>      if ($options[$name]['font-size'] != '') {&nbsp;</div></li><li><div>          $font_size = $options[$name]['font-size'];&nbsp;</div></li><li><div>          $css .= &quot;$css_class{font-size:&quot; . $font_size . &quot; &quot; . $imp . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ($options[$name]['font-family'] != '') {&nbsp;</div></li><li><div>          $font_family = $options[$name]['font-family'];&nbsp;</div></li><li><div>          $css .= &quot;$css_class{font-family:&quot; . $font_family . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($options[$name]['font-style']) && $options[$name]['font-style'] != '') {&nbsp;</div></li><li><div>          $font_style = $options[$name]['font-style'];&nbsp;</div></li><li><div>          $css .= &quot;$css_class{font-style:&quot; . $font_style . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($options[$name]['font-weight']) && $options[$name]['font-weight'] != '') {&nbsp;</div></li><li><div>          $font_weight = $options[$name]['font-weight'];&nbsp;</div></li><li><div>          $css .= &quot;$css_class{font-weight:&quot; . $font_weight . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($options[$name]['color']) && $options[$name]['color'] != '') {&nbsp;</div></li><li><div>          $color = $options[$name]['color'];&nbsp;</div></li><li><div>          $css .= &quot;$css_class{color:&quot; . $color . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ($additional_css != '') {&nbsp;</div></li><li><div>          $css .= &quot;$css_class{&quot; . $additional_css . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ($additional_color_css_class != '') {&nbsp;</div></li><li><div>          $color = $options[$name]['color'];&nbsp;</div></li><li><div>          $css .= &quot;$additional_color_css_class{color:&quot; . $color . &quot;;}&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $css;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if (!function_exists('evolve_custom_number_paging_nav')) :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function evolve_custom_number_paging_nav() {&nbsp;</div></li><li><div>          <span class="comment">// Don't print empty markup if there's only one page.</span>&nbsp;</div></li><li><div>          if ($GLOBALS['wp_query']-&gt;max_num_pages &lt; 2) {&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $paged = get_query_var('paged') ? intval(get_query_var('paged')) : 1;&nbsp;</div></li><li><div>          $pagenum_link = html_entity_decode(get_pagenum_link());&nbsp;</div></li><li><div>          $query_args = array();&nbsp;</div></li><li><div>          $url_parts = explode('?', $pagenum_link);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (isset($url_parts[1])) {&nbsp;</div></li><li><div>              wp_parse_str($url_parts[1], $query_args);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $pagenum_link = remove_query_arg(array_keys($query_args), $pagenum_link);&nbsp;</div></li><li><div>          $pagenum_link = trailingslashit($pagenum_link) . '%_%';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $format = $GLOBALS['wp_rewrite']-&gt;using_index_permalinks() && !strpos($pagenum_link, 'index.php') ? 'index.php/' : '';&nbsp;</div></li><li><div>          $format .= $GLOBALS['wp_rewrite']-&gt;using_permalinks() ? user_trailingslashit('page/%#%', 'paged') : '?paged=%#%';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Set up paginated links.</span>&nbsp;</div></li><li><div>          $links = paginate_links(array(&nbsp;</div></li><li><div>              'base' =&gt; $pagenum_link, &nbsp;</div></li><li><div>              'format' =&gt; $format, &nbsp;</div></li><li><div>              'total' =&gt; $GLOBALS['wp_query']-&gt;max_num_pages, &nbsp;</div></li><li><div>              'current' =&gt; $paged, &nbsp;</div></li><li><div>              'mid_size' =&gt; 3, &nbsp;</div></li><li><div>              'add_args' =&gt; array_map('urlencode', $query_args), &nbsp;</div></li><li><div>              'prev_text' =&gt; sprintf('&lt;span class=&quot;t4p-icon-chevron-left&quot;&gt;&lt;/span&gt; %s', __('Previous ', 'evolve')), &nbsp;</div></li><li><div>              'next_text' =&gt; sprintf('%s &lt;span class=&quot;t4p-icon-chevron-right&quot;&gt;&lt;/span&gt;', __('Next ', 'evolve')), &nbsp;</div></li><li><div>              'type' =&gt; 'list', &nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ($links) :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo $links;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          endif;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** change in bbpress breadcrumb */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_custom_bbp_breadcrumb() {&nbsp;</div></li><li><div>      $args['sep'] = ' / ';&nbsp;</div></li><li><div>      return $args;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  add_filter('bbp_before_get_breadcrumb_parse_args', 'evolve_custom_bbp_breadcrumb');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** Change prefix pyre to evolve */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $evolve_change_metabox_prefix = get_option('evl_change_metabox_prefix', 0);&nbsp;</div></li><li><div>  if ($evolve_change_metabox_prefix != 1) {&nbsp;</div></li><li><div>      add_action('admin_init', 'evolve_change_prefix');&nbsp;</div></li><li><div>      update_option('evl_change_metabox_prefix', 1);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function evolve_change_prefix() {&nbsp;</div></li><li><div>      global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $querystr = &quot; SELECT meta_key FROM $wpdb-&gt;postmeta WHERE `meta_key` LIKE '%pyre_%' &quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $evolve_meta_key = $wpdb-&gt;get_results($querystr);&nbsp;</div></li><li><div>      foreach ($evolve_meta_key as $meta_key) {&nbsp;</div></li><li><div>          $original_meta_key = $meta_key-&gt;meta_key;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $change_meta_key = str_replace(&quot;pyre_&quot;, &quot;evolve_&quot;, $original_meta_key);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $wpdb-&gt;query(&quot;UPDATE $wpdb-&gt;postmeta SET meta_key = REPLACE(meta_key, '$original_meta_key', '$change_meta_key')&quot;);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//filter added for buddypress-docs comment show</span>&nbsp;</div></li><li><div>  add_filter( 'bp_docs_allow_comment_section', '__return_true', 100 );&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>theme</li><li><span></span>file</li><li><span></span></li><li><span></span>evolve</li><li><span></span>3.7.2</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>