<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="theme" data-version="2.5" data-slug="catch-responsive" data-type="file" data-id="98994"><head xmlns="http://www.w3.org/1999/xhtml"><title> inc-catchresponsive-core | file | Catch Responsive | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, theme, catch-responsive, 2.5" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=ad2d3ff1c28d14a0403834e3f232d2da' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/inc-catchresponsive-core/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Finc-catchresponsive-core%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Finc-catchresponsive-core%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"theme-catch-responsive-2.5-file-inc-catchresponsive-core","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="inc-catchresponsive-core" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to themes." href="http://hookr.io/themes/" class=""><span property="name">themes</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to catch-responsive." href="http://hookr.io/themes/catch-responsive/" class="plugin"><span property="name">catch-responsive</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.5." href="http://hookr.io/themes/catch-responsive/2.5/" class="H_VERSION"><span property="name">2.5</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/themes/catch-responsive/2.5/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">inc-catchresponsive-core</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="169"><a href="http://hookr.io/themes/catch-responsive/2.5/all/" title="All">All <span class="count badge">169</span></a></li><li class="" data-id="new" data-count="3"><a href="http://hookr.io/themes/catch-responsive/2.5/new/" title="New">New <span class="count badge">3</span></a></li><li class="" data-id="hooks" data-count="47"><a href="http://hookr.io/themes/catch-responsive/2.5/hooks/" title="Hooks">Hooks <span class="count badge">47</span></a></li><li class="" data-id="action" data-count="20"><a href="http://hookr.io/themes/catch-responsive/2.5/actions/" title="Actions">Actions <span class="count badge">20</span></a></li><li class="" data-id="filter" data-count="27"><a href="http://hookr.io/themes/catch-responsive/2.5/filters/" title="Filters">Filters <span class="count badge">27</span></a></li><li class="" data-id="class" data-count="6"><a href="http://hookr.io/themes/catch-responsive/2.5/classes/" title="Classes">Classes <span class="count badge">6</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/themes/catch-responsive/2.5/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="116"><a href="http://hookr.io/themes/catch-responsive/2.5/functions/" title="Functions">Functions <span class="count badge">116</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/themes/catch-responsive/2.5/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class=""><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class="active"><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/inc/catchresponsive-core.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Core functions and definitions</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Sets up the theme</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The first function, catchresponsive_initial_setup(), sets up the theme by registering support</span>&nbsp;</div></li><li><div><span class="comment"> * for various features in WordPress, such as theme support, post thumbnails, navigation menu, and the like.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Catchresponsive functions and definitions</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @package Catch Themes</span>&nbsp;</div></li><li><div><span class="comment"> * @subpackage Catch Responsive</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! defined( 'CATCHRESPONSIVE_THEME_VERSION' ) ) {&nbsp;</div></li><li><div>  header( 'Status: 403 Forbidden' );&nbsp;</div></li><li><div>  header( 'HTTP/1.1 403 Forbidden' );&nbsp;</div></li><li><div>  exit();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_content_width' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Set the content width in pixels, based on the theme's design and stylesheet.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Priority 0 to make it available to lower priority callbacks.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @global int $content_width</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_content_width() {&nbsp;</div></li><li><div>      $content_width = 780; <span class="comment">/** pixels */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $GLOBALS['content_width'] = apply_filters( 'catchresponsive_content_width', $content_width );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif;&nbsp;</div></li><li><div>add_action( 'after_setup_theme', 'catchresponsive_content_width', 0 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_setup' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Sets up theme defaults and registers support for various WordPress features.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Note that this function is hooked into the after_setup_theme hook, which runs</span>&nbsp;</div></li><li><div><span class="comment">   * before the init hook. The init hook is too late for some features, such as indicating</span>&nbsp;</div></li><li><div><span class="comment">   * support post thumbnails.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_setup() {&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Get Theme Options Values</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Make theme available for translation</span>&nbsp;</div></li><li><div><span class="comment">       * Translations can be filed in the /languages/ directory</span>&nbsp;</div></li><li><div><span class="comment">       * If you're building a theme based on catchresponsive, use a find and replace</span>&nbsp;</div></li><li><div><span class="comment">       * to change 'catch-responsive' to the name of your theme in all the template files</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      load_theme_textdomain( 'catch-responsive', get_template_directory() . '/languages' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Add default posts and comments RSS feed links to head</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      add_theme_support( 'automatic-feed-links' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Enable support for Post Thumbnails on posts and pages</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * @link http://codex.wordpress.org/Function_Reference/add_theme_support#Post_Thumbnails</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      add_theme_support( 'post-thumbnails' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Add Catch Responsive's custom image sizes</span>&nbsp;</div></li><li><div>      add_image_size( 'catchresponsive-slider', 1200, 514, true ); <span class="comment">// Used for Featured slider Ratio 21:9</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      add_image_size( 'catchresponsive-featured-content', 350, 197, true ); <span class="comment">// used in Featured Content Options Ratio 16:9</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Archive Images</span>&nbsp;</div></li><li><div>      add_image_size( 'catchresponsive-featured', 860, 484, true); <span class="comment">// used in Archive Top Ratio 16:9</span>&nbsp;</div></li><li><div>      add_image_size( 'catchresponsive-square', 200, 200, true ); <span class="comment">// used in Archive Left/Right Ratio 1:1</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * This theme uses wp_nav_menu() in one location.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      register_nav_menus( array(&nbsp;</div></li><li><div>          'primary' =&gt; __( 'Primary Menu', 'catch-responsive' ), &nbsp;</div></li><li><div>          'secondary' =&gt; __( 'Secondary Menu', 'catch-responsive' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Enable support for Post Formats</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      add_theme_support( 'post-formats', array( 'aside', 'image', 'video', 'quote', 'link' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Setup the WordPress core custom background feature.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      if ( 'light' == $options['color_scheme'] ) {&nbsp;</div></li><li><div>          $default_bg_color = catchresponsive_get_default_theme_options();&nbsp;</div></li><li><div>          $default_bg_color = $default_bg_color['background_color'];&nbsp;</div></li><li><div>          $default_bg_image = 'body-bg.jpg';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      elseif ( 'dark' == $options['color_scheme'] ) {&nbsp;</div></li><li><div>          $default_bg_color = catchresponsive_default_dark_color_options();&nbsp;</div></li><li><div>          $default_bg_color = $default_bg_color['background_color'];&nbsp;</div></li><li><div>          $default_bg_image = 'body-bg-dark.jpg';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      add_theme_support( 'custom-background', apply_filters( 'catchresponsive_custom_background_args', array(&nbsp;</div></li><li><div>          'default-color' =&gt; $default_bg_color, &nbsp;</div></li><li><div>          'default-image' =&gt; get_template_directory_uri() . '/images/' . $default_bg_image, &nbsp;</div></li><li><div> ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * This theme styles the visual editor to resemble the theme style, </span>&nbsp;</div></li><li><div><span class="comment">       * specifically font, colors, icons, and column width.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      add_editor_style( array( 'css/editor-style.css', catchresponsive_fonts_url() ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Setup title support for theme</span>&nbsp;</div></li><li><div><span class="comment">       * Supported from WordPress version 4.1 onwards</span>&nbsp;</div></li><li><div><span class="comment">       * More Info: https://make.wordpress.org/core/2014/10/29/title-tags-in-4-1/</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      add_theme_support( 'title-tag' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//@remove Remove check when WordPress 4.8 is released</span>&nbsp;</div></li><li><div>      if ( function_exists( 'has_custom_logo' ) ) {&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">          * Setup Custom Logo Support for theme</span>&nbsp;</div></li><li><div><span class="comment">          * Supported from WordPress version 4.5 onwards</span>&nbsp;</div></li><li><div><span class="comment">          * More Info: https://make.wordpress.org/core/2016/03/10/custom-logo/</span>&nbsp;</div></li><li><div><span class="comment">          */</span>&nbsp;</div></li><li><div>          add_theme_support( 'custom-logo' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Setup Infinite Scroll using JetPack if navigation type is set</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $pagination_type = $options['pagination_type'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'infinite-scroll-click' == $pagination_type ) {&nbsp;</div></li><li><div>          add_theme_support( 'infinite-scroll', array(&nbsp;</div></li><li><div>              'type' =&gt; 'click', &nbsp;</div></li><li><div>              'container' =&gt; 'main', &nbsp;</div></li><li><div>              'footer' =&gt; 'page'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      elseif ( 'infinite-scroll-scroll' == $pagination_type ) {&nbsp;</div></li><li><div>          <span class="comment">//Override infinite scroll disable scroll option</span>&nbsp;</div></li><li><div>          update_option('infinite_scroll', true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          add_theme_support( 'infinite-scroll', array(&nbsp;</div></li><li><div>              'type' =&gt; 'scroll', &nbsp;</div></li><li><div>              'container' =&gt; 'main', &nbsp;</div></li><li><div>              'footer' =&gt; 'page'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">// catchresponsive_setup</span>&nbsp;</div></li><li><div>add_action( 'after_setup_theme', 'catchresponsive_setup' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Return the Google font stylesheet URL, if available.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * The use of Open Sans and Droid Sans by default is localized. For languages</span>&nbsp;</div></li><li><div><span class="comment"> * that use characters not supported by the font, the font can be disabled.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string Font stylesheet or empty string if disabled.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_fonts_url() {&nbsp;</div></li><li><div>  $fonts_url = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** Translators: If there are characters in your language that are not</span>&nbsp;</div></li><li><div><span class="comment">   * supported by Open Sans, translate this to 'off'. Do not translate</span>&nbsp;</div></li><li><div><span class="comment">   * into your own language.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $open_sans = _x( 'on', 'Open Sans font: on or off', 'catch-responsive' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** Translators: If there are characters in your language that are not</span>&nbsp;</div></li><li><div><span class="comment">   * supported by Droid Sans, translate this to 'off'. Do not translate into your</span>&nbsp;</div></li><li><div><span class="comment">   * own language.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $droid_sans = _x( 'on', 'Droid Sans font: on or off', 'catch-responsive' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( 'off' !== $open_sans || 'off' !== $droid_sans ) {&nbsp;</div></li><li><div>      $font_families = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'off' !== $open_sans )&nbsp;</div></li><li><div>          $font_families[] = 'Open Sans:300, 400, 700, 300italic, 400italic, 700italic';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'off' !== $droid_sans )&nbsp;</div></li><li><div>          $font_families[] = 'Droid Sans:400, 700';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $query_args = array(&nbsp;</div></li><li><div>          'family' =&gt; urlencode( implode( '|', $font_families ) ), &nbsp;</div></li><li><div>          'subset' =&gt; urlencode( 'latin, latin-ext' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      $fonts_url = add_query_arg( $query_args, &quot;<span class="comment">//fonts.googleapis.com/css&quot; );</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $fonts_url;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Enqueue scripts and styles</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @uses  wp_register_script, wp_enqueue_script, wp_register_style, wp_enqueue_style, wp_localize_script</span>&nbsp;</div></li><li><div><span class="comment"> * @action wp_enqueue_scripts</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_scripts() {&nbsp;</div></li><li><div>  $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Add Source Sans Pro and Bitter fonts, used in the main stylesheet.</span>&nbsp;</div></li><li><div>  wp_enqueue_style( 'catchresponsive-fonts', catchresponsive_fonts_url(), array(), null );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_style( 'catchresponsive-style', get_stylesheet_uri() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_script( 'catchresponsive-navigation', get_template_directory_uri() . '/js/navigation.min.js', array(), '20120206', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Load the html5 shiv.</span>&nbsp;</div></li><li><div>  wp_enqueue_script( 'catchresponsive-html5', get_template_directory_uri() . '/js/html5.min.js', array(), '3.7.3' );&nbsp;</div></li><li><div>  wp_script_add_data( 'catchresponsive-html5', 'conditional', 'lt IE 9' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_script( 'catchresponsive-skip-link-focus-fix', get_template_directory_uri() . '/js/skip-link-focus-fix.min.js', array(), '20130115', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Adds JavaScript to pages with the comment form to support</span>&nbsp;</div></li><li><div><span class="comment">   * sites with threaded comments (when in use).</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( is_singular() && comments_open() && get_option( 'thread_comments' ) ) {&nbsp;</div></li><li><div>      wp_enqueue_script( 'comment-reply' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//For genericons</span>&nbsp;</div></li><li><div>  wp_enqueue_style( 'genericons', get_template_directory_uri() . '/css/genericons/genericons.css', false, '3.4.1' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Enqueue the styles for the current color scheme for catchresponsive.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( $options['color_scheme'] != 'light' ) {&nbsp;</div></li><li><div>      wp_enqueue_style( 'catchresponsive-dark', get_template_directory_uri() . '/css/colors/dark.css', array(), null );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Loads up Responsive Menu</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  wp_enqueue_script( 'jquery-sidr', get_template_directory_uri() . '/js/jquery.sidr.min.js', array('jquery'), '2.2.1.1', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Loads default sidr color scheme styles(Does not require handle prefix)</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( 'dark' == $options['mobile_menu_color_scheme'] ) {&nbsp;</div></li><li><div>      wp_enqueue_style( 'jquery-sidr', get_template_directory_uri() . '/css/jquery.sidr.dark.min.css', false, '2.1.0' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  else {&nbsp;</div></li><li><div>      wp_enqueue_style( 'jquery-sidr', get_template_directory_uri() . '/css/jquery.sidr.light.min.css', false, '2.1.0' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_script( 'jquery-fitvids', get_template_directory_uri() . '/js/fitvids.min.js', array( 'jquery' ), '1.1', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Loads up Cycle JS</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( $options['featured_slider_option'] != 'disabled' ) {&nbsp;</div></li><li><div>      wp_register_script( 'jquery.cycle2', get_template_directory_uri() . '/js/jquery.cycle/jquery.cycle2.min.js', array( 'jquery' ), '2.1.5', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Condition checks for additional slider transition plugins</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      <span class="comment">// Scroll Vertical transition plugin addition</span>&nbsp;</div></li><li><div>      if ( 'scrollVert' ==  $options['featured_slide_transition_effect'] ) {&nbsp;</div></li><li><div>          wp_enqueue_script( 'jquery.cycle2.scrollVert', get_template_directory_uri() . '/js/jquery.cycle/jquery.cycle2.scrollVert.min.js', array( 'jquery.cycle2' ), '20140128', true );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Flip transition plugin addition</span>&nbsp;</div></li><li><div>      elseif ( 'flipHorz' ==  $options['featured_slide_transition_effect'] || 'flipVert' ==  $options['featured_slide_transition_effect'] ) {&nbsp;</div></li><li><div>          wp_enqueue_script( 'jquery.cycle2.flip', get_template_directory_uri() . '/js/jquery.cycle/jquery.cycle2.flip.min.js', array( 'jquery.cycle2' ), '20140128', true );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Shuffle transition plugin addition</span></span>&nbsp;</div></li><li><div>      elseif ( 'tileSlide' ==  $options['featured_slide_transition_effect'] || 'tileBlind' ==  $options['featured_slide_transition_effect'] ) {&nbsp;</div></li><li><div>          wp_enqueue_script( 'jquery.cycle2.tile', get_template_directory_uri() . '/js/jquery.cycle/jquery.cycle2.tile.min.js', array( 'jquery.cycle2' ), '20140128', true );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Shuffle transition plugin addition</span></span>&nbsp;</div></li><li><div>      elseif ( 'shuffle' ==  $options['featured_slide_transition_effect'] ) {&nbsp;</div></li><li><div>          wp_enqueue_script( 'jquery.cycle2.shuffle', get_template_directory_uri() . '/js/jquery.cycle/jquery.cycle2.shuffle.min.js', array( 'jquery.cycle2' ), '20140128 ', true );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          wp_enqueue_script( 'jquery.cycle2' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Loads up Scroll Up script</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  if ( ! $options['disable_scrollup'] ) {&nbsp;</div></li><li><div>      wp_enqueue_script( 'catchresponsive-scrollup', get_template_directory_uri() . '/js/catchresponsive-scrollup.min.js', array( 'jquery' ), '20072014', true );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Enqueue custom script for catchresponsive.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  wp_enqueue_script( 'catchresponsive-custom-scripts', get_template_directory_uri() . '/js/catchresponsive-custom-scripts.min.js', array( 'jquery' ), null );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'wp_enqueue_scripts', 'catchresponsive_scripts' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Enqueue scripts and styles for Metaboxes</span>&nbsp;</div></li><li><div><span class="comment"> * @uses wp_register_script, wp_enqueue_script, and  wp_enqueue_style</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @action admin_print_scripts-post-new, admin_print_scripts-post, admin_print_scripts-page-new, admin_print_scripts-page</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_enqueue_metabox_scripts() {&nbsp;</div></li><li><div>  <span class="comment">//Scripts</span>&nbsp;</div></li><li><div>  wp_enqueue_script( 'catchresponsive-metabox', get_template_directory_uri() . '/js/catchresponsive-metabox.min.js', array( 'jquery', 'jquery-ui-tabs' ), '2013-10-05' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//CSS Styles</span>&nbsp;</div></li><li><div>  wp_enqueue_style( 'catchresponsive-metabox-tabs', get_template_directory_uri() . '/css/catchresponsive-metabox-tabs.css' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'admin_print_scripts-post-new.php', 'catchresponsive_enqueue_metabox_scripts', 11 );&nbsp;</div></li><li><div>add_action( 'admin_print_scripts-post.php', 'catchresponsive_enqueue_metabox_scripts', 11 );&nbsp;</div></li><li><div>add_action( 'admin_print_scripts-page-new.php', 'catchresponsive_enqueue_metabox_scripts', 11 );&nbsp;</div></li><li><div>add_action( 'admin_print_scripts-page.php', 'catchresponsive_enqueue_metabox_scripts', 11 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Default Options.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-default-options.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Custom Header.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-custom-header.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Structure for catchresponsive</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-structure.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Customizer additions.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/customizer-includes/catchresponsive-customizer.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Custom Menus</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-menus.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load Slider file.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-featured-slider.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load Featured Content.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-featured-content.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load Breadcrumb file.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-breadcrumb.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load Widgets and Sidebars</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-widgets.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load Social Icons</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-social-icons.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Load Metaboxes</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>require trailingslashit( get_template_directory() ) . 'inc/catchresponsive-metabox.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the options array for catchresponsive.</span>&nbsp;</div></li><li><div><span class="comment"> * @uses  get_theme_mod</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_get_theme_options() {&nbsp;</div></li><li><div>  $catchresponsive_default_options = catchresponsive_get_default_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return array_merge( $catchresponsive_default_options , get_theme_mod( 'catchresponsive_theme_options', $catchresponsive_default_options ) ) ;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Flush out all transients</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @uses delete_transient</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @action customize_save, catchresponsive_customize_preview (see catchresponsive_customizer function: catchresponsive_customize_preview)</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_flush_transients() {&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_featured_content' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_featured_slider' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment">//@remove Remove version check when WordPress 4.8 is released</span></span>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_favicon' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment">//@remove Remove version check when WordPress 4.8 is released</span></span>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_webclip' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_custom_css' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_footer_content' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_promotion_headline' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_featured_image' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_social_icons' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_scrollup' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'all_the_cool_cats' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//Add Catchresponsive default themes if there is no values</span>&nbsp;</div></li><li><div>  if ( !get_theme_mod('catchresponsive_theme_options') ) {&nbsp;</div></li><li><div>      set_theme_mod( 'catchresponsive_theme_options', catchresponsive_get_default_theme_options() );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'customize_save', 'catchresponsive_flush_transients' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Flush out category transients</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @uses delete_transient</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @action edit_category</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_flush_category_transients() {&nbsp;</div></li><li><div>  delete_transient( 'all_the_cool_cats' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'edit_category', 'catchresponsive_flush_category_transients' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Flush out post related transients</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @uses delete_transient</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @action save_post</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_flush_post_transients() {&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_featured_content' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_featured_slider' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'catchresponsive_featured_image' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  delete_transient( 'all_the_cool_cats' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'save_post', 'catchresponsive_flush_post_transients' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_favicon' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the favicon Image options</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses favicon</span>&nbsp;</div></li><li><div><span class="comment">   * @get the data value of image from options</span>&nbsp;</div></li><li><div><span class="comment">   * @display favicon</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses set_transient</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action wp_head, admin_head</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @remove Remove version check when WordPress 4.8 is released</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_favicon() {&nbsp;</div></li><li><div>      if ( ( !$catchresponsive_favicon = get_transient( 'catchresponsive_favicon' ) ) ) {&nbsp;</div></li><li><div>          $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;!-- refreshing cache --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( isset( $options[ 'favicon' ] ) &&  $options[ 'favicon' ] != '' &&  !empty( $options[ 'favicon' ] ) ) {&nbsp;</div></li><li><div>              <span class="comment">// if not empty fav_icon on options</span>&nbsp;</div></li><li><div>              $catchresponsive_favicon = '&lt;link rel=&quot;shortcut icon&quot; href=&quot;'.esc_url( $options[ 'favicon' ] ).'&quot; type=&quot;image/x-icon&quot; /&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          set_transient( 'catchresponsive_favicon', $catchresponsive_favicon, 86940 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo $catchresponsive_favicon ;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_favicon</span>&nbsp;</div></li><li><div><span class="comment">//Load Favicon in Header Section</span>&nbsp;</div></li><li><div>add_action( 'wp_head', 'catchresponsive_favicon' );&nbsp;</div></li><li><div><span class="comment">//Load Favicon in Admin Section</span>&nbsp;</div></li><li><div>add_action( 'admin_head', 'catchresponsive_favicon' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_web_clip' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the Web Clip Icon Image from options</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses web_clip and remove_web_clip</span>&nbsp;</div></li><li><div><span class="comment">   * @get the data value of image from theme options</span>&nbsp;</div></li><li><div><span class="comment">   * @display web clip</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses default Web Click Icon if web_clip field on theme options is empty</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses set_transient and delete_transient</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action wp_head</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @remove Remove version check when WordPress 4.8 is released</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_web_clip() {&nbsp;</div></li><li><div>      if ( ( !$catchresponsive_web_clip = get_transient( 'catchresponsive_web_clip' ) ) ) {&nbsp;</div></li><li><div>          $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;!-- refreshing cache --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( isset( $options[ 'web_clip' ] ) &&  $options[ 'web_clip' ] != '' &&  !empty( $options[ 'web_clip' ] ) ) {&nbsp;</div></li><li><div>              $catchresponsive_web_clip = '&lt;link rel=&quot;apple-touch-icon-precomposed&quot; href=&quot;'.esc_url( $options[ 'web_clip' ] ).'&quot; /&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          set_transient( 'catchresponsive_web_clip', $catchresponsive_web_clip, 86940 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo $catchresponsive_web_clip ;&nbsp;</div></li><li><div>  } <span class="comment">// catchresponsive_web_clips</span>&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_web_clip</span>&nbsp;</div></li><li><div><span class="comment">//Load Catchresponsive Icon in Header Section</span>&nbsp;</div></li><li><div>add_action('wp_head', 'catchresponsive_web_clip');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_custom_css' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Enqueue Custon CSS</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses  set_transient, wp_head, wp_enqueue_style</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action wp_enqueue_scripts</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_custom_css() {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">//catchresponsive_flush_transients();</span></span></span>&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = catchresponsive_get_default_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ( !$catchresponsive_custom_css = get_transient( 'catchresponsive_custom_css' ) ) ) {&nbsp;</div></li><li><div>          $catchresponsive_custom_css ='';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Has the text been hidden?</span>&nbsp;</div></li><li><div>          if ( ! display_header_text() ) {&nbsp;</div></li><li><div>              $catchresponsive_custom_css    .=  &quot;.site-title a, .site-description { position: absolute !important; clip: rect(1px 1px 1px 1px); clip: rect(1px, 1px, 1px, 1px); }&quot;. &quot;\n&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">//Custom CSS Option</span>&nbsp;</div></li><li><div>          if ( !empty( $options[ 'custom_css' ] ) ) {&nbsp;</div></li><li><div>              $catchresponsive_custom_css    .=  $options['custom_css'] . &quot;\n&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( '' != $catchresponsive_custom_css ) {&nbsp;</div></li><li><div>              echo '&lt;!-- refreshing cache --&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $catchresponsive_custom_css = '&lt;!-- '.get_bloginfo('name').' inline CSS Styles --&gt;' . &quot;\n&quot; . '&lt;style type=&quot;text/css&quot; media=&quot;screen&quot;&gt;' . &quot;\n&quot; . $catchresponsive_custom_css;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $catchresponsive_custom_css .= '&lt;/style&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          set_transient( 'catchresponsive_custom_css', htmlspecialchars_decode( $catchresponsive_custom_css ), 86940 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo $catchresponsive_custom_css;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_custom_css</span>&nbsp;</div></li><li><div>add_action( 'wp_head', 'catchresponsive_custom_css', 101 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_content_nav' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display navigation to next/previous pages when applicable</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_content_nav( $nav_id ) {&nbsp;</div></li><li><div>      global $wp_query, $post;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Don't print empty markup on single pages if there's nowhere to navigate.</span>&nbsp;</div></li><li><div>      if ( is_single() ) {&nbsp;</div></li><li><div>          $previous = ( is_attachment() ) ? get_post( $post-&gt;post_parent ) : get_adjacent_post( false, '', true );&nbsp;</div></li><li><div>          $next = get_adjacent_post( false, '', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! $next && ! $previous )&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Don't print empty markup in archives if there's only one page.</span>&nbsp;</div></li><li><div>      if ( $wp_query-&gt;max_num_pages &lt; 2 && ( is_home() || is_archive() || is_search() ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $pagination_type = $options['pagination_type'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $nav_class = ( is_single() ) ? 'site-navigation post-navigation' : 'site-navigation paging-navigation';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Check if navigation type is Jetpack Infinite Scroll and if it is enabled, else goto default pagination</span>&nbsp;</div></li><li><div><span class="comment">       * if it's active then disable pagination</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      if ( ( 'infinite-scroll-click' == $pagination_type || 'infinite-scroll-scroll' == $pagination_type ) && class_exists( 'Jetpack' ) && Jetpack::is_module_active( 'infinite-scroll' ) ) {&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>          &lt;nav role=&quot;navigation&quot; id=&quot;&lt;?php echo esc_attr( $nav_id ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>              &lt;h3 class=&quot;screen-reader-text&quot;&gt;&lt;?php _e( 'Post navigation', 'catch-responsive' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">               * Check if navigation type is numeric and if Wp-PageNavi Plugin is enabled</span>&nbsp;</div></li><li><div><span class="comment">               */</span>&nbsp;</div></li><li><div>              if ( 'numeric' == $pagination_type && function_exists( 'wp_pagenavi' ) ) {&nbsp;</div></li><li><div>                  wp_pagenavi();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              else { ?&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;nav-previous&quot;&gt;&lt;?php next_posts_link( __( '&lt;span class=&quot;meta-nav&quot;&gt;&larr;&lt;/span&gt; Older posts', 'catch-responsive' ) ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;nav-next&quot;&gt;&lt;?php previous_posts_link( __( 'Newer posts &lt;span class=&quot;meta-nav&quot;&gt;&rarr;&lt;/span&gt;', 'catch-responsive' ) ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              } ?&gt;&nbsp;</div></li><li><div>          &lt;/nav&gt;&lt;!-- #nav --&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">// catchresponsive_content_nav</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_comment' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Template for comments and pingbacks.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Used as a callback by wp_list_comments() for displaying the comments.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_comment( $comment, $args, $depth ) {&nbsp;</div></li><li><div>      $GLOBALS['comment'] = $comment;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'pingback' == $comment-&gt;comment_type || 'trackback' == $comment-&gt;comment_type ) : ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;li id=&quot;comment-&lt;?php comment_ID(); ?&gt;&quot; &lt;?php comment_class(); ?&gt;&gt;&nbsp;</div></li><li><div>          &lt;div class=&quot;comment-body&quot;&gt;&nbsp;</div></li><li><div>              &lt;?php _e( 'Pingback:', 'catch-responsive' ); ?&gt; &lt;?php comment_author_link(); ?&gt; &lt;?php edit_comment_link( __( 'Edit', 'catch-responsive' ), '&lt;span class=&quot;edit-link&quot;&gt;', '&lt;/span&gt;' ); ?&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;?php else : ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;li id=&quot;comment-&lt;?php comment_ID(); ?&gt;&quot; &lt;?php comment_class( empty( $args['has_children'] ) ? '' : 'parent' ); ?&gt;&gt;&nbsp;</div></li><li><div>          &lt;article id=&quot;div-comment-&lt;?php comment_ID(); ?&gt;&quot; class=&quot;comment-body&quot;&gt;&nbsp;</div></li><li><div>              &lt;footer class=&quot;comment-meta&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;comment-author vcard&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php if ( 0 != $args['avatar_size'] ) echo get_avatar( $comment, $args['avatar_size'] ); ?&gt;&nbsp;</div></li><li><div>                      &lt;?php printf( __( '%s &lt;span class=&quot;says&quot;&gt;says:&lt;/span&gt;', 'catch-responsive' ), sprintf( '&lt;cite class=&quot;fn&quot;&gt;%s&lt;/cite&gt;', get_comment_author_link() ) ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&lt;!-- .comment-author --&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;div class=&quot;comment-metadata&quot;&gt;&nbsp;</div></li><li><div>                      &lt;a href=&quot;&lt;?php echo esc_url( get_comment_link( $comment-&gt;comment_ID ) ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                          &lt;time datetime=&quot;&lt;?php comment_time( 'c' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                              &lt;?php printf( _x( '%1$s at %2$s', '1: date, 2: time', 'catch-responsive' ), get_comment_date(), get_comment_time() ); ?&gt;&nbsp;</div></li><li><div>                          &lt;/time&gt;&nbsp;</div></li><li><div>                      &lt;/a&gt;&nbsp;</div></li><li><div>                      &lt;?php edit_comment_link( __( 'Edit', 'catch-responsive' ), '&lt;span class=&quot;edit-link&quot;&gt;', '&lt;/span&gt;' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&lt;!-- .comment-metadata --&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php if ( '0' == $comment-&gt;comment_approved ) : ?&gt;&nbsp;</div></li><li><div>                  &lt;p class=&quot;comment-awaiting-moderation&quot;&gt;&lt;?php _e( 'Your comment is awaiting moderation.', 'catch-responsive' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                  &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>              &lt;/footer&gt;&lt;!-- .comment-meta --&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;div class=&quot;comment-content&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php comment_text(); ?&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&lt;!-- .comment-content --&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>                  comment_reply_link( array_merge( $args, array(&nbsp;</div></li><li><div>                      'add_below' =&gt; 'div-comment', &nbsp;</div></li><li><div>                      'depth' =&gt; $depth, &nbsp;</div></li><li><div>                      'max_depth' =&gt; $args['max_depth'], &nbsp;</div></li><li><div>                      'before' =&gt; '&lt;div class=&quot;reply&quot;&gt;', &nbsp;</div></li><li><div>                      'after' =&gt; '&lt;/div&gt;', &nbsp;</div></li><li><div> ) ) );&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>          &lt;/article&gt;&lt;!-- .comment-body --&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>      endif;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">// catchresponsive_comment()</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_the_attached_image' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Prints the attached image with a link to the next attached image.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_the_attached_image() {&nbsp;</div></li><li><div>      $post = get_post();&nbsp;</div></li><li><div>      $attachment_size = apply_filters( 'catchresponsive_attachment_size', array( 1200, 1200 ) );&nbsp;</div></li><li><div>      $next_attachment_url = wp_get_attachment_url();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Grab the IDs of all the image attachments in a gallery so we can get the</span>&nbsp;</div></li><li><div><span class="comment">       * URL of the next adjacent image in a gallery, or the first image (if</span>&nbsp;</div></li><li><div><span class="comment">       * we're looking at the last image in a gallery), or, in a gallery of one, </span>&nbsp;</div></li><li><div><span class="comment">       * just the link to that image file.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $attachment_ids = get_posts( array(&nbsp;</div></li><li><div>          'post_parent' =&gt; $post-&gt;post_parent, &nbsp;</div></li><li><div>          'fields' =&gt; 'ids', &nbsp;</div></li><li><div>          'numberposts' =&gt; 1, &nbsp;</div></li><li><div>          'post_status' =&gt; 'inherit', &nbsp;</div></li><li><div>          'post_type' =&gt; 'attachment', &nbsp;</div></li><li><div>          'post_mime_type' =&gt; 'image', &nbsp;</div></li><li><div>          'order' =&gt; 'ASC', &nbsp;</div></li><li><div>          'orderby' =&gt; 'menu_order ID'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// If there is more than 1 attachment in a gallery...</span>&nbsp;</div></li><li><div>      if ( count( $attachment_ids ) &gt; 1 ) {&nbsp;</div></li><li><div>          foreach ( $attachment_ids as $attachment_id ) {&nbsp;</div></li><li><div>              if ( $attachment_id == $post-&gt;ID ) {&nbsp;</div></li><li><div>                  $next_id = current( $attachment_ids );&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// get the URL of the next image attachment...</span>&nbsp;</div></li><li><div>          if ( $next_id )&nbsp;</div></li><li><div>              $next_attachment_url = get_attachment_link( $next_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// or get the URL of the first image attachment.</span>&nbsp;</div></li><li><div>          else&nbsp;</div></li><li><div>              $next_attachment_url = get_attachment_link( array_shift( $attachment_ids ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      printf( '&lt;a href=&quot;%1$s&quot; title=&quot;%2$s&quot; rel=&quot;attachment&quot;&gt;%3$s&lt;/a&gt;', &nbsp;</div></li><li><div>          esc_url( $next_attachment_url ), &nbsp;</div></li><li><div>          the_title_attribute( array( 'echo' =&gt; false ) ), &nbsp;</div></li><li><div>          wp_get_attachment_image( $post-&gt;ID, $attachment_size )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_the_attached_image</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_entry_meta' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Prints HTML with meta information for the current post-date/time and author.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_entry_meta() {&nbsp;</div></li><li><div>      echo '&lt;p class=&quot;entry-meta&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $time_string = '&lt;time class=&quot;entry-date published updated&quot; datetime=&quot;%1$s&quot;&gt;%2$s&lt;/time&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( get_the_time( 'U' ) !== get_the_modified_time( 'U' ) ) {&nbsp;</div></li><li><div>          $time_string = '&lt;time class=&quot;entry-date published&quot; datetime=&quot;%1$s&quot;&gt;%2$s&lt;/time&gt;&lt;time class=&quot;updated&quot; datetime=&quot;%3$s&quot;&gt;%4$s&lt;/time&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $time_string = sprintf( $time_string, &nbsp;</div></li><li><div>          esc_attr( get_the_date( 'c' ) ), &nbsp;</div></li><li><div>          esc_html( get_the_date() ), &nbsp;</div></li><li><div>          esc_attr( get_the_modified_date( 'c' ) ), &nbsp;</div></li><li><div>          esc_html( get_the_modified_date() )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      printf( '&lt;span class=&quot;posted-on&quot;&gt;%1$s&lt;a href=&quot;%2$s&quot; rel=&quot;bookmark&quot;&gt;%3$s&lt;/a&gt;&lt;/span&gt;', &nbsp;</div></li><li><div>          sprintf( __( '&lt;span class=&quot;screen-reader-text&quot;&gt;Posted on&lt;/span&gt;', 'catch-responsive' ) ), &nbsp;</div></li><li><div>          esc_url( get_permalink() ), &nbsp;</div></li><li><div>          $time_string&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_singular() || is_multi_author() ) {&nbsp;</div></li><li><div>          printf( '&lt;span class=&quot;byline&quot;&gt;&lt;span class=&quot;author vcard&quot;&gt;%1$s&lt;a class=&quot;url fn n&quot; href=&quot;%2$s&quot;&gt;%3$s&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;', &nbsp;</div></li><li><div>              sprintf( __( '&lt;span class=&quot;screen-reader-text&quot;&gt;Author&lt;/span&gt;', 'catch-responsive' ) ), &nbsp;</div></li><li><div>              esc_url( get_author_posts_url( get_the_author_meta( 'ID' ) ) ), &nbsp;</div></li><li><div>              esc_html( get_the_author() )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! post_password_required() && ( comments_open() || '0' != get_comments_number() ) ) {&nbsp;</div></li><li><div>          echo '&lt;span class=&quot;comments-link&quot;&gt;';&nbsp;</div></li><li><div>          comments_popup_link( esc_html__( 'Leave a comment', 'catch-responsive' ), esc_html__( '1 Comment', 'catch-responsive' ), esc_html__( '% Comments', 'catch-responsive' ) );&nbsp;</div></li><li><div>          echo '&lt;/span&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      edit_post_link( esc_html__( 'Edit', 'catch-responsive' ), '&lt;span class=&quot;edit-link&quot;&gt;', '&lt;/span&gt;' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo '&lt;/p&gt;&lt;!-- .entry-meta --&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_entry_meta</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_tag_category' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Prints HTML with meta information for the categories, tags.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_tag_category() {&nbsp;</div></li><li><div>      echo '&lt;p class=&quot;entry-meta&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'post' == get_post_type() ) {&nbsp;</div></li><li><div>          $categories_list = get_the_category_list( _x( ', ', 'Used between list items, there is a space after the comma.', 'catch-responsive' ) );&nbsp;</div></li><li><div>          if ( $categories_list && catchresponsive_categorized_blog() ) {&nbsp;</div></li><li><div>              printf( '&lt;span class=&quot;cat-links&quot;&gt;%1$s%2$s&lt;/span&gt;', &nbsp;</div></li><li><div>                  sprintf( _x( '&lt;span class=&quot;screen-reader-text&quot;&gt;Categories&lt;/span&gt;', 'Used before category names.', 'catch-responsive' ) ), &nbsp;</div></li><li><div>                  $categories_list&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $tags_list = get_the_tag_list( '', _x( ', ', 'Used between list items, there is a space after the comma.', 'catch-responsive' ) );&nbsp;</div></li><li><div>          if ( $tags_list ) {&nbsp;</div></li><li><div>              printf( '&lt;span class=&quot;tags-links&quot;&gt;%1$s%2$s&lt;/span&gt;', &nbsp;</div></li><li><div>                  sprintf( _x( '&lt;span class=&quot;screen-reader-text&quot;&gt;Tags&lt;/span&gt;', 'Used before tag names.', 'catch-responsive' ) ), &nbsp;</div></li><li><div>                  $tags_list&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo '&lt;/p&gt;&lt;!-- .entry-meta --&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_tag_category</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_categorized_blog' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Returns true if a blog has more than 1 category</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_categorized_blog() {&nbsp;</div></li><li><div>      if ( false === ( $all_the_cool_cats = get_transient( 'all_the_cool_cats' ) ) ) {&nbsp;</div></li><li><div>          <span class="comment">// Create an array of all the categories that are attached to posts</span>&nbsp;</div></li><li><div>          $all_the_cool_cats = get_categories( array(&nbsp;</div></li><li><div>              'hide_empty' =&gt; 1, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Count the number of categories that are attached to the posts</span>&nbsp;</div></li><li><div>          $all_the_cool_cats = count( $all_the_cool_cats );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          set_transient( 'all_the_cool_cats', $all_the_cool_cats );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( '1' != $all_the_cool_cats ) {&nbsp;</div></li><li><div>          <span class="comment">// This blog has more than 1 category so catchresponsive_categorized_blog should return true</span>&nbsp;</div></li><li><div>          return true;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          <span class="comment">// This blog has only 1 category so catchresponsive_categorized_blog should return false</span>&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_categorized_blog</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get our wp_nav_menu() fallback, wp_page_menu(), to show a home link.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_page_menu_args( $args ) {&nbsp;</div></li><li><div>  $args['show_home'] = true;&nbsp;</div></li><li><div>  return $args;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_filter( 'wp_page_menu_args', 'catchresponsive_page_menu_args' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Filter in a link to a content ID attribute for the next/previous image links on image attachment pages</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_enhanced_image_navigation( $url, $id ) {&nbsp;</div></li><li><div>  if ( ! is_attachment() && ! wp_attachment_is_image( $id ) )&nbsp;</div></li><li><div>      return $url;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $image = get_post( $id );&nbsp;</div></li><li><div>  if ( ! empty( $image-&gt;post_parent ) && $image-&gt;post_parent != $id )&nbsp;</div></li><li><div>      $url .= '#main';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $url;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_filter( 'attachment_link', 'catchresponsive_enhanced_image_navigation', 10, 2 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Count the number of footer sidebars to enable dynamic classes for the footer</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_footer_sidebar_class() {&nbsp;</div></li><li><div>  $count = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_active_sidebar( 'footer-1' ) )&nbsp;</div></li><li><div>      $count++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_active_sidebar( 'footer-2' ) )&nbsp;</div></li><li><div>      $count++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_active_sidebar( 'footer-3' ) )&nbsp;</div></li><li><div>      $count++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_active_sidebar( 'footer-4' ) )&nbsp;</div></li><li><div>      $count++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $class = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  switch ( $count ) {&nbsp;</div></li><li><div>      case '1':&nbsp;</div></li><li><div>          $class = 'one';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case '2':&nbsp;</div></li><li><div>          $class = 'two';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case '3':&nbsp;</div></li><li><div>          $class = 'three';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case '4':&nbsp;</div></li><li><div>          $class = 'four';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $class )&nbsp;</div></li><li><div>      echo 'class=&quot;' . $class . '&quot;';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_excerpt_length' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Sets the post excerpt length to n words.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * function tied to the excerpt_length filter hook.</span>&nbsp;</div></li><li><div><span class="comment">   * @uses filter excerpt_length</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_excerpt_length( $length ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Getting data from Customizer Options</span></span>&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>      $length = $options['excerpt_length'];&nbsp;</div></li><li><div>      return $length;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_excerpt_length</span>&nbsp;</div></li><li><div>add_filter( 'excerpt_length', 'catchresponsive_excerpt_length' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_continue_reading' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Returns a &quot;Custom Continue Reading&quot; link for excerpts</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_continue_reading() {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Getting data from Customizer Options</span></span>&nbsp;</div></li><li><div>      $options =    catchresponsive_get_theme_options();&nbsp;</div></li><li><div>      $more_tag_text = $options['excerpt_more_text'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return ' &lt;a class=&quot;more-link&quot; href=&quot;'. esc_url( get_permalink() ) . '&quot;&gt;' .  sprintf( __( '%s', 'catch-responsive' ) , $more_tag_text ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_continue_reading</span>&nbsp;</div></li><li><div>add_filter( 'excerpt_more', 'catchresponsive_continue_reading' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_excerpt_more' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Replaces &quot;[...]&quot; (appended to automatically generated excerpts) with catchresponsive_continue_reading().</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_excerpt_more( $more ) {&nbsp;</div></li><li><div>      return catchresponsive_continue_reading();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_excerpt_more</span>&nbsp;</div></li><li><div>add_filter( 'excerpt_more', 'catchresponsive_excerpt_more' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_custom_excerpt' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Adds Continue Reading link to more tag excerpts.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * function tied to the get_the_excerpt filter hook.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_custom_excerpt( $output ) {&nbsp;</div></li><li><div>      if ( has_excerpt() && ! is_attachment() ) {&nbsp;</div></li><li><div>          $output .= catchresponsive_continue_reading();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $output;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_custom_excerpt</span>&nbsp;</div></li><li><div>add_filter( 'get_the_excerpt', 'catchresponsive_custom_excerpt' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_more_link' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Replacing Continue Reading link to the_content more.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * function tied to the the_content_more_link filter hook.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_more_link( $more_link, $more_link_text ) {&nbsp;</div></li><li><div>       $options =    catchresponsive_get_theme_options();&nbsp;</div></li><li><div>      $more_tag_text = $options['excerpt_more_text'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return str_replace( $more_link_text, $more_tag_text, $more_link );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_more_link</span>&nbsp;</div></li><li><div>add_filter( 'the_content_more_link', 'catchresponsive_more_link', 10, 2 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_body_classes' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Adds Catchresponsive layout classes to the array of body classes.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_body_classes( $classes ) {&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Adds a class of group-blog to blogs with more than 1 published author</span>&nbsp;</div></li><li><div>      if ( is_multi_author() ) {&nbsp;</div></li><li><div>          $classes[] = 'group-blog';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $layout = catchresponsive_get_theme_layout();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      switch ( $layout ) {&nbsp;</div></li><li><div>          case 'left-sidebar':&nbsp;</div></li><li><div>              $classes[] = 'two-columns content-right';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          case 'right-sidebar':&nbsp;</div></li><li><div>              $classes[] = 'two-columns content-left';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          case 'no-sidebar':&nbsp;</div></li><li><div>              $classes[] = 'no-sidebar content-width';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          case 'no-sidebar-one-column':&nbsp;</div></li><li><div>              $classes[] = 'no-sidebar one-column';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          case 'no-sidebar-full-width':&nbsp;</div></li><li><div>              $classes[] = 'no-sidebar full-width';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( &quot;&quot; != $options['content_layout'] ) {&nbsp;</div></li><li><div>          $classes[] = $options['content_layout'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Count number of menus avaliable and set class accordingly</span>&nbsp;</div></li><li><div>      $mobile_menu_count = 1; <span class="comment">// For primary menu</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( has_nav_menu( 'secondary' ) ) {&nbsp;</div></li><li><div>          $mobile_menu_count++;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( has_nav_menu( 'header-right' ) ) {&nbsp;</div></li><li><div>          $mobile_menu_count++;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      switch ( $mobile_menu_count ) {&nbsp;</div></li><li><div>          case 1:&nbsp;</div></li><li><div>              $classes[] = 'mobile-menu-one';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          case 2:&nbsp;</div></li><li><div>              $classes[] = 'mobile-menu-two';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          case 3:&nbsp;</div></li><li><div>              $classes[] = 'mobile-menu-three';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $classes = apply_filters( 'catchresponsive_body_classes', $classes );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $classes;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_body_classes</span>&nbsp;</div></li><li><div>add_filter( 'body_class', 'catchresponsive_body_classes' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_get_theme_layout' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Returns Theme Layout prioritizing the meta box layouts</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses  get_theme_mod</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action wp_head</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 3.8.1</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_get_theme_layout() {&nbsp;</div></li><li><div>      $id = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $post, $wp_query;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Front page displays in Reading Settings</span></span>&nbsp;</div></li><li><div>      $page_on_front = get_option('page_on_front') ;&nbsp;</div></li><li><div>      $page_for_posts = get_option('page_for_posts');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Get Page ID outside Loop</span></span></span>&nbsp;</div></li><li><div>      $page_id = $wp_query-&gt;get_queried_object_id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Blog Page or Front Page setting in Reading Settings</span>&nbsp;</div></li><li><div>      if ( $page_id == $page_for_posts || $page_id == $page_on_front ) {&nbsp;</div></li><li><div>          $id = $page_id;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      elseif ( is_singular() ) {&nbsp;</div></li><li><div>           if ( is_attachment() ) {&nbsp;</div></li><li><div>              $id = $post-&gt;post_parent;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          else {&nbsp;</div></li><li><div>              $id = $post-&gt;ID;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Get appropriate metabox value of layout</span>&nbsp;</div></li><li><div>      if ( '' != $id ) {&nbsp;</div></li><li><div>          $layout = get_post_meta( $id, 'catchresponsive-layout-option', true );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          $layout = 'default';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Load options data</span>&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//check empty and load default</span>&nbsp;</div></li><li><div>      if ( empty( $layout ) || 'default' == $layout ) {&nbsp;</div></li><li><div>          $layout = $options['theme_layout'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $layout;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_get_theme_layout</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_archive_content_image' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Template for Featured Image in Archive Content</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * To override this in a child theme</span>&nbsp;</div></li><li><div><span class="comment">   * simply create your own catchresponsive_archive_content_image(), and that function will be used instead.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_archive_content_image() {&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $featured_image = $options['content_layout'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( has_post_thumbnail() && 'excerpt-image-left' == $featured_image ) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>          &lt;figure class=&quot;featured-image&quot;&gt;&nbsp;</div></li><li><div>              &lt;a rel=&quot;bookmark&quot; href=&quot;&lt;?php the_permalink(); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      the_post_thumbnail( 'catchresponsive-square' );&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/a&gt;&nbsp;</div></li><li><div>          &lt;/figure&gt;&nbsp;</div></li><li><div>         &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_archive_content_image</span>&nbsp;</div></li><li><div>add_action( 'catchresponsive_before_entry_container', 'catchresponsive_archive_content_image', 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_single_content_image' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Template for Featured Image in Single Post</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * To override this in a child theme</span>&nbsp;</div></li><li><div><span class="comment">   * simply create your own catchresponsive_single_content_image(), and that function will be used instead.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_single_content_image() {&nbsp;</div></li><li><div>      global $post, $wp_query;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Getting data from Theme Options</span>&nbsp;</div></li><li><div>         $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $featured_image = $options['single_post_image_layout'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Get Page ID outside Loop</span></span></span>&nbsp;</div></li><li><div>      $page_id = $wp_query-&gt;get_queried_object_id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $post ) {&nbsp;</div></li><li><div>           if ( is_attachment() ) {&nbsp;</div></li><li><div>              $parent = $post-&gt;post_parent;&nbsp;</div></li><li><div>              $individual_featured_image = get_post_meta( $parent, 'catchresponsive-featured-image', true );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $individual_featured_image = get_post_meta( $page_id, 'catchresponsive-featured-image', true );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( empty( $individual_featured_image ) || ( !is_page() && !is_single() ) ) {&nbsp;</div></li><li><div>          $individual_featured_image = 'default';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ( 'disable' == $individual_featured_image || '' == get_the_post_thumbnail() || ( $individual_featured_image=='default' && 'disabled' == $featured_image) ) ) {&nbsp;</div></li><li><div>          echo '&lt;!-- Page/Post Single Image Disabled or No Image set in Post Thumbnail --&gt;';&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          $class = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( 'default' == $individual_featured_image ) {&nbsp;</div></li><li><div>              $class = $featured_image;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          else {&nbsp;</div></li><li><div>              $class = 'from-metabox ' . $individual_featured_image;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>          &lt;figure class=&quot;featured-image &lt;?php echo $class; ?&gt;&quot;&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              if ( 'featured' == $individual_featured_image || ( $individual_featured_image=='default' && 'featured' == $featured_image ) ) {&nbsp;</div></li><li><div>                  the_post_thumbnail( 'catchresponsive-featured' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              else {&nbsp;</div></li><li><div>                  the_post_thumbnail( 'full' );&nbsp;</div></li><li><div>              } ?&gt;&nbsp;</div></li><li><div>          &lt;/figure&gt;&nbsp;</div></li><li><div>         &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_single_content_image</span>&nbsp;</div></li><li><div>add_action( 'catchresponsive_before_post_container', 'catchresponsive_single_content_image', 10 );&nbsp;</div></li><li><div>add_action( 'catchresponsive_before_page_container', 'catchresponsive_single_content_image', 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_get_comment_section' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Comment Section</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @display comments_template</span>&nbsp;</div></li><li><div><span class="comment">   * @action catchresponsive_comment_section</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_get_comment_section() {&nbsp;</div></li><li><div>      if ( comments_open() || '0' != get_comments_number() )&nbsp;</div></li><li><div>          comments_template();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif;&nbsp;</div></li><li><div>add_action( 'catchresponsive_comment_section', 'catchresponsive_get_comment_section', 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_promotion_headline' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Template for Promotion Headline</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * To override this in a child theme</span>&nbsp;</div></li><li><div><span class="comment">   * simply create your own catchresponsive_promotion_headline(), and that function will be used instead.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses catchresponsive_before_main action to add it in the header</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_promotion_headline() {&nbsp;</div></li><li><div>      <span class="comment">//delete_transient( 'catchresponsive_promotion_headline' );</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $post, $wp_query;&nbsp;</div></li><li><div>         $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $promotion_headline = $options['promotion_headline'];&nbsp;</div></li><li><div>      $promotion_subheadline = $options['promotion_subheadline'];&nbsp;</div></li><li><div>      $promotion_headline_button = $options['promotion_headline_button'];&nbsp;</div></li><li><div>      $promotion_headline_target = $options['promotion_headline_target'];&nbsp;</div></li><li><div>      $enablepromotion = $options['promotion_headline_option'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//support qTranslate plugin</span>&nbsp;</div></li><li><div>      if ( function_exists( 'qtrans_convertURL' ) ) {&nbsp;</div></li><li><div>          $promotion_headline_url = qtrans_convertURL($options[ 'promotion_headline_url' ]);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          $promotion_headline_url = $options[ 'promotion_headline_url' ];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Front page displays in Reading Settings</span></span>&nbsp;</div></li><li><div>      $page_on_front = get_option( 'page_on_front' ) ;&nbsp;</div></li><li><div>      $page_for_posts = get_option('page_for_posts');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Get Page ID outside Loop</span></span></span>&nbsp;</div></li><li><div>      $page_id = $wp_query-&gt;get_queried_object_id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>       if ( ( &quot;&quot; != $promotion_headline || &quot;&quot; != $promotion_subheadline || &quot;&quot; != $promotion_headline_url ) && ( 'entire-site' == $enablepromotion || ( ( is_front_page() || ( is_home() && $page_for_posts != $page_id ) ) && 'homepage' == $enablepromotion ) ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( !$catchresponsive_promotion_headline = get_transient( 'catchresponsive_promotion_headline' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo '&lt;!-- refreshing cache --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $catchresponsive_promotion_headline = '&nbsp;</div></li><li><div>              &lt;div id=&quot;promotion-message&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;wrapper&quot;&gt;&nbsp;</div></li><li><div>                      &lt;div class=&quot;section left&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      if ( &quot;&quot; != $promotion_headline ) {&nbsp;</div></li><li><div>                          $catchresponsive_promotion_headline .= '&lt;h2&gt;' . $promotion_headline . '&lt;/h2&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      if ( &quot;&quot; != $promotion_subheadline ) {&nbsp;</div></li><li><div>                          $catchresponsive_promotion_headline .= '&lt;p&gt;' . $promotion_subheadline . '&lt;/p&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      $catchresponsive_promotion_headline .= '&nbsp;</div></li><li><div>                      &lt;/div&gt;&lt;!-- .section.left --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      if ( &quot;&quot; != $promotion_headline_url ) {&nbsp;</div></li><li><div>                          if ( &quot;1&quot; == $promotion_headline_target ) {&nbsp;</div></li><li><div>                              $headlinetarget = '_blank';&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          else {&nbsp;</div></li><li><div>                              $headlinetarget = '_self';&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          $catchresponsive_promotion_headline .= '&nbsp;</div></li><li><div>                          &lt;div class=&quot;section right&quot;&gt;&nbsp;</div></li><li><div>                              &lt;a class=&quot;promotion-button&quot; href=&quot;' . esc_url( $promotion_headline_url ) . '&quot; target=&quot;' . $headlinetarget . '&quot;&gt;' . esc_attr( $promotion_headline_button ) . '&nbsp;</div></li><li><div>                              &lt;/a&gt;&nbsp;</div></li><li><div>                          &lt;/div&gt;&lt;!-- .section.right --&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $catchresponsive_promotion_headline .= '&nbsp;</div></li><li><div>                  &lt;/div&gt;&lt;!-- .wrapper --&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&lt;!-- #promotion-message --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              set_transient( 'catchresponsive_promotion_headline', $catchresponsive_promotion_headline, 86940 );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo $catchresponsive_promotion_headline;&nbsp;</div></li><li><div>       }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">// catchresponsive_promotion_featured_content</span>&nbsp;</div></li><li><div>add_action( 'catchresponsive_before_content', 'catchresponsive_promotion_headline', 30 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Footer Text</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @get footer text from theme options and display them accordingly</span>&nbsp;</div></li><li><div><span class="comment"> * @display footer_text</span>&nbsp;</div></li><li><div><span class="comment"> * @action catchresponsive_footer</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_footer_content() {&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment">//catchresponsive_flush_transients();</span></span></span>&nbsp;</div></li><li><div>  if ( ( !$catchresponsive_footer_content = get_transient( 'catchresponsive_footer_content' ) ) ) {&nbsp;</div></li><li><div>      echo '&lt;!-- refreshing cache --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $catchresponsive_content = catchresponsive_get_content();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $catchresponsive_footer_content =  '&nbsp;</div></li><li><div>      &lt;div id=&quot;site-generator&quot;&gt;&nbsp;</div></li><li><div>          &lt;div class=&quot;wrapper&quot;&gt;&nbsp;</div></li><li><div>              &lt;div id=&quot;footer-content&quot; class=&quot;copyright&quot;&gt;'&nbsp;</div></li><li><div>                  . $catchresponsive_content['left'] . ' &#124; ' . $catchresponsive_content['right'] .&nbsp;</div></li><li><div>              '&lt;/div&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&lt;!-- .wrapper --&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&lt;!-- #site-generator --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      set_transient( 'catchresponsive_footer_content', $catchresponsive_footer_content, 86940 );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  echo $catchresponsive_footer_content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'catchresponsive_footer', 'catchresponsive_footer_content', 100 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Return the first image in a post. Works inside a loop.</span>&nbsp;</div></li><li><div><span class="comment"> * @param [integer] $post_id [Post or page id]</span>&nbsp;</div></li><li><div><span class="comment"> * @param [string/array] $size Image size. Either a string keyword (thumbnail, medium, large or full) or a 2-item array representing width and height in pixels, e.g. array(32, 32).</span>&nbsp;</div></li><li><div><span class="comment"> * @param [string/array] $attr Query string or array of attributes.</span>&nbsp;</div></li><li><div><span class="comment"> * @return [string] image html</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since Catch Responsive 1.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function catchresponsive_get_first_image( $postID, $size, $attr ) {&nbsp;</div></li><li><div>  ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  ob_end_clean();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $image = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $output = preg_match_all('/&lt;img.+src=[\'&quot;]([^\'&quot;]+)[\'&quot;].*&gt;/i', get_post_field('post_content', $postID ) , $matches);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( isset( $matches [1] [0] ) ) {&nbsp;</div></li><li><div>      <span class="comment">//Get first image</span>&nbsp;</div></li><li><div>      $first_img = $matches [1] [0];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return '&lt;img class=&quot;pngfix wp-post-image&quot; src=&quot;'. esc_url( $first_img ) .'&quot;&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  else {&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_scrollup' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * This function loads Scroll Up Navigation</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action catchresponsive_footer action</span>&nbsp;</div></li><li><div><span class="comment">   * @uses set_transient and delete_transient</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_scrollup() {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">//catchresponsive_flush_transients();</span></span></span>&nbsp;</div></li><li><div>      if ( !$catchresponsive_scrollup = get_transient( 'catchresponsive_scrollup' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// get the data value from theme options</span>&nbsp;</div></li><li><div>          $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>          echo '&lt;!-- refreshing cache --&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">//site stats, analytics header code</span>&nbsp;</div></li><li><div>          if ( ! $options['disable_scrollup'] ) {&nbsp;</div></li><li><div>              $catchresponsive_scrollup =  '&lt;a href=&quot;#masthead&quot; id=&quot;scrollup&quot; class=&quot;genericon&quot;&gt;&lt;span class=&quot;screen-reader-text&quot;&gt;' . __( 'Scroll Up', 'catch-responsive' ) . '&lt;/span&gt;&lt;/a&gt;' ;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          set_transient( 'catchresponsive_scrollup', $catchresponsive_scrollup, 86940 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo $catchresponsive_scrollup;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'catchresponsive_after', 'catchresponsive_scrollup', 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_page_post_meta' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Post/Page Meta for Google Structure Data</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_page_post_meta() {&nbsp;</div></li><li><div>      $catchresponsive_author_url = esc_url( get_author_posts_url( get_the_author_meta( &quot;ID&quot; ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $catchresponsive_page_post_meta = '&lt;span class=&quot;post-time&quot;&gt;' . __( 'Posted on', 'catch-responsive' ) . ' &lt;time class=&quot;entry-date updated&quot; datetime=&quot;' . esc_attr( get_the_date( 'c' ) ) . '&quot; pubdate&gt;' . esc_html( get_the_date() ) . '&lt;/time&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>      $catchresponsive_page_post_meta .= '&lt;span class=&quot;post-author&quot;&gt;' . __( 'By', 'catch-responsive' ) . ' &lt;span class=&quot;author vcard&quot;&gt;&lt;a class=&quot;url fn n&quot; href=&quot;' . $catchresponsive_author_url . '&quot; title=&quot;View all posts by ' . get_the_author() . '&quot; rel=&quot;author&quot;&gt;' .get_the_author() . '&lt;/a&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $catchresponsive_page_post_meta;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_page_post_meta</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_alter_home' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Alter the query for the main loop in homepage</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action pre_get_posts action</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_alter_home( $query ) {&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $cats = $options[ 'front_page_category' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_array( $cats ) && !in_array( '0', $cats ) ) {&nbsp;</div></li><li><div>          if ( $query-&gt;is_main_query() && $query-&gt;is_home() ) {&nbsp;</div></li><li><div>              $query-&gt;query_vars['category__in'] = $options[ 'front_page_category' ];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_alter_home</span>&nbsp;</div></li><li><div>add_action( 'pre_get_posts', 'catchresponsive_alter_home' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'catchresponsive_post_navigation' ) ) :&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Displays Single post Navigation</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @uses  the_post_navigation</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @action catchresponsive_after_post</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since Catch Responsive 1.6</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function catchresponsive_post_navigation() {&nbsp;</div></li><li><div>      <span class="comment">// Previous/next post navigation.</span>&nbsp;</div></li><li><div>      if ( function_exists( 'the_post_navigation' ) ) {&nbsp;</div></li><li><div>          the_post_navigation( array(&nbsp;</div></li><li><div>              'next_text' =&gt; '&lt;span class=&quot;meta-nav&quot; aria-hidden=&quot;true&quot;&gt;' . __( 'Next &rarr;', 'catch-responsive' ) . '&lt;/span&gt; ' .&nbsp;</div></li><li><div>                  '&lt;span class=&quot;screen-reader-text&quot;&gt;' . __( 'Next post:', 'catch-responsive' ) . '&lt;/span&gt; ' .&nbsp;</div></li><li><div>                  '&lt;span class=&quot;post-title&quot;&gt;%title&lt;/span&gt;', &nbsp;</div></li><li><div>              'prev_text' =&gt; '&lt;span class=&quot;meta-nav&quot; aria-hidden=&quot;true&quot;&gt;' . __( '&larr; Previous', 'catch-responsive' ) . '&lt;/span&gt; ' .&nbsp;</div></li><li><div>                  '&lt;span class=&quot;screen-reader-text&quot;&gt;' . __( 'Previous post:', 'catch-responsive' ) . '&lt;/span&gt; ' .&nbsp;</div></li><li><div>                  '&lt;span class=&quot;post-title&quot;&gt;%title&lt;/span&gt;', &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          <span class="comment">// Don't print empty markup if there's nowhere to navigate.</span>&nbsp;</div></li><li><div>          $previous = ( is_attachment() ) ? get_post( get_post()-&gt;post_parent ) : get_adjacent_post( false, '', true );&nbsp;</div></li><li><div>          $next = get_adjacent_post( false, '', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! $next && ! $previous ) {&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>          &lt;nav class=&quot;navigation post-navigation&quot; role=&quot;navigation&quot;&gt;&nbsp;</div></li><li><div>              &lt;h2 class=&quot;screen-reader-text&quot;&gt;&lt;?php esc_html_e( 'Post navigation', 'catch-responsive' ); ?&gt;&lt;/h2&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;nav-links&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      previous_post_link( '&lt;div class=&quot;nav-previous&quot;&gt;%link&lt;/div&gt;', '%title' );&nbsp;</div></li><li><div>                      next_post_link( '&lt;div class=&quot;nav-next&quot;&gt;%link&lt;/div&gt;', '%title' );&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&lt;!-- .nav-links --&gt;&nbsp;</div></li><li><div>          &lt;/nav&gt;&lt;!-- .navigation --&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>endif; <span class="comment">//catchresponsive_post_navigation</span>&nbsp;</div></li><li><div>add_action( 'catchresponsive_after_post', 'catchresponsive_post_navigation', 10 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Migrate Logo to New WordPress core Custom Logo</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Runs if version number saved in theme_mod &quot;logo_version&quot; doesn't match current theme version.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_logo_migrate() {&nbsp;</div></li><li><div>  $ver = get_theme_mod( 'logo_version', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment">// Return if update has already been run</span></span></span>&nbsp;</div></li><li><div>  if ( version_compare( $ver, '2.8' ) &gt;= 0 ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get Theme Options Values</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment">// If a logo has been set previously, update to use logo feature introduced in WordPress 4.5</span></span>&nbsp;</div></li><li><div>  if ( function_exists( 'the_custom_logo' ) ) {&nbsp;</div></li><li><div>      if ( isset( $options['logo'] ) && '' != $options['logo'] ) {&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Since previous logo was stored a URL, convert it to an attachment ID</span></span>&nbsp;</div></li><li><div>          $logo = attachment_url_to_postid( $options['logo'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( is_int( $logo ) ) {&nbsp;</div></li><li><div>              set_theme_mod( 'custom_logo', $logo );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        <span class="comment">// Update to match logo_version so that script is not executed continously</span>&nbsp;</div></li><li><div>      set_theme_mod( 'logo_version', '2.8' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'after_setup_theme', 'catchresponsive_logo_migrate' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Migrate Custom Favicon to WordPress core Site Icon</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Runs if version number saved in theme_mod &quot;site_icon_version&quot; doesn't match current theme version.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_site_icon_migrate() {&nbsp;</div></li><li><div>  $ver = get_theme_mod( 'site_icon_version', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment">// Return if update has already been run</span></span></span>&nbsp;</div></li><li><div>  if ( version_compare( $ver, '2.8' ) &gt;= 0 ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get Theme Options Values</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment">// If a logo has been set previously, update to use logo feature introduced in WordPress 4.5</span></span>&nbsp;</div></li><li><div>  if ( function_exists( 'has_site_icon' ) ) {&nbsp;</div></li><li><div>      if ( isset( $options['favicon'] ) && '' != $options['favicon'] ) {&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Since previous logo was stored a URL, convert it to an attachment ID</span></span>&nbsp;</div></li><li><div>          $site_icon = attachment_url_to_postid( $options['favicon'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( is_int( $site_icon ) ) {&nbsp;</div></li><li><div>              update_option( 'site_icon', $site_icon );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        <span class="comment">// Update to match site_icon_version so that script is not executed continously</span>&nbsp;</div></li><li><div>      set_theme_mod( 'site_icon_version', '2.8' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'after_setup_theme', 'catchresponsive_site_icon_migrate' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Migrate Custom CSS to WordPress core Custom CSS</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Runs if version number saved in theme_mod &quot;custom_css_version&quot; doesn't match current theme version.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function catchresponsive_custom_css_migrate() {&nbsp;</div></li><li><div>  $ver = get_theme_mod( 'custom_css_version', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment"><span class="comment"><span class="comment">// Return if update has already been run</span></span></span>&nbsp;</div></li><li><div>  if ( version_compare( $ver, '4.7' ) &gt;= 0 ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( function_exists( 'wp_update_custom_css_post' ) ) {&nbsp;</div></li><li><div>      <span class="comment">// Migrate any existing theme CSS to the core option added in WordPress 4.7.</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Get Theme Options Values</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      $options = catchresponsive_get_theme_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( '' != $options['custom_css'] ) {&nbsp;</div></li><li><div>          $core_css = wp_get_custom_css(); <span class="comment">// Preserve any CSS already added to the core option.</span>&nbsp;</div></li><li><div>          $return = wp_update_custom_css_post( $core_css . $options['custom_css'] );&nbsp;</div></li><li><div>          if ( ! is_wp_error( $return ) ) {&nbsp;</div></li><li><div>              <span class="comment">// Remove the old theme_mod, so that the CSS is stored in only one place moving forward.</span>&nbsp;</div></li><li><div>              unset( $options['custom_css'] );&nbsp;</div></li><li><div>              set_theme_mod( 'catchresponsive_theme_options', $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">// Update to match custom_css_version so that script is not executed continously</span>&nbsp;</div></li><li><div>              set_theme_mod( 'custom_css_version', '4.7' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'after_setup_theme', 'catchresponsive_custom_css_migrate' );&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>theme</li><li><span></span>file</li><li><span></span></li><li><span></span>Catch Responsive</li><li><span></span>2.5</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>