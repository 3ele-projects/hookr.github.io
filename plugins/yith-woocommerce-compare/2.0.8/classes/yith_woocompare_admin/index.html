<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="2.0.8" data-slug="yith-woocommerce-compare" data-type="class" data-id="66306"><head xmlns="http://www.w3.org/1999/xhtml"><title> yith_woocompare_admin | class | Yith Woocommerce Compare | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="YITH_Woocompare_Admin, class, plugin, yith-woocommerce-compare, 2.0.8" /><meta name="description" content="Admin class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=4ab5238d27b14e012733fc9e6c723731' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/yith_woocompare_admin/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fyith_woocompare_admin%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fyith_woocompare_admin%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-yith-woocommerce-compare-2.0.8-class-yith_woocompare_admin","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="yith_woocompare_admin" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to yith-woocommerce-compare." href="http://hookr.io/plugins/yith-woocommerce-compare/" class="plugin"><span property="name">yith-woocommerce-compare</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.0.8." href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/" class="H_VERSION"><span property="name">2.0.8</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">yith_woocompare_admin</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="149"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/all/" title="All">All <span class="count badge">149</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="74"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/hooks/" title="Hooks">Hooks <span class="count badge">74</span></a></li><li class="" data-id="action" data-count="26"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/actions/" title="Actions">Actions <span class="count badge">26</span></a></li><li class="" data-id="filter" data-count="48"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/filters/" title="Filters">Filters <span class="count badge">48</span></a></li><li class="active" data-id="class" data-count="20"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/classes/" title="Classes">Classes <span class="count badge">20</span></a></li><li class="" data-id="constant" data-count="13"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/constants/" title="Constants">Constants <span class="count badge">13</span></a></li><li class="" data-id="function" data-count="40"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/functions/" title="Functions">Functions <span class="count badge">40</span></a></li><li class="" data-id="shortcode" data-count="2"><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">2</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>YITH_Woocompare_Admin</strong></h1><p>Admin class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/files/includes-class-yith-woocompare-admin/" class="file">/includes/class.yith-woocompare-admin.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="21" class="block" start="21"><li><div>class YITH_Woocompare_Admin {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Plugin options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Plugin version&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $version = YITH_WOOCOMPARE_VERSION;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var $_panel Panel Object&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected $_panel;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var $_premium string Premium tab template file name&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected $_premium = 'premium.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string Premium version landing link&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected $_premium_landing = 'https://yithemes.com/themes/plugins/yith-woocommerce-compare';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string Compare panel page&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected $_panel_page = 'yith_woocompare_panel';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Various links&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $doc_url = 'http://yithemes.com/docs-plugins/yith-woocommerce-compare/';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Constructor&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'admin_menu', array( $this, 'register_panel' ), 5) ;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //Add action links&nbsp;</div></li><li><div>        add_filter( 'plugin_action_links_' . plugin_basename( YITH_WOOCOMPARE_DIR . '/' . basename( YITH_WOOCOMPARE_FILE ) ), array( $this, 'action_links' ) );&nbsp;</div></li><li><div>        add_filter( 'plugin_row_meta', array( $this, 'plugin_row_meta' ), 10, 4 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'yith_woocompare_premium', array( $this, 'premium_tab' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'admin_init', array( $this, 'register_pointer' ) );&nbsp;</div></li><li><div>        add_action( 'admin_init', array( $this, 'default_options'), 99 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // add image size&nbsp;</div></li><li><div>        YITH_Woocompare_Helper::set_image_size();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_styles_scripts' ), 20 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        add_action( 'woocommerce_admin_field_woocompare_image_width', array( $this, 'admin_fields_woocompare_image_width' ) );&nbsp;</div></li><li><div>        add_action( 'woocommerce_admin_field_woocompare_attributes', array( $this, 'admin_fields_attributes' ), 10, 1 );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_admin_settings_sanitize_option_yith_woocompare_fields_attrs', array( $this, 'admin_update_custom_option' ), 10, 3 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // YITH WCWL Loaded&nbsp;</div></li><li><div>        do_action( 'yith_woocompare_loaded' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Action Links&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * add the action links to plugin admin page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param $links | links plugin array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return   mixed Array&nbsp;</div></li><li><div>     * @since    1.0&nbsp;</div></li><li><div>     * @author   Andrea Grillo &lt;andrea.grillo@yithemes.com&gt;&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     * @use plugin_action_links_{$plugin_file_name}&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function action_links( $links ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $links[] = '&lt;a href=&quot;' . admin_url( &quot;admin.php?page={$this-&gt;_panel_page}&quot; ) . '&quot;&gt;' . __( 'Settings', 'yith-woocommerce-compare' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>        if ( ! ( defined( 'YITH_WOOCOMPARE_PREMIUM' ) && YITH_WOOCOMPARE_PREMIUM ) ) {&nbsp;</div></li><li><div>            $links[] = '&lt;a href=&quot;' . $this-&gt;get_premium_landing_uri() . '&quot; target=&quot;_blank&quot;&gt;' . __( 'Premium Version', 'yith-woocommerce-compare' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $links;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add a panel under YITH Plugins tab&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return   void&nbsp;</div></li><li><div>     * @since    1.0&nbsp;</div></li><li><div>     * @author   Andrea Grillo &lt;andrea.grillo@yithemes.com&gt;&nbsp;</div></li><li><div>     * @use     /Yit_Plugin_Panel class&nbsp;</div></li><li><div>     * @see      plugin-fw/lib/yit-plugin-panel.php&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function register_panel() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $this-&gt;_panel ) ) {&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $admin_tabs = array(&nbsp;</div></li><li><div>            'general' =&gt; __( 'Settings', 'yith-woocommerce-compare' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! ( defined( 'YITH_WOOCOMPARE_PREMIUM' ) && YITH_WOOCOMPARE_PREMIUM ) ) {&nbsp;</div></li><li><div>            $admin_tabs['premium'] = __( 'Premium Version', 'yith-woocommerce-compare' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = array(&nbsp;</div></li><li><div>            'create_menu_page' =&gt; true, &nbsp;</div></li><li><div>            'parent_slug' =&gt; '', &nbsp;</div></li><li><div>            'page_title' =&gt; __( 'Compare', 'yith-woocommerce-compare' ), &nbsp;</div></li><li><div>            'menu_title' =&gt; __( 'Compare', 'yith-woocommerce-compare' ), &nbsp;</div></li><li><div>            'capability' =&gt; 'manage_options', &nbsp;</div></li><li><div>            'parent' =&gt; '', &nbsp;</div></li><li><div>            'parent_page' =&gt; 'yit_plugin_panel', &nbsp;</div></li><li><div>            'page' =&gt; $this-&gt;_panel_page, &nbsp;</div></li><li><div>            'admin-tabs' =&gt; apply_filters( 'yith_woocompare_admin_tabs', $admin_tabs ), &nbsp;</div></li><li><div>            'options-path' =&gt; YITH_WOOCOMPARE_DIR . '/plugin-options'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /** === Fixed: not updated theme === */&nbsp;</div></li><li><div>        if ( ! class_exists( 'YIT_Plugin_Panel_WooCommerce' ) ) {&nbsp;</div></li><li><div>            require_once( YITH_WOOCOMPARE_DIR . 'plugin-fw/lib/yit-plugin-panel-wc.php' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;_panel = new YIT_Plugin_Panel_WooCommerce( $args );&nbsp;</div></li><li><div>        $this-&gt;options = $this-&gt;_panel-&gt;get_main_array_options();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Set default custom options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function default_options() {&nbsp;</div></li><li><div>        $this-&gt;_default_options();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Premium Tab Template&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Load the premium tab template on admin page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return   void&nbsp;</div></li><li><div>     * @since    1.0&nbsp;</div></li><li><div>     * @author   Andrea Grillo &lt;andrea.grillo@yithemes.com&gt;&nbsp;</div></li><li><div>     * @return void&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function premium_tab() {&nbsp;</div></li><li><div>        $premium_tab_template = YITH_WOOCOMPARE_TEMPLATE_PATH . '/admin/' . $this-&gt;_premium;&nbsp;</div></li><li><div>        if ( file_exists( $premium_tab_template ) ) {&nbsp;</div></li><li><div>            include_once( $premium_tab_template );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * plugin_row_meta&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * add the action links to plugin admin page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param $plugin_meta&nbsp;</div></li><li><div>     * @param $plugin_file&nbsp;</div></li><li><div>     * @param $plugin_data&nbsp;</div></li><li><div>     * @param $status&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return   Array&nbsp;</div></li><li><div>     * @since    1.0&nbsp;</div></li><li><div>     * @author   Andrea Grillo &lt;andrea.grillo@yithemes.com&gt;&nbsp;</div></li><li><div>     * @use plugin_row_meta&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function plugin_row_meta( $plugin_meta, $plugin_file, $plugin_data, $status ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( defined( 'YITH_WOOCOMPARE_INIT' ) && YITH_WOOCOMPARE_INIT == $plugin_file ) {&nbsp;</div></li><li><div>            $plugin_meta[] = '&lt;a href=&quot;' . $this-&gt;doc_url . '&quot; target=&quot;_blank&quot;&gt;' . __( 'Plugin Documentation', 'yith-woocommerce-compare' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $plugin_meta;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Register Pointer&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function register_pointer() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if( ! class_exists( 'YIT_Pointers' ) ) {&nbsp;</div></li><li><div>            include_once( 'plugin-fw/lib/yit-pointers.php' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args[] = array(&nbsp;</div></li><li><div>            'screen_id' =&gt; 'plugins', &nbsp;</div></li><li><div>            'pointer_id' =&gt; 'yith_woocompare_panel', &nbsp;</div></li><li><div>            'target' =&gt; '#toplevel_page_yit_plugin_panel', &nbsp;</div></li><li><div>            'content' =&gt; sprintf( '&lt;h3&gt; %s &lt;/h3&gt; &lt;p&gt; %s &lt;/p&gt;', &nbsp;</div></li><li><div>                __( 'YITH WooCommerce Compare Activated', 'yith-woocommerce-compare' ), &nbsp;</div></li><li><div>                apply_filters( 'yith_woocompare_activated_pointer_content', sprintf( __( 'In the YIT Plugin tab you can find the YITH WooCommerce Compare options. With this menu, you can access to all the settings of our plugins that you have activated. YITH WooCommerce Compare is available in an outstanding PREMIUM version with many new options, &lt;a href=&quot;%s&quot;&gt;discover it now&lt;/a&gt;.', 'yit' ), $this-&gt;get_premium_landing_uri() ) )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            'position' =&gt; array( 'edge' =&gt; 'left', 'align' =&gt; 'center' ), &nbsp;</div></li><li><div>            'init' =&gt; YITH_WOOCOMPARE_INIT&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args[] = array(&nbsp;</div></li><li><div>            'screen_id' =&gt; 'update', &nbsp;</div></li><li><div>            'pointer_id' =&gt; 'yith_woocompare_panel', &nbsp;</div></li><li><div>            'target' =&gt; '#toplevel_page_yit_plugin_panel', &nbsp;</div></li><li><div>            'content' =&gt; sprintf( '&lt;h3&gt; %s &lt;/h3&gt; &lt;p&gt; %s &lt;/p&gt;', &nbsp;</div></li><li><div>                __( 'YITH WooCommerce Compare Updated', 'yith-woocommerce-compare' ), &nbsp;</div></li><li><div>                apply_filters( 'yith_woocompare_updated_pointer_content', sprintf( __( 'From now on, you can find all the options of YITH WooCommerce Compare under YIT Plugin -&gt; Compare instead of WooCommerce -&gt; Settings -&gt; Compare, as in the previous version. When one of our plugins is updated, a new voice will be added to this menu. YITH WooCommerce Compare has been updated with new available options, &lt;a href=&quot;%s&quot;&gt;discover the PREMIUM version.&lt;/a&gt;', 'yit' ), $this-&gt;get_premium_landing_uri() ) )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            'position' =&gt; array( 'edge' =&gt; 'left', 'align' =&gt; 'center' ), &nbsp;</div></li><li><div>            'init' =&gt; YITH_WOOCOMPARE_INIT&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        YIT_Pointers()-&gt;register( $args );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the premium landing uri&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since   1.0.0&nbsp;</div></li><li><div>     * @author  Andrea Grillo &lt;andrea.grillo@yithemes.com&gt;&nbsp;</div></li><li><div>     * @return  string The premium landing link&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_premium_landing_uri() {&nbsp;</div></li><li><div>        return defined( 'YITH_REFER_ID' ) ? $this-&gt;_premium_landing . '?refer_id=' . YITH_REFER_ID : $this-&gt;_premium_landing.'?refer_id=1030585';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Default options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Sets up the default options used on the settings page&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access protected&nbsp;</div></li><li><div>     * @return void&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected function _default_options() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $this-&gt;options as $section ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $section as $value ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $value['std'] ) && isset( $value['id'] ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( $value['type'] == 'image_width' ) {&nbsp;</div></li><li><div>                        add_option( $value['id'], $value['std'] );&nbsp;</div></li><li><div>                    } elseif ( $value['type'] == 'woocompare_attributes' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $value_id = str_replace( '_attrs', '', $value['id'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $in_db = get_option( $value_id );&nbsp;</div></li><li><div>                        $in_db_original = get_option( $value['id'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // if options is already in db and not reset defaults continue&nbsp;</div></li><li><div>                        if ( $in_db && $in_db_original != 'all' ) {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $value['default'] == 'all' ) {&nbsp;</div></li><li><div>                            $fields = YITH_Woocompare_Helper::standard_fields();&nbsp;</div></li><li><div>                            $all = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            foreach ( array_keys( $fields ) as $field ) {&nbsp;</div></li><li><div>                                $all[ $field ] = true;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            update_option( $value_id, $all );&nbsp;</div></li><li><div>                        } else {&nbsp;</div></li><li><div>                            update_option( $value_id, $value['std'] );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Create new Woocommerce admin field: checkboxes&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @param array $value&nbsp;</div></li><li><div>     * @return void&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function admin_fields_attributes( $value ) {&nbsp;</div></li><li><div>        $fields = YITH_Woocompare_Helper::standard_fields();&nbsp;</div></li><li><div>        $all = array();&nbsp;</div></li><li><div>        $checked = get_option( str_replace( '_attrs', '', $value['id'] ), $value['default'] == 'all' ? $all : array() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( array_keys( $fields ) as $field ) {&nbsp;</div></li><li><div>            $all[ $field ] = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // then add fields that are not still saved&nbsp;</div></li><li><div>        foreach ( $checked as $k =&gt; $v ) {&nbsp;</div></li><li><div>            unset( $all[ $k ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $checkboxes = array_merge( $checked, $all );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;tr valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>            &lt;th scope=&quot;row&quot; class=&quot;titledesc&quot;&gt;&nbsp;</div></li><li><div>                &lt;label for=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;&quot;&gt;&lt;?php echo $value['name']; ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>            &lt;/th&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;td class=&quot;forminp attributes&quot;&gt;&nbsp;</div></li><li><div>                &lt;p class=&quot;description&quot;&gt;&lt;?php echo $value['desc'] ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                &lt;ul class=&quot;fields&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php foreach ( $checkboxes as $slug =&gt; $checked ) :&nbsp;</div></li><li><div>                        if( ! isset( $fields[ $slug ] ) )&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&nbsp;</div></li><li><div>                            &lt;label&gt;&nbsp;</div></li><li><div>                                &lt;input type=&quot;checkbox&quot; name=&quot;&lt;?php echo $value['id'] ?&gt;[]&quot; id=&quot;&lt;?php echo $value['id'] ?&gt;_&lt;?php echo $slug ?&gt;&quot; value=&quot;&lt;?php echo $slug ?&gt;&quot;&lt;?php checked( $checked ) ?&gt; /&gt; &lt;?php echo $fields[ $slug ] ?&gt;&nbsp;</div></li><li><div>                            &lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                    endforeach;&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/ul&gt;&nbsp;</div></li><li><div>                &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo $value['id'] ?&gt;_positions&quot; value=&quot;&lt;?php echo implode( ', ', array_keys( $checkboxes ) ) ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>            &lt;/td&gt;&nbsp;</div></li><li><div>        &lt;/tr&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Create new Woocommerce admin field: yit_wc_image_width&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @param array $value&nbsp;</div></li><li><div>     * @return void&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function admin_fields_woocompare_image_width( $value ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $width = WC_Admin_Settings::get_option( $value['id'] . '[width]', $value['default']['width'] );&nbsp;</div></li><li><div>        $height = WC_Admin_Settings::get_option( $value['id'] . '[height]', $value['default']['height'] );&nbsp;</div></li><li><div>        $crop = WC_Admin_Settings::get_option( $value['id'] . '[crop]', $value['default']['crop'] );&nbsp;</div></li><li><div>        $crop = WC_Admin_Settings::get_option( $value['id'] . '[crop]' );&nbsp;</div></li><li><div>        $crop = ( $crop == 'on' || $crop == '1' ) ? 1 : 0;&nbsp;</div></li><li><div>        $crop = checked( 1, $crop, false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;tr valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>        &lt;th scope=&quot;row&quot; class=&quot;titledesc&quot;&gt;&lt;?php echo esc_html( $value['title'] ) ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>        &lt;td class=&quot;forminp image_width_settings&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;input name=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;[width]&quot; id=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;-width&quot; type=&quot;text&quot; size=&quot;3&quot; value=&quot;&lt;?php echo $width; ?&gt;&quot; /&gt; &times;&nbsp;</div></li><li><div>            &lt;input name=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;[height]&quot; id=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;-height&quot; type=&quot;text&quot; size=&quot;3&quot; value=&quot;&lt;?php echo $height; ?&gt;&quot; /&gt;px&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;label&gt;&lt;input name=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;[crop]&quot; id=&quot;&lt;?php echo esc_attr( $value['id'] ); ?&gt;-crop&quot; type=&quot;checkbox&quot; &lt;?php echo $crop; ?&gt; /&gt; &lt;?php _e( 'Do you want to hard crop the image?', 'yith-woocommerce-compare' ); ?&gt;&nbsp;</div></li><li><div>            &lt;/label&gt;&nbsp;</div></li><li><div>            &lt;p class=&quot;description&quot;&gt;&lt;?php echo $value['desc'] ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;/td&gt;&nbsp;</div></li><li><div>        &lt;/tr&gt;&lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Save the admin field: slider&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @param mixed $value&nbsp;</div></li><li><div>     * @param mixed $option&nbsp;</div></li><li><div>     * @param mixed $raw_value&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function admin_update_custom_option( $value, $option, $raw_value ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $val = array();&nbsp;</div></li><li><div>        $checked_fields = isset( $_POST[ $option['id'] ] ) ? maybe_unserialize( $_POST[ $option['id'] ] ) : array();&nbsp;</div></li><li><div>        $fields = array_map( 'trim', explode( ', ', $_POST[ $option['id'] . '_positions' ] ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $fields as $field ) {&nbsp;</div></li><li><div>            $val[ $field ] = in_array( $field, $checked_fields );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        update_option( str_replace( '_attrs', '', $option['id'] ), $val );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Enqueue admin styles and scripts&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @access public&nbsp;</div></li><li><div>     * @return void&nbsp;</div></li><li><div>     * @since 1.0.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function enqueue_styles_scripts() {&nbsp;</div></li><li><div>        wp_enqueue_script( 'jquery-ui' );&nbsp;</div></li><li><div>        wp_enqueue_script( 'jquery-ui-core' );&nbsp;</div></li><li><div>        wp_enqueue_script( 'jquery-ui-mouse' );&nbsp;</div></li><li><div>        wp_enqueue_script( 'jquery-ui-slider' );&nbsp;</div></li><li><div>        wp_enqueue_script( 'jquery-ui-sortable' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $_GET['page'] ) && $_GET['page'] == 'yith_woocompare_panel' ) {&nbsp;</div></li><li><div>            wp_enqueue_style( 'yith_woocompare_admin', YITH_WOOCOMPARE_URL . 'assets/css/admin.css' );&nbsp;</div></li><li><div>            wp_enqueue_script( 'yith_woocompare', YITH_WOOCOMPARE_URL . 'assets/js/woocompare-admin.js', array( 'jquery', 'jquery-ui-sortable' ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        do_action( 'yith_woocompare_enqueue_styles_scripts' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 1.0.0</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.2.0/classes/yith_woocompare_admin/" class="">2.2.0</a></li><li><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.1.0/classes/yith_woocompare_admin/" class="">2.1.0</a></li><li><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.9/classes/yith_woocompare_admin/" class="">2.0.9</a></li><li><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.8/classes/yith_woocompare_admin/" class="active">2.0.8</a></li><li><a href="http://hookr.io/plugins/yith-woocommerce-compare/2.0.7/classes/yith_woocompare_admin/" class="">2.0.7</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>YITH_Woocompare_Admin</li><li><span></span>YITH WooCommerce Compare</li><li><span></span>2.2.0</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>