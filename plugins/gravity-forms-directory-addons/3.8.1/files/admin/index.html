<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="3.8.1" data-slug="gravity-forms-directory-addons" data-type="file" data-id="30232"><head xmlns="http://www.w3.org/1999/xhtml"><title> admin | file | Gravity Forms Directory Addons | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, gravity-forms-directory-addons, 3.8.1" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.10"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=df29ee486ab7fe87681d85f5cf4c8777' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.10' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/admin/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fadmin%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fadmin%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-gravity-forms-directory-addons-3.8.1-file-admin","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="admin" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to gravity-forms-directory-addons." href="http://hookr.io/plugins/gravity-forms-directory-addons/" class="plugin"><span property="name">gravity-forms-directory-addons</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.8.1." href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/" class="H_VERSION"><span property="name">3.8.1</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">admin</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="141"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/all/" title="All">All <span class="count badge">141</span></a></li><li class="" data-id="new" data-count="3"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/new/" title="New">New <span class="count badge">3</span></a></li><li class="" data-id="hooks" data-count="130"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/hooks/" title="Hooks">Hooks <span class="count badge">130</span></a></li><li class="" data-id="action" data-count="13"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/actions/" title="Actions">Actions <span class="count badge">13</span></a></li><li class="" data-id="filter" data-count="117"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/filters/" title="Filters">Filters <span class="count badge">117</span></a></li><li class="" data-id="class" data-count="4"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/classes/" title="Classes">Classes <span class="count badge">4</span></a></li><li class="" data-id="constant" data-count="1"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/constants/" title="Constants">Constants <span class="count badge">1</span></a></li><li class="" data-id="function" data-count="5"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/functions/" title="Functions">Functions <span class="count badge">5</span></a></li><li class="" data-id="shortcode" data-count="1"><a href="http://hookr.io/plugins/gravity-forms-directory-addons/3.8.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">1</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/admin.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>register_activation_hook( __FILE__, array( 'GFDirectory_Admin', 'activation' ) );&nbsp;</div></li><li><div>add_action( 'init', array( 'GFDirectory_Admin', 'initialize' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>class GFDirectory_Admin {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function initialize() {&nbsp;</div></li><li><div>      new GFDirectory_Admin;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function __construct() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! is_admin() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $settings = GFDirectory::get_settings();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      add_action( 'admin_notices', array( &$this, 'gf_warning' ) );&nbsp;</div></li><li><div>      add_filter( 'gform_pre_render', array( 'GFDirectory_Admin', 'show_field_ids' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//creates a new Settings page on Gravity Forms' settings screen</span>&nbsp;</div></li><li><div>      if ( GFDirectory::has_access( &quot;gravityforms_directory&quot; ) ) {&nbsp;</div></li><li><div>          RGForms::add_settings_page( &quot;Directory & Addons&quot;, array( &$this, &quot;settings_page&quot; ), &quot;&quot; );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      add_filter( &quot;gform_addon_navigation&quot;, array( &$this, 'create_menu' ) ); <span class="comment">//creates the subnav left menu</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Adding &quot;embed form&quot; button</span>&nbsp;</div></li><li><div>      add_action( 'media_buttons', array( &$this, 'add_form_button' ), 30 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( in_array( RG_CURRENT_PAGE, array( 'post.php', 'page.php', 'page-new.php', 'post-new.php' ) ) ) {&nbsp;</div></li><li><div>          add_action( 'admin_footer', array( &$this, 'add_mce_popup' ) );&nbsp;</div></li><li><div>          wp_enqueue_script( &quot;jquery-ui-datepicker&quot; );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $settings['modify_admin'] ) ) {&nbsp;</div></li><li><div>          add_action( 'admin_head', array( &$this, 'admin_head' ), 1 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      self::process_bulk_update();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function process_bulk_update() {&nbsp;</div></li><li><div>      global $process_bulk_update_message;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( RGForms::post( &quot;action&quot; ) === 'bulk' ) {&nbsp;</div></li><li><div>          check_admin_referer( 'gforms_entry_list', 'gforms_entry_list' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $bulk_action = ! empty( $_POST[&quot;bulk_action&quot;] ) ? $_POST[&quot;bulk_action&quot;] : $_POST[&quot;bulk_action2&quot;];&nbsp;</div></li><li><div>          $leads = $_POST[&quot;lead&quot;];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $entry_count = count( $leads ) &gt; 1 ? sprintf( __( &quot;%d entries&quot;, &quot;gravityforms&quot; ), count( $leads ) ) : __( &quot;1 entry&quot;, &quot;gravityforms&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $bulk_action = explode( '-', $bulk_action );&nbsp;</div></li><li><div>          if ( ! isset( $bulk_action[1] ) || empty( $leads ) ) {&nbsp;</div></li><li><div>              return false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          switch ( $bulk_action[0] ) {&nbsp;</div></li><li><div>              case &quot;approve&quot;:&nbsp;</div></li><li><div>                  self::directory_update_bulk( $leads, 1, $bulk_action[1] );&nbsp;</div></li><li><div>                  $process_bulk_update_message = sprintf( __( &quot;%s approved.&quot;, &quot;gravity-forms-addons&quot; ), $entry_count );&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              case &quot;unapprove&quot;:&nbsp;</div></li><li><div>                  self::directory_update_bulk( $leads, 0, $bulk_action[1] );&nbsp;</div></li><li><div>                  $process_bulk_update_message = sprintf( __( &quot;%s disapproved.&quot;, &quot;gravity-forms-addons&quot; ), $entry_count );&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static private function directory_update_bulk( $leads, $approved, $form_id ) {&nbsp;</div></li><li><div>      global $_gform_directory_approvedcolumn;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( empty( $leads ) || ! is_array( $leads ) ) {&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $_gform_directory_approvedcolumn = empty( $_gform_directory_approvedcolumn ) ? self::globals_get_approved_column( $_POST['form_id'] ) : $_gform_directory_approvedcolumn;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $approved = empty( $approved ) ? 0 : 'Approved';&nbsp;</div></li><li><div>      foreach ( $leads as $lead_id ) {&nbsp;</div></li><li><div>          GFDirectory::directory_update_approved( $lead_id, $approved, $form_id );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// If the classes don't exist, the plugin won't do anything useful.</span>&nbsp;</div></li><li><div>  function gf_warning() {&nbsp;</div></li><li><div>      global $pagenow;&nbsp;</div></li><li><div>      $message = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $pagenow != 'plugins.php' ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! GFDirectory::is_gravityforms_installed() ) {&nbsp;</div></li><li><div>          if ( file_exists( WP_PLUGIN_DIR . '/gravityforms/gravityforms.php' ) ) {&nbsp;</div></li><li><div>              $message .= sprintf( esc_html__( '%sGravity Forms is installed but not active. %sActivate Gravity Forms%s to use the Gravity Forms Directory & Addons plugin.%s', 'gravity-forms-addons' ), '&lt;p&gt;', '&lt;a href=&quot;' . wp_nonce_url( admin_url( 'plugins.php?action=activate&plugin=gravityforms/gravityforms.php' ), 'activate-plugin_gravityforms/gravityforms.php' ) . '&quot; style=&quot;font-weight:strong;&quot;&gt;', '&lt;/a&gt;', '&lt;/p&gt;' );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = sprintf( esc_html__( '%sGravity Forms cannot be found%s&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              The %sGravity Forms plugin%s must be installed and activated for the Gravity Forms Addons plugin to work.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              If you haven\'t installed the plugin, you can %3$spurchase the plugin here%4$s. If you have, and you believe this notice is in error, %5$sstart a topic on the plugin support forum%4$s.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              %6$s%7$sBuy Gravity Forms%4$s%8$s&nbsp;</div></li><li><div>              ', 'gravity-forms-addons' ), '&lt;strong&gt;', '&lt;/strong&gt;', &quot;&lt;a href='http:<span class="comment">//katz.si/gravityforms'&gt;&quot;, '&lt;/a&gt;', '&lt;a href=&quot;http://wordpress.org/tags/gravity-forms-addons?forum_id=10#postform&quot;&gt;', '&lt;p class=&quot;submit&quot;&gt;', &quot;&lt;a href='http://katz.si/gravityforms' style='color:white!important' class='button button-primary'&gt;&quot;, '&lt;/p&gt;' );</span>&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! empty( $message ) ) {&nbsp;</div></li><li><div>          echo '&lt;div id=&quot;message&quot; class=&quot;error&quot;&gt;' . wpautop( $message ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>      } else if ( $message = get_transient( 'kws_gf_activation_notice' ) ) {&nbsp;</div></li><li><div>          echo '&lt;div id=&quot;message&quot; class=&quot;updated&quot;&gt;' . wpautop( $message ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>          delete_transient( 'kws_gf_activation_notice' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function activation() {&nbsp;</div></li><li><div>      self::add_activation_notice();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function add_activation_notice() {&nbsp;</div></li><li><div>#        if(!get_option(&quot;gf_addons_settings&quot;)) {&nbsp;</div></li><li><div>      $message = sprintf( esc_html__( 'Congratulations - the Gravity Forms Directory & Addons plugin has been installed. %sGo to the settings page%s to read usage instructions and configure the plugin default settings. %sGo to settings page%s', 'gravity-forms-addons' ), '&lt;a href=&quot;' . admin_url( 'admin.php?page=gf_settings&addon=Directory+%26+Addons&viewinstructions=true' ) . '&quot;&gt;', '&lt;/a&gt;', '&lt;p class=&quot;submit&quot;&gt;&lt;a href=&quot;' . admin_url( 'admin.php?page=gf_settings&addon=Directory+%26+Addons&viewinstructions=true' ) . '&quot; class=&quot;button button-secondary&quot;&gt;', '&lt;/a&gt;&lt;/p&gt;' );&nbsp;</div></li><li><div>      set_transient( 'kws_gf_activation_notice', $message, 60 * 60 );&nbsp;</div></li><li><div>#        }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function admin_head( $settings = array() ) {&nbsp;</div></li><li><div>      if ( empty( $settings ) ) {&nbsp;</div></li><li><div>          $settings = GFDirectory::get_settings();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $settings['modify_admin']['expand'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_REQUEST['page'] ) && $_REQUEST['page'] == 'gf_edit_forms' && isset( $_REQUEST['id'] ) && is_numeric( $_REQUEST['id'] ) ) {&nbsp;</div></li><li><div>              $style = '&lt;style&gt;&nbsp;</div></li><li><div>                  .gforms_edit_form_expanded ul.menu li.add_field_button_container ul, &nbsp;</div></li><li><div>                  .gforms_edit_form_expanded ul.menu li.add_field_button_container ul ol {&nbsp;</div></li><li><div>                      display:block!important;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  #floatMenu {padding-top:1.4em!important;}&nbsp;</div></li><li><div>              &lt;/style&gt;';&nbsp;</div></li><li><div>              $style = apply_filters( 'kws_gf_display_all_fields', $style );&nbsp;</div></li><li><div>              echo $style;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( isset( $_REQUEST['page'] ) && ( $_REQUEST['page'] == 'gf_edit_forms' || $_REQUEST['page'] == 'gf_entries' ) ) {&nbsp;</div></li><li><div>          echo self::add_edit_js( isset( $_REQUEST['id'] ), $settings );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static private function add_edit_js( $edit_forms = false, $settings = array() ) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;script&gt;&nbsp;</div></li><li><div>          <span class="comment">// Edit link for Gravity Forms entries</span>&nbsp;</div></li><li><div>          jQuery( document ).ready( function ( $ ) {&nbsp;</div></li><li><div>              &lt;?php    if(! empty( $settings['modify_admin']['expand'] ) && $edit_forms) { ?&gt;&nbsp;</div></li><li><div>              var onScrollScript = window.onscroll;&nbsp;</div></li><li><div>              $( 'div.gforms_edit_form #add_fields #floatMenu' ).prepend( '&lt;div class=&quot;gforms_expend_all_menus_form&quot;&gt;&lt;label for=&quot;expandAllMenus&quot;&gt;&lt;input type=&quot;checkbox&quot; id=&quot;expandAllMenus&quot; value=&quot;1&quot; /&gt; Expand All Menus&lt;/label&gt;&lt;/div&gt;' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( 'input#expandAllMenus' ).live( 'click', function ( e ) {&nbsp;</div></li><li><div>                  if ( $( this ).is( ':checked' ) ) {&nbsp;</div></li><li><div>                      window.onscroll = '';&nbsp;</div></li><li><div>                      $( 'div.gforms_edit_form' ).addClass( 'gforms_edit_form_expanded' );&nbsp;</div></li><li><div>                      <span class="comment">//$('ul.menu li .button-title-link').unbind().die(); // .unbind() is for the initial .click()... .die() is for the live() below</span>&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      window.onscroll = onScrollScript;&nbsp;</div></li><li><div>                      $( 'div.gforms_edit_form' ).removeClass( 'gforms_edit_form_expanded' );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if(! empty( $settings['modify_admin']['toggle'] ) && $edit_forms) { ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( 'ul.menu' ).addClass( 'noaccordion' );&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if(isset( $_REQUEST['page'] ) && $_REQUEST['page'] == 'gf_entries' && ! empty( $settings['modify_admin']['edit'] )) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              <span class="comment">// Changed from :contains('Delete') to :last-child to work with 1.6</span>&nbsp;</div></li><li><div>              $( &quot;.row-actions span:last-child&quot; ).each( function () {&nbsp;</div></li><li><div>                  var editLink = $( this ).parents( 'tr' ).find( '.column-title a' ).attr( 'href' );&nbsp;</div></li><li><div>                  editLink = editLink + '&screen_mode=edit';&nbsp;</div></li><li><div>                  <span class="comment">//alert();</span>&nbsp;</div></li><li><div>                  $( this ).after( '&lt;span class=&quot;edit&quot;&gt;| &lt;a title=&quot;&lt;?php echo esc_js( __( &quot;Edit this entry&quot;, &quot;gravity-forms-addons&quot; ) ); ?&gt;&quot; href=&quot;' + editLink + '&quot;&gt;&lt;?php echo esc_js( __( &quot;Edit&quot;, &quot;gravity-forms-addons&quot; ) ); ?&gt;&lt;/a&gt;&lt;/span&gt;' );&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              else if(isset( $_REQUEST['page'] ) && $_REQUEST['page'] == 'gf_edit_forms' && ! empty( $settings['modify_admin']['ids'] )) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              <span class="comment">// Changed from :contains('Delete') to :last-child for future-proofing</span>&nbsp;</div></li><li><div>              $( &quot;.row-actions .trash&quot; ).each( function () {&nbsp;</div></li><li><div>                  var formID = $( this ).parents( 'tr' ).find( '.column-id' ).text();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  var title = '&lt;?php echo esc_js( __( &quot;Fields for Form ID %s&quot;, &quot;gravity-forms-addons&quot; ) ); ?&gt;';&nbsp;</div></li><li><div>                  title = title.replace( '%s', formID );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $( this ).after( '&lt;span class=&quot;edit&quot;&gt; | &lt;a title=&quot;' + title + '&quot; href=&quot;&lt;?php echo plugins_url( &quot;field-ids.php&quot;, __FILE__ ); ?&gt;?id=' + formID + '&amp;show_field_ids=true&amp;TB_iframe=true&amp;height=295&amp;width=370&quot; class=&quot;thickbox form_ids&quot;&gt;&lt;?php echo esc_js( __( &quot;IDs&quot;, &quot;gravity-forms-addons&quot; ) ); ?&gt;&lt;/a&gt;&lt;/span&gt;' );&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>              &lt;?php } ?&gt;&nbsp;</div></li><li><div>          } );&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function show_field_ids( $form = array() ) {&nbsp;</div></li><li><div>      if ( isset( $_REQUEST['show_field_ids'] ) ) {&nbsp;</div></li><li><div>          $form = RGFormsModel::get_form_meta( $_GET[&quot;id&quot;] );&nbsp;</div></li><li><div>          $form = RGFormsModel::add_default_properties( $form );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo &lt;&lt;&lt;EOD&nbsp;</div></li><li><div>      &lt;style&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          #input_ids th, #input_ids td { border-bottom:1px solid #999; padding:.25em 15px; }&nbsp;</div></li><li><div>          #input_ids th { border-bottom-color: #333; font-size:.9em; background-color: #464646; color:white; padding:.5em 15px; font-weight:bold;  }&nbsp;</div></li><li><div>          #input_ids { background:#ccc; margin:0 auto; font-size:1.2em; line-height:1.4; width:100%; border-collapse:collapse;  }&nbsp;</div></li><li><div>          #input_ids strong { font-weight:bold; }&nbsp;</div></li><li><div>          #input_ids caption, &nbsp;</div></li><li><div>          #preview_hdr { display:none;}&nbsp;</div></li><li><div>          #input_ids caption { color:white!important;}&nbsp;</div></li><li><div>      &lt;/style&gt;&nbsp;</div></li><li><div>EOD;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $form ) ) {&nbsp;</div></li><li><div>              echo '&lt;table id=&quot;input_ids&quot;&gt;&lt;caption id=&quot;input_id_caption&quot;&gt;Fields for &lt;strong&gt;Form ID ' . $form['id'] . '&lt;/strong&gt;&lt;/caption&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Field Name&lt;/th&gt;&lt;th&gt;Field ID&lt;/th&gt;&lt;/thead&gt;&lt;tbody&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          foreach ( $form['fields'] as $field ) {&nbsp;</div></li><li><div>              <span class="comment">// If there are multiple inputs for a field; ie: address has street, city, zip, country, etc.</span>&nbsp;</div></li><li><div>              if ( is_array( $field['inputs'] ) ) {&nbsp;</div></li><li><div>                  foreach ( $field['inputs'] as $input ) {&nbsp;</div></li><li><div>                      echo &quot;&lt;tr&gt;&lt;td width='50%'&gt;&lt;strong&gt;{$input['label']}&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;{$input['id']}&lt;/td&gt;&lt;/tr&gt;&quot;;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } <span class="comment">// Otherwise, it's just the one input.</span>&nbsp;</div></li><li><div>              else {&nbsp;</div></li><li><div>                  echo &quot;&lt;tr&gt;&lt;td width='50%'&gt;&lt;strong&gt;{$field['label']}&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;{$field['id']}&lt;/td&gt;&lt;/tr&gt;&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( ! empty( $form ) ) {&nbsp;</div></li><li><div>              echo '&lt;/tbody&gt;&lt;/table&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;';&nbsp;</div></li><li><div>              exit();&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          return $form;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function add_mce_popup() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Action target that displays the popup to insert a form to a post/page</span>&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;script&gt;&nbsp;</div></li><li><div>          function addslashes( str ) {&nbsp;</div></li><li><div>              <span class="comment">// Escapes single quote, double quotes and backslash characters in a string with backslashes</span>&nbsp;</div></li><li><div>              <span class="comment">// discuss at: http://phpjs.org/functions/addslashes</span>&nbsp;</div></li><li><div>              return (str + '').replace( /[\\&quot;']/g, '\\$&' ).replace( /\u0000/g, '\\0' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          jQuery( 'document' ).ready( function ( $ ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( '#select_gf_directory_form .datepicker' ).each( function () {&nbsp;</div></li><li><div>                  if ( $.fn.datepicker ) {&nbsp;</div></li><li><div>                      var element = jQuery( this );&nbsp;</div></li><li><div>                      var format = &quot;yy-mm-dd&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      var image = &quot;&quot;;&nbsp;</div></li><li><div>                      var showOn = &quot;focus&quot;;&nbsp;</div></li><li><div>                      if ( element.hasClass( &quot;datepicker_with_icon&quot; ) ) {&nbsp;</div></li><li><div>                          showOn = &quot;both&quot;;&nbsp;</div></li><li><div>                          image = jQuery( '#gforms_calendar_icon_' + this.id ).val();&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      element.datepicker( {&nbsp;</div></li><li><div>                          yearRange: '-100:+10', &nbsp;</div></li><li><div>                          showOn: showOn, &nbsp;</div></li><li><div>                          buttonImage: image, &nbsp;</div></li><li><div>                          buttonImageOnly: true, &nbsp;</div></li><li><div>                          dateFormat: format&nbsp;</div></li><li><div>                      } );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( '#select_gf_directory_form' ).bind( 'submit', function ( e ) {&nbsp;</div></li><li><div>                  e.preventDefault();&nbsp;</div></li><li><div>                  var shortcode = InsertGFDirectory();&nbsp;</div></li><li><div>                  <span class="comment">//send_to_editor(shortcode);</span>&nbsp;</div></li><li><div>                  return false;&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( document ).on( 'click', '#insert_gf_directory', function ( e ) {&nbsp;</div></li><li><div>                  e.preventDefault();&nbsp;</div></li><li><div>                  $( '#select_gf_directory_form' ).trigger( 'submit' );&nbsp;</div></li><li><div>                  return;&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( 'a.select_gf_directory' ).click( function ( e ) {&nbsp;</div></li><li><div>                  <span class="comment">// This auto-sizes the box</span>&nbsp;</div></li><li><div>                  if ( typeof tb_position == 'function' ) {&nbsp;</div></li><li><div>                      tb_position();&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  return;&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">// Toggle advanced settings</span>&nbsp;</div></li><li><div>              $( 'a.kws_gf_advanced_settings' ).click( function ( e ) {&nbsp;</div></li><li><div>                  e.preventDefault();&nbsp;</div></li><li><div>                  $( '#kws_gf_advanced_settings' ).toggle();&nbsp;</div></li><li><div>                  return false;&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              function InsertGFDirectory() {&nbsp;</div></li><li><div>                  var directory_id = jQuery( &quot;#add_directory_id&quot; ).val();&nbsp;</div></li><li><div>                  if ( directory_id == &quot;&quot; ) {&nbsp;</div></li><li><div>                      alert( &quot;&lt;?php echo esc_js( __( &quot;Please select a form&quot;, &quot;gravity-forms-addons&quot; ) ); ?&gt;&quot; );&nbsp;</div></li><li><div>                      jQuery( '#add_directory_id' ).focus();&nbsp;</div></li><li><div>                      return false;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  $js = self::make_popup_options( true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $ids = $idOutputList = $setvalues = $vars = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  foreach ( $js as $j ) {&nbsp;</div></li><li><div>                      $vars .= $j['js'] . &quot;&nbsp;</div></li><li><div>                      &quot;;&nbsp;</div></li><li><div>                      $ids .= $j['idcode'] . &quot; &quot;;&nbsp;</div></li><li><div>                      $setvalues .= $j['setvalue'] . &quot;&nbsp;</div></li><li><div>                      &quot;;&nbsp;</div></li><li><div>                      $idOutputList .= $j['id'] . 'Output' . ' + ';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  echo $vars;&nbsp;</div></li><li><div>                  echo $setvalues;&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  <span class="comment">//var win = window.dialogArguments || opener || parent || top;</span>&nbsp;</div></li><li><div>                  var shortcode = &quot;[directory form=\&quot;&quot; + directory_id + &quot;\&quot;&quot; + &lt;?php echo addslashes( $idOutputList ); ?&gt;&quot;]&quot;;&nbsp;</div></li><li><div>                  window.send_to_editor( shortcode );&nbsp;</div></li><li><div>                  return false;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;select_gf_directory&quot; style=&quot;overflow-x:hidden; overflow-y:auto;display:none;&quot;&gt;&nbsp;</div></li><li><div>          &lt;form action=&quot;#&quot; method=&quot;get&quot; id=&quot;select_gf_directory_form&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div&gt;&nbsp;</div></li><li><div>                      &lt;div style=&quot;padding:15px 15px 0 15px;&quot;&gt;&nbsp;</div></li><li><div>                          &lt;h2&gt;&lt;?php esc_html_e( &quot;Insert A Directory&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/h2&gt;&nbsp;</div></li><li><div>                      &lt;span&gt;&nbsp;</div></li><li><div>                          &lt;?php esc_html_e( &quot;Select a form below to add it to your post or page.&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&nbsp;</div></li><li><div>                      &lt;/span&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;div style=&quot;padding:15px 15px 0 15px;&quot;&gt;&nbsp;</div></li><li><div>                          &lt;select id=&quot;add_directory_id&quot;&gt;&nbsp;</div></li><li><div>                              &lt;option&nbsp;</div></li><li><div>                                  value=&quot;&quot;&gt;  &lt;?php esc_html_e( &quot;Select a Form&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;  &lt;/option&gt;&nbsp;</div></li><li><div>                              &lt;?php&nbsp;</div></li><li><div>                              $forms = RGFormsModel::get_forms( 1, &quot;title&quot; );&nbsp;</div></li><li><div>                              foreach ( $forms as $form ) {&nbsp;</div></li><li><div>                                  ?&gt;&nbsp;</div></li><li><div>                                  &lt;option&nbsp;</div></li><li><div>                                      value=&quot;&lt;?php echo absint( $form-&gt;id ) ?&gt;&quot;&gt;&lt;?php echo esc_html( $form-&gt;title ) ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                  &lt;?php&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              ?&gt;&nbsp;</div></li><li><div>                          &lt;/select&gt; &lt;br/&gt;&nbsp;</div></li><li><div>                          &lt;div&nbsp;</div></li><li><div>                              style=&quot;padding:8px 0 0 0; font-size:11px; font-style:italic; color:#5A5A5A&quot;&gt;&lt;?php esc_html_e( &quot;This form will be the basis of your directory.&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      self::make_popup_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      ?&gt;&nbsp;</div></li><li><div>                      &lt;div class=&quot;submit&quot;&gt;&nbsp;</div></li><li><div>                          &lt;input type=&quot;submit&quot; class=&quot;button-primary&quot; style=&quot;margin-right:15px;&quot;&nbsp;</div></li><li><div>                                 value=&quot;Insert Directory&quot; id=&quot;insert_gf_directory&quot;/&gt;&nbsp;</div></li><li><div>                          &lt;a class=&quot;button button-secondary&quot; style=&quot;color:#bbb;&quot; href=&quot;#&quot;&nbsp;</div></li><li><div>                             onclick=&quot;tb_remove(); return false;&quot;&gt;&lt;?php esc_html_e( &quot;Cancel&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function make_popup_options( $js = false ) {&nbsp;</div></li><li><div>      $i = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = GFDirectory::directory_defaults();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $standard = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'page_size', &nbsp;</div></li><li><div>              20, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Number of entries to show at once. Use %s0%s to show all entries.&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'select', &nbsp;</div></li><li><div>              'directoryview', &nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>                  array( 'value' =&gt; 'table', 'label' =&gt; esc_html__( &quot;Table&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div>                  array( 'value' =&gt; 'ul', 'label' =&gt; esc_html__( &quot;Unordered List&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div>                  array( 'value' =&gt; 'dl', 'label' =&gt; esc_html__( &quot;Definition List&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              esc_html__( &quot;Format for directory listings (directory view)&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'select', &nbsp;</div></li><li><div>              'entryview', &nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>                  array( 'value' =&gt; 'table', 'label' =&gt; esc_html__( &quot;Table&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div>                  array( 'value' =&gt; 'ul', 'label' =&gt; esc_html__( &quot;Unordered List&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div>                  array( 'value' =&gt; 'dl', 'label' =&gt; esc_html__( &quot;Definition List&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              esc_html__( &quot;Format for single entries (single entry view)&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array( 'checkbox', 'search', true, esc_html__( &quot;Show the search field&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'smartapproval', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;Automatically convert directory into Approved-only when an Approved field is detected.&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'approved', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;(If Smart Approval above is not enabled) Show only entries that have been Approved (have a field in the form that is an Admin-only checkbox with a value of 'Approved'). %sNote:%s This will hide entries that have not been explicitly approved.%s&quot;, 'gravity-forms-addons' ), &quot;&lt;span class='description'&gt;&lt;strong&gt;&quot;, &quot;&lt;/strong&gt;&quot;, &quot;&lt;/span&gt;&quot; ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      if ( ! $js ) {&nbsp;</div></li><li><div>          echo '&lt;ul&gt;';&nbsp;</div></li><li><div>          foreach ( $standard as $o ) {&nbsp;</div></li><li><div>              self::make_field( $o[0], $o[1], maybe_serialize( $o[2] ), $o[3], $defaults );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo '&lt;/ul&gt;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          foreach ( $standard as $o ) {&nbsp;</div></li><li><div>              $out[ $i ] = self::make_popup_js( $o[0], $o[1], $defaults );&nbsp;</div></li><li><div>              $i ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $content = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'entry', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;If there's a displayed Entry ID column, add link to each full entry&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          #array('checkbox', 'wpautop' , true, sprintf( esc_html__( &quot;Convert bulk paragraph text to paragraphs (using the WordPress function %s)&quot;, 'gravity-forms-addons'), &quot;&lt;code&gt;&lt;a href='http:<span class="comment">//codex.wordpress.org/Function_Reference/wpautop'&gt;wpautop()&lt;/a&gt;&lt;/code&gt;&quot; )), </span>&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'getimagesize', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( &quot;Calculate image sizes (Warning: this may slow down the directory loading speed!)&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'radio', &nbsp;</div></li><li><div>              'postimage', &nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; '&lt;img src=&quot;' . GFCommon::get_base_url() . '/images/doctypes/icon_image.gif&quot; /&gt; ' . esc_html__( 'Show image icon', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>                      'value' =&gt; 'icon', &nbsp;</div></li><li><div>                      'default' =&gt; '1', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array( 'label' =&gt; esc_html__( 'Show full image', 'gravity-forms-addons' ), 'value' =&gt; 'image' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              esc_html__( &quot;How do you want images to appear in the directory?&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          #array('checkbox', 'fulltext' , true, esc_html__(&quot;Show full content of a textarea or post content field, rather than an excerpt&quot;, 'gravity-forms-addons')), &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'date', &nbsp;</div></li><li><div>              'start_date', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( 'Start date (in %sYYYY-MM-DD%s format)', 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'date', &nbsp;</div></li><li><div>              'end_date', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( 'End date (in %sYYYY-MM-DD%s format)', 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $administration = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'showadminonly', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Show Admin-Only columns %s(in Gravity Forms, Admin-Only fields are defined by clicking the Advanced tab on a field in the Edit Form view, then editing Visibility &gt; Admin Only)%s&quot;, 'gravity-forms-addons' ), &quot;&lt;span class='description'&gt;&quot;, &quot;&lt;/span&gt;&quot; ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'useredit', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( &quot;Allow logged-in users to edit entries they created. Will add an 'Edit Your Entry' field to the Single Entry View.&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'limituser', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( &quot;Display entries only the the creator of the entry (users will not see other people's entries).&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'adminedit', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( 'Allow %sadministrators%s to edit all entries. Will add an \'Edit Your Entry\' field to the Single Entry View.', 'gravity-forms-addons' ), '&lt;strong&gt;', '&lt;/strong&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $style_label = esc_html_x( 'Style %d', 'Lightbox style', 'gravity-forms-addons' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $lightbox = array(&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'radio', &nbsp;</div></li><li><div>              'lightboxstyle', &nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; sprintf( $style_label, 1 ) . ' &lt;a href=&quot;http:<span class="comment">//www.jacklmoore.com/colorbox/example1/&quot; target=&quot;_blank&quot;&gt;See example&lt;/a&gt;', </span>&nbsp;</div></li><li><div>                      'value' =&gt; '1', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; sprintf( $style_label, 2 ) . ' &lt;a href=&quot;http:<span class="comment">//www.jacklmoore.com/colorbox/example2/&quot; target=&quot;_blank&quot;&gt;See example&lt;/a&gt;', </span>&nbsp;</div></li><li><div>                      'value' =&gt; '2', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; sprintf( $style_label, 3 ) . ' &lt;a href=&quot;http:<span class="comment">//www.jacklmoore.com/colorbox/example3/&quot; target=&quot;_blank&quot;&gt;See example&lt;/a&gt;', </span>&nbsp;</div></li><li><div>                      'value' =&gt; '3', &nbsp;</div></li><li><div>                      'default' =&gt; '1', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; sprintf( $style_label, 4 ) . ' &lt;a href=&quot;http:<span class="comment">//www.jacklmoore.com/colorbox/example4/&quot; target=&quot;_blank&quot;&gt;See example&lt;/a&gt;', </span>&nbsp;</div></li><li><div>                      'value' =&gt; '4', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; sprintf( $style_label, 5 ) . ' &lt;a href=&quot;http:<span class="comment">//www.jacklmoore.com/colorbox/example5/&quot; target=&quot;_blank&quot;&gt;See example&lt;/a&gt;', </span>&nbsp;</div></li><li><div>                      'value' =&gt; '5', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              &quot;What style should the lightbox use?&quot;, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkboxes', &nbsp;</div></li><li><div>              'lightboxsettings', &nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; esc_html__( 'Images', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>                      'value' =&gt; 'images', &nbsp;</div></li><li><div>                      'default' =&gt; '1', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; esc_html__( &quot;Entry Links (Open entry details in lightbox)&quot; ), &nbsp;</div></li><li><div>                      'value' =&gt; 'entry', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  array(&nbsp;</div></li><li><div>                      'label' =&gt; esc_html__( 'Website Links (non-entry)', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>                      'value' =&gt; 'urls', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              esc_html__( &quot;Set what type of links should be loaded in the lightbox&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $formatting = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'jstable', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( 'Use the TableSorter jQuery plugin to sort the table?', 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'titleshow', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              '&lt;strong&gt;' . esc_html__( 'Show a form title?', 'gravity-forms-addons' ) . '&lt;/strong&gt; ' . esc_html__( &quot;By default, the title will be the form title.&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'showcount', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;Do you want to show 'Displaying 1-19 of 19'?&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'thead', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Show the top heading row (%s&lt;thead&gt;%s)&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'tfoot', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Show the bottom heading row (%s&lt;tfoot&gt;%s)&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'pagelinksshowall', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;Show each page number (eg: 1 2 3 4 5 6 7 8) instead of summary (eg: 1 2 3 ... 8 &raquo;)&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'jssearch', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Use JavaScript for sorting (otherwise, %slinks%s will be used for sorting by column)&quot;, 'gravity-forms-addons' ), '&lt;em&gt;', '&lt;/em&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'dateformat', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( &quot;Override the options from Gravity Forms, and use standard PHP date formats&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $links = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'linkemail', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;Convert email fields to email links&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array( 'checkbox', 'linkwebsite', true, esc_html__( &quot;Convert URLs to links&quot;, 'gravity-forms-addons' ) ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'truncatelink', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Show more simple links for URLs (strip %shttp:<span class="comment">//%s, %swww.%s, etc.)&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;', '&lt;code&gt;', '&lt;/code&gt;' ), </span>&nbsp;</div></li><li><div> ), #'truncatelink' =&gt; false, &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'linknewwindow', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;%sOpen links in new window?%s (uses %s)&quot;, 'gravity-forms-addons' ), '&lt;strong&gt;', '&lt;/strong&gt;', &quot;&lt;code&gt;target='_blank'&lt;/code&gt;&quot; ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'nofollowlinks', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;%sAdd %snofollow%s to all links%s, including emails&quot;, 'gravity-forms-addons' ), '&lt;strong&gt;', '&lt;code&gt;', '&lt;/code&gt;', '&lt;/strong&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $address = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'appendaddress', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( &quot;Add the formatted address as a column at the end of the table&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'hideaddresspieces', &nbsp;</div></li><li><div>              false, &nbsp;</div></li><li><div>              esc_html__( &quot;Hide the pieces that make up an address (Street, City, State, ZIP, Country, etc.)&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $entry = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'entrytitle', &nbsp;</div></li><li><div>              esc_html__( 'Entry Detail', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>              esc_html__( &quot;Title of entry lightbox window&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'entrydetailtitle', &nbsp;</div></li><li><div>              sprintf( esc_html__( 'Entry Detail Table Caption', 'gravity-forms-addons' ), esc_html__( &quot;The text displayed at the top of the entry details. Use %s%%%%formtitle%%%%%s and %s%%%%leadid%%%%%s as variables that will be replaced.&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;', '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'entrylink', &nbsp;</div></li><li><div>              esc_html__( 'View entry details', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>              esc_html__( &quot;Link text to show full entry&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'entryth', &nbsp;</div></li><li><div>              esc_html__( 'More Info', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>              esc_html__( &quot;Entry ID column title&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'entryback', &nbsp;</div></li><li><div>              esc_html__( '&larr; Back to directory', 'gravity-forms-addons' ), &nbsp;</div></li><li><div>              esc_html__( &quot;The text of the link to return to the directory view from the single entry view.&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'entryonly', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;When viewing full entry, show entry only? Otherwise, show entry with directory below&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'entryanchor', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;When returning to directory view from single entry view, link to specific anchor row?&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $fieldsets = array(&nbsp;</div></li><li><div>          esc_html__( 'Content Settings', 'gravity-forms-addons' )          =&gt; $content, &nbsp;</div></li><li><div>          esc_html__( 'Administration of Entries', 'gravity-forms-addons' ) =&gt; $administration, &nbsp;</div></li><li><div>          esc_html__( 'Lightbox Options', 'gravity-forms-addons' )          =&gt; $lightbox, &nbsp;</div></li><li><div>          esc_html__( 'Formatting Options', 'gravity-forms-addons' )        =&gt; $formatting, &nbsp;</div></li><li><div>          esc_html__( 'Link Settings', 'gravity-forms-addons' )             =&gt; $links, &nbsp;</div></li><li><div>          esc_html__( 'Address Options', 'gravity-forms-addons' )           =&gt; $address, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $js ) {&nbsp;</div></li><li><div>          echo '&lt;a href=&quot;#kws_gf_advanced_settings&quot; class=&quot;kws_gf_advanced_settings&quot;&gt;' . esc_html__( 'Show advanced settings', 'gravity-forms-addons' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>          echo '&lt;div style=&quot;display:none;&quot; id=&quot;kws_gf_advanced_settings&quot;&gt;';&nbsp;</div></li><li><div>          echo &quot;&lt;h2 style='margin:0; padding:0; font-weight:bold; font-size:1.5em; margin-top:1em;'&gt;Single-Entry View&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>          echo '&lt;span class=&quot;howto&quot;&gt;These settings control whether users can view each entry as a separate page or lightbox. Single entries will show all data associated with that entry.&lt;/span&gt;';&nbsp;</div></li><li><div>          echo '&lt;ul style=&quot;padding:0 15px 0 15px; width:100%;&quot;&gt;';&nbsp;</div></li><li><div>          foreach ( $entry as $o ) {&nbsp;</div></li><li><div>              if ( isset( $o[3] ) ) {&nbsp;</div></li><li><div>                  $o3 = esc_html( $o[3] );&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $o3 = '';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              self::make_field( $o[0], $o[1], maybe_serialize( $o[2] ), $o3, $defaults );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo '&lt;/ul&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;div class=&quot;hr-divider label-divider&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo &quot;&lt;h2 style='margin:0; padding:0; font-weight:bold; font-size:1.5em; margin-top:1em;'&gt;&quot; . esc_html__( 'Directory View', 'gravity-forms-addons' ) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>          echo '&lt;span class=&quot;howto&quot;&gt;' . esc_html__( 'These settings affect how multiple entries are shown at once.', 'gravity-forms-addons' ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          foreach ( $fieldsets as $title =&gt; $fieldset ) {&nbsp;</div></li><li><div>              echo &quot;&lt;fieldset&gt;&lt;legend&gt;&lt;h3 style='padding-top:1em; padding-bottom:.5em; margin:0;'&gt;{$title}&lt;/h3&gt;&lt;/legend&gt;&quot;;&nbsp;</div></li><li><div>              echo '&lt;ul style=&quot;padding: 0 15px 0 15px; width:100%;&quot;&gt;';&nbsp;</div></li><li><div>              foreach ( $fieldset as $o ) {&nbsp;</div></li><li><div>                  self::make_field( $o[0], $o[1], maybe_serialize( $o[2] ), $o[3], $defaults );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              echo '&lt;/ul&gt;&lt;/fieldset&gt;';&nbsp;</div></li><li><div>              echo '&lt;div class=&quot;hr-divider label-divider&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo &quot;&lt;h2 style='margin:0; padding:0; font-weight:bold; font-size:1.5em; margin-top:1em;'&gt;&quot; . esc_html__( 'Additional Settings', 'gravity-forms-addons' ) . &quot;&lt;/h2&gt;&quot;;&nbsp;</div></li><li><div>          echo '&lt;span class=&quot;howto&quot;&gt;' . esc_html__( 'These settings affect both the directory view and single entry view.', 'gravity-forms-addons' ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>          echo '&lt;ul style=&quot;padding: 0 15px 0 15px; width:100%;&quot;&gt;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          foreach ( $entry as $o ) {&nbsp;</div></li><li><div>              $out[ $i ] = self::make_popup_js( $o[0], $o[1], $defaults );&nbsp;</div></li><li><div>              $i ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          foreach ( $fieldsets as $title =&gt; $fieldset ) {&nbsp;</div></li><li><div>              foreach ( $fieldset as $o ) {&nbsp;</div></li><li><div>                  $out[ $i ] = self::make_popup_js( $o[0], $o[1], $defaults );&nbsp;</div></li><li><div>                  $i ++;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $advanced = array(&nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'tableclass', &nbsp;</div></li><li><div>              'gf_directory widefat', &nbsp;</div></li><li><div>              esc_html__( &quot;Class for the &lt;table&gt;, &lt;ul&gt;, or &lt;dl&gt;&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'tablestyle', &nbsp;</div></li><li><div>              '', &nbsp;</div></li><li><div>              esc_html__( &quot;inline CSS for the &lt;table&gt;, &lt;ul&gt;, or &lt;dl&gt;&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'rowclass', &nbsp;</div></li><li><div>              '', &nbsp;</div></li><li><div>              esc_html__( &quot;Class for the &lt;table&gt;, &lt;ul&gt;, or &lt;dl&gt;&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'rowstyle', &nbsp;</div></li><li><div>              '', &nbsp;</div></li><li><div>              esc_html__( &quot;Inline CSS for all &lt;tbody&gt;&lt;tr&gt;'s, &lt;ul&gt;&lt;li&gt;'s, or &lt;dl&gt;&lt;dt&gt;'s&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'valign', &nbsp;</div></li><li><div>              'baseline', &nbsp;</div></li><li><div>              esc_html__( &quot;Vertical align for table cells&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'sort', &nbsp;</div></li><li><div>              'date_created', &nbsp;</div></li><li><div>              esc_html__( &quot;Use the input ID ( example: 1.3 or 7 or ip)&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'dir', &nbsp;</div></li><li><div>              'DESC', &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Sort in ascending order (%sASC%s or descending (%sDESC%s)&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;', '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'startpage', &nbsp;</div></li><li><div>              1, &nbsp;</div></li><li><div>              esc_html__( &quot;If you want to show page 8 instead of 1&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'pagelinkstype', &nbsp;</div></li><li><div>              'plain', &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Type of pagination links. %splain%s is just a string with the links separated by a newline character. The other possible values are either %sarray%s or %slist%s.&quot;, 'gravity-forms-addons' ), '&lt;code&gt;', '&lt;/code&gt;', '&lt;code&gt;', '&lt;/code&gt;', '&lt;code&gt;', '&lt;/code&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'titleprefix', &nbsp;</div></li><li><div>              'Entries for ', &nbsp;</div></li><li><div>              esc_html__( &quot;Default GF behavior is 'Entries : '&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'tablewidth', &nbsp;</div></li><li><div>              '100%', &nbsp;</div></li><li><div>              esc_html__( &quot;Set the 'width' attribute for the &lt;table&gt;, &lt;ul&gt;, or &lt;dl&gt;&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'text', &nbsp;</div></li><li><div>              'datecreatedformat', &nbsp;</div></li><li><div>              get_option( 'date_format' ) . ' \a\t ' . get_option( 'time_format' ), &nbsp;</div></li><li><div>              sprintf( esc_html__( &quot;Use %sstandard PHP date formats%s&quot;, 'gravity-forms-addons' ), &quot;&lt;a href='http:<span class="comment">//php.net/manual/en/function.date.php' target='_blank'&gt;&quot;, '&lt;/a&gt;' ), </span>&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'checkbox', &nbsp;</div></li><li><div>              'credit', &nbsp;</div></li><li><div>              true, &nbsp;</div></li><li><div>              esc_html__( &quot;Give credit to the plugin creator (who has spent over 300 hours on this free plugin!) with a link at the bottom of the directory&quot;, 'gravity-forms-addons' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      if ( ! $js ) {&nbsp;</div></li><li><div>          foreach ( $advanced as $o ) {&nbsp;</div></li><li><div>              self::make_field( $o[0], $o[1], maybe_serialize( $o[2] ), $o[3], $defaults );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo '&lt;/ul&gt;&lt;/fieldset&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          foreach ( $advanced as $o ) {&nbsp;</div></li><li><div>              $out[ $i ] = self::make_popup_js( $o[0], $o[1], $defaults );&nbsp;</div></li><li><div>              $i ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $out;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function make_field( $type, $id, $default, $label, $defaults = array() ) {&nbsp;</div></li><li><div>      $rawid = $id;&nbsp;</div></li><li><div>      $idLabel = '';&nbsp;</div></li><li><div>      if ( GFDirectory::is_gravity_page( 'gf_settings' ) ) {&nbsp;</div></li><li><div>          $id = 'gf_addons_directory_defaults[' . $id . ']';&nbsp;</div></li><li><div>          $idLabel = &quot; &lt;span style='color:#868686'&gt;(&lt;pre style='display:inline'&gt;{$rawid}&lt;/pre&gt;)&lt;/span&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $checked = '';&nbsp;</div></li><li><div>      $label = str_replace( '&lt;code&gt;', '&lt;code&gt;', str_replace( '&lt;/code&gt;', '&lt;/code&gt;', $label ) );&nbsp;</div></li><li><div>      $output = '&lt;li class=&quot;setting-container&quot; style=&quot;width:90%; clear:left; border-bottom: 1px solid #cfcfcf; padding:.25em .25em .4em; margin-bottom:.25em;&quot;&gt;';&nbsp;</div></li><li><div>      $default = maybe_unserialize( $default );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $class = '';&nbsp;</div></li><li><div>      if ( $type == 'date' ) {&nbsp;</div></li><li><div>          $type = 'text';&nbsp;</div></li><li><div>          $class = ' class=&quot;gf_addons_datepicker datepicker&quot;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $type == &quot;checkbox&quot; ) {&nbsp;</div></li><li><div>          if ( ! empty( $defaults[&quot;{$rawid}&quot;] ) || ( $defaults[&quot;{$rawid}&quot;] === '1' || $defaults[&quot;{$rawid}&quot;] === 1 ) ) {&nbsp;</div></li><li><div>              $checked = ' checked=&quot;checked&quot;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $output .= '&lt;label for=&quot;gf_settings_' . $rawid . '&quot;&gt;&lt;input type=&quot;hidden&quot; value=&quot;&quot; name=&quot;' . $id . '&quot; /&gt;&lt;input type=&quot;checkbox&quot; id=&quot;gf_settings_' . $rawid . '&quot;' . $checked . ' name=&quot;' . $id . '&quot; /&gt; ' . $label . $idLabel . '&lt;/label&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>      } elseif ( $type == &quot;text&quot; ) {&nbsp;</div></li><li><div>          $default = $defaults[&quot;{$rawid}&quot;];&nbsp;</div></li><li><div>          $output .= '&lt;label for=&quot;gf_settings_' . $rawid . '&quot;&gt;&lt;input type=&quot;text&quot; id=&quot;gf_settings_' . $rawid . '&quot; value=&quot;' . htmlspecialchars( stripslashes( $default ) ) . '&quot; style=&quot;width:40%;&quot; name=&quot;' . $id . '&quot;' . $class . ' /&gt; &lt;span class=&quot;howto&quot;&gt;' . $label . $idLabel . '&lt;/span&gt;&lt;/label&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>      } elseif ( $type == 'radio' || $type == 'checkboxes' ) {&nbsp;</div></li><li><div>          if ( is_array( $default ) ) {&nbsp;</div></li><li><div>              $output .= $label . $idLabel . '&lt;ul class=&quot;ul-disc&quot;&gt;';&nbsp;</div></li><li><div>              foreach ( $default as $opt ) {&nbsp;</div></li><li><div>                  if ( $type == 'radio' ) {&nbsp;</div></li><li><div>                      $id_opt = $id . '_' . sanitize_title( $opt['value'] );&nbsp;</div></li><li><div>                      if ( ! empty( $defaults[&quot;{$rawid}&quot;] ) && $defaults[&quot;{$rawid}&quot;] == $opt['value'] ) {&nbsp;</div></li><li><div>                          $checked = ' checked=&quot;checked&quot;';&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $checked = '';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      $inputtype = 'radio';&nbsp;</div></li><li><div>                      $name = $id;&nbsp;</div></li><li><div>                      $value = $opt['value'];&nbsp;</div></li><li><div>                      $output .= '&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;label for=&quot;gf_settings_' . $id_opt . '&quot;&gt;';&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $id_opt = $rawid . '_' . sanitize_title( $opt['value'] );&nbsp;</div></li><li><div>                      if ( ! empty( $defaults[&quot;{$rawid}&quot;][ sanitize_title( $opt['value'] ) ] ) ) {&nbsp;</div></li><li><div>                          $checked = ' checked=&quot;checked&quot;';&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $checked = '';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      $inputtype = 'checkbox';&nbsp;</div></li><li><div>                      $name = $id . '[' . sanitize_title( $opt['value'] ) . ']';&nbsp;</div></li><li><div>                      $value = 1;&nbsp;</div></li><li><div>                      $output .= '&nbsp;</div></li><li><div>                          &lt;li&gt;&lt;label for=&quot;gf_settings_' . $id_opt . '&quot;&gt;&nbsp;</div></li><li><div>                              &lt;input type=&quot;hidden&quot; value=&quot;0&quot; name=&quot;' . $name . '&quot; /&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $output .= '&nbsp;</div></li><li><div>                          &lt;input type=&quot;' . $inputtype . '&quot;' . $checked . ' value=&quot;' . $value . '&quot; id=&quot;gf_settings_' . $id_opt . '&quot; name=&quot;' . $name . '&quot; /&gt; ' . $opt['label'] . &quot; &lt;span style='color:#868686'&gt;(&lt;pre style='display:inline'&gt;&quot; . sanitize_title( $opt['value'] ) . &quot;&lt;/pre&gt;)&lt;/span&gt;&quot; . '&nbsp;</div></li><li><div>                      &lt;/label&gt;&nbsp;</div></li><li><div>                  &lt;/li&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $output .= &quot;&lt;/ul&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } elseif ( $type == 'select' ) {&nbsp;</div></li><li><div>          if ( is_array( $default ) ) {&nbsp;</div></li><li><div>              $output .= '&nbsp;</div></li><li><div>              &lt;label for=&quot;gf_settings_' . $rawid . '&quot;&gt;' . $label . '&nbsp;</div></li><li><div>              &lt;select name=&quot;' . $id . '&quot; id=&quot;gf_settings_' . $rawid . '&quot;&gt;';&nbsp;</div></li><li><div>              foreach ( $default as $opt ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if ( ! empty( $defaults[&quot;{$rawid}&quot;] ) && $defaults[&quot;{$rawid}&quot;] == $opt['value'] ) {&nbsp;</div></li><li><div>                      $checked = ' selected=&quot;selected&quot;';&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $checked = '';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $id_opt = $id . '_' . sanitize_title( $opt['value'] );&nbsp;</div></li><li><div>                  $output .= '&lt;option' . $checked . ' value=&quot;' . $opt['value'] . '&quot;&gt; ' . $opt['label'] . '&lt;/option&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $output .= '&lt;/select&gt;' . $idLabel . '&nbsp;</div></li><li><div>              &lt;/label&gt;&nbsp;</div></li><li><div>              ';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $output = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! empty( $output ) ) {&nbsp;</div></li><li><div>          $output .= '&lt;/li&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>          echo $output;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function make_popup_js( $type, $id, $defaults ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      foreach ( $defaults as $key =&gt; $default ) {&nbsp;</div></li><li><div>          if ( $default === true || $default === 'on' ) {&nbsp;</div></li><li><div>              $defaults[ $key ] = 'true';&nbsp;</div></li><li><div>          } elseif ( $default === false || ( $type == 'checkbox' && empty( $default ) ) ) {&nbsp;</div></li><li><div>              $defaults[ $key ] = 'false';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $defaultsArray = array();&nbsp;</div></li><li><div>      if ( $type == &quot;checkbox&quot; ) {&nbsp;</div></li><li><div>          $js = 'var ' . $id . ' = jQuery(&quot;#gf_settings_' . $id . '&quot;).is(&quot;:checked&quot;) ? &quot;true&quot; : &quot;false&quot;;';&nbsp;</div></li><li><div>      } elseif ( $type == &quot;checkboxes&quot; && is_array( $defaults[&quot;{$id}&quot;] ) ) {&nbsp;</div></li><li><div>          $js = '';&nbsp;</div></li><li><div>          $i = 0;&nbsp;</div></li><li><div>          $js .= &quot;\n\t\t\tvar &quot; . $id . ' = new Array();';&nbsp;</div></li><li><div>          foreach ( $defaults[&quot;{$id}&quot;] as $key =&gt; $value ) {&nbsp;</div></li><li><div>              $defaultsArray[] = $key;&nbsp;</div></li><li><div>              $js .= &quot;\n\t\t\t&quot; . $id . '[' . $i . '] = jQuery(&quot;input#gf_settings_' . $id . '_' . $key . '&quot;).is(&quot;:checked&quot;) ? &quot;' . $key . '&quot; : null;';&nbsp;</div></li><li><div>              $i ++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } elseif ( $type == &quot;text&quot; || $type == &quot;date&quot; ) {&nbsp;</div></li><li><div>          $js = 'var ' . $id . ' = jQuery(&quot;#gf_settings_' . $id . '&quot;).val();';&nbsp;</div></li><li><div>      } elseif ( $type == 'radio' ) {&nbsp;</div></li><li><div>          $js = '&nbsp;</div></li><li><div>          if(jQuery(&quot;input[name=\'' . $id . '\']:checked&quot;).length &gt; 0) {&nbsp;</div></li><li><div>              var ' . $id . ' = jQuery(&quot;input[name=\'' . $id . '\']:checked&quot;).val();&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              var ' . $id . ' = jQuery(&quot;input[name=\'' . $id . '\']&quot;).eq(0).val();&nbsp;</div></li><li><div>          }';&nbsp;</div></li><li><div>      } elseif ( $type == 'select' ) {&nbsp;</div></li><li><div>          $js = '&nbsp;</div></li><li><div>          if(jQuery(&quot;select[name=\'' . $id . '\']:selected&quot;).length &gt; 0) {&nbsp;</div></li><li><div>              var ' . $id . ' = jQuery(&quot;select[name=\'' . $id . '\']:selected&quot;).val();&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              var ' . $id . ' = jQuery(&quot;select[name=\'' . $id . '\']&quot;).eq(0).val();&nbsp;</div></li><li><div>          }';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $set = '';&nbsp;</div></li><li><div>      if ( ! is_array( $defaults[&quot;{$id}&quot;] ) ) {&nbsp;</div></li><li><div>          $idCode = $id . '=\&quot;&quot;+' . $id . '+&quot;\&quot;';&nbsp;</div></li><li><div>          $set = 'var ' . $id . 'Output = (jQuery.trim(' . $id . ') == &quot;' . trim( addslashes( stripslashes( $defaults[&quot;{$id}&quot;] ) ) ) . '&quot;) ? &quot;&quot; : &quot; ' . $idCode . '&quot;;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $idCode2 = $id . '.join()';&nbsp;</div></li><li><div>          $idCode = '&quot;' . $idCode2 . '&quot;';&nbsp;</div></li><li><div>          $set = '&nbsp;</div></li><li><div>          ' . $id . ' =  jQuery.grep(' . $id . ', function(n) { return(n); });&nbsp;</div></li><li><div>          var ' . $id . 'Output = (jQuery.trim(' . $idCode2 . ') === &quot;' . implode( ', ', $defaultsArray ) . '&quot;) ? &quot;&quot; : &quot; ' . $id . '=\&quot;&quot;+ ' . $idCode2 . '+&quot;\&quot;&quot;;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Debug</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $return = array( 'js' =&gt; $js, 'id' =&gt; $id, 'idcode' =&gt; $idCode, 'setvalue' =&gt; $set );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function add_form_button() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $output = '&lt;a href=&quot;#TB_inline?width=640&amp;inlineId=select_gf_directory&quot; class=&quot;thickbox button select_gf_directory gform_media_link&quot; id=&quot;add_gform&quot; title=&quot;' . esc_attr__( &quot;Add a Gravity Forms Directory&quot;, 'gravity-forms-addons' ) . '&quot;&gt;&lt;span class=&quot;dashicons dashicons-welcome-widgets-menus&quot; style=&quot;line-height: 26px;&quot;&gt;&lt;/span&gt; ' . esc_html__( &quot;Add Directory&quot;, &quot;gravityforms&quot; ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo $output;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//Creates directory left nav menu under Forms</span>&nbsp;</div></li><li><div>  public function create_menu( $menus ) {&nbsp;</div></li><li><div>      <span class="comment">// Adding submenu if user has access</span>&nbsp;</div></li><li><div>      $permission = GFDirectory::has_access( &quot;gravityforms_directory&quot; );&nbsp;</div></li><li><div>      if ( ! empty( $permission ) ) {&nbsp;</div></li><li><div>          $menus[] = array(&nbsp;</div></li><li><div>              &quot;name&quot; =&gt; &quot;gf_settings&amp;addon=Directory+%26+Addons&quot;, &nbsp;</div></li><li><div>              &quot;label&quot; =&gt; esc_html__( &quot;Directory & Addons&quot;, &quot;gravity-forms-addons&quot; ), &nbsp;</div></li><li><div>              &quot;callback&quot; =&gt; array( &$this, &quot;settings_page&quot; ), &nbsp;</div></li><li><div>              &quot;permission&quot; =&gt; $permission, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $menus;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function settings_page() {&nbsp;</div></li><li><div>      $message = $validimage = false;&nbsp;</div></li><li><div>      global $plugin_page;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( isset( $_POST[&quot;gf_addons_submit&quot;] ) ) {&nbsp;</div></li><li><div>          check_admin_referer( &quot;update&quot;, &quot;gf_directory_update&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $settings = array(&nbsp;</div></li><li><div>              &quot;directory&quot; =&gt; isset( $_POST[&quot;gf_addons_directory&quot;] ), &nbsp;</div></li><li><div>              &quot;referrer&quot; =&gt; isset( $_POST[&quot;gf_addons_referrer&quot;] ), &nbsp;</div></li><li><div>              &quot;directory_defaults&quot; =&gt; GFDirectory::directory_defaults( $_POST['gf_addons_directory_defaults'], true ), &nbsp;</div></li><li><div>              &quot;modify_admin&quot; =&gt; isset( $_POST[&quot;gf_addons_modify_admin&quot;] ) ? $_POST[&quot;gf_addons_modify_admin&quot;] : array(), &nbsp;</div></li><li><div>              &quot;version&quot; =&gt; GFDirectory::get_version(), &nbsp;</div></li><li><div>              &quot;saved&quot; =&gt; true, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          $message = esc_html__( 'Settings saved.', 'gravity-forms-addons' );&nbsp;</div></li><li><div>          update_option( &quot;gf_addons_settings&quot;, $settings );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $settings = GFDirectory::get_settings();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;style&gt;&nbsp;</div></li><li><div>          .ul-square li {&nbsp;</div></li><li><div>              list-style: square !important;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          .ol-decimal li {&nbsp;</div></li><li><div>              list-style: decimal !important;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          .form-table label {&nbsp;</div></li><li><div>              font-size: 1em !important;&nbsp;</div></li><li><div>              margin: .4em 0;&nbsp;</div></li><li><div>              display: block;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          li.setting-container {&nbsp;</div></li><li><div>              border: none !important;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      &lt;/style&gt;&nbsp;</div></li><li><div>      &lt;script&gt;&nbsp;</div></li><li><div>          jQuery( 'document' ).ready( function ( $ ) {&nbsp;</div></li><li><div>              $( '#kws_gf_advanced_settings' ).show();&nbsp;</div></li><li><div>              $( 'a:contains(Directory)', $( 'ul.subsubsub' ) ).css( 'font-weight', 'bold' );&nbsp;</div></li><li><div>              $( '.wp-submenu li.current, .wp-submenu li.current a' ).removeClass( 'current' );&nbsp;</div></li><li><div>              $( 'a:contains(Directory)', $( '.wp-submenu' ) ).addClass( 'current' ).parent( 'li' ).addClass( 'current' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( 'a.kws_gf_advanced_settings' ).hide(); <span class="comment">//click(function(e) {  e.preventDefault(); jQuery('#kws_gf_advanced_settings').slideToggle(); return false; });</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( '#kws_gf_advanced_settings' ).change( function () {&nbsp;</div></li><li><div>                  if ( $( &quot;#gf_settings_thead:checked&quot; ).length || $( &quot;#gf_settings_tfoot:checked&quot; ).length ) {&nbsp;</div></li><li><div>                      $( '#gf_settings_jssearch' ).parents( 'li' ).show();&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $( '#gf_settings_jssearch' ).parents( 'li' ).hide();&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } ).trigger( 'change' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( document ).on( 'load click', 'label[for=gf_addons_directory]', function () {&nbsp;</div></li><li><div>                  if ( $( '#gf_addons_directory' ).is( &quot;:checked&quot; ) ) {&nbsp;</div></li><li><div>                      $( &quot;tr#directory_settings_row&quot; ).show();&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $( &quot;tr#directory_settings_row&quot; ).hide();&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( '#kws_gf_instructions_button' ).click( function ( e ) {&nbsp;</div></li><li><div>                  e.preventDefault();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $( '#kws_gf_instructions' ).slideToggle( function () {&nbsp;</div></li><li><div>                      var $that = $( '#kws_gf_instructions_button' );&nbsp;</div></li><li><div>                      $that.text( function () {&nbsp;</div></li><li><div>                          if ( $( '#kws_gf_instructions' ).is( &quot;:visible&quot; ) ) {&nbsp;</div></li><li><div>                              return '&lt;?php echo esc_js( __( 'Hide Directory Instructions', 'gravity-forms-addons' ) ); ?&gt;';&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                              return '&lt;?php echo esc_js( __( 'View Directory Instructions', 'gravity-forms-addons' ) ); ?&gt;';&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } );&nbsp;</div></li><li><div>                  } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  return false;&nbsp;</div></li><li><div>              } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $( '#message.fade' ).delay( 1000 ).fadeOut( 'slow' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          } );&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>      &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          if ( $plugin_page !== 'gf_settings' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              echo '&lt;h2&gt;' . esc_html__( 'Gravity Forms Directory Add-on', &quot;gravity-forms-addons&quot; ) . '&lt;/h2&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $message ) {&nbsp;</div></li><li><div>              echo &quot;&lt;div class='fade below-h2 updated' id='message'&gt;&quot; . wpautop( $message ) . &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// if you must, you can filter this out...</span>&nbsp;</div></li><li><div>          if ( apply_filters( 'kws_gf_show_donate_box', true ) ) {&nbsp;</div></li><li><div>              include( plugin_dir_path( __FILE__ ) . '/gravityview-info.php' );&nbsp;</div></li><li><div>          } <span class="comment">// End donate box</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;p class=&quot;submit&quot;&gt;&lt;span style=&quot;padding-right:.5em;&quot;&nbsp;</div></li><li><div>                                  class=&quot;description&quot;&gt;&lt;?php esc_html_e( 'Need help getting started?', 'gravity-forms-addons' ); ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>              &lt;a href=&quot;#&quot; class=&quot;button button-secondary&quot; id=&quot;kws_gf_instructions_button&quot;&gt;&lt;?php&nbsp;</div></li><li><div>                  if ( ! empty( $settings['saved'] ) && ! isset( $_REQUEST['viewinstructions'] ) ) {&nbsp;</div></li><li><div>                      esc_html_e( 'View Directory Instructions', 'gravity-forms-addons' );&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      esc_html_e( 'Hide Directory Instructions', 'gravity-forms-addons' );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  ?&gt;&lt;/a&gt;&lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;div&nbsp;</div></li><li><div>              id=&quot;kws_gf_instructions&quot;&lt;?php if ( ! empty( $settings['saved'] ) && ! isset( $_REQUEST['viewinstructions'] ) ) { ?&gt;  class=&quot;hide-if-js clear&quot; &lt;?php } ?&gt;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;delete-alert alert_gray&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;alignright&quot; style=&quot;margin:1em 1.2em;&quot;&gt;&nbsp;</div></li><li><div>                      &lt;iframe width=&quot;400&quot; height=&quot;255&quot;&nbsp;</div></li><li><div>                              src=&quot;http&lt;?php echo is_ssl() ? 's' : ''; ?&gt;:<span class="comment">//www.youtube.com/embed/PMI7Jb-RP2I?hd=1&quot;</span>&nbsp;</div></li><li><div>                              frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;h3 style=&quot;padding-top:1em;&quot;&gt;&lt;?php esc_html_e( 'To integrate a form with Directory:', 'gravity-forms-addons' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>                  &lt;ol class=&quot;ol-decimal&quot;&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'Go to the post or page where you would like to add the directory.', 'gravity-forms-addons' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'Click the &quot;Add Directory&quot; button above the content area.', 'gravity-forms-addons' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'Choose a form from the drop-down menu and configure settings as you would like them.', 'gravity-forms-addons' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php printf( esc_html__( 'Click &quot;Insert Directory&quot;. A &quot;shortcode&quot; should appear in the content editor that looks similar to %s[directory form=&quot;#&quot;]%s', 'gravity-forms-addons' ), '&lt;code style=&quot;font-size:1em;&quot;&gt;', '&lt;/code&gt;' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'Save the post or page', 'gravity-forms-addons' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                  &lt;/ol&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;h4&gt;&lt;?php esc_html_e( 'Configuring Fields & Columns', &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/h4&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php echo wpautop( esc_html__( 'When editing a form, click on a field to expand the field. Next, click the &quot;Directory&quot; tab. There, you will find options to:', &quot;gravity-forms-addons&quot; ) ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;ul class=&quot;ul-square&quot;&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( &quot;Choose whether you would like the field to be a link to the Single Entry View;&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( &quot;Hide the field in Directory View; and&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( &quot;Hide the field in Single Entry View&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                  &lt;/ul&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;h4&gt;&lt;?php esc_html_e( 'Configuring Column Visibility & Order', &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/h4&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php echo wpautop( esc_html__( 'When editing a form in Gravity Forms, click the link near the top-center of the page named &quot;Directory Columns&quot;', &quot;gravity-forms-addons&quot; ) ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;ol class=&quot;ol-decimal&quot;&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'When editing a form in Gravity Forms, click the link near the top-center of the page named &quot;Directory Columns&quot;', &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'Drag and drop columns from the right (&quot;Hidden Columns&quot;) side to the left (&quot;Visible Columns&quot;) side.', &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;li&gt;&lt;?php esc_html_e( 'Click the &quot;Save&quot; button', &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                  &lt;/ol&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;div class=&quot;hr-divider&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;form method=&quot;post&quot; action=&quot;&quot; class=&quot;clear&quot;&gt;&nbsp;</div></li><li><div>              &lt;?php wp_nonce_field( &quot;update&quot;, &quot;gf_directory_update&quot; ) ?&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;tr&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&lt;label&nbsp;</div></li><li><div>                              for=&quot;gf_addons_directory&quot;&gt;&lt;?php esc_html_e( &quot;Gravity Forms Directory&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;gf_addons_directory&quot; class=&quot;howto&quot;&gt;&lt;input type=&quot;checkbox&quot;&nbsp;</div></li><li><div>                                                                                id=&quot;gf_addons_directory&quot;&nbsp;</div></li><li><div>                                                                                name=&quot;gf_addons_directory&quot; &lt;?php checked( $settings[&quot;directory&quot;] ); ?&gt; /&gt; &lt;?php esc_html_e( 'Enable Gravity Forms Directory capabilities', 'gravity-forms-addons' ); ?&gt;&nbsp;</div></li><li><div>                          &lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;tr id=&quot;directory_settings_row&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;h2 style=&quot;margin-bottom:0; padding-bottom:0;&quot;&gt;&lt;?php esc_html_e( &quot;Directory Default Settings&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/h2&gt;&nbsp;</div></li><li><div>                          &lt;h3&gt;&lt;?php esc_html_e( &quot;These defaults can be over-written when inserting a directory.&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                          self::make_popup_options( false );&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;div class=&quot;hr-divider&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;tr&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&lt;label&nbsp;</div></li><li><div>                              for=&quot;gf_addons_referrer&quot;&gt;&lt;?php esc_html_e( &quot;Add Referrer Data to Emails&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;gf_addons_referrer&quot;&gt;&lt;input type=&quot;checkbox&quot; id=&quot;gf_addons_referrer&quot;&nbsp;</div></li><li><div>                                                                 name=&quot;gf_addons_referrer&quot; &lt;?php checked( $settings[&quot;referrer&quot;] ); ?&gt; /&gt; &lt;?php esc_html_e( &quot;Adds referrer data to entries, including the path the user took to get to the form before submitting.&quot;, 'gravity-forms-addons' ); ?&gt;&nbsp;</div></li><li><div>                          &lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;tr&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&lt;label&nbsp;</div></li><li><div>                              for=&quot;gf_addons_modify_admin&quot;&gt;&lt;?php esc_html_e( &quot;Modify Gravity Forms Admin&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;ul&gt;&nbsp;</div></li><li><div>                              &lt;li&gt;&lt;label for=&quot;gf_addons_modify_admin_expand&quot;&gt;&lt;input type=&quot;checkbox&quot;&nbsp;</div></li><li><div>                                                                                    id=&quot;gf_addons_modify_admin_expand&quot;&nbsp;</div></li><li><div>                                                                                    name=&quot;gf_addons_modify_admin[expand]&quot; &lt;?php checked( isset( $settings[&quot;modify_admin&quot;]['expand'] ) ); ?&gt; /&gt; &lt;?php esc_html_e( &quot;Show option to expand Form Editor Field boxes&quot;, &quot;gravity-forms-addons&quot; ); ?&gt;&nbsp;</div></li><li><div>                                  &lt;/label&gt;&lt;/li&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              &lt;li&gt;&lt;label for=&quot;gf_addons_modify_admin_toggle&quot;&gt;&lt;input type=&quot;checkbox&quot;&nbsp;</div></li><li><div>                                                                                    id=&quot;gf_addons_modify_admin_toggle&quot;&nbsp;</div></li><li><div>                                                                                    name=&quot;gf_addons_modify_admin[toggle]&quot; &lt;?php checked( isset( $settings[&quot;modify_admin&quot;]['toggle'] ) ); ?&gt; /&gt; &lt;?php esc_html_e( 'When clicking Form Editor Field boxes, toggle open and closed instead of &quot;accordion mode&quot; (closing all except the clicked box).', &quot;gravity-forms-addons&quot; ); ?&gt;&nbsp;</div></li><li><div>                                  &lt;/label&gt;&lt;/li&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              &lt;li&gt;&lt;label for=&quot;gf_addons_modify_admin_edit&quot;&gt;&lt;input type=&quot;checkbox&quot;&nbsp;</div></li><li><div>                                                                                  id=&quot;gf_addons_modify_admin_edit&quot;&nbsp;</div></li><li><div>                                                                                  name=&quot;gf_addons_modify_admin[edit]&quot; &lt;?php checked( isset( $settings[&quot;modify_admin&quot;]['edit'] ) ); ?&gt; /&gt; &lt;?php printf( esc_html__( &quot;Makes possible direct editing of entries from %sEntries list view%s&quot;, &quot;gravity-forms-addons&quot; ), '&lt;a href=&quot;' . admin_url( 'admin.php?page=gf_entries' ) . '&quot;&gt;', '&lt;/a&gt;' ); ?&gt;&nbsp;</div></li><li><div>                                  &lt;/label&gt;&lt;/li&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              &lt;li&gt;&lt;label for=&quot;gf_addons_modify_admin_ids&quot;&gt;&lt;input type=&quot;checkbox&quot;&nbsp;</div></li><li><div>                                                                                 id=&quot;gf_addons_modify_admin_ids&quot;&nbsp;</div></li><li><div>                                                                                 name=&quot;gf_addons_modify_admin[ids]&quot; &lt;?php checked( isset( $settings[&quot;modify_admin&quot;]['ids'] ) ); ?&gt; /&gt; &lt;?php printf( esc_html__( &quot;Adds a link in the Forms list view to view form IDs&quot;, &quot;gravity-forms-addons&quot; ), '&lt;a href=&quot;' . admin_url( 'admin.php?page=gf_edit_forms' ) . '&quot;&gt;', '&lt;/a&gt;' ); ?&gt;&nbsp;</div></li><li><div>                                  &lt;/label&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                          &lt;/ul&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;tr&gt;&nbsp;</div></li><li><div>                      &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;gf_addons_submit&quot;&nbsp;</div></li><li><div>                                             class=&quot;button-primary button-large button-mega&quot;&nbsp;</div></li><li><div>                                             value=&quot;&lt;?php esc_attr_e( &quot;Save Settings&quot;, &quot;gravity-forms-addons&quot; ) ?&gt;&quot;/&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Gravity Forms Directory &amp; Addons</li><li><span></span>3.8.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>