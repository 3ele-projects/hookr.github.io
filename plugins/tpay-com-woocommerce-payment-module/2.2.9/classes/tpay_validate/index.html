<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="2.2.9" data-slug="tpay-com-woocommerce-payment-module" data-type="class" data-id="64356"><head xmlns="http://www.w3.org/1999/xhtml"><title> tpayvalidate | class | Tpay Com Woocommerce Payment Module | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="tpay\Validate, class, plugin, tpay-com-woocommerce-payment-module, 2.2.9" /><meta name="description" content="Class Fields" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=1d36668960b811644e7a44c92af77c27' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/tpay_validate/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Ftpay_validate%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Ftpay_validate%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-tpay-com-woocommerce-payment-module-2.2.9-class-tpay_validate","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="tpay_validate" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to tpay-com-woocommerce-payment-&hellip;." href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/" class="plugin"><span property="name">tpay-com-woocommerce-payment-&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.2.9." href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/" class="H_VERSION"><span property="name">2.2.9</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">tpay_validate</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="19"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/all/" title="All">All <span class="count badge">19</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="2"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/hooks/" title="Hooks">Hooks <span class="count badge">2</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="2"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/filters/" title="Filters">Filters <span class="count badge">2</span></a></li><li class="active" data-id="class" data-count="16"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/classes/" title="Classes">Classes <span class="count badge">16</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="1"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/functions/" title="Functions">Functions <span class="count badge">1</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>tpayValidate</strong></h1><p>Class Fields.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/files/includes-lib-src-class-tpay-validate/" class="file">/includes/lib/src/_class_tpay/validate.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="16" class="block" start="16"><li><div>class Validate&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>    const PAYMENT_TYPE_BASIC = 'basic';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_BASIC_API = 'basic_api';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_CARD = 'card';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_CARD_DIRECT = 'card_direct';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_SZKWAL = 'szkwal';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_WHITE_LABEL = 'whiteLabel';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_EHAT = 'ehat';&nbsp;</div></li><li><div>    const PAYMENT_TYPE_SMS = 'sms';&nbsp;</div></li><li><div>    const CARD_DEREGISTER = 'deregister';&nbsp;</div></li><li><div>    const NUMBERS = 'numbers';&nbsp;</div></li><li><div>    const PHONE = 'phone';&nbsp;</div></li><li><div>    const REQUIRED = 'required';&nbsp;</div></li><li><div>    const VALIDATION = 'validation';&nbsp;</div></li><li><div>    const FLOAT = 'float';&nbsp;</div></li><li><div>    const FILTER = 'filter';&nbsp;</div></li><li><div>    const STRING = 'string';&nbsp;</div></li><li><div>    const MAXLENGHT_128 = 'maxlenght_128';&nbsp;</div></li><li><div>    const OPTIONS = 'options';&nbsp;</div></li><li><div>    const KANAL = 'kanal';&nbsp;</div></li><li><div>    const MAXLENGHT_512 = 'maxlenght_512';&nbsp;</div></li><li><div>    const EMAIL_LIST = 'email_list';&nbsp;</div></li><li><div>    const OPIS_DODATKOWY = 'opis_dodatkowy';&nbsp;</div></li><li><div>    const MAXLENGHT_32 = 'maxlenght_32';&nbsp;</div></li><li><div>    const EMAIL = 'email';&nbsp;</div></li><li><div>    const MAXLENGHT_64 = 'maxlenght_64';&nbsp;</div></li><li><div>    const TEST_MODE = 'test_mode';&nbsp;</div></li><li><div>    const AMOUNT = 'amount';&nbsp;</div></li><li><div>    const ORDER_ID = 'order_id';&nbsp;</div></li><li><div>    const MAXLENGHT_40 = 'maxlenght_40';&nbsp;</div></li><li><div>    const MINLENGTH_40 = 'minlength_40';&nbsp;</div></li><li><div>    const MAXLENGTH_40 = 'maxlength_40';&nbsp;</div></li><li><div>    const UNKNOWN_PAYMENT_TYPE_S = 'Unknown payment type: %s';&nbsp;</div></li><li><div>    const TYPE = 'type';&nbsp;</div></li><li><div>    const BOOLEAN = 'boolean';&nbsp;</div></li><li><div>    private static $cardPaymentLanguages = array(&nbsp;</div></li><li><div>        'pl' =&gt; 'pl_PL', &nbsp;</div></li><li><div>        'en' =&gt; 'en_EN', &nbsp;</div></li><li><div>        'es' =&gt; 'sp_SP', &nbsp;</div></li><li><div>        'it' =&gt; 'it_IT', &nbsp;</div></li><li><div>        'ru' =&gt; 'ru_RU', &nbsp;</div></li><li><div>        'fr' =&gt; 'fr_FR', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of ISO currency codes supported on card payments&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $isoCurrencyCodes = array(&nbsp;</div></li><li><div>        784 =&gt; 'AED', &nbsp;</div></li><li><div>        41 =&gt; 'AMD', &nbsp;</div></li><li><div>        532 =&gt; 'ANG', &nbsp;</div></li><li><div>        973 =&gt; 'AOA', &nbsp;</div></li><li><div>        26 =&gt; 'ARS', &nbsp;</div></li><li><div>        30 =&gt; 'AUD', &nbsp;</div></li><li><div>        533 =&gt; 'AWG', &nbsp;</div></li><li><div>        944 =&gt; 'AZN', &nbsp;</div></li><li><div>        977 =&gt; 'BAM', &nbsp;</div></li><li><div>        42 =&gt; 'BBD', &nbsp;</div></li><li><div>        40 =&gt; 'BDT', &nbsp;</div></li><li><div>        975 =&gt; 'BGN', &nbsp;</div></li><li><div>        4 =&gt; 'BHD', &nbsp;</div></li><li><div>        108 =&gt; 'BIF', &nbsp;</div></li><li><div>        48 =&gt; 'BMD', &nbsp;</div></li><li><div>        6 =&gt; 'BOB', &nbsp;</div></li><li><div>        986 =&gt; 'BRL', &nbsp;</div></li><li><div>        36 =&gt; 'BSD', &nbsp;</div></li><li><div>        58 =&gt; 'BWP', &nbsp;</div></li><li><div>        933 =&gt; 'BYN', &nbsp;</div></li><li><div>        124 =&gt; 'CAD', &nbsp;</div></li><li><div>        976 =&gt; 'CDF', &nbsp;</div></li><li><div>        756 =&gt; 'CHF', &nbsp;</div></li><li><div>        152 =&gt; 'CLP', &nbsp;</div></li><li><div>        156 =&gt; 'CNY', &nbsp;</div></li><li><div>        170 =&gt; 'COP', &nbsp;</div></li><li><div>        188 =&gt; 'CRC', &nbsp;</div></li><li><div>        132 =&gt; 'CVE', &nbsp;</div></li><li><div>        203 =&gt; 'CZK', &nbsp;</div></li><li><div>        208 =&gt; 'DKK', &nbsp;</div></li><li><div>        214 =&gt; 'DOP', &nbsp;</div></li><li><div>        10 =&gt; 'DZD', &nbsp;</div></li><li><div>        818 =&gt; 'EGP', &nbsp;</div></li><li><div>        230 =&gt; 'ETB', &nbsp;</div></li><li><div>        978 =&gt; 'EUR', &nbsp;</div></li><li><div>        242 =&gt; 'FJD', &nbsp;</div></li><li><div>        826 =&gt; 'GBP', &nbsp;</div></li><li><div>        981 =&gt; 'GEL', &nbsp;</div></li><li><div>        936 =&gt; 'GHS', &nbsp;</div></li><li><div>        270 =&gt; 'GMD', &nbsp;</div></li><li><div>        320 =&gt; 'GTQ', &nbsp;</div></li><li><div>        328 =&gt; 'GYD', &nbsp;</div></li><li><div>        344 =&gt; 'HKD', &nbsp;</div></li><li><div>        340 =&gt; 'HNL', &nbsp;</div></li><li><div>        191 =&gt; 'HRK', &nbsp;</div></li><li><div>        332 =&gt; 'HTG', &nbsp;</div></li><li><div>        348 =&gt; 'HUF', &nbsp;</div></li><li><div>        360 =&gt; 'IDR', &nbsp;</div></li><li><div>        376 =&gt; 'ILS', &nbsp;</div></li><li><div>        356 =&gt; 'INR', &nbsp;</div></li><li><div>        364 =&gt; 'IRR', &nbsp;</div></li><li><div>        352 =&gt; 'ISK', &nbsp;</div></li><li><div>        388 =&gt; 'JMD', &nbsp;</div></li><li><div>        400 =&gt; 'JOD', &nbsp;</div></li><li><div>        392 =&gt; 'JPY', &nbsp;</div></li><li><div>        404 =&gt; 'KES', &nbsp;</div></li><li><div>        417 =&gt; 'KGS', &nbsp;</div></li><li><div>        116 =&gt; 'KHR', &nbsp;</div></li><li><div>        410 =&gt; 'KRW', &nbsp;</div></li><li><div>        414 =&gt; 'KWD', &nbsp;</div></li><li><div>        136 =&gt; 'KYD', &nbsp;</div></li><li><div>        398 =&gt; 'KZT', &nbsp;</div></li><li><div>        422 =&gt; 'LBP', &nbsp;</div></li><li><div>        144 =&gt; 'LKR', &nbsp;</div></li><li><div>        434 =&gt; 'LYD', &nbsp;</div></li><li><div>        504 =&gt; 'MAD', &nbsp;</div></li><li><div>        498 =&gt; 'MDL', &nbsp;</div></li><li><div>        969 =&gt; 'MGA', &nbsp;</div></li><li><div>        807 =&gt; 'MKD', &nbsp;</div></li><li><div>        104 =&gt; 'MMK', &nbsp;</div></li><li><div>        496 =&gt; 'MNT', &nbsp;</div></li><li><div>        446 =&gt; 'MOP', &nbsp;</div></li><li><div>        480 =&gt; 'MUR', &nbsp;</div></li><li><div>        454 =&gt; 'MWK', &nbsp;</div></li><li><div>        484 =&gt; 'MXN', &nbsp;</div></li><li><div>        458 =&gt; 'MYR', &nbsp;</div></li><li><div>        516 =&gt; 'NAD', &nbsp;</div></li><li><div>        566 =&gt; 'NGN', &nbsp;</div></li><li><div>        558 =&gt; 'NIO', &nbsp;</div></li><li><div>        578 =&gt; 'NOK', &nbsp;</div></li><li><div>        524 =&gt; 'NPR', &nbsp;</div></li><li><div>        554 =&gt; 'NZD', &nbsp;</div></li><li><div>        512 =&gt; 'OMR', &nbsp;</div></li><li><div>        590 =&gt; 'PAB', &nbsp;</div></li><li><div>        604 =&gt; 'PEN', &nbsp;</div></li><li><div>        598 =&gt; 'PGK', &nbsp;</div></li><li><div>        608 =&gt; 'PHP', &nbsp;</div></li><li><div>        586 =&gt; 'PKR', &nbsp;</div></li><li><div>        985 =&gt; 'PLN', &nbsp;</div></li><li><div>        600 =&gt; 'PYG', &nbsp;</div></li><li><div>        634 =&gt; 'QAR', &nbsp;</div></li><li><div>        946 =&gt; 'RON', &nbsp;</div></li><li><div>        941 =&gt; 'RSD', &nbsp;</div></li><li><div>        643 =&gt; 'RUB', &nbsp;</div></li><li><div>        646 =&gt; 'RWF', &nbsp;</div></li><li><div>        682 =&gt; 'SAR', &nbsp;</div></li><li><div>        690 =&gt; 'SCR', &nbsp;</div></li><li><div>        752 =&gt; 'SEK', &nbsp;</div></li><li><div>        702 =&gt; 'SGD', &nbsp;</div></li><li><div>        760 =&gt; 'SYP', &nbsp;</div></li><li><div>        764 =&gt; 'THB', &nbsp;</div></li><li><div>        788 =&gt; 'TND', &nbsp;</div></li><li><div>        949 =&gt; 'TRY', &nbsp;</div></li><li><div>        780 =&gt; 'TTD', &nbsp;</div></li><li><div>        901 =&gt; 'TWD', &nbsp;</div></li><li><div>        834 =&gt; 'TZS', &nbsp;</div></li><li><div>        980 =&gt; 'UAH', &nbsp;</div></li><li><div>        840 =&gt; 'USD', &nbsp;</div></li><li><div>        858 =&gt; 'UYU', &nbsp;</div></li><li><div>        860 =&gt; 'UZS', &nbsp;</div></li><li><div>        704 =&gt; 'VND', &nbsp;</div></li><li><div>        882 =&gt; 'WST', &nbsp;</div></li><li><div>        950 =&gt; 'XAF', &nbsp;</div></li><li><div>        951 =&gt; 'XCD', &nbsp;</div></li><li><div>        952 =&gt; 'XOF', &nbsp;</div></li><li><div>        953 =&gt; 'XPF', &nbsp;</div></li><li><div>        886 =&gt; 'YER', &nbsp;</div></li><li><div>        710 =&gt; 'ZAR', &nbsp;</div></li><li><div>        967 =&gt; 'ZMW', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of ISO 3166-1 country codes&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $isoCountryCodes = array(&nbsp;</div></li><li><div>        'AF' =&gt; 'AFG', &nbsp;</div></li><li><div>        'AX' =&gt; 'ALA', &nbsp;</div></li><li><div>        'AL' =&gt; 'ALB', &nbsp;</div></li><li><div>        'DZ' =&gt; 'DZA', &nbsp;</div></li><li><div>        'AS' =&gt; 'ASM', &nbsp;</div></li><li><div>        'AD' =&gt; 'AND', &nbsp;</div></li><li><div>        'AO' =&gt; 'AGO', &nbsp;</div></li><li><div>        'AI' =&gt; 'AIA', &nbsp;</div></li><li><div>        'AQ' =&gt; 'AQ', &nbsp;</div></li><li><div>        'AG' =&gt; 'ATG', &nbsp;</div></li><li><div>        'AR' =&gt; 'ARG', &nbsp;</div></li><li><div>        'AM' =&gt; 'ARM', &nbsp;</div></li><li><div>        'AW' =&gt; 'ABW', &nbsp;</div></li><li><div>        'AU' =&gt; 'AUS', &nbsp;</div></li><li><div>        'AT' =&gt; 'AUT', &nbsp;</div></li><li><div>        'AZ' =&gt; 'AZE', &nbsp;</div></li><li><div>        'BS' =&gt; 'BHS', &nbsp;</div></li><li><div>        'BH' =&gt; 'BHR', &nbsp;</div></li><li><div>        'BD' =&gt; 'BGD', &nbsp;</div></li><li><div>        'BB' =&gt; 'BRB', &nbsp;</div></li><li><div>        'BY' =&gt; 'BLR', &nbsp;</div></li><li><div>        'BE' =&gt; 'BEL', &nbsp;</div></li><li><div>        'BZ' =&gt; 'BLZ', &nbsp;</div></li><li><div>        'BJ' =&gt; 'BEN', &nbsp;</div></li><li><div>        'BM' =&gt; 'BMU', &nbsp;</div></li><li><div>        'BT' =&gt; 'BTN', &nbsp;</div></li><li><div>        'BO' =&gt; 'BOL', &nbsp;</div></li><li><div>        'BA' =&gt; 'BIH', &nbsp;</div></li><li><div>        'BW' =&gt; 'BWA', &nbsp;</div></li><li><div>        'BV' =&gt; 'BV', &nbsp;</div></li><li><div>        'BR' =&gt; 'BRA', &nbsp;</div></li><li><div>        'IO' =&gt; 'IO', &nbsp;</div></li><li><div>        'BN' =&gt; 'BRN', &nbsp;</div></li><li><div>        'BG' =&gt; 'BGR', &nbsp;</div></li><li><div>        'BF' =&gt; 'BFA', &nbsp;</div></li><li><div>        'BI' =&gt; 'BDI', &nbsp;</div></li><li><div>        'KH' =&gt; 'KHM', &nbsp;</div></li><li><div>        'CM' =&gt; 'CMR', &nbsp;</div></li><li><div>        'CA' =&gt; 'CAN', &nbsp;</div></li><li><div>        'CV' =&gt; 'CV', &nbsp;</div></li><li><div>        'KY' =&gt; 'CYM', &nbsp;</div></li><li><div>        'CF' =&gt; 'CAF', &nbsp;</div></li><li><div>        'TD' =&gt; 'TCD', &nbsp;</div></li><li><div>        'CL' =&gt; 'CHL', &nbsp;</div></li><li><div>        'CN' =&gt; 'CHN', &nbsp;</div></li><li><div>        'CX' =&gt; 'CX', &nbsp;</div></li><li><div>        'CC' =&gt; 'CC', &nbsp;</div></li><li><div>        'CO' =&gt; 'COL', &nbsp;</div></li><li><div>        'KM' =&gt; 'COM', &nbsp;</div></li><li><div>        'CG' =&gt; 'COG', &nbsp;</div></li><li><div>        'CD' =&gt; 'COD', &nbsp;</div></li><li><div>        'CK' =&gt; 'COK', &nbsp;</div></li><li><div>        'CR' =&gt; 'CRI', &nbsp;</div></li><li><div>        'CI' =&gt; 'CIV', &nbsp;</div></li><li><div>        'HR' =&gt; 'HRV', &nbsp;</div></li><li><div>        'CU' =&gt; 'CUB', &nbsp;</div></li><li><div>        'CY' =&gt; 'CYP', &nbsp;</div></li><li><div>        'CZ' =&gt; 'CZE', &nbsp;</div></li><li><div>        'DK' =&gt; 'DNK', &nbsp;</div></li><li><div>        'DJ' =&gt; 'DJI', &nbsp;</div></li><li><div>        'DM' =&gt; 'DMA', &nbsp;</div></li><li><div>        'DO' =&gt; 'DOM', &nbsp;</div></li><li><div>        'EC' =&gt; 'ECU', &nbsp;</div></li><li><div>        'EG' =&gt; 'EGY', &nbsp;</div></li><li><div>        'SV' =&gt; 'SLV', &nbsp;</div></li><li><div>        'GQ' =&gt; 'GNQ', &nbsp;</div></li><li><div>        'ER' =&gt; 'ERI', &nbsp;</div></li><li><div>        'EE' =&gt; 'EST', &nbsp;</div></li><li><div>        'ET' =&gt; 'ETH', &nbsp;</div></li><li><div>        'FK' =&gt; 'FLK', &nbsp;</div></li><li><div>        'FO' =&gt; 'FRO', &nbsp;</div></li><li><div>        'FJ' =&gt; 'FJI', &nbsp;</div></li><li><div>        'FI' =&gt; 'FIN', &nbsp;</div></li><li><div>        'FR' =&gt; 'FRA', &nbsp;</div></li><li><div>        'GF' =&gt; 'GUF', &nbsp;</div></li><li><div>        'PF' =&gt; 'PYF', &nbsp;</div></li><li><div>        'TF' =&gt; 'IF', &nbsp;</div></li><li><div>        'GA' =&gt; 'GAB', &nbsp;</div></li><li><div>        'GM' =&gt; 'GMB', &nbsp;</div></li><li><div>        'GE' =&gt; 'GEO', &nbsp;</div></li><li><div>        'DE' =&gt; 'DEU', &nbsp;</div></li><li><div>        'GH' =&gt; 'GHA', &nbsp;</div></li><li><div>        'GI' =&gt; 'GIB', &nbsp;</div></li><li><div>        'GR' =&gt; 'GRC', &nbsp;</div></li><li><div>        'GL' =&gt; 'GRL', &nbsp;</div></li><li><div>        'GD' =&gt; 'GRD', &nbsp;</div></li><li><div>        'GP' =&gt; 'GLP', &nbsp;</div></li><li><div>        'GU' =&gt; 'GUM', &nbsp;</div></li><li><div>        'GT' =&gt; 'GTM', &nbsp;</div></li><li><div>        'GG' =&gt; 'GGY', &nbsp;</div></li><li><div>        'GN' =&gt; 'GIN', &nbsp;</div></li><li><div>        'GW' =&gt; 'GNB', &nbsp;</div></li><li><div>        'GY' =&gt; 'GUY', &nbsp;</div></li><li><div>        'HT' =&gt; 'HTI', &nbsp;</div></li><li><div>        'HM' =&gt; 'HM', &nbsp;</div></li><li><div>        'VA' =&gt; 'VAT', &nbsp;</div></li><li><div>        'HN' =&gt; 'HND', &nbsp;</div></li><li><div>        'HK' =&gt; 'HKG', &nbsp;</div></li><li><div>        'HU' =&gt; 'HUN', &nbsp;</div></li><li><div>        'IS' =&gt; 'ISL', &nbsp;</div></li><li><div>        'IN' =&gt; 'IND', &nbsp;</div></li><li><div>        'ID' =&gt; 'IDN', &nbsp;</div></li><li><div>        'IR' =&gt; 'IRN', &nbsp;</div></li><li><div>        'IQ' =&gt; 'IRQ', &nbsp;</div></li><li><div>        'IE' =&gt; 'IRL', &nbsp;</div></li><li><div>        'IM' =&gt; 'IMN', &nbsp;</div></li><li><div>        'IL' =&gt; 'ISR', &nbsp;</div></li><li><div>        'IT' =&gt; 'ITA', &nbsp;</div></li><li><div>        'JM' =&gt; 'JAM', &nbsp;</div></li><li><div>        'JP' =&gt; 'JPN', &nbsp;</div></li><li><div>        'JE' =&gt; 'JEY', &nbsp;</div></li><li><div>        'JO' =&gt; 'JOR', &nbsp;</div></li><li><div>        'KZ' =&gt; 'KAZ', &nbsp;</div></li><li><div>        'KE' =&gt; 'KEN', &nbsp;</div></li><li><div>        'KI' =&gt; 'KIR', &nbsp;</div></li><li><div>        'KR' =&gt; 'PRK', &nbsp;</div></li><li><div>        'KW' =&gt; 'KWT', &nbsp;</div></li><li><div>        'KG' =&gt; 'KGZ', &nbsp;</div></li><li><div>        'LA' =&gt; 'LAO', &nbsp;</div></li><li><div>        'LV' =&gt; 'LVA', &nbsp;</div></li><li><div>        'LB' =&gt; 'LBN', &nbsp;</div></li><li><div>        'LS' =&gt; 'LSO', &nbsp;</div></li><li><div>        'LR' =&gt; 'LBR', &nbsp;</div></li><li><div>        'LY' =&gt; 'LBY', &nbsp;</div></li><li><div>        'LI' =&gt; 'LIE', &nbsp;</div></li><li><div>        'LT' =&gt; 'LTU', &nbsp;</div></li><li><div>        'LU' =&gt; 'LUX', &nbsp;</div></li><li><div>        'MO' =&gt; 'MAC', &nbsp;</div></li><li><div>        'MK' =&gt; 'MKD', &nbsp;</div></li><li><div>        'MG' =&gt; 'MDG', &nbsp;</div></li><li><div>        'MW' =&gt; 'MWI', &nbsp;</div></li><li><div>        'MY' =&gt; 'MYS', &nbsp;</div></li><li><div>        'MV' =&gt; 'MDV', &nbsp;</div></li><li><div>        'ML' =&gt; 'MLI', &nbsp;</div></li><li><div>        'MT' =&gt; 'MLT', &nbsp;</div></li><li><div>        'MH' =&gt; 'MHL', &nbsp;</div></li><li><div>        'MQ' =&gt; 'MTQ', &nbsp;</div></li><li><div>        'MR' =&gt; 'MRT', &nbsp;</div></li><li><div>        'MU' =&gt; 'MUS', &nbsp;</div></li><li><div>        'YT' =&gt; 'MYT', &nbsp;</div></li><li><div>        'MX' =&gt; 'MEX', &nbsp;</div></li><li><div>        'FM' =&gt; 'FSM', &nbsp;</div></li><li><div>        'MD' =&gt; 'MDA', &nbsp;</div></li><li><div>        'MC' =&gt; 'MCO', &nbsp;</div></li><li><div>        'MN' =&gt; 'MNG', &nbsp;</div></li><li><div>        'ME' =&gt; 'MNE', &nbsp;</div></li><li><div>        'MS' =&gt; 'MSR', &nbsp;</div></li><li><div>        'MA' =&gt; 'MAR', &nbsp;</div></li><li><div>        'MZ' =&gt; 'MOZ', &nbsp;</div></li><li><div>        'MM' =&gt; 'MMR', &nbsp;</div></li><li><div>        'NA' =&gt; 'NAM', &nbsp;</div></li><li><div>        'NR' =&gt; 'NRU', &nbsp;</div></li><li><div>        'NP' =&gt; 'NPL', &nbsp;</div></li><li><div>        'NL' =&gt; 'NLD', &nbsp;</div></li><li><div>        'AN' =&gt; 'AN', &nbsp;</div></li><li><div>        'NC' =&gt; 'NCL', &nbsp;</div></li><li><div>        'NZ' =&gt; 'NZL', &nbsp;</div></li><li><div>        'NI' =&gt; 'NIC', &nbsp;</div></li><li><div>        'NE' =&gt; 'NER', &nbsp;</div></li><li><div>        'NG' =&gt; 'NGA', &nbsp;</div></li><li><div>        'NU' =&gt; 'NIU', &nbsp;</div></li><li><div>        'NF' =&gt; 'NFK', &nbsp;</div></li><li><div>        'MP' =&gt; 'MNP', &nbsp;</div></li><li><div>        'NO' =&gt; 'NOR', &nbsp;</div></li><li><div>        'OM' =&gt; 'OMN', &nbsp;</div></li><li><div>        'PK' =&gt; 'PAK', &nbsp;</div></li><li><div>        'PW' =&gt; 'PLW', &nbsp;</div></li><li><div>        'PS' =&gt; 'PSE', &nbsp;</div></li><li><div>        'PA' =&gt; 'PAN', &nbsp;</div></li><li><div>        'PG' =&gt; 'PNG', &nbsp;</div></li><li><div>        'PY' =&gt; 'PRY', &nbsp;</div></li><li><div>        'PE' =&gt; 'PER', &nbsp;</div></li><li><div>        'PH' =&gt; 'PHL', &nbsp;</div></li><li><div>        'PN' =&gt; 'PCN', &nbsp;</div></li><li><div>        'PL' =&gt; 'POL', &nbsp;</div></li><li><div>        'PT' =&gt; 'PRT', &nbsp;</div></li><li><div>        'PR' =&gt; 'PRI', &nbsp;</div></li><li><div>        'QA' =&gt; 'QAT', &nbsp;</div></li><li><div>        'RE' =&gt; 'REU', &nbsp;</div></li><li><div>        'RO' =&gt; 'ROU', &nbsp;</div></li><li><div>        'RU' =&gt; 'RUS', &nbsp;</div></li><li><div>        'RW' =&gt; 'RWA', &nbsp;</div></li><li><div>        'BL' =&gt; 'BLM', &nbsp;</div></li><li><div>        'SH' =&gt; 'SHN', &nbsp;</div></li><li><div>        'KN' =&gt; 'KNA', &nbsp;</div></li><li><div>        'LC' =&gt; 'LCA', &nbsp;</div></li><li><div>        'MF' =&gt; 'MAF', &nbsp;</div></li><li><div>        'PM' =&gt; 'SPM', &nbsp;</div></li><li><div>        'VC' =&gt; 'VCT', &nbsp;</div></li><li><div>        'WS' =&gt; 'WSM', &nbsp;</div></li><li><div>        'SM' =&gt; 'SMR', &nbsp;</div></li><li><div>        'ST' =&gt; 'STP', &nbsp;</div></li><li><div>        'SA' =&gt; 'SAU', &nbsp;</div></li><li><div>        'SN' =&gt; 'SEN', &nbsp;</div></li><li><div>        'RS' =&gt; 'SRB', &nbsp;</div></li><li><div>        'SC' =&gt; 'SYC', &nbsp;</div></li><li><div>        'SL' =&gt; 'SLE', &nbsp;</div></li><li><div>        'SG' =&gt; 'SGP', &nbsp;</div></li><li><div>        'SK' =&gt; 'SVK', &nbsp;</div></li><li><div>        'SI' =&gt; 'SVN', &nbsp;</div></li><li><div>        'SB' =&gt; 'SLB', &nbsp;</div></li><li><div>        'SO' =&gt; 'SOM', &nbsp;</div></li><li><div>        'ZA' =&gt; 'ZAF', &nbsp;</div></li><li><div>        'GS' =&gt; 'GS', &nbsp;</div></li><li><div>        'ES' =&gt; 'ESP', &nbsp;</div></li><li><div>        'LK' =&gt; 'LKA', &nbsp;</div></li><li><div>        'SD' =&gt; 'SSD', &nbsp;</div></li><li><div>        'SR' =&gt; 'SUR', &nbsp;</div></li><li><div>        'SJ' =&gt; 'SJM', &nbsp;</div></li><li><div>        'SZ' =&gt; 'SWZ', &nbsp;</div></li><li><div>        'SE' =&gt; 'SWE', &nbsp;</div></li><li><div>        'CH' =&gt; 'CHE', &nbsp;</div></li><li><div>        'SY' =&gt; 'SYR', &nbsp;</div></li><li><div>        'TW' =&gt; 'TW', &nbsp;</div></li><li><div>        'TJ' =&gt; 'TJK', &nbsp;</div></li><li><div>        'TZ' =&gt; 'TZA', &nbsp;</div></li><li><div>        'TH' =&gt; 'THA', &nbsp;</div></li><li><div>        'TL' =&gt; 'TLS', &nbsp;</div></li><li><div>        'TG' =&gt; 'TGO', &nbsp;</div></li><li><div>        'TK' =&gt; 'TKL', &nbsp;</div></li><li><div>        'TO' =&gt; 'TON', &nbsp;</div></li><li><div>        'TT' =&gt; 'TTO', &nbsp;</div></li><li><div>        'TN' =&gt; 'TUN', &nbsp;</div></li><li><div>        'TR' =&gt; 'TUR', &nbsp;</div></li><li><div>        'TM' =&gt; 'TKM', &nbsp;</div></li><li><div>        'TC' =&gt; 'TCA', &nbsp;</div></li><li><div>        'TV' =&gt; 'TUV', &nbsp;</div></li><li><div>        'UG' =&gt; 'UGA', &nbsp;</div></li><li><div>        'UA' =&gt; 'UKR', &nbsp;</div></li><li><div>        'AE' =&gt; 'ARE', &nbsp;</div></li><li><div>        'GB' =&gt; 'GBR', &nbsp;</div></li><li><div>        'US' =&gt; 'USA', &nbsp;</div></li><li><div>        'UM' =&gt; 'UM', &nbsp;</div></li><li><div>        'UY' =&gt; 'URY', &nbsp;</div></li><li><div>        'UZ' =&gt; 'UZB', &nbsp;</div></li><li><div>        'VU' =&gt; 'VUT', &nbsp;</div></li><li><div>        'VE' =&gt; 'VEN', &nbsp;</div></li><li><div>        'VN' =&gt; 'VNM', &nbsp;</div></li><li><div>        'VG' =&gt; 'VG', &nbsp;</div></li><li><div>        'VI' =&gt; 'VIR', &nbsp;</div></li><li><div>        'WF' =&gt; 'WLF', &nbsp;</div></li><li><div>        'EH' =&gt; 'ESH', &nbsp;</div></li><li><div>        'YE' =&gt; 'YEM', &nbsp;</div></li><li><div>        'ZM' =&gt; 'ZMB', &nbsp;</div></li><li><div>        'ZW' =&gt; 'ZWE', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of supported request fields for basic payment&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $panelPaymentRequestFields = array(&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction amount with dot as decimal separator.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'kwota' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction description&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'opis' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The secondary parameter to the transaction identification.&nbsp;</div></li><li><div>         * After the transaction returned as a parameter tr_crc.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'crc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Allow only online payment.&nbsp;</div></li><li><div>         * Prevents the channel selection, which at the moment is not able to post real-time payment.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'online' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array(0, 1), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Imposing the customer the pre-payment channel.&nbsp;</div></li><li><div>         * Could be changed manually by customer.&nbsp;</div></li><li><div>         * Required for register transaction by transaction API&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::KANAL =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array('uint'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer will be presented only the selected group.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'grupa' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array('unit'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The resulting URL return address that will send the result of a transaction in the form POST parameters.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'wyn_url' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_512), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'url'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * E-mail address to which you will be notified about the status of the transaction.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'wyn_email' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::EMAIL_LIST), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Description payees during the transaction.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'opis_sprzed' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Optional field used during card transactions processed through Elavon.&nbsp;</div></li><li><div>         * The value of the field is passed to Elavon as *TEKST REF. TRANSAKCJI*.&nbsp;</div></li><li><div>         * Acceptable characters are a-z, AZ (without Polish), 0-9 and space.&nbsp;</div></li><li><div>         * All others will be removed.&nbsp;</div></li><li><div>         * Max 32 signs.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::OPIS_DODATKOWY =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPIS_DODATKOWY, self::MAXLENGHT_32), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'mixed'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The URL to which the customer will be transferred after successful completion of the transaction.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'pow_url' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_512), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'url'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The URL to which the client will be transferred in the event of an error.&nbsp;</div></li><li><div>         * Default is pow_url&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'pow_url_blad' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_512), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'url'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transactional panel language.&nbsp;</div></li><li><div>         * Default is PL&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'jezyk' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array('PL', 'EN', 'DE', 'IT', 'ES', 'FR', 'RU'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer email address.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::EMAIL =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_64), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'mail'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer surname.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'nazwisko' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_64), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'name'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer name.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'imie' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_64), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'name'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer address.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'adres' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_64), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer city.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'miasto' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_32), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'name'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer postal code.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'kod' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlenght_10'), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Country code.&nbsp;</div></li><li><div>         * Alphanumeric, 2 or 3 signs compatible with ISO 3166-1&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'kraj' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array('country_code'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer phone.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'telefon' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlenght_16'), &nbsp;</div></li><li><div>            self::FILTER =&gt; self::PHONE&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The parameter indicating acceptance of Terms tpay if it is available on the payee.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'akceptuje_regulamin' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array(0, 1), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of fields available in response for basic payment&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $panelPaymentResponseFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The transaction ID assigned by the system tpay&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_id' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Date of transaction.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_date' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div>&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The secondary parameter to the transaction identification.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_crc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction amount.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_amount' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::FLOAT, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The amount paid for the transaction.&nbsp;</div></li><li><div>         * Note: Depending on the settings, the amount paid can be different&nbsp;</div></li><li><div>         * than transactions eg. When the customer does overpayment.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_paid' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::FLOAT, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Description of the transaction.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_desc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction status: TRUE in the case of the correct result or FALSE in the case of an error.&nbsp;</div></li><li><div>         * Note: Depending on the settings, the transaction may be correct status, &nbsp;</div></li><li><div>         * even if the amount paid is different from the amount of the transaction!&nbsp;</div></li><li><div>         * Eg. If the Seller accepts the overpayment or underpayment threshold is set.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_status' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array(0, 1, true, false, 'TRUE', 'FALSE'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction error status.&nbsp;</div></li><li><div>         * Could have the following values:&nbsp;</div></li><li><div>         * - none&nbsp;</div></li><li><div>         * - overpay&nbsp;</div></li><li><div>         * - surcharge&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_error' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array('none', 'overpay', 'surcharge'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Customer email address.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'tr_email' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::EMAIL_LIST), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The checksum verifies the data sent to the payee.&nbsp;</div></li><li><div>         * It is built according to the following scheme using the MD5 hash function:&nbsp;</div></li><li><div>         * MD5(id + tr_id + tr_amount + tr_crc + security code)&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'md5sum' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_32', 'minlength_32'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction marker indicates whether the transaction was executed in test mode:&nbsp;</div></li><li><div>         * 1 * in test mode&nbsp;</div></li><li><div>         * 0 * in normal mode&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::TEST_MODE =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; 'int', &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array(0, 1), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The parameter is sent only when you use a payment channel or MasterPass or V.me.&nbsp;</div></li><li><div>         * Could have the following values: *masterpass* or *vme*&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'wallet' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of supported fields for card payment request&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $cardPaymentRequestFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction amount&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::AMOUNT =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client name&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'name' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_64), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client email&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::EMAIL =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::EMAIL_LIST), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Sale description&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'desc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Value from partner system&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::ORDER_ID =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_40), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Value from partner system&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'currency' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array('985', '826', '840', '978', '203'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of fields available in card payment response&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $cardPaymentResponseFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Method type&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::TYPE =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array('sale', 'refund', 'deregister'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Merchant optional value&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::ORDER_ID =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_40)&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Payment status&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'status' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::OPTIONS), &nbsp;</div></li><li><div>            self::OPTIONS =&gt; array('correct', 'declined'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Message checksum&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'sign' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128, self::MINLENGTH_40)&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Created sale/refund id&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'sale_auth' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_40)&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Date of accounting/deregistering&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'date' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING)&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * carry value of 1 if account has test mode, otherwise parameter not sent&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::TEST_MODE =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_1', 'minlength_1')&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * shortcut for client card number, eg ****5678&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'card' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_8', 'minlength_8')&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of supported fields for card direct payment request&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $cardDirectPaymentRequestFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction amount&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::AMOUNT =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client name&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'name' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_64), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client email&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::EMAIL =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::EMAIL_LIST), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Sale description&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'desc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Value from partner system&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::ORDER_ID =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_40), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * 3ds return url enabled&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'enable_pow_url' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::BOOLEAN), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * 3ds success return url&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'pow_url' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * 3ds failure return url&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'pow_url_blad' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * language&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'language' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of fields available in card direct payment response&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $cardDeregisterResponseFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * client authorization ID, sent if onetimer option is not set&nbsp;</div></li><li><div>         * when creating client and client has not been deregistered (himself or by api)&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_auth' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGTH_40, self::MINLENGTH_40), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * carry value of 1 if account has test mode, otherwise parameter not sent&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::TEST_MODE =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; 'int', &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array('int'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Date of accounting/deregistering&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'date' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'date'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Message checksum&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'sign' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_128', self::MINLENGTH_40), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of supported fields for szkwal payment request&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $szkwalRequestFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * User api login&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'api_login' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * User api password&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'api_password' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client name&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_name' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_96'), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'name'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client email&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_email' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_128'), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'mail'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client phone&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_phone' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_32'), &nbsp;</div></li><li><div>            self::FILTER =&gt; self::PHONE&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Title the client will be paying with; according to agreed format;&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'title' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Optional field sent in notifications&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'crc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlength_64'), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client account number&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_account' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'minlenght_26', 'maxlength_26'), &nbsp;</div></li><li><div>            self::FILTER =&gt; self::NUMBERS&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Checksum&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'hash' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MINLENGTH_40, self::MAXLENGTH_40), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'sign'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of fields available in szkwal payment response&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $szkwalResponseFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Unique SZKWa* payment ID&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'pay_id' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; 'int', &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array('uint'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Unique SZKWa* notification ID&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'not_id' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; 'int', &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array('uint'), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * The title of payment in agreed format&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'title' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Additional client field&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'crc' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction amount&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::AMOUNT =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::FLOAT, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Message checksum&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'hash' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; false, &nbsp;</div></li><li><div>            self::TYPE =&gt; self::STRING, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGTH_40, self::MINLENGTH_40), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * List of supported fields for white label payment request&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $whiteLabelRequestFields = array(&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * User api login&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'api_login' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * User api password&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'api_password' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client name&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_name' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, 'maxlenght_96'), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client email&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_email' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_128), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'mail'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Client phone&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'cli_phone' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::MAXLENGHT_32), &nbsp;</div></li><li><div>            self::FILTER =&gt; self::PHONE&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Order id (payment title) the customer will be paying with; according to agreed format;&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'order' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Transaction amount&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        self::AMOUNT =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::FLOAT), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Message checksum&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        'hash' =&gt; array(&nbsp;</div></li><li><div>            self::REQUIRED =&gt; true, &nbsp;</div></li><li><div>            self::VALIDATION =&gt; array(self::STRING, self::MAXLENGHT_40), &nbsp;</div></li><li><div>            self::FILTER =&gt; 'sign'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check all variables required in response&nbsp;</div></li><li><div>     * Parse variables to valid types&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $paymentType&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function getResponse($paymentType)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $ready = array();&nbsp;</div></li><li><div>        $missed = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        switch ($paymentType) {&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_BASIC:&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_EHAT:&nbsp;</div></li><li><div>                $responseFields = static::$panelPaymentResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_CARD:&nbsp;</div></li><li><div>                $responseFields = static::$cardPaymentResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_SZKWAL:&nbsp;</div></li><li><div>                $responseFields = static::$szkwalResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::CARD_DEREGISTER:&nbsp;</div></li><li><div>                $responseFields = static::$cardDeregisterResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            default:&nbsp;</div></li><li><div>                throw new TException(sprintf(static::UNKNOWN_PAYMENT_TYPE_S, $paymentType));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ($responseFields as $fieldName =&gt; $field) {&nbsp;</div></li><li><div>            if (Util::post($fieldName, static::STRING) === false) {&nbsp;</div></li><li><div>                if ($field[static::REQUIRED] === true) {&nbsp;</div></li><li><div>                    $missed[] = $fieldName;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $val = Util::post($fieldName, static::STRING);&nbsp;</div></li><li><div>                switch ($field[static::TYPE]) {&nbsp;</div></li><li><div>                    case static::STRING:&nbsp;</div></li><li><div>                        $val = (string)$val;&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case 'int':&nbsp;</div></li><li><div>                        $val = (int)$val;&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::FLOAT:&nbsp;</div></li><li><div>                        $val = (float)$val;&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    default:&nbsp;</div></li><li><div>                        throw new TException(sprintf('unknown field type in getResponse - field name= %s', $fieldName));&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $ready[$fieldName] = $val;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (count($missed) &gt; 0) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Missing fields in tpay response: %s', implode(', ', $missed)));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ($ready as $fieldName =&gt; $fieldVal) {&nbsp;</div></li><li><div>            static::validateOne($paymentType, $fieldName, $fieldVal, false);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $ready;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check one field form&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $paymentType payment type&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     * @param mixed $value field value&nbsp;</div></li><li><div>     * @param bool $notResp is it not response value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateOne($paymentType, $name, $value, $notResp = true)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        switch ($paymentType) {&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_BASIC:&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_EHAT:&nbsp;</div></li><li><div>                $requestFields = $notResp ? static::$panelPaymentRequestFields : static::$panelPaymentResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_BASIC_API:&nbsp;</div></li><li><div>                $requestFields = static::$panelPaymentRequestFields;&nbsp;</div></li><li><div>                $requestFields[static::KANAL][static::REQUIRED] = true;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_CARD:&nbsp;</div></li><li><div>                $requestFields = $notResp ? static::$cardPaymentRequestFields : static::$cardPaymentResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_CARD_DIRECT:&nbsp;</div></li><li><div>                $requestFields = static::$cardDirectPaymentRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_SZKWAL:&nbsp;</div></li><li><div>                $requestFields = $notResp ? static::$szkwalRequestFields : static::$szkwalResponseFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_WHITE_LABEL:&nbsp;</div></li><li><div>                $requestFields = static::$whiteLabelRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            default:&nbsp;</div></li><li><div>                throw new TException(sprintf(static::UNKNOWN_PAYMENT_TYPE_S, $paymentType));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (!is_string($name)) {&nbsp;</div></li><li><div>            throw new TException('Invalid field name');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (!array_key_exists($name, $requestFields)) {&nbsp;</div></li><li><div>            throw new TException('Field with this name is not supported ' . $name);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fieldConfig = $requestFields[$name];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ($fieldConfig[static::REQUIRED] === false && ($value === '' || $value === false)) {&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (isset($fieldConfig[static::VALIDATION]) === true) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ($fieldConfig[static::VALIDATION] as $validator) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                switch ($validator) {&nbsp;</div></li><li><div>                    case 'uint':&nbsp;</div></li><li><div>                        static::validateUint($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::FLOAT:&nbsp;</div></li><li><div>                        static::validateFloat($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::STRING:&nbsp;</div></li><li><div>                        static::validateString($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::BOOLEAN:&nbsp;</div></li><li><div>                        static::validateBoolean($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::OPIS_DODATKOWY:&nbsp;</div></li><li><div>                        static::validateDescription($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::EMAIL_LIST:&nbsp;</div></li><li><div>                        static::validateEmailList($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case static::OPTIONS:&nbsp;</div></li><li><div>                        static::validateOptions($value, $fieldConfig[static::OPTIONS], $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case 'country_code':&nbsp;</div></li><li><div>                        static::validateCountryCode($value, $name);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    default:&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (strpos($validator, 'maxlenght') === 0) {&nbsp;</div></li><li><div>                    $max = explode('_', $validator);&nbsp;</div></li><li><div>                    $max = (int)$max[1];&nbsp;</div></li><li><div>                    static::validateMaxLenght($value, $max, $name);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (strpos($validator, 'minlength') === 0) {&nbsp;</div></li><li><div>                    $min = explode('_', $validator);&nbsp;</div></li><li><div>                    $min = (int)$min[1];&nbsp;</div></li><li><div>                    static::validateMinLength($value, $min, $name);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (!static::filterValues($value, $fieldConfig)) {&nbsp;</div></li><li><div>            throw new TException(&nbsp;</div></li><li><div>                sprintf('Value of field &quot;%s&quot; contains illegal characters. Value: ' . $value, $name)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is uint&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateUint($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_int($value)) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Field &quot;%s&quot; must be an integer', $name));&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            if ($value &lt;= 0) {&nbsp;</div></li><li><div>                throw new TException(sprintf('Field &quot;%s&quot; must be higher than zero', $name));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is float&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateFloat($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_numeric($value) && !is_int($value)) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Field &quot;%s&quot; must be a float|int number', $name));&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            if ($value &lt; 0) {&nbsp;</div></li><li><div>                throw new TException(sprintf('Field &quot;%s&quot; must be higher than zero', $name));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is string&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateString($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($value)) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Field &quot;%s&quot; must be a string, type given: ' . gettype($value), $name));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is string&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateBoolean($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_bool($value)) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Field &quot;%s&quot; must be a boolean', $name));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is valid description&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateDescription($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (preg_match('/[^a-zA-Z0-9 ]/', $value) !== 0) {&nbsp;</div></li><li><div>            throw new TException(&nbsp;</div></li><li><div>                sprintf('Field &quot;%s&quot; contains invalid characters. Only a-z A-Z 0-9 and space', $name)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is valid email list&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateEmailList($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($value)) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Field &quot;%s&quot; must be a string', $name));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $emails = explode(', ', $value);&nbsp;</div></li><li><div>        foreach ($emails as $email) {&nbsp;</div></li><li><div>            if (filter_var($email, FILTER_VALIDATE_EMAIL) === false) {&nbsp;</div></li><li><div>                throw new TException(&nbsp;</div></li><li><div>                    sprintf('Field &quot;%s&quot; contains invalid email address', $name)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable has expected value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param array $options available options&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateOptions($value, $options, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!in_array($value, $options, true)) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Field &quot;%s&quot; has unsupported value', $name));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if variable is valid country code&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateCountryCode($value, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($value)&nbsp;</div></li><li><div>            || (strlen($value) !== 2 && strlen($value) !== 3)&nbsp;</div></li><li><div>            || (!in_array($value, static::$isoCountryCodes) && !isset(static::$isoCountryCodes[$value]))&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>            throw new TException(&nbsp;</div></li><li><div>                sprintf('Field &quot;%s&quot; has invalid country code', $name)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check variable max lenght&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param int $max max lenght&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateMaxLenght($value, $max, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (strlen($value) &gt; $max) {&nbsp;</div></li><li><div>            throw new TException(&nbsp;</div></li><li><div>                sprintf('Value of field &quot;%s&quot; is too long. Max %d characters', $name, $max)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check variable min length&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value variable to check&nbsp;</div></li><li><div>     * @param int $min min length&nbsp;</div></li><li><div>     * @param string $name field name&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function validateMinLength($value, $min, $name)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (strlen($value) &lt; $min) {&nbsp;</div></li><li><div>            throw new TException(&nbsp;</div></li><li><div>                sprintf('Value of field &quot;%s&quot; is too short. Min %d characters', $name, $min)&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * RegExp filter for fields validation&nbsp;</div></li><li><div>     * @param string $value&nbsp;</div></li><li><div>     * @param array $fieldConfig&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static function filterValues($value, $fieldConfig)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $filters = array(&nbsp;</div></li><li><div>            static::PHONE =&gt; '/[^0-9]\+ /', &nbsp;</div></li><li><div>            static::NUMBERS =&gt; '/[^0-9]/', &nbsp;</div></li><li><div>            'letters' =&gt; '/[^A-Za-z]/', &nbsp;</div></li><li><div>            'mixed' =&gt; '/[^A-Za-z0-9]/', &nbsp;</div></li><li><div>            'date' =&gt; '/[^0-9 \-:]/', &nbsp;</div></li><li><div>            'text' =&gt; '/[^\-\p{Latin}A-Za-z0-9 \., #_()\/\!]/u', &nbsp;</div></li><li><div>            'name' =&gt; '/[^\-\p{Latin} ]/u', &nbsp;</div></li><li><div>            'sign' =&gt; '/[^A-Za-z!\., _\-0-9]/'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if (isset($fieldConfig[static::FILTER])) {&nbsp;</div></li><li><div>            $filterName = $fieldConfig[static::FILTER];&nbsp;</div></li><li><div>            if (array_key_exists($filterName, $filters)) {&nbsp;</div></li><li><div>                if ((bool)preg_match($filters[$filterName], $value)) {&nbsp;</div></li><li><div>                    return false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                if ((($filterName === 'mail') && !filter_var($value, FILTER_VALIDATE_EMAIL))&nbsp;</div></li><li><div>                    ||&nbsp;</div></li><li><div>                    (($filterName === 'url') && !((preg_match('/http:/', $value)) || preg_match('/https:/', $value)))&nbsp;</div></li><li><div>                    ||&nbsp;</div></li><li><div>                    (($filterName === static::BOOLEAN) && !is_bool($value))&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>                    return false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate merchant Id&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $merchantId&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateMerchantId($merchantId)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_int($merchantId) || $merchantId &lt;= 0) {&nbsp;</div></li><li><div>            throw new TException('Invalid merchantId');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate merchant secret&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $merchantSecret&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateMerchantSecret($merchantSecret)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($merchantSecret) || strlen($merchantSecret) === 0) {&nbsp;</div></li><li><div>            throw new TException('Invalid secret code');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate Card Api Key&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $cardApiKey&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardApiKey($cardApiKey)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($cardApiKey) || strlen($cardApiKey) === 0) {&nbsp;</div></li><li><div>            throw new TException('Invalid card API key');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate Card Api Password&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $cardApiPassword&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardApiPassword($cardApiPassword)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($cardApiPassword) || strlen($cardApiPassword) === 0) {&nbsp;</div></li><li><div>            throw new TException('Invalid card API pass');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate card verification code&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $cardCode&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardCode($cardCode)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($cardCode) || strlen($cardCode) === 0 || strlen($cardCode) &gt; 40) {&nbsp;</div></li><li><div>            throw new TException('Invalid card code');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate card hash algorithm&nbsp;</div></li><li><div>     * @param string $hashAlg&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardHashAlg($hashAlg)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!in_array($hashAlg, array('sha1', 'sha256', 'sha512', 'ripemd160', 'ripemd320', 'md5'))) {&nbsp;</div></li><li><div>            throw new TException('Invalid hash algorithm');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate card RSA key&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $keyRSA&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardRSAKey($keyRSA)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($keyRSA) || strlen($keyRSA) === 0) {&nbsp;</div></li><li><div>            throw new TException('Invalid card RSA key');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate card currency code&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $currency&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     * @return int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardCurrency($currency)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (strlen($currency) !== 3) {&nbsp;</div></li><li><div>            throw new TException('Currency is invalid.');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        switch (gettype($currency)) {&nbsp;</div></li><li><div>            case 'string':&nbsp;</div></li><li><div>                if (in_array($currency, static::$isoCurrencyCodes)) {&nbsp;</div></li><li><div>                    $currency = array_search($currency, static::$isoCurrencyCodes);&nbsp;</div></li><li><div>                } elseif (array_key_exists((int)$currency, static::$isoCurrencyCodes)) {&nbsp;</div></li><li><div>                    $currency = (int)$currency;&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    throw new TException('Currency is not supported.');&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case 'integer':&nbsp;</div></li><li><div>                if (!array_key_exists($currency, static::$isoCurrencyCodes)) {&nbsp;</div></li><li><div>                    throw new TException('Currency is not supported.');&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            default:&nbsp;</div></li><li><div>                throw new TException('Currency variable type not supported.');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $currency;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate card payment language&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $language&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateCardLanguage($language)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_string($language)) {&nbsp;</div></li><li><div>            throw new TException('Invalid language value type.');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (in_array($language, static::$cardPaymentLanguages)) {&nbsp;</div></li><li><div>            $language = array_search($language, static::$cardPaymentLanguages);&nbsp;</div></li><li><div>        } elseif (!array_key_exists($language, static::$cardPaymentLanguages)) {&nbsp;</div></li><li><div>            $language = 'en';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $language;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate payment config&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param  string $paymentType&nbsp;</div></li><li><div>     * @param  array $config&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function validateConfig($paymentType, $config)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        if (!is_array($config)) {&nbsp;</div></li><li><div>            throw new TException('Config is not an array');&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            if (count($config) === 0) {&nbsp;</div></li><li><div>                throw new TException('Config is empty');&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $ready = array();&nbsp;</div></li><li><div>        foreach ($config as $key =&gt; $value) {&nbsp;</div></li><li><div>            if (Validate::validateOne($paymentType, $key, $value) === true) {&nbsp;</div></li><li><div>                $ready[$key] = $value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        Validate::isSetRequiredPaymentFields($paymentType, $ready);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $ready;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if all required fields isset in config&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $paymentType&nbsp;</div></li><li><div>     * @param array $config&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @throws TException&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static function isSetRequiredPaymentFields($paymentType, $config)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        $missing = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        switch ($paymentType) {&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_BASIC:&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_EHAT:&nbsp;</div></li><li><div>                $requestFields = static::$panelPaymentRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_BASIC_API:&nbsp;</div></li><li><div>                $requestFields = static::$panelPaymentRequestFields;&nbsp;</div></li><li><div>                $requestFields[static::KANAL][static::REQUIRED] = true;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_CARD:&nbsp;</div></li><li><div>                $requestFields = static::$cardPaymentRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_CARD_DIRECT:&nbsp;</div></li><li><div>                $requestFields = static::$cardDirectPaymentRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_SZKWAL:&nbsp;</div></li><li><div>                $requestFields = static::$szkwalRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            case static::PAYMENT_TYPE_WHITE_LABEL:&nbsp;</div></li><li><div>                $requestFields = static::$whiteLabelRequestFields;&nbsp;</div></li><li><div>                break;&nbsp;</div></li><li><div>            default:&nbsp;</div></li><li><div>                throw new TException(sprintf(static::UNKNOWN_PAYMENT_TYPE_S, $paymentType));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ($requestFields as $fieldName =&gt; $field) {&nbsp;</div></li><li><div>            if ($field[static::REQUIRED] === true && !isset($config[$fieldName])) {&nbsp;</div></li><li><div>                $missing[] = $fieldName;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if (count($missing) !== 0) {&nbsp;</div></li><li><div>            throw new TException(sprintf('Missing mandatory fields: %s', implode(', ', $missing)));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.2.5</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.9/classes/tpay_validate/" class="active">2.2.9</a></li><li><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.8/classes/tpay_validate/" class="">2.2.8</a></li><li><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.7/classes/tpay_validate/" class="">2.2.7</a></li><li><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.6/classes/tpay_validate/" class="">2.2.6</a></li><li><a href="http://hookr.io/plugins/tpay-com-woocommerce-payment-module/2.2.5/classes/tpay_validate/" class="">2.2.5</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>tpay\Validate</li><li><span></span>tpay.com Woocommerce payment module</li><li><span></span>2.2.9</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>