<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="2.3.4" data-slug="woocommerce-dynamic-gallery-lite" data-type="file" data-id="63718"><head xmlns="http://www.w3.org/1999/xhtml"><title> classes-class-wc-dynamic-gallery | file | Woocommerce Dynamic Gallery Lite | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, woocommerce-dynamic-gallery-lite, 2.3.4" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=20bafa57b8a0e354dc690f1561d733c8' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/classes-class-wc-dynamic-gallery/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fclasses-class-wc-dynamic-gallery%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fclasses-class-wc-dynamic-gallery%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-dynamic-gallery-lite-2.3.4-file-classes-class-wc-dynamic-gallery","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="classes-class-wc-dynamic-gallery" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce-dynamic-gallery-l&hellip;." href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/" class="plugin"><span property="name">woocommerce-dynamic-gallery-l&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.3.4." href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/" class="H_VERSION"><span property="name">2.3.4</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">classes-class-wc-dynamic-gall&hellip;</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="119"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/all/" title="All">All <span class="count badge">119</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="67"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/hooks/" title="Hooks">Hooks <span class="count badge">67</span></a></li><li class="" data-id="action" data-count="34"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/actions/" title="Actions">Actions <span class="count badge">34</span></a></li><li class="" data-id="filter" data-count="33"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/filters/" title="Filters">Filters <span class="count badge">33</span></a></li><li class="" data-id="class" data-count="27"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/classes/" title="Classes">Classes <span class="count badge">27</span></a></li><li class="" data-id="constant" data-count="13"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/constants/" title="Constants">Constants <span class="count badge">13</span></a></li><li class="" data-id="function" data-count="12"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/functions/" title="Functions">Functions <span class="count badge">12</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/woocommerce-dynamic-gallery-lite/2.3.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/classes/class-wc-dynamic-gallery.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * WooCommerce Gallery Display Class</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Class Function into woocommerce plugin</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Table Of Contents</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * wc_dynamic_gallery_display()</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>class WC_Gallery_Display_Class&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  public static function frontend_register_scripts() {&nbsp;</div></li><li><div>      $suffix = defined('SCRIPT_DEBUG') && SCRIPT_DEBUG ? '' : '.min';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// If don't have any plugin or theme register font awesome style then register it from plugin framework</span>&nbsp;</div></li><li><div>      if ( ! wp_style_is( 'font-awesome-styles', 'registered' ) ) {&nbsp;</div></li><li><div>          global $wc_dgallery_admin_interface;&nbsp;</div></li><li><div>          $wc_dgallery_admin_interface-&gt;register_fontawesome_style();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      wp_register_style( 'a3-dgallery-style', WOO_DYNAMIC_GALLERY_JS_URL . '/mygallery/jquery.a3-dgallery.css', array( 'font-awesome-styles' ), WOO_DYNAMIC_GALLERY_VERSION );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_script( 'a3-dgallery-script', WOO_DYNAMIC_GALLERY_JS_URL . '/mygallery/jquery.a3-dgallery.js', array( 'jquery' ), WOO_DYNAMIC_GALLERY_VERSION, true );&nbsp;</div></li><li><div>      wp_register_script( 'a3-dgallery-variations-script', WOO_DYNAMIC_GALLERY_JS_URL . '/select_variations.js', array( 'jquery', 'wc-add-to-cart-variation' ), WOO_DYNAMIC_GALLERY_VERSION, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $popup_gallery = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'popup_gallery' );&nbsp;</div></li><li><div>      if ( 'fb' == $popup_gallery ) {&nbsp;</div></li><li><div>          wp_register_style( 'woocommerce_fancybox_styles', WOO_DYNAMIC_GALLERY_JS_URL . '/fancybox/fancybox.css', array(), '1.3.4' );&nbsp;</div></li><li><div>          wp_register_script( 'fancybox', WOO_DYNAMIC_GALLERY_JS_URL . '/fancybox/fancybox'.$suffix.'.js', array( 'jquery' ), '1.3.4', true );&nbsp;</div></li><li><div>      } elseif ( 'colorbox' == $popup_gallery ) {&nbsp;</div></li><li><div>          wp_register_style( 'a3_colorbox_style', WOO_DYNAMIC_GALLERY_JS_URL . '/colorbox/colorbox.css', array(), '1.4.4' );&nbsp;</div></li><li><div>          wp_register_script( 'colorbox_script', WOO_DYNAMIC_GALLERY_JS_URL . '/colorbox/jquery.colorbox'.$suffix.'.js', array( 'jquery' ), '1.4.4', true );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function backend_register_scripts() {&nbsp;</div></li><li><div>      $suffix = defined('SCRIPT_DEBUG') && SCRIPT_DEBUG ? '' : '.min';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $wc_dgallery_admin_interface;&nbsp;</div></li><li><div>      $wc_dgallery_admin_interface-&gt;register_fontawesome_style();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_style( 'a3-dgallery-style', WOO_DYNAMIC_GALLERY_JS_URL . '/mygallery/jquery.a3-dgallery.css', array( 'thickbox', 'font-awesome-styles' ), WOO_DYNAMIC_GALLERY_VERSION );&nbsp;</div></li><li><div>      wp_register_style( 'woocommerce_fancybox_styles', WOO_DYNAMIC_GALLERY_JS_URL . '/fancybox/fancybox.css', array(), '1.3.4' );&nbsp;</div></li><li><div>      wp_register_style( 'a3_colorbox_style', WOO_DYNAMIC_GALLERY_JS_URL . '/colorbox/colorbox.css', array(), '1.4.4' );&nbsp;</div></li><li><div>      wp_register_style( 'a3-dynamic-metabox-admin-style', WOO_DYNAMIC_GALLERY_CSS_URL . '/a3.dynamic.metabox.admin.css', array(), WOO_DYNAMIC_GALLERY_VERSION );&nbsp;</div></li><li><div>      wp_register_style( 'a3-dynamic-metabox-admin-style-rtl', WOO_DYNAMIC_GALLERY_CSS_URL . '/a3.dynamic.metabox.admin.rtl.css', array(), WOO_DYNAMIC_GALLERY_VERSION );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_script( 'preview-gallery-script', WOO_DYNAMIC_GALLERY_JS_URL.'/galleries.js', array( 'jquery', 'thickbox' ), WOO_DYNAMIC_GALLERY_VERSION, true );&nbsp;</div></li><li><div>      wp_register_script( 'a3-dgallery-script', WOO_DYNAMIC_GALLERY_JS_URL . '/mygallery/jquery.a3-dgallery.js', array( 'jquery' ), WOO_DYNAMIC_GALLERY_VERSION, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_script( 'fancybox', WOO_DYNAMIC_GALLERY_JS_URL . '/fancybox/fancybox'.$suffix.'.js', array( 'jquery' ), '1.3.4', true );&nbsp;</div></li><li><div>      wp_register_script( 'colorbox_script', WOO_DYNAMIC_GALLERY_JS_URL . '/colorbox/jquery.colorbox'.$suffix.'.js', array( 'jquery' ), '1.4.4', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_script( 'a3-dynamic-metabox-admin-script', WOO_DYNAMIC_GALLERY_JS_URL . '/a3.dynamic.metabox.admin' . $suffix . '.js', array( 'jquery', 'jquery-ui-core', 'jquery-ui-widget', 'jquery-ui-mouse', 'jquery-ui-sortable' ), WOO_DYNAMIC_GALLERY_VERSION );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function wc_dynamic_gallery_display() {&nbsp;</div></li><li><div>      global $post, $product;&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>      &lt;div class=&quot;images gallery_container&quot;&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>      do_action('wc_dynamic_gallery_before_gallery');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      WC_Gallery_Display_Class::get_gallery_main( $product-&gt;get_id() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      do_action('wc_dynamic_gallery_after_gallery');&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function get_gallery_main( $product_id = 0 ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Single Product Image</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      global $post, $wc_dgallery_fonts_face;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $global_stop_scroll_1image = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'stop_scroll_1image' );&nbsp;</div></li><li><div>      $enable_scroll = 'true';&nbsp;</div></li><li><div>      $display_back_and_forward = 'true';&nbsp;</div></li><li><div>      $no_image_uri = WC_Dynamic_Gallery_Functions::get_no_image_uri();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $product_id &lt; 1 ) {&nbsp;</div></li><li><div>          $product_id = $post-&gt;ID;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get gallery of this product</span>&nbsp;</div></li><li><div>      $dgallery_ids = WC_Dynamic_Gallery_Functions::get_gallery_ids( $product_id );&nbsp;</div></li><li><div>      if ( ! is_array( $dgallery_ids ) ) {&nbsp;</div></li><li><div>          $dgallery_ids = array();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $main_dgallery = array();&nbsp;</div></li><li><div>      $ogrinal_product_id = $product_id;&nbsp;</div></li><li><div>      $product_id          .= '_' . rand( 100, 10000 );&nbsp;</div></li><li><div>      $lightbox_class = 'lightbox';&nbsp;</div></li><li><div>      $thumbs_list_class = '';&nbsp;</div></li><li><div>      $max_height = 0;&nbsp;</div></li><li><div>      $width_of_max_height = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Process to get max height and width of max height for set gallery container</span>&nbsp;</div></li><li><div>      if ( count( $dgallery_ids ) &gt; 0 ) {&nbsp;</div></li><li><div>          $lightbox_class = 'lightbox';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Assign image data into main gallery array</span>&nbsp;</div></li><li><div>          foreach ( $dgallery_ids as $img_id ) {&nbsp;</div></li><li><div>              <span class="comment">// Check if image id is existed on main gallery then just use it again for decrease query</span>&nbsp;</div></li><li><div>              if ( isset( $main_dgallery[$img_id] ) ) {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $image_data = get_post( $img_id );&nbsp;</div></li><li><div>              $large_image_attribute = wp_get_attachment_image_src( $img_id, 'large' );&nbsp;</div></li><li><div>              $single_image_attribute = wp_get_attachment_image_src( $img_id, 'shop_single' );&nbsp;</div></li><li><div>              $thumb_image_attribute = wp_get_attachment_image_src( $img_id, 'shop_thumbnail' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $alt = get_post_meta( $img_id, '_wp_attachment_image_alt', true );&nbsp;</div></li><li><div>              $single_srcset = '';&nbsp;</div></li><li><div>              $single_sizes = '';&nbsp;</div></li><li><div>              $thumb_srcset = '';&nbsp;</div></li><li><div>              $thumb_sizes = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( function_exists( 'wp_get_attachment_image_srcset' ) ) {&nbsp;</div></li><li><div>                  $single_srcset = wp_get_attachment_image_srcset( $img_id, 'shop_single' );&nbsp;</div></li><li><div>                  $thumb_srcset = wp_get_attachment_image_srcset( $img_id, 'shop_thumbnail' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( function_exists( 'wp_get_attachment_image_sizes' ) ) {&nbsp;</div></li><li><div>                  $single_sizes = wp_get_attachment_image_sizes( $img_id, 'shop_single' );&nbsp;</div></li><li><div>                  $thumb_sizes = wp_get_attachment_image_sizes( $img_id, 'shop_thumbnail' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $main_dgallery[$img_id] = array (&nbsp;</div></li><li><div>                      'caption_text' =&gt; $image_data-&gt;post_excerpt, &nbsp;</div></li><li><div>                      'alt_text' =&gt; $alt, &nbsp;</div></li><li><div>                      'thumb' =&gt; array (&nbsp;</div></li><li><div>                              'url' =&gt; $thumb_image_attribute[0], &nbsp;</div></li><li><div>                              'width' =&gt; $thumb_image_attribute[1], &nbsp;</div></li><li><div>                              'height' =&gt; $thumb_image_attribute[2], &nbsp;</div></li><li><div>                              'img_srcset' =&gt; $thumb_srcset, &nbsp;</div></li><li><div>                              'img_sizes' =&gt; $thumb_sizes, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                      'single' =&gt; array (&nbsp;</div></li><li><div>                              'url' =&gt; $single_image_attribute[0], &nbsp;</div></li><li><div>                              'width' =&gt; $single_image_attribute[1], &nbsp;</div></li><li><div>                              'height' =&gt; $single_image_attribute[2], &nbsp;</div></li><li><div>                              'img_srcset' =&gt; $single_srcset, &nbsp;</div></li><li><div>                              'img_sizes' =&gt; $single_sizes, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                      'large' =&gt; array (&nbsp;</div></li><li><div>                              'url' =&gt; $large_image_attribute[0], &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $height_current = $single_image_attribute[2];&nbsp;</div></li><li><div>              if ( $height_current &gt; $max_height ) {&nbsp;</div></li><li><div>                  $max_height = $height_current;&nbsp;</div></li><li><div>                  $width_of_max_height = $single_image_attribute[1];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;div class=&quot;product_gallery&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          $woo_dg_width_type = get_option( WOO_DYNAMIC_GALLERY_PREFIX . 'width_type', '%' );&nbsp;</div></li><li><div>          $gallery_height_type = get_option( WOO_DYNAMIC_GALLERY_PREFIX . 'gallery_height_type', 'fixed' );&nbsp;</div></li><li><div>          if ( $woo_dg_width_type == 'px' ) {&nbsp;</div></li><li><div>              $g_width = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_width_fixed' ).'px';&nbsp;</div></li><li><div>              $g_height = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_height' );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $g_width = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_width_responsive' ).'%';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Set height for when gallery is responsive wide or dynamic height</span>&nbsp;</div></li><li><div>          if ( 'px' != $woo_dg_width_type || 'dynamic' == $gallery_height_type ) {&nbsp;</div></li><li><div>              if ( $max_height &gt; 0 ) {&nbsp;</div></li><li><div>                  $g_height = false;&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>              &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>              (function($) {&nbsp;</div></li><li><div>                  $(function() {&nbsp;</div></li><li><div>                      a3revWCDynamicGallery_&lt;?php echo $product_id; ?&gt; = {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          setHeightProportional: function () {&nbsp;</div></li><li><div>                              var image_wrapper_width = parseInt( $( '#gallery_&lt;?php echo $product_id; ?&gt;' ).find('.a3dg-image-wrapper').outerWidth() );&nbsp;</div></li><li><div>                              var width_of_max_height = parseInt(&lt;?php echo $width_of_max_height; ?&gt;);&nbsp;</div></li><li><div>                              var image_wrapper_height = parseInt(&lt;?php echo $max_height; ?&gt;);&nbsp;</div></li><li><div>                              if( width_of_max_height &gt; image_wrapper_width ) {&nbsp;</div></li><li><div>                                  var ratio = width_of_max_height / image_wrapper_width;&nbsp;</div></li><li><div>                                  image_wrapper_height = parseInt(&lt;?php echo $max_height; ?&gt;) / ratio;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              $( '#gallery_&lt;?php echo $product_id; ?&gt;' ).find('.a3dg-image-wrapper').css({ height: image_wrapper_height });&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      a3revWCDynamicGallery_&lt;?php echo $product_id; ?&gt;.setHeightProportional();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      $( window ).resize(function() {&nbsp;</div></li><li><div>                          a3revWCDynamicGallery_&lt;?php echo $product_id; ?&gt;.setHeightProportional();&nbsp;</div></li><li><div>                      });&nbsp;</div></li><li><div>                  });&nbsp;</div></li><li><div>              })(jQuery);&nbsp;</div></li><li><div>              &lt;/script&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $g_height = 138;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $shop_thumbnail = wc_get_image_size( 'shop_thumbnail' );&nbsp;</div></li><li><div>          $g_thumb_width = $shop_thumbnail['width'];&nbsp;</div></li><li><div>          $g_thumb_height = $shop_thumbnail['height'];&nbsp;</div></li><li><div>          $thumb_show_type = get_option( WOO_DYNAMIC_GALLERY_PREFIX . 'thumb_show_type', 'slider' );&nbsp;</div></li><li><div>          $thumb_columns = get_option( WOO_DYNAMIC_GALLERY_PREFIX . 'thumb_columns', 3 );&nbsp;</div></li><li><div>          $thumb_spacing = get_option( WOO_DYNAMIC_GALLERY_PREFIX . 'thumb_spacing', 10 );&nbsp;</div></li><li><div>          if ( 'static' == $thumb_show_type ) {&nbsp;</div></li><li><div>              $thumbs_list_class = 'a3dg-thumbs-static';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $g_auto = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_auto_start' );&nbsp;</div></li><li><div>          $g_speed = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_speed' );&nbsp;</div></li><li><div>          $g_effect = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_effect' );&nbsp;</div></li><li><div>          $g_animation_speed = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'product_gallery_animation_speed' );&nbsp;</div></li><li><div>          $product_gallery_nav = 'yes';&nbsp;</div></li><li><div>          $main_margin_left = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'main_margin_left' );&nbsp;</div></li><li><div>          $main_margin_right = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'main_margin_right' );&nbsp;</div></li><li><div>          $navbar_margin_left = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'navbar_margin_left' );&nbsp;</div></li><li><div>          $navbar_margin_right = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'navbar_margin_right' );&nbsp;</div></li><li><div>          $lazy_load_scroll = 'yes';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $default_enable_gallery_thumb = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'enable_gallery_thumb', 'yes' );&nbsp;</div></li><li><div>          $enable_gallery_thumb = get_post_meta( $ogrinal_product_id, '_wc_dgallery_enable_gallery_thumb', true );&nbsp;</div></li><li><div>          if ( $enable_gallery_thumb == '' ) {&nbsp;</div></li><li><div>              $enable_gallery_thumb = $default_enable_gallery_thumb;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $enable_gallery_thumb == 1 || $enable_gallery_thumb == 'yes' ) {&nbsp;</div></li><li><div>              $enable_gallery_thumb = 'yes';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $enable_gallery_thumb = 'no';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $display_ctrl = '';&nbsp;</div></li><li><div>          if ( 'no' == $product_gallery_nav ) {&nbsp;</div></li><li><div>              $display_ctrl = 'display:none !important;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $popup_gallery = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'popup_gallery' );&nbsp;</div></li><li><div>          $hide_thumb_1image = get_option( WOO_DYNAMIC_GALLERY_PREFIX.'hide_thumb_1image', 'yes' );&nbsp;</div></li><li><div>          $start_label = __('START SLIDESHOW', 'woo_dgallery');&nbsp;</div></li><li><div>          $stop_label = __('STOP SLIDESHOW', 'woo_dgallery');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( 'yes' == $global_stop_scroll_1image && count( $dgallery_ids ) &lt;= 1 ) {&nbsp;</div></li><li><div>              $enable_scroll = 'false';&nbsp;</div></li><li><div>              $display_back_and_forward = 'false';&nbsp;</div></li><li><div>              $start_label = '';&nbsp;</div></li><li><div>              $stop_label = '';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( 'static' == $thumb_show_type ) {&nbsp;</div></li><li><div>              $display_back_and_forward = 'false';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $zoom_label = __('ZOOM +', 'woo_dgallery');&nbsp;</div></li><li><div>          if ( 'deactivate' == $popup_gallery ) {&nbsp;</div></li><li><div>              $zoom_label = '';&nbsp;</div></li><li><div>              $lightbox_class = 'lightbox';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( '' == $lightbox_class && 'false' == $enable_scroll ) {&nbsp;</div></li><li><div>              $display_ctrl = 'display:none !important;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $_upload_dir = wp_upload_dir();&nbsp;</div></li><li><div>          global $wc_wc_dynamic_gallery_less;&nbsp;</div></li><li><div>          if ( file_exists( $_upload_dir['basedir'] . '/sass/woo_dynamic_gallery.min.css' ) ) {&nbsp;</div></li><li><div>              echo  '&lt;link media=&quot;all&quot; type=&quot;text/css&quot; href=&quot;' . str_replace(array('http:', 'https:'), '', $_upload_dir['baseurl'] ) . '/sass/woo_dynamic_gallery.min.css?ver='.$wc_wc_dynamic_gallery_less-&gt;get_css_file_version().'&quot; rel=&quot;stylesheet&quot; /&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              include( WOO_DYNAMIC_GALLERY_DIR . '/templates/customized_style.php' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;style&gt;&nbsp;</div></li><li><div>              .product.has-default-attributes.has-children &gt; .images {&nbsp;</div></li><li><div>                  opacity: 1 !important;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              .a3-dgallery .a3dg-image-wrapper {&nbsp;</div></li><li><div>                  '. ( ( $g_height != false ) ? 'height: '. $g_height.'px;' : '' ) .'&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              .product_gallery #gallery_'.$product_id.' .a3dg-navbar-control {&nbsp;</div></li><li><div>                  '.$display_ctrl.';&nbsp;</div></li><li><div>                  width: calc( 100% - '.( $navbar_margin_left + $navbar_margin_right ).'px );&nbsp;</div></li><li><div>              }';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( 'no' == $lazy_load_scroll ) {&nbsp;</div></li><li><div>                  echo '.a3-dgallery .lazy-load {&nbsp;</div></li><li><div>                      display: none !important;&nbsp;</div></li><li><div>                  }';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( 'yes' == $hide_thumb_1image && count( $dgallery_ids ) &lt;= 1 ) {&nbsp;</div></li><li><div>                  echo '#gallery_'.$product_id.' .a3dg-nav {&nbsp;</div></li><li><div>                      display:none;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  .woocommerce #gallery_'.$product_id.' .images {&nbsp;</div></li><li><div>                      margin-bottom: 15px;&nbsp;</div></li><li><div>                  }';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( 'yes' == $global_stop_scroll_1image && count( $dgallery_ids ) &lt;= 1 ) {&nbsp;</div></li><li><div>                  echo '#gallery_'.$product_id.' .a3dg-navbar-control {&nbsp;</div></li><li><div>                      width: calc( 50% - '.( ( $navbar_margin_left + $navbar_margin_right ) / 2 ).'px ) !important;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .a3dg-navbar-control .icon_zoom {&nbsp;</div></li><li><div>                      width: 100%;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .a3dg-navbar-separator, &nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .slide-ctrl {&nbsp;</div></li><li><div>                      display: none !important;&nbsp;</div></li><li><div>                  }';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( 'deactivate' == $popup_gallery ) {&nbsp;</div></li><li><div>                  echo '.a3-dgallery .a3dg-image-wrapper .a3dg-image img {&nbsp;</div></li><li><div>                      cursor: default;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .a3dg-navbar-control {&nbsp;</div></li><li><div>                      width: calc( 50% - '.( ( $navbar_margin_left + $navbar_margin_right ) / 2 ).'px ) !important;&nbsp;</div></li><li><div>                      float: right;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .a3dg-navbar-control .slide-ctrl {&nbsp;</div></li><li><div>                      width: 100%;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .a3dg-navbar-separator, &nbsp;</div></li><li><div>                  #gallery_'.$product_id.' .icon_zoom {&nbsp;</div></li><li><div>                      display: none;&nbsp;</div></li><li><div>                  }';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( 'no' == $enable_gallery_thumb ) {&nbsp;</div></li><li><div>                  echo '.a3dg-nav {&nbsp;</div></li><li><div>                      display:none;&nbsp;</div></li><li><div>                      height:1px;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  .woocommerce .images {&nbsp;</div></li><li><div>                      margin-bottom: 15px;&nbsp;</div></li><li><div>                  }';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&nbsp;</div></li><li><div>          &lt;/style&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;script type =&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>              jQuery(function() {&nbsp;</div></li><li><div>                  var settings_defaults_'.$product_id.' = { loader_image: &quot;'.WOO_DYNAMIC_GALLERY_JS_URL.'/mygallery/loader.gif&quot;, &nbsp;</div></li><li><div>                      start_at_index: 0, &nbsp;</div></li><li><div>                      gallery_ID: &quot;'.$product_id.'&quot;, &nbsp;</div></li><li><div>                      lightbox_class: &quot;'.$lightbox_class.'&quot;, &nbsp;</div></li><li><div>                      description_wrapper: false, &nbsp;</div></li><li><div>                      thumb_opacity: 0.5, &nbsp;</div></li><li><div>                      animate_first_image: false, &nbsp;</div></li><li><div>                      animation_speed: '.$g_animation_speed.'000, &nbsp;</div></li><li><div>                      width: false, &nbsp;</div></li><li><div>                      height: false, &nbsp;</div></li><li><div>                      display_next_and_prev: '.$enable_scroll.', &nbsp;</div></li><li><div>                      display_back_and_forward: '.$display_back_and_forward.', &nbsp;</div></li><li><div>                      scroll_jump: 0, &nbsp;</div></li><li><div>                      slideshow: {&nbsp;</div></li><li><div>                          enable: '.$enable_scroll.', &nbsp;</div></li><li><div>                          autostart: '.$g_auto.', &nbsp;</div></li><li><div>                          speed: '.$g_speed.'000, &nbsp;</div></li><li><div>                          start_label: &quot;'.$start_label.'&quot;, &nbsp;</div></li><li><div>                          stop_label: &quot;'.$stop_label.'&quot;, &nbsp;</div></li><li><div>                          zoom_label: &quot;'.$zoom_label.'&quot;, &nbsp;</div></li><li><div>                          stop_on_scroll: true, &nbsp;</div></li><li><div>                          countdown_prefix: &quot;(&quot;, &nbsp;</div></li><li><div>                          countdown_sufix: &quot;)&quot;, &nbsp;</div></li><li><div>                          onStart: false, &nbsp;</div></li><li><div>                          onStop: false&nbsp;</div></li><li><div>                      }, &nbsp;</div></li><li><div>                      effect: &quot;'.$g_effect.'&quot;, &nbsp;</div></li><li><div>                      enable_keyboard_move: true, &nbsp;</div></li><li><div>                      cycle: true, &nbsp;</div></li><li><div>                      callbacks: {&nbsp;</div></li><li><div>                      init: false, &nbsp;</div></li><li><div>                      afterImageVisible: false, &nbsp;</div></li><li><div>                      beforeImageVisible: false&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              };&nbsp;</div></li><li><div>              jQuery(&quot;#gallery_'.$product_id.'&quot;).adGallery(settings_defaults_'.$product_id.');&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;/script&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;img style=&quot;width: 0px ! important; height: 0px ! important; display: none ! important; position: absolute;&quot; src=&quot;'.WOO_DYNAMIC_GALLERY_IMAGES_URL . '/blank.gif&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo '&lt;div id=&quot;gallery_'.$product_id.'&quot;&nbsp;</div></li><li><div>          class=&quot;a3-dgallery&quot;&nbsp;</div></li><li><div>          data-height_type=&quot;'. esc_attr( $gallery_height_type ).'&quot;&nbsp;</div></li><li><div>          data-show_navbar_control=&quot;'. esc_attr( $product_gallery_nav ) .'&quot;&nbsp;</div></li><li><div>          data-show_thumb=&quot;'. esc_attr( $enable_gallery_thumb ) .'&quot;&nbsp;</div></li><li><div>          data-hide_one_thumb=&quot;'. esc_attr( $hide_thumb_1image ) .'&quot;&nbsp;</div></li><li><div>          data-thumb_show_type=&quot;'. esc_attr( $thumb_show_type ) .'&quot;&nbsp;</div></li><li><div>          data-thumb_visible=&quot;'. esc_attr( $thumb_columns ) .'&quot;&nbsp;</div></li><li><div>          data-thumb_spacing=&quot;'. esc_attr( $thumb_spacing ) .'&quot;&nbsp;</div></li><li><div>          style=&quot;width: 100%;&nbsp;</div></li><li><div>          max-width: '.$g_width.';&quot;&nbsp;</div></li><li><div>          &gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;a3dg-image-wrapper&quot; style=&quot;width: calc(100% - '.( (int) $main_margin_left + (int) $main_margin_right ).'px); ' . ( ( $g_height != false ) ? 'height: '.$g_height.'px;' : '' ) . '&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;lazy-load&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;div style=&quot;clear: both&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;a3dg-navbar-control&quot;&gt;&lt;div class=&quot;a3dg-navbar-separator&quot;&gt;&lt;/div&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;div style=&quot;clear: both&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;a3dg-nav&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;fa fa-angle-left a3dg-back&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;fa fa-angle-right a3dg-forward&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;a3dg-thumbs '.$thumbs_list_class.'&quot;&gt;&nbsp;</div></li><li><div>                      &lt;ul class=&quot;a3dg-thumb-list&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      $script_colorbox = '';&nbsp;</div></li><li><div>                      $script_fancybox = '';&nbsp;</div></li><li><div>                      if ( count( $dgallery_ids ) &gt; 0 ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          $current_color_text = __('image {current} of {total}', 'woo_dgallery');&nbsp;</div></li><li><div>                          $current_color_text = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          $script_colorbox .= '&lt;script type=&quot;text/javascript&quot;&gt;';&nbsp;</div></li><li><div>                          $script_fancybox .= '&lt;script type=&quot;text/javascript&quot;&gt;';&nbsp;</div></li><li><div>                          $script_colorbox .= '(function($) {';&nbsp;</div></li><li><div>                          $script_fancybox .= '(function($) {';&nbsp;</div></li><li><div>                          $script_colorbox .= '$(function() {';&nbsp;</div></li><li><div>                          $script_fancybox .= '$(function() {';&nbsp;</div></li><li><div>                          $script_colorbox .= '$(document).on(&quot;click&quot;, &quot;.a3-dgallery .lightbox&quot;, function(ev) { if( $(this).attr(&quot;rel&quot;) == &quot;gallery_'.$product_id.'&quot;) {&nbsp;</div></li><li><div>                              var idx = $(&quot;#gallery_'.$product_id.' .a3dg-image img&quot;).attr(&quot;idx&quot;);';&nbsp;</div></li><li><div>                          $script_fancybox .= '$(document).on(&quot;click&quot;, &quot;.a3-dgallery .lightbox&quot;, function(ev) { if( $(this).attr(&quot;rel&quot;) == &quot;gallery_'.$product_id.'&quot;) {&nbsp;</div></li><li><div>                              var idx = $(&quot;#gallery_'.$product_id.' .a3dg-image img&quot;).attr(&quot;idx&quot;);';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          if ( count( $dgallery_ids ) &lt;= 1 ) {&nbsp;</div></li><li><div>                              $script_colorbox .= '$(&quot;.gallery_product_'.$product_id.'&quot;).colorbox({ current:&quot;'.$current_color_text.'&quot;, open:true, maxWidth:&quot;100%&quot; });';&nbsp;</div></li><li><div>                              $script_fancybox .= '$.fancybox(';&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                              $script_colorbox .= '$(&quot;.gallery_product_'.$product_id.'&quot;).colorbox({ current:&quot;'.$current_color_text.'&quot;, rel:&quot;gallery_product_'.$product_id.'&quot;, maxWidth:&quot;100%&quot; }); $(&quot;.gallery_product_'.$product_id.'_&quot;+idx).colorbox({ current:&quot;'.$current_color_text.'&quot;, open:true, maxWidth:&quot;100%&quot; });';&nbsp;</div></li><li><div>                              $script_fancybox .= '$.fancybox([';&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          $common = '';&nbsp;</div></li><li><div>                          $idx = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          foreach ( $dgallery_ids as $img_id ) {&nbsp;</div></li><li><div>                              if ( ! isset( $main_dgallery[$img_id] ) ) {&nbsp;</div></li><li><div>                                  continue;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              <span class="comment">// Get image data from main gallery array</span>&nbsp;</div></li><li><div>                              $gallery_item = $main_dgallery[$img_id];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              $li_class = '';&nbsp;</div></li><li><div>                              if ( 'static' == $thumb_show_type ) {&nbsp;</div></li><li><div>                                  if ( $idx % $thumb_columns == 0 ) {&nbsp;</div></li><li><div>                                      $li_class = 'first_item';&nbsp;</div></li><li><div>                                  } elseif ( ( $idx % $thumb_columns + 1 ) == $thumb_columns ) {&nbsp;</div></li><li><div>                                      $li_class = 'last_item';&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  if ( $idx == 0 ) {&nbsp;</div></li><li><div>                                      $li_class = 'first_item';&nbsp;</div></li><li><div>                                  } elseif ( $idx == count( $dgallery_ids ) - 1 ) {&nbsp;</div></li><li><div>                                      $li_class = 'last_item';&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              $image_large_url = $gallery_item['large']['url'];&nbsp;</div></li><li><div>                              $image_single_url = $gallery_item['single']['url'];&nbsp;</div></li><li><div>                              $image_thumb_url = $gallery_item['thumb']['url'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              $thumb_height = $g_thumb_height;&nbsp;</div></li><li><div>                              $thumb_width = $g_thumb_width;&nbsp;</div></li><li><div>                              $width_old = $gallery_item['thumb']['width'];&nbsp;</div></li><li><div>                              $height_old = $gallery_item['thumb']['height'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              if ( $width_old &gt; $g_thumb_width || $height_old &gt; $g_thumb_height ) {&nbsp;</div></li><li><div>                                  if ( $height_old &gt; $g_thumb_height && $g_thumb_height &gt; 0 ) {&nbsp;</div></li><li><div>                                      $factor = ($height_old / $g_thumb_height);&nbsp;</div></li><li><div>                                      $thumb_height = $g_thumb_height;&nbsp;</div></li><li><div>                                      $thumb_width = $width_old / $factor;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  if ( $thumb_width &gt; $g_thumb_width && $g_thumb_width &gt; 0 ) {&nbsp;</div></li><li><div>                                      $factor = ($width_old / $g_thumb_width);&nbsp;</div></li><li><div>                                      $thumb_height = $height_old / $factor;&nbsp;</div></li><li><div>                                      $thumb_width = $g_thumb_width;&nbsp;</div></li><li><div>                                  } elseif ( $thumb_width == $g_thumb_width && $width_old &gt; $g_thumb_width && $g_thumb_width &gt; 0 ) {&nbsp;</div></li><li><div>                                      $factor = ($width_old / $g_thumb_width);&nbsp;</div></li><li><div>                                      $thumb_height = $height_old / $factor;&nbsp;</div></li><li><div>                                      $thumb_width = $g_thumb_width;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  $thumb_height = $height_old;&nbsp;</div></li><li><div>                                  $thumb_width = $width_old;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              echo '&lt;li class=&quot;'.$li_class.'&quot;&gt;';&nbsp;</div></li><li><div>                              echo '&lt;a alt=&quot;'. esc_attr( $gallery_item['alt_text'] ).'&quot; class=&quot;gallery_product_'.$product_id.' gallery_product_'.$product_id.'_'.$idx.'&quot; title=&quot;'. esc_attr( $gallery_item['caption_text'] ).'&quot; rel=&quot;gallery_product_'.$product_id.'&quot; href=&quot;'.$image_single_url.'&quot;&gt;';&nbsp;</div></li><li><div>                              echo '&lt;img&nbsp;</div></li><li><div>                              org-width=&quot;'. esc_attr( $gallery_item['single']['width'] ).'&quot;&nbsp;</div></li><li><div>                              org-height=&quot;'. esc_attr( $gallery_item['single']['height'] ).'&quot;&nbsp;</div></li><li><div>                              org-sizes=&quot;'. esc_attr( $gallery_item['single']['img_sizes'] ).'&quot;&nbsp;</div></li><li><div>                              org-srcset=&quot;'. esc_attr( $gallery_item['single']['img_srcset'] ).'&quot;&nbsp;</div></li><li><div>                              sizes=&quot;'. esc_attr( $gallery_item['thumb']['img_sizes'] ) .'&quot;&nbsp;</div></li><li><div>                              srcset=&quot;'. esc_attr( $gallery_item['thumb']['img_srcset'] ).'&quot;&nbsp;</div></li><li><div>                              idx=&quot;'.$idx.'&quot;&nbsp;</div></li><li><div>                              src=&quot;'.$image_thumb_url.'&quot;&nbsp;</div></li><li><div>                              alt=&quot;'. esc_attr( $gallery_item['alt_text'] ).'&quot;&nbsp;</div></li><li><div>                              data-caption=&quot;'. esc_attr( $gallery_item['caption_text'] ).'&quot;&nbsp;</div></li><li><div>                              class=&quot;image'.$idx.'&quot;&nbsp;</div></li><li><div>                              width=&quot;'.$thumb_width.'&quot;&nbsp;</div></li><li><div>                              height=&quot;'.$thumb_height.'&quot;&gt;';&nbsp;</div></li><li><div>                              echo '&lt;/a&gt;';&nbsp;</div></li><li><div>                              echo '&lt;/li&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                              if ( '' != trim( $gallery_item['caption_text'] ) ) {&nbsp;</div></li><li><div>                                  $script_fancybox .= $common.'{href:&quot;'.$image_large_url.'&quot;, title:&quot;'.esc_js( $gallery_item['caption_text'] ).'&quot;}';&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  $script_fancybox .= $common.'{href:&quot;'.$image_large_url.'&quot;, title:&quot;&quot;}';&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              $common = ', ';&nbsp;</div></li><li><div>                              $idx++;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          if ( count( $dgallery_ids ) &lt;= 1 ) {&nbsp;</div></li><li><div>                              $script_fancybox .= ');';&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                              $script_fancybox .= '], {&nbsp;</div></li><li><div>  \'index\': idx&nbsp;</div></li><li><div>});';&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $script_colorbox .= 'ev.preventDefault();';&nbsp;</div></li><li><div>                          $script_colorbox .= '} });';&nbsp;</div></li><li><div>                          $script_fancybox .= '} });';&nbsp;</div></li><li><div>                          $script_colorbox .= '});';&nbsp;</div></li><li><div>                          $script_fancybox .= '});';&nbsp;</div></li><li><div>                          $script_colorbox .= '})(jQuery);';&nbsp;</div></li><li><div>                          $script_fancybox .= '})(jQuery);';&nbsp;</div></li><li><div>                          $script_colorbox .= '&lt;/script&gt;';&nbsp;</div></li><li><div>                          $script_fancybox .= '&lt;/script&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          echo '&lt;li&gt;';&nbsp;</div></li><li><div>                          echo '&lt;a class=&quot;&quot; rel=&quot;gallery_product_'.$product_id.'&quot; href=&quot;'.$no_image_uri.'&quot;&gt;';&nbsp;</div></li><li><div>                          echo '&lt;img org-width=&quot;&quot; org-height=&quot;&quot; sizes=&quot;&quot; srcset=&quot;&quot; src=&quot;'.$no_image_uri.'&quot; class=&quot;image&quot; alt=&quot;&quot;&gt;';&nbsp;</div></li><li><div>                          echo '&lt;/a&gt;';&nbsp;</div></li><li><div>                          echo '&lt;/li&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      if ( 'deactivate' == $popup_gallery ) {&nbsp;</div></li><li><div>                          $script_colorbox = '';&nbsp;</div></li><li><div>                          $script_fancybox = '';&nbsp;</div></li><li><div>                      } elseif( 'colorbox' == $popup_gallery ) {&nbsp;</div></li><li><div>                          echo $script_colorbox;&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          echo $script_fancybox;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      echo '&lt;/ul&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>              &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;';&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>WooCommerce Dynamic Gallery LITE</li><li><span></span>2.3.4</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>