<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="2.6" data-slug="pods-custom-content-types-and-fields" data-type="class" data-id="59784"><head xmlns="http://www.w3.org/1999/xhtml"><title> podsui | class | Pods Custom Content Types And Fields | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="PodsUI, class, plugin, pods-custom-content-types-and-fields, 2.6" /><meta name="description" content="The Pods - Custom Content Types and Fields PodsUI class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.17"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=4137a5c4eb2b80a6a24aa5836b1fed5d' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.17' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/pods_ui/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods_ui%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods_ui%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-pods-custom-content-types-and-fields-2.6-class-pods_ui","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="pods_ui" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to pods-custom-content-types-and&hellip;." href="http://hookr.io/plugins/pods-custom-content-types-and-fields/" class="plugin"><span property="name">pods-custom-content-types-and&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.6." href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/" class="H_VERSION"><span property="name">2.6</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">pods_ui</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="726"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/all/" title="All">All <span class="count badge">726</span></a></li><li class="" data-id="new" data-count="5"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/new/" title="New">New <span class="count badge">5</span></a></li><li class="" data-id="hooks" data-count="474"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/hooks/" title="Hooks">Hooks <span class="count badge">474</span></a></li><li class="" data-id="action" data-count="109"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/actions/" title="Actions">Actions <span class="count badge">109</span></a></li><li class="" data-id="filter" data-count="365"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/filters/" title="Filters">Filters <span class="count badge">365</span></a></li><li class="active" data-id="class" data-count="70"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/classes/" title="Classes">Classes <span class="count badge">70</span></a></li><li class="" data-id="constant" data-count="18"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/constants/" title="Constants">Constants <span class="count badge">18</span></a></li><li class="" data-id="function" data-count="156"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/functions/" title="Functions">Functions <span class="count badge">156</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>PodsUI</strong></h1><p>The Pods - Custom Content Types and Fields <strong>PodsUI</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/files/classes-podsui/" class="file">/classes/PodsUI.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="5" class="block" start="5"><li><div>class PodsUI {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var null Nonce for security&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $_nonce = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // internal&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool|PodsData&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $pods_data = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $actions = array(&nbsp;</div></li><li><div>        'manage', &nbsp;</div></li><li><div>        'add', &nbsp;</div></li><li><div>        'edit', &nbsp;</div></li><li><div>        'duplicate', &nbsp;</div></li><li><div>        'save', &nbsp;</div></li><li><div>        //'view', &nbsp;</div></li><li><div>        'delete', &nbsp;</div></li><li><div>        'reorder', &nbsp;</div></li><li><div>        'export'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $ui_page = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $unique_identifier = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // base&nbsp;</div></li><li><div>    public $x = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array|bool|mixed|null|Pods&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pod = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $id = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $num = ''; // allows multiple co-existing PodsUI instances with separate functionality in URL&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    static $excluded = array(&nbsp;</div></li><li><div>        'do', &nbsp;</div></li><li><div>        'id', &nbsp;</div></li><li><div>        'pg', &nbsp;</div></li><li><div>        'search', &nbsp;</div></li><li><div>        'filter_*', &nbsp;</div></li><li><div>        'orderby', &nbsp;</div></li><li><div>        'orderby_dir', &nbsp;</div></li><li><div>        'limit', &nbsp;</div></li><li><div>        'action', &nbsp;</div></li><li><div>        'action_bulk', &nbsp;</div></li><li><div>        'action_bulk_ids', &nbsp;</div></li><li><div>        '_wpnonce', &nbsp;</div></li><li><div>        'view', &nbsp;</div></li><li><div>        'export', &nbsp;</div></li><li><div>        'export_type', &nbsp;</div></li><li><div>        'export_delimiter', &nbsp;</div></li><li><div>        'remove_export', &nbsp;</div></li><li><div>        'updated', &nbsp;</div></li><li><div>        'duplicate', &nbsp;</div></li><li><div>        'message'&nbsp;</div></li><li><div> ); // used in var_update&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    static $allowed = array(&nbsp;</div></li><li><div>        'page', &nbsp;</div></li><li><div>        'post_type'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // ui&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $item = false; // to be set with localized string&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $items = false; // to be set with localized string&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $heading = false; // to be set with localized string array&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $header = false; // to be set with localized string array&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $label = false; // to be set with localized string array&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $icon = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $css = false; // set to a URL of stylesheet to include&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $wpcss = false; // set to true to include WP Admin stylesheets&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $fields = array(&nbsp;</div></li><li><div>        'manage' =&gt; array(), &nbsp;</div></li><li><div>        'search' =&gt; array(), &nbsp;</div></li><li><div>        'form' =&gt; array(), &nbsp;</div></li><li><div>        'add' =&gt; array(), &nbsp;</div></li><li><div>        'edit' =&gt; array(), &nbsp;</div></li><li><div>        'duplicate' =&gt; array(), &nbsp;</div></li><li><div>        'view' =&gt; array(), &nbsp;</div></li><li><div>        'reorder' =&gt; array(), &nbsp;</div></li><li><div>        'export' =&gt; array()&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $searchable = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $sortable = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pagination = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $pagination_total = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $export = array(&nbsp;</div></li><li><div>        'on' =&gt; false, &nbsp;</div></li><li><div>        'formats' =&gt; array(&nbsp;</div></li><li><div>            'csv' =&gt; ', ', &nbsp;</div></li><li><div>            'tsv' =&gt; &quot;\t&quot;, &nbsp;</div></li><li><div>            'xml' =&gt; false, &nbsp;</div></li><li><div>            'json' =&gt; false&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>        'url' =&gt; false, &nbsp;</div></li><li><div>        'type' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $reorder = array(&nbsp;</div></li><li><div>        'on' =&gt; false, &nbsp;</div></li><li><div>        'limit' =&gt; 250, &nbsp;</div></li><li><div>        'orderby' =&gt; false, &nbsp;</div></li><li><div>        'orderby_dir' =&gt; 'ASC', &nbsp;</div></li><li><div>        'sql' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $screen_options = array(); // set to 'page' =&gt; 'Text'; false hides link&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $help = array(); // set to 'page' =&gt; 'Text'; 'page' =&gt; array('link' =&gt; 'yourhelplink'); false hides link&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // data&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $search = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $filters_enhanced = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $filters = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $view = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $views = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $search_across = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $search_across_picks = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $default_none = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $where = array(&nbsp;</div></li><li><div>        'manage' =&gt; null, &nbsp;</div></li><li><div>        /**'edit' =&gt; null, &nbsp;</div></li><li><div>        'duplicate' =&gt; null, &nbsp;</div></li><li><div>        'delete' =&gt; null, */&nbsp;</div></li><li><div>        'reorder' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $orderby = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $orderby_dir = 'DESC';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $limit = 25;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $page = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $total = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var int&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $total_found = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $session = array(&nbsp;</div></li><li><div>        'search', &nbsp;</div></li><li><div>        'filters'&nbsp;</div></li><li><div> ); // allowed: search, filters, show_per_page, orderby (priority over usermeta)&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $user = array(&nbsp;</div></li><li><div>        'show_per_page', &nbsp;</div></li><li><div>        'orderby'&nbsp;</div></li><li><div> ); // allowed: search, filters, show_per_page, orderby (priority under session)&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // advanced data&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $sql = array(&nbsp;</div></li><li><div>        'table' =&gt; null, &nbsp;</div></li><li><div>        'field_id' =&gt; 'id', &nbsp;</div></li><li><div>        'field_index' =&gt; 'name', &nbsp;</div></li><li><div>        'select' =&gt; null, &nbsp;</div></li><li><div>        'sql' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $params = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool|array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $data = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool|array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $data_full = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $data_keys = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $row = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // actions&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $action = 'manage';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $action_bulk = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $bulk = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $action_after = array(&nbsp;</div></li><li><div>        'add' =&gt; 'edit', &nbsp;</div></li><li><div>        'edit' =&gt; 'edit', &nbsp;</div></li><li><div>        'duplicate' =&gt; 'edit'&nbsp;</div></li><li><div> ); // set action to 'manage'&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $do = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $action_links = array(&nbsp;</div></li><li><div>        'manage' =&gt; null, &nbsp;</div></li><li><div>        'add' =&gt; null, &nbsp;</div></li><li><div>        'edit' =&gt; null, &nbsp;</div></li><li><div>        'duplicate' =&gt; null, &nbsp;</div></li><li><div>        'view' =&gt; null, &nbsp;</div></li><li><div>        'delete' =&gt; null, &nbsp;</div></li><li><div>        'reorder' =&gt; null&nbsp;</div></li><li><div> ); // custom links (ex. /my-link/{@id}/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $actions_disabled = array(&nbsp;</div></li><li><div>        'view', &nbsp;</div></li><li><div>        'export'&nbsp;</div></li><li><div> ); // disable actions&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $actions_hidden = array(); // hide actions to not show them but allow them&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $actions_custom = array(); // overwrite existing actions or add your own&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $actions_bulk = array(); // enabled bulk actions&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $restrict = array(&nbsp;</div></li><li><div>        'manage' =&gt; null, &nbsp;</div></li><li><div>        'edit' =&gt; null, &nbsp;</div></li><li><div>        'duplicate' =&gt; null, &nbsp;</div></li><li><div>        'delete' =&gt; null, &nbsp;</div></li><li><div>        'reorder' =&gt; null, &nbsp;</div></li><li><div>        'author_restrict' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $extra = array(&nbsp;</div></li><li><div>        'total' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $style = 'post_type';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $save = false; // Allow custom save handling for tables that aren't Pod-based&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Generate UI for Data Management&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $options Object, Array, or String containing Pod or Options to be used&nbsp;</div></li><li><div>     * @param bool $deprecated Set to true to support old options array from Pods UI plugin&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return \PodsUI&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @license http://www.gnu.org/licenses/gpl-2.0.html&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct ( $options, $deprecated = false ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;_nonce = pods_v( '_wpnonce', 'request' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $options ) ) {&nbsp;</div></li><li><div>            $object = $options;&nbsp;</div></li><li><div>            $options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $object-&gt;ui ) ) {&nbsp;</div></li><li><div>                $options = (array) $object-&gt;ui;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                unset( $object-&gt;ui );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $object ) && ( 'Pods' == get_class( $object ) || 'Pod' == get_class( $object ) ) )&nbsp;</div></li><li><div>                $this-&gt;pod =& $object;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_array( $options ) ) {&nbsp;</div></li><li><div>            // @todo need to come back to this and allow for multi-dimensional strings&nbsp;</div></li><li><div>            // like: option=value&option2=value2&option3=key[val], key2[val2]&option4=this, that, another&nbsp;</div></li><li><div>            if ( false !== strpos( $options, '=' ) || false !== strpos( $options, '&' ) )&nbsp;</div></li><li><div>                parse_str( $options, $options );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options = array( 'pod' =&gt; $options );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !is_object( $object ) && isset( $options[ 'pod' ] ) ) {&nbsp;</div></li><li><div>            if ( is_object( $options[ 'pod' ] ) )&nbsp;</div></li><li><div>                $this-&gt;pod = $options[ 'pod' ];&nbsp;</div></li><li><div>            elseif ( isset( $options[ 'id' ] ) )&nbsp;</div></li><li><div>                $this-&gt;pod = pods( $options[ 'pod' ], $options[ 'id' ] );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;pod = pods( $options[ 'pod' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $options[ 'pod' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_object( $object ) )&nbsp;</div></li><li><div>            $this-&gt;pod = $object;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $deprecated || ( is_object( $this-&gt;pod ) && 'Pod' == get_class( $this-&gt;pod ) ) )&nbsp;</div></li><li><div>            $options = $this-&gt;setup_deprecated( $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) && 'Pod' == get_class( $this-&gt;pod ) && is_object( $this-&gt;pod-&gt;_data ) )&nbsp;</div></li><li><div>            $this-&gt;pods_data =& $this-&gt;pod-&gt;_data;&nbsp;</div></li><li><div>        elseif ( is_object( $this-&gt;pod ) && 'Pods' == get_class( $this-&gt;pod ) && is_object( $this-&gt;pod-&gt;data ) )&nbsp;</div></li><li><div>            $this-&gt;pods_data =& $this-&gt;pod-&gt;data;&nbsp;</div></li><li><div>        elseif ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>            $this-&gt;pods_data = pods_data( $this-&gt;pod-&gt;pod );&nbsp;</div></li><li><div>        elseif ( !is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>            $this-&gt;pods_data = pods_data( $this-&gt;pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options = $this-&gt;do_hook( 'pre_init', $options );&nbsp;</div></li><li><div>        $this-&gt;setup( $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pods_data ) && is_object( $this-&gt;pod ) && 0 &lt; $this-&gt;id ) {&nbsp;</div></li><li><div>            if ( $this-&gt;id != $this-&gt;pods_data-&gt;id )&nbsp;</div></li><li><div>                $this-&gt;row = $this-&gt;pods_data-&gt;fetch( $this-&gt;id );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;row = $this-&gt;pods_data-&gt;row;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ( !is_object( $this-&gt;pod ) || 'Pods' != get_class( $this-&gt;pod ) ) && false === $this-&gt;sql[ 'table' ] && false === $this-&gt;data ) {&nbsp;</div></li><li><div>            echo $this-&gt;error( __( '&lt;strong&gt;Error:&lt;/strong&gt; Pods UI needs a Pods object or a Table definition to run from, see the User Guide for more information.', 'pods' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;go();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $deprecated_options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function setup_deprecated ( $deprecated_options ) {&nbsp;</div></li><li><div>        $options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'id' ] ) )&nbsp;</div></li><li><div>            $options[ 'id' ] = $deprecated_options[ 'id' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'action' ] ) )&nbsp;</div></li><li><div>            $options[ 'action' ] = $deprecated_options[ 'action' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'num' ] ) )&nbsp;</div></li><li><div>            $options[ 'num' ] = $deprecated_options[ 'num' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'title' ] ) )&nbsp;</div></li><li><div>            $options[ 'items' ] = $deprecated_options[ 'title' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'item' ] ) )&nbsp;</div></li><li><div>            $options[ 'item' ] = $deprecated_options[ 'item' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'label' ] ) )&nbsp;</div></li><li><div>            $options[ 'label' ] = array(&nbsp;</div></li><li><div>                'add' =&gt; $deprecated_options[ 'label' ], &nbsp;</div></li><li><div>                'edit' =&gt; $deprecated_options[ 'label' ], &nbsp;</div></li><li><div>                'duplicate' =&gt; $deprecated_options[ 'label' ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'label_add' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'label' ] ) )&nbsp;</div></li><li><div>                $options[ 'label' ][ 'add' ] = $deprecated_options[ 'label_add' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'label' ] = array( 'add' =&gt; $deprecated_options[ 'label_add' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'label_edit' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'label' ] ) )&nbsp;</div></li><li><div>                $options[ 'label' ][ 'edit' ] = $deprecated_options[ 'label_edit' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'label' ] = array( 'edit' =&gt; $deprecated_options[ 'label_edit' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'label_duplicate' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'label' ] ) )&nbsp;</div></li><li><div>                $options[ 'label' ][ 'duplicate' ] = $deprecated_options[ 'label_duplicate' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'label' ] = array( 'duplicate' =&gt; $deprecated_options[ 'label_duplicate' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'icon' ] ) )&nbsp;</div></li><li><div>            $options[ 'icon' ] = $deprecated_options[ 'icon' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'columns' ] ) )&nbsp;</div></li><li><div>            $options[ 'fields' ] = array( 'manage' =&gt; $deprecated_options[ 'columns' ] );&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'reorder_columns' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'fields' ] ) )&nbsp;</div></li><li><div>                $options[ 'fields' ][ 'reorder' ] = $deprecated_options[ 'reorder_columns' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'fields' ] = array( 'reorder' =&gt; $deprecated_options[ 'reorder_columns' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'add_fields' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'fields' ] ) ) {&nbsp;</div></li><li><div>                if ( !isset( $options[ 'fields' ][ 'add' ] ) )&nbsp;</div></li><li><div>                    $options[ 'fields' ][ 'add' ] = $deprecated_options[ 'add_fields' ];&nbsp;</div></li><li><div>                if ( !isset( $options[ 'fields' ][ 'edit' ] ) )&nbsp;</div></li><li><div>                    $options[ 'fields' ][ 'edit' ] = $deprecated_options[ 'add_fields' ];&nbsp;</div></li><li><div>                if ( !isset( $options[ 'fields' ][ 'duplicate' ] ) )&nbsp;</div></li><li><div>                    $options[ 'fields' ][ 'duplicate' ] = $deprecated_options[ 'add_fields' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'fields' ] = array(&nbsp;</div></li><li><div>                    'add' =&gt; $deprecated_options[ 'add_fields' ], &nbsp;</div></li><li><div>                    'edit' =&gt; $deprecated_options[ 'add_fields' ], &nbsp;</div></li><li><div>                    'duplicate' =&gt; $deprecated_options[ 'add_fields' ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'edit_fields' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'fields' ] ) ) {&nbsp;</div></li><li><div>                if ( !isset( $options[ 'fields' ][ 'add' ] ) )&nbsp;</div></li><li><div>                    $options[ 'fields' ][ 'add' ] = $deprecated_options[ 'edit_fields' ];&nbsp;</div></li><li><div>                if ( !isset( $options[ 'fields' ][ 'edit' ] ) )&nbsp;</div></li><li><div>                    $options[ 'fields' ][ 'edit' ] = $deprecated_options[ 'edit_fields' ];&nbsp;</div></li><li><div>                if ( !isset( $options[ 'fields' ][ 'duplicate' ] ) )&nbsp;</div></li><li><div>                    $options[ 'fields' ][ 'duplicate' ] = $deprecated_options[ 'edit_fields' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'fields' ] = array(&nbsp;</div></li><li><div>                    'add' =&gt; $deprecated_options[ 'edit_fields' ], &nbsp;</div></li><li><div>                    'edit' =&gt; $deprecated_options[ 'edit_fields' ], &nbsp;</div></li><li><div>                    'duplicate' =&gt; $deprecated_options[ 'edit_fields' ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'duplicate_fields' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'fields' ] ) )&nbsp;</div></li><li><div>                $options[ 'fields' ][ 'duplicate' ] = $deprecated_options[ 'duplicate_fields' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'fields' ] = array( 'duplicate' =&gt; $deprecated_options[ 'duplicate_fields' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'session_filters' ] ) && false === $deprecated_options[ 'session_filters' ] )&nbsp;</div></li><li><div>            $options[ 'session' ] = false;&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'user_per_page' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'user' ] ) && !empty( $options[ 'user' ] ) )&nbsp;</div></li><li><div>                $options[ 'user' ] = array( 'orderby' );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'user' ] = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'user_sort' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'user' ] ) && !empty( $options[ 'user' ] ) )&nbsp;</div></li><li><div>                $options[ 'user' ] = array( 'show_per_page' );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'user' ] = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_list' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'manage' ] = $deprecated_options[ 'custom_list' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'manage' =&gt; $deprecated_options[ 'custom_list' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_reorder' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'reorder' ] = $deprecated_options[ 'custom_reorder' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'reorder' =&gt; $deprecated_options[ 'custom_reorder' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_add' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'add' ] = $deprecated_options[ 'custom_add' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'add' =&gt; $deprecated_options[ 'custom_add' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_edit' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'edit' ] = $deprecated_options[ 'custom_edit' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'edit' =&gt; $deprecated_options[ 'custom_edit' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_duplicate' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'duplicate' ] = $deprecated_options[ 'custom_duplicate' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'duplicate' =&gt; $deprecated_options[ 'custom_duplicate' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_delete' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'delete' ] = $deprecated_options[ 'custom_delete' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'delete' =&gt; $deprecated_options[ 'custom_delete' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_save' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'actions_custom' ] ) )&nbsp;</div></li><li><div>                $options[ 'actions_custom' ][ 'save' ] = $deprecated_options[ 'custom_save' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'actions_custom' ] = array( 'save' =&gt; $deprecated_options[ 'custom_save' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_actions' ] ) )&nbsp;</div></li><li><div>            $options[ 'actions_custom' ] = $deprecated_options[ 'custom_actions' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'action_after_save' ] ) )&nbsp;</div></li><li><div>            $options[ 'action_after' ] = array(&nbsp;</div></li><li><div>                'add' =&gt; $deprecated_options[ 'action_after_save' ], &nbsp;</div></li><li><div>                'edit' =&gt; $deprecated_options[ 'action_after_save' ], &nbsp;</div></li><li><div>                'duplicate' =&gt; $deprecated_options[ 'action_after_save' ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'edit_link' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'action_links' ] ) )&nbsp;</div></li><li><div>                $options[ 'action_links' ][ 'edit' ] = $deprecated_options[ 'edit_link' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'action_links' ] = array( 'edit' =&gt; $deprecated_options[ 'edit_link' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'view_link' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'action_links' ] ) )&nbsp;</div></li><li><div>                $options[ 'action_links' ][ 'view' ] = $deprecated_options[ 'view_link' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'action_links' ] = array( 'view' =&gt; $deprecated_options[ 'view_link' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'duplicate_link' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'action_links' ] ) )&nbsp;</div></li><li><div>                $options[ 'action_links' ][ 'duplicate' ] = $deprecated_options[ 'duplicate_link' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'action_links' ] = array( 'duplicate' =&gt; $deprecated_options[ 'duplicate_link' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'reorder' ] ) )&nbsp;</div></li><li><div>            $options[ 'reorder' ] = array(&nbsp;</div></li><li><div>                'on' =&gt; $deprecated_options[ 'reorder' ], &nbsp;</div></li><li><div>                'orderby' =&gt; $deprecated_options[ 'reorder' ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'reorder_sort' ] ) && isset( $options[ 'reorder' ] ) )&nbsp;</div></li><li><div>            $options[ 'reorder' ][ 'orderby' ] = $deprecated_options[ 'reorder_sort' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'reorder_limit' ] ) && isset( $options[ 'reorder' ] ) )&nbsp;</div></li><li><div>            $options[ 'reorder' ][ 'limit' ] = $deprecated_options[ 'reorder_limit' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'reorder_sql' ] ) && isset( $options[ 'reorder' ] ) )&nbsp;</div></li><li><div>            $options[ 'reorder' ][ 'sql' ] = $deprecated_options[ 'reorder_sql' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'sort' ] ) )&nbsp;</div></li><li><div>            $options[ 'orderby' ] = $deprecated_options[ 'sort' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'sortable' ] ) )&nbsp;</div></li><li><div>            $options[ 'sortable' ] = $deprecated_options[ 'sortable' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'limit' ] ) )&nbsp;</div></li><li><div>            $options[ 'limit' ] = $deprecated_options[ 'limit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'where' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'where' ] ) )&nbsp;</div></li><li><div>                $options[ 'where' ][ 'manage' ] = $deprecated_options[ 'where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'where' ] = array( 'manage' =&gt; $deprecated_options[ 'where' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'edit_where' ] ) ) {&nbsp;</div></li><li><div>            /**if ( isset( $options[ 'where' ] ) )&nbsp;</div></li><li><div>                $options[ 'where' ][ 'edit' ] = $deprecated_options[ 'edit_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'where' ] = array( 'edit' =&gt; $deprecated_options[ 'edit_where' ] );*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $options[ 'restrict' ] ) )&nbsp;</div></li><li><div>                $options[ 'restrict' ][ 'edit' ] = (array) $deprecated_options[ 'edit_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'restrict' ] = array( 'edit' =&gt; (array) $deprecated_options[ 'edit_where' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'duplicate_where' ] ) ) {&nbsp;</div></li><li><div>            /**if ( isset( $options[ 'where' ] ) )&nbsp;</div></li><li><div>                $options[ 'where' ][ 'duplicate' ] = $deprecated_options[ 'duplicate_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'where' ] = array( 'duplicate' =&gt; $deprecated_options[ 'duplicate_where' ] );*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $options[ 'restrict' ] ) )&nbsp;</div></li><li><div>                $options[ 'restrict' ][ 'duplicate' ] = (array) $deprecated_options[ 'duplicate_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'restrict' ] = array( 'duplicate' =&gt; (array) $deprecated_options[ 'duplicate_where' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'delete_where' ] ) ) {&nbsp;</div></li><li><div>            /**if ( isset( $options[ 'where' ] ) )&nbsp;</div></li><li><div>                $options[ 'where' ][ 'delete' ] = $deprecated_options[ 'delete_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'where' ] = array( 'delete' =&gt; $deprecated_options[ 'delete_where' ] );*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $options[ 'restrict' ] ) )&nbsp;</div></li><li><div>                $options[ 'restrict' ][ 'delete' ] = (array) $deprecated_options[ 'delete_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'restrict' ] = array( 'delete' =&gt; (array) $deprecated_options[ 'delete_where' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'reorder_where' ] ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'where' ] ) )&nbsp;</div></li><li><div>                $options[ 'where' ][ 'reorder' ] = $deprecated_options[ 'reorder_where' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $options[ 'where' ] = array( 'reorder' =&gt; $deprecated_options[ 'reorder_where' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'sql' ] ) )&nbsp;</div></li><li><div>            $options[ 'sql' ] = array( 'sql' =&gt; $deprecated_options[ 'sql' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'search' ] ) )&nbsp;</div></li><li><div>            $options[ 'searchable' ] = $deprecated_options[ 'search' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'search_across' ] ) )&nbsp;</div></li><li><div>            $options[ 'search_across' ] = $deprecated_options[ 'search_across' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'search_across_picks' ] ) )&nbsp;</div></li><li><div>            $options[ 'search_across_picks' ] = $deprecated_options[ 'search_across_picks' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'filters' ] ) )&nbsp;</div></li><li><div>            $options[ 'filters' ] = $deprecated_options[ 'filters' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'custom_filters' ] ) ) {&nbsp;</div></li><li><div>            if ( is_callable( $deprecated_options[ 'custom_filters' ] ) )&nbsp;</div></li><li><div>                add_filter( 'pods_ui_filters', $deprecated_options[ 'custom_filters' ] );&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                global $pods_ui_custom_filters;&nbsp;</div></li><li><div>                $pods_ui_custom_filters = $deprecated_options[ 'custom_filters' ];&nbsp;</div></li><li><div>                add_filter( 'pods_ui_filters', array( $this, 'deprecated_filters' ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'disable_actions' ] ) )&nbsp;</div></li><li><div>            $options[ 'actions_disabled' ] = $deprecated_options[ 'disable_actions' ];&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'hide_actions' ] ) )&nbsp;</div></li><li><div>            $options[ 'actions_hidden' ] = $deprecated_options[ 'hide_actions' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $deprecated_options[ 'wpcss' ] ) )&nbsp;</div></li><li><div>            $options[ 'wpcss' ] = $deprecated_options[ 'wpcss' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $remaining_options = array_diff_assoc( $options, $deprecated_options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $remaining_options as $option =&gt; $value ) {&nbsp;</div></li><li><div>            if ( isset( $deprecated_options[ $option ] ) && isset( $this-&gt;$option ) )&nbsp;</div></li><li><div>                $options[ $option ] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $options;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function deprecated_filters () {&nbsp;</div></li><li><div>        global $pods_ui_custom_filters;&nbsp;</div></li><li><div>        echo $pods_ui_custom_filters;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool|mixed|null|PodsArray&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function setup ( $options ) {&nbsp;</div></li><li><div>        $options = pods_array( $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'num', '', 'absint' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $options-&gt;num ) )&nbsp;</div></li><li><div>            $options-&gt;num = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'id', pods_var( 'id' . $options-&gt;num, 'get', $this-&gt;id ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'do', pods_var( 'do' . $options-&gt;num, 'get', $this-&gt;do ), 'in_array', array(&nbsp;</div></li><li><div>            'save', &nbsp;</div></li><li><div>            'create'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'excluded', self::$excluded, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'action', pods_var( 'action' . $options-&gt;num, 'get', $this-&gt;action, null, true ), 'in_array', $this-&gt;actions );&nbsp;</div></li><li><div>        $options-&gt;validate( 'actions_bulk', $this-&gt;actions_bulk, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'action_bulk', pods_var( 'action_bulk' . $options-&gt;num, 'get', $this-&gt;action_bulk, null, true ), 'isset', $this-&gt;actions_bulk );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $bulk = pods_var( 'action_bulk_ids' . $options-&gt;num, 'get', array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $bulk ) )&nbsp;</div></li><li><div>            $bulk = (array) pods_var( 'action_bulk_ids' . $options-&gt;num, 'get', array(), null, true );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $bulk = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'bulk', $bulk, 'array_merge', $this-&gt;bulk );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'views', $this-&gt;views, 'array' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'view', pods_var( 'view' . $options-&gt;num, 'get', $this-&gt;view, null, true ), 'isset', $this-&gt;views );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'searchable', $this-&gt;searchable, 'boolean' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'search', pods_var( 'search' . $options-&gt;num, 'get' ) );&nbsp;</div></li><li><div>        $options-&gt;validate( 'search_across', $this-&gt;search_across, 'boolean' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'search_across_picks', $this-&gt;search_across_picks, 'boolean' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'filters', $this-&gt;filters, 'array' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'filters_enhanced', $this-&gt;filters_enhanced, 'boolean' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'where', $this-&gt;where, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'pagination', $this-&gt;pagination, 'boolean' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'page', pods_var( 'pg' . $options-&gt;num, 'get', $this-&gt;page ), 'absint' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'limit', pods_var( 'limit' . $options-&gt;num, 'get', $this-&gt;limit ), 'int' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;pods_data ) && is_object( $this-&gt;pods_data ) ) {&nbsp;</div></li><li><div>            $this-&gt;sql = array(&nbsp;</div></li><li><div>                'table' =&gt; $this-&gt;pods_data-&gt;table, &nbsp;</div></li><li><div>                'field_id' =&gt; $this-&gt;pods_data-&gt;field_id, &nbsp;</div></li><li><div>                'field_index' =&gt; $this-&gt;pods_data-&gt;field_index&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $options-&gt;validate( 'sql', $this-&gt;sql, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'orderby_dir', strtoupper( pods_v( 'orderby_dir' . $options[ 'num' ], 'get', $this-&gt;orderby_dir, true ) ), 'in_array', array( 'ASC', 'DESC' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $orderby = $this-&gt;orderby;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Enforce strict DB column name usage&nbsp;</div></li><li><div>        if ( ! empty( $_GET[ 'orderby' . $options-&gt;num ] ) ) {&nbsp;</div></li><li><div>            $orderby = pods_clean_name( $_GET[ 'orderby' . $options-&gt;num ], true, false );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $orderby ) ) {&nbsp;</div></li><li><div>            $orderby = array(&nbsp;</div></li><li><div>                'default' =&gt; $orderby&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $orderby = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'orderby', $orderby, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'sortable', $this-&gt;sortable, 'boolean' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'params', $this-&gt;params, 'array' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'restrict', $this-&gt;restrict, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // handle author restrictions&nbsp;</div></li><li><div>        if ( !empty( $options[ 'restrict' ][ 'author_restrict' ] ) ) {&nbsp;</div></li><li><div>            $restrict = $options[ 'restrict' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !is_array( $restrict[ 'author_restrict' ] ) )&nbsp;</div></li><li><div>                $restrict[ 'author_restrict' ] = array( $restrict[ 'author_restrict' ] =&gt; get_current_user_id() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $restrict[ 'edit' ] )&nbsp;</div></li><li><div>                $restrict[ 'edit' ] = $restrict[ 'author_restrict' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $options-&gt;restrict = $restrict;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $options[ 'restrict' ][ 'edit' ] ) {&nbsp;</div></li><li><div>            $restrict = $options[ 'restrict' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $restrict[ 'duplicate' ] )&nbsp;</div></li><li><div>                $restrict[ 'duplicate' ] = $restrict[ 'edit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $restrict[ 'delete' ] )&nbsp;</div></li><li><div>                $restrict[ 'delete' ] = $restrict[ 'edit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $restrict[ 'manage' ] )&nbsp;</div></li><li><div>                $restrict[ 'manage' ] = $restrict[ 'edit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $restrict[ 'reorder' ] )&nbsp;</div></li><li><div>                $restrict[ 'reorder' ] = $restrict[ 'edit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $options-&gt;restrict = $restrict;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $item = __( 'Item', 'pods' );&nbsp;</div></li><li><div>        $items = __( 'Items', 'pods' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) ) {&nbsp;</div></li><li><div>            $item = pods_var_raw( 'label_singular', $this-&gt;pod-&gt;pod_data[ 'options' ], pods_var_raw( 'label', $this-&gt;pod-&gt;pod_data, $item, null, true ), null, true );&nbsp;</div></li><li><div>            $items = pods_var_raw( 'label', $this-&gt;pod-&gt;pod_data, $items, null, true );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'item', $item );&nbsp;</div></li><li><div>        $options-&gt;validate( 'items', $items );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'heading', array(&nbsp;</div></li><li><div>            'manage' =&gt; __( 'Manage', 'pods' ), &nbsp;</div></li><li><div>            'add' =&gt; __( 'Add New', 'pods' ), &nbsp;</div></li><li><div>            'edit' =&gt; __( 'Edit', 'pods' ), &nbsp;</div></li><li><div>            'duplicate' =&gt; __( 'Duplicate', 'pods' ), &nbsp;</div></li><li><div>            'view' =&gt; __( 'View', 'pods' ), &nbsp;</div></li><li><div>            'reorder' =&gt; __( 'Reorder', 'pods' ), &nbsp;</div></li><li><div>            'search' =&gt; __( 'Search', 'pods' ), &nbsp;</div></li><li><div>            'views' =&gt; __( 'View', 'pods' )&nbsp;</div></li><li><div> ), 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'header', array(&nbsp;</div></li><li><div>            'manage' =&gt; sprintf( __( 'Manage %s', 'pods' ), $options-&gt;items ), &nbsp;</div></li><li><div>            'add' =&gt; sprintf( __( 'Add New %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'edit' =&gt; sprintf( __( 'Edit %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'duplicate' =&gt; sprintf( __( 'Duplicate %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'view' =&gt; sprintf( __( 'View %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'reorder' =&gt; sprintf( __( 'Reorder %s', 'pods' ), $options-&gt;items ), &nbsp;</div></li><li><div>            'search' =&gt; sprintf( __( 'Search %s', 'pods' ), $options-&gt;items )&nbsp;</div></li><li><div> ), 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'label', array(&nbsp;</div></li><li><div>            'add' =&gt; sprintf( __( 'Save New %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'add_new' =&gt; __( 'Add New', 'pods' ), &nbsp;</div></li><li><div>            'edit' =&gt; sprintf( __( 'Save %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'duplicate' =&gt; sprintf( __( 'Save New %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'delete' =&gt; sprintf( __( 'Delete this %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'view' =&gt; sprintf( __( 'View %s', 'pods' ), $options-&gt;item ), &nbsp;</div></li><li><div>            'reorder' =&gt; sprintf( __( 'Reorder %s', 'pods' ), $options-&gt;items )&nbsp;</div></li><li><div> ), 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'fields', array(&nbsp;</div></li><li><div>            'manage' =&gt; array(&nbsp;</div></li><li><div>                $options-&gt;sql[ 'field_index' ] =&gt; array( 'label' =&gt; __( 'Name', 'pods' ) )&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), 'array' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'export', $this-&gt;export, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'reorder', $this-&gt;reorder, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'screen_options', $this-&gt;screen_options, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'session', $this-&gt;session, 'in_array', array(&nbsp;</div></li><li><div>            'search', &nbsp;</div></li><li><div>            'filters', &nbsp;</div></li><li><div>            'show_per_page', &nbsp;</div></li><li><div>            'orderby'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>        $options-&gt;validate( 'user', $this-&gt;user, 'in_array', array(&nbsp;</div></li><li><div>            'search', &nbsp;</div></li><li><div>            'filters', &nbsp;</div></li><li><div>            'show_per_page', &nbsp;</div></li><li><div>            'orderby'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'action_after', $this-&gt;action_after, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'action_links', $this-&gt;action_links, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'actions_disabled', $this-&gt;actions_disabled, 'array' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'actions_hidden', $this-&gt;actions_hidden, 'array_merge' );&nbsp;</div></li><li><div>        $options-&gt;validate( 'actions_custom', $this-&gt;actions_custom, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $options-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>            if ( !empty( $options-&gt;actions_bulk ) ) {&nbsp;</div></li><li><div>                $actions_bulk = $options-&gt;actions_bulk;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $actions_bulk as $action =&gt; $action_opt ) {&nbsp;</div></li><li><div>                    if ( in_array( $action, $options-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                        unset( $actions_bulk[ $action ] );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $options-&gt;actions_bulk = $actions_bulk;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $options-&gt;actions_custom ) ) {&nbsp;</div></li><li><div>                $actions_custom = $options-&gt;actions_custom;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $actions_custom as $action =&gt; $action_opt ) {&nbsp;</div></li><li><div>                    if ( in_array( $action, $options-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                        unset( $actions_custom[ $action ] );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $options-&gt;actions_custom = $actions_custom;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'extra', $this-&gt;extra, 'array_merge' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options-&gt;validate( 'style', $this-&gt;style );&nbsp;</div></li><li><div>        $options-&gt;validate( 'icon', $this-&gt;icon );&nbsp;</div></li><li><div>        $options-&gt;validate( 'css', $this-&gt;css );&nbsp;</div></li><li><div>        $options-&gt;validate( 'wpcss', $this-&gt;wpcss, 'boolean' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( true === $options[ 'wpcss' ] ) {&nbsp;</div></li><li><div>            global $user_ID;&nbsp;</div></li><li><div>            get_currentuserinfo();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $color = get_user_meta( $user_ID, 'admin_color', true );&nbsp;</div></li><li><div>            if ( strlen( $color ) &lt; 1 )&nbsp;</div></li><li><div>                $color = 'fresh';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;wpcss = &quot;colors-{$color}&quot;;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options = $options-&gt;dump();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>            $options = $this-&gt;do_hook( $this-&gt;pod-&gt;pod . '_setup_options', $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options = $this-&gt;do_hook( 'setup_options', $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $options && !empty( $options ) ) {&nbsp;</div></li><li><div>            foreach ( $options as $option =&gt; $value ) {&nbsp;</div></li><li><div>                if ( isset( $this-&gt;{$option} ) )&nbsp;</div></li><li><div>                    $this-&gt;{$option} = $value;&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $this-&gt;x[ $option ] = $value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $unique_identifier = pods_var( 'page', 'get' ); // wp-admin page&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) && isset( $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>            $unique_identifier = '_' . $this-&gt;pod-&gt;pod;&nbsp;</div></li><li><div>        elseif ( 0 &lt; strlen( $this-&gt;sql[ 'table' ] ) )&nbsp;</div></li><li><div>            $unique_identifier = '_' . $this-&gt;sql[ 'table' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $unique_identifier .= '_' . $this-&gt;page;&nbsp;</div></li><li><div>        if ( 0 &lt; strlen( $this-&gt;num ) )&nbsp;</div></li><li><div>            $unique_identifier .= '_' . $this-&gt;num;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;unique_identifier = 'pods_ui_' . md5( $unique_identifier );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;setup_fields();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $options;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param null $fields&nbsp;</div></li><li><div>     * @param string $which&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool|mixed|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function setup_fields ( $fields = null, $which = 'fields' ) {&nbsp;</div></li><li><div>        $init = false;&nbsp;</div></li><li><div>        if ( null === $fields ) {&nbsp;</div></li><li><div>            if ( isset( $this-&gt;fields[ $which ] ) )&nbsp;</div></li><li><div>                $fields = (array) $this-&gt;fields[ $which ];&nbsp;</div></li><li><div>            elseif ( isset( $this-&gt;fields[ 'manage' ] ) )&nbsp;</div></li><li><div>                $fields = (array) $this-&gt;fields[ 'manage' ];&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $fields = array();&nbsp;</div></li><li><div>            if ( 'fields' == $which )&nbsp;</div></li><li><div>                $init = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( !empty( $fields ) ) {&nbsp;</div></li><li><div>            // Available Attributes&nbsp;</div></li><li><div>            // type = field type&nbsp;</div></li><li><div>            // type = date (data validation as date)&nbsp;</div></li><li><div>            // type = time (data validation as time)&nbsp;</div></li><li><div>            // type = datetime (data validation as datetime)&nbsp;</div></li><li><div>            // date_touch = use current timestamp when saving (even if readonly, if type is date-related)&nbsp;</div></li><li><div>            // date_touch_on_create = use current timestamp when saving ONLY on create (even if readonly, if type is date-related)&nbsp;</div></li><li><div>            // date_ongoing = use this additional field to search between as if the first is the &quot;start&quot; and the date_ongoing is the &quot;end&quot; for filter&nbsp;</div></li><li><div>            // type = text / other (single line text box)&nbsp;</div></li><li><div>            // type = desc (textarea)&nbsp;</div></li><li><div>            // type = number (data validation as int float)&nbsp;</div></li><li><div>            // type = decimal (data validation as decimal)&nbsp;</div></li><li><div>            // type = password (single line password box)&nbsp;</div></li><li><div>            // type = bool (checkbox)&nbsp;</div></li><li><div>            // type = related (select box)&nbsp;</div></li><li><div>            // related = table to relate to (if type=related) OR custom array of (key =&gt; label or comma separated values) items&nbsp;</div></li><li><div>            // related_field = field name on table to show (if type=related) - default &quot;name&quot;&nbsp;</div></li><li><div>            // related_multiple = true (ability to select multiple values if type=related)&nbsp;</div></li><li><div>            // related_sql = custom where / order by SQL (if type=related)&nbsp;</div></li><li><div>            // readonly = true (shows as text)&nbsp;</div></li><li><div>            // display = false (doesn't show on form, but can be saved)&nbsp;</div></li><li><div>            // search = this field is searchable&nbsp;</div></li><li><div>            // filter = this field will be independently searchable (by default, searchable fields are searched by the primary search box)&nbsp;</div></li><li><div>            // comments = comments to show for field&nbsp;</div></li><li><div>            // comments_top = true (shows comments above field instead of below)&nbsp;</div></li><li><div>            // real_name = the real name of the field (if using an alias for 'name')&nbsp;</div></li><li><div>            // group_related = true (uses HAVING instead of WHERE for filtering field)&nbsp;</div></li><li><div>            $new_fields = array();&nbsp;</div></li><li><div>            $filterable = false;&nbsp;</div></li><li><div>            if ( empty( $this-&gt;filters ) && ( empty( $this-&gt;fields[ 'search' ] ) || 'search' == $which ) && false !== $this-&gt;searchable ) {&nbsp;</div></li><li><div>                $filterable = true;&nbsp;</div></li><li><div>                $this-&gt;filters = array();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $fields as $field =&gt; $attributes ) {&nbsp;</div></li><li><div>                if ( !is_array( $attributes ) ) {&nbsp;</div></li><li><div>                    if ( is_int( $field ) ) {&nbsp;</div></li><li><div>                        $field = $attributes;&nbsp;</div></li><li><div>                        $attributes = array();&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                        $attributes = array( 'label' =&gt; $attributes );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'real_name' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'real_name' ] = pods_var( 'name', $attributes, $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( is_object( $this-&gt;pod ) && isset( $this-&gt;pod-&gt;fields ) && isset( $this-&gt;pod-&gt;fields[ $attributes[ 'real_name' ] ] ) )&nbsp;</div></li><li><div>                    $attributes = array_merge( $this-&gt;pod-&gt;fields[ $attributes[ 'real_name' ] ], $attributes );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'options' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'options' ] = array();&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'id' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'id' ] = '';&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'label' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'label' ] = ucwords( str_replace( '_', ' ', $field ) );&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'type' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'type' ] = 'text';&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'options' ][ 'date_format_type' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'options' ][ 'date_format_type' ] = 'date';&nbsp;</div></li><li><div>                if ( 'related' != $attributes[ 'type' ] || !isset( $attributes[ 'related' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'related' ] = false;&nbsp;</div></li><li><div>                if ( 'related' != $attributes[ 'type' ] || !isset( $attributes[ 'related_id' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'related_id' ] = 'id';&nbsp;</div></li><li><div>                if ( 'related' != $attributes[ 'type' ] || !isset( $attributes[ 'related_field' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'related_field' ] = 'name';&nbsp;</div></li><li><div>                if ( 'related' != $attributes[ 'type' ] || !isset( $attributes[ 'related_multiple' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'related_multiple' ] = false;&nbsp;</div></li><li><div>                if ( 'related' != $attributes[ 'type' ] || !isset( $attributes[ 'related_sql' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'related_sql' ] = false;&nbsp;</div></li><li><div>                if ( 'related' == $attributes[ 'type' ] && ( is_array( $attributes[ 'related' ] ) || strpos( $attributes[ 'related' ], ', ' ) ) ) {&nbsp;</div></li><li><div>                    if ( !is_array( $attributes[ 'related' ] ) ) {&nbsp;</div></li><li><div>                        $attributes[ 'related' ] = @explode( ', ', $attributes[ 'related' ] );&nbsp;</div></li><li><div>                        $related_items = array();&nbsp;</div></li><li><div>                        foreach ( $attributes[ 'related' ] as $key =&gt; $label ) {&nbsp;</div></li><li><div>                            if ( is_numeric( $key ) ) {&nbsp;</div></li><li><div>                                $key = $label;&nbsp;</div></li><li><div>                                $label = ucwords( str_replace( '_', ' ', $label ) );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            $related_items[ $key ] = $label;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        $attributes[ 'related' ] = $related_items;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    if ( empty( $attributes[ 'related' ] ) )&nbsp;</div></li><li><div>                        $attributes[ 'related' ] = false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'readonly' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'readonly' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'date_touch' ] ) || 'date' != $attributes[ 'type' ] )&nbsp;</div></li><li><div>                    $attributes[ 'date_touch' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'date_touch_on_create' ] ) || 'date' != $attributes[ 'type' ] )&nbsp;</div></li><li><div>                    $attributes[ 'date_touch_on_create' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'display' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'display' ] = true;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'hidden' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'hidden' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'sortable' ] ) || false === $this-&gt;sortable )&nbsp;</div></li><li><div>                    $attributes[ 'sortable' ] = $this-&gt;sortable;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'options' ][ 'search' ] ) || false === $this-&gt;searchable )&nbsp;</div></li><li><div>                    $attributes[ 'options' ][ 'search' ] = $this-&gt;searchable;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'options' ][ 'filter' ] ) || false === $this-&gt;searchable )&nbsp;</div></li><li><div>                    $attributes[ 'options' ][ 'filter' ] = $this-&gt;searchable;&nbsp;</div></li><li><div>                /**if ( false !== $attributes[ 'options' ][ 'filter' ] && false !== $filterable )&nbsp;</div></li><li><div>                    $this-&gt;filters[] = $field;*/&nbsp;</div></li><li><div>                if ( false === $attributes[ 'options' ][ 'filter' ] || !isset( $attributes[ 'filter_label' ] ) || !in_array( $field, $this-&gt;filters ) )&nbsp;</div></li><li><div>                    $attributes[ 'filter_label' ] = $attributes[ 'label' ];&nbsp;</div></li><li><div>                if ( false === $attributes[ 'options' ][ 'filter' ] || !isset( $attributes[ 'filter_default' ] ) || !in_array( $field, $this-&gt;filters ) )&nbsp;</div></li><li><div>                    $attributes[ 'filter_default' ] = false;&nbsp;</div></li><li><div>                if ( false === $attributes[ 'options' ][ 'filter' ] || !isset( $attributes[ 'date_ongoing' ] ) || 'date' != $attributes[ 'type' ] || !in_array( $field, $this-&gt;filters ) )&nbsp;</div></li><li><div>                    $attributes[ 'date_ongoing' ] = false;&nbsp;</div></li><li><div>                if ( false === $attributes[ 'options' ][ 'filter' ] || !isset( $attributes[ 'date_ongoing' ] ) || 'date' != $attributes[ 'type' ] || !isset( $attributes[ 'date_ongoing_default' ] ) || !in_array( $field, $this-&gt;filters ) )&nbsp;</div></li><li><div>                    $attributes[ 'date_ongoing_default' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'export' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'export' ] = true;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'group_related' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'group_related' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'comments' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'comments' ] = '';&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'comments_top' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'comments_top' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'custom_view' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'custom_view' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'custom_input' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'custom_input' ] = false;&nbsp;</div></li><li><div>                if ( isset( $attributes[ 'display_helper' ] ) ) // pods ui backward compatibility&nbsp;</div></li><li><div>                    $attributes[ 'custom_display' ] = $attributes[ 'display_helper' ];&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'custom_display' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'custom_display' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'custom_relate' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'custom_relate' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'custom_form_display' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'custom_form_display' ] = false;&nbsp;</div></li><li><div>                if ( !isset( $attributes[ 'css_values' ] ) )&nbsp;</div></li><li><div>                    $attributes[ 'css_values' ] = true;&nbsp;</div></li><li><div>                if ( 'search_columns' == $which && !$attributes[ 'options' ][ 'search' ] )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $attributes = PodsForm::field_setup( $attributes, null, $attributes[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $new_fields[ $field ] = $attributes;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $fields = $new_fields;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( false !== $init ) {&nbsp;</div></li><li><div>            if ( 'fields' != $which && !empty( $this-&gt;fields ) )&nbsp;</div></li><li><div>                $this-&gt;fields = $this-&gt;setup_fields( $this-&gt;fields, 'fields' );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;fields[ 'manage' ] = $fields;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'add', $this-&gt;actions_disabled ) || !in_array( 'edit', $this-&gt;actions_disabled ) || !in_array( 'duplicate', $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                if ( 'form' != $which && isset( $this-&gt;fields[ 'form' ] ) && is_array( $this-&gt;fields[ 'form' ] ) )&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'form' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'form' ], 'form' );&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'form' ] = $fields;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !in_array( 'add', $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                    if ( 'add' != $which && isset( $this-&gt;fields[ 'add' ] ) && is_array( $this-&gt;fields[ 'add' ] ) )&nbsp;</div></li><li><div>                        $this-&gt;fields[ 'add' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'add' ], 'add' );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ( !in_array( 'edit', $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                    if ( 'edit' != $which && isset( $this-&gt;fields[ 'edit' ] ) && is_array( $this-&gt;fields[ 'edit' ] ) )&nbsp;</div></li><li><div>                        $this-&gt;fields[ 'edit' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'edit' ], 'edit' );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ( !in_array( 'duplicate', $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                    if ( 'duplicate' != $which && isset( $this-&gt;fields[ 'duplicate' ] ) && is_array( $this-&gt;fields[ 'duplicate' ] ) )&nbsp;</div></li><li><div>                        $this-&gt;fields[ 'duplicate' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'duplicate' ], 'duplicate' );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== $this-&gt;searchable ) {&nbsp;</div></li><li><div>                if ( 'search' != $which && isset( $this-&gt;fields[ 'search' ] ) &&!empty( $this-&gt;fields[ 'search' ] ) )&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'search' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'search' ], 'search' );&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'search' ] = $fields;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;fields[ 'search' ] = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'export', $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                if ( 'export' != $which && isset( $this-&gt;fields[ 'export' ] ) &&!empty( $this-&gt;fields[ 'export' ] ) )&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'export' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'export' ], 'export' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'reorder', $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>                if ( 'reorder' != $which && isset( $this-&gt;fields[ 'reorder' ] ) &&!empty( $this-&gt;fields[ 'reorder' ] ) )&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'reorder' ] = $this-&gt;setup_fields( $this-&gt;fields[ 'reorder' ], 'reorder' );&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $this-&gt;fields[ 'reorder' ] = $fields;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $this-&gt;do_hook( 'setup_fields', $fields, $which, $init );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $msg&nbsp;</div></li><li><div>     * @param bool $error&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function message ( $msg, $error = false ) {&nbsp;</div></li><li><div>        $msg = $this-&gt;do_hook( ( $error ) ? 'error' : 'message', $msg );&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>    &lt;div id=&quot;message&quot; class=&quot;&lt;?php echo esc_attr( ( $error ) ? 'error' : 'updated' ); ?&gt; fade&quot;&gt;&lt;p&gt;&lt;?php echo $msg; ?&gt;&lt;/p&gt;&lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $msg&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function error ( $msg ) {&nbsp;</div></li><li><div>        $this-&gt;message( $msg, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function go () {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'go' );&nbsp;</div></li><li><div>        $_GET = pods_unsanitize( $_GET ); // fix wp sanitization&nbsp;</div></li><li><div>        $_POST = pods_unsanitize( $_POST ); // fix wp sanitization&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;css ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;?php echo esc_url( $this-&gt;css ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( false !== $this-&gt;wpcss ) {&nbsp;</div></li><li><div>            $stylesheets = array( 'global', 'wp-admin', $this-&gt;wpcss );&nbsp;</div></li><li><div>            foreach ( $stylesheets as $style ) {&nbsp;</div></li><li><div>                if ( !wp_style_is( $style, 'queue' ) && !wp_style_is( $style, 'to_do' ) && !wp_style_is( $style, 'done' ) )&nbsp;</div></li><li><div>                    wp_enqueue_style( $style );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;ui_page = array( $this-&gt;action );&nbsp;</div></li><li><div>        if ( 'add' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>            $this-&gt;ui_page[] = 'form';&nbsp;</div></li><li><div>            if ( 'create' == $this-&gt;do && $this-&gt;save && !in_array( $this-&gt;do, $this-&gt;actions_disabled ) && !empty( $_POST ) ) {&nbsp;</div></li><li><div>                $this-&gt;ui_page[] = $this-&gt;do;&nbsp;</div></li><li><div>                $this-&gt;save( true );&nbsp;</div></li><li><div>                $this-&gt;manage();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;add();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( ( 'edit' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) ) || ( 'duplicate' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) ) ) {&nbsp;</div></li><li><div>            $this-&gt;ui_page[] = 'form';&nbsp;</div></li><li><div>            if ( 'save' == $this-&gt;do && $this-&gt;save && !empty( $_POST ) )&nbsp;</div></li><li><div>                $this-&gt;save();&nbsp;</div></li><li><div>            $this-&gt;edit( ( 'duplicate' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) ) ? true : false );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'delete' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) && false !== wp_verify_nonce( $this-&gt;_nonce, 'pods-ui-action-delete' ) ) {&nbsp;</div></li><li><div>            $this-&gt;delete( $this-&gt;id );&nbsp;</div></li><li><div>            $this-&gt;manage();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'reorder' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>            if ( 'save' == $this-&gt;do ) {&nbsp;</div></li><li><div>                $this-&gt;ui_page[] = $this-&gt;do;&nbsp;</div></li><li><div>                $this-&gt;reorder();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $this-&gt;manage( true );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'save' == $this-&gt;do && $this-&gt;save && !in_array( $this-&gt;do, $this-&gt;actions_disabled ) && !empty( $_POST ) ) {&nbsp;</div></li><li><div>            $this-&gt;ui_page[] = $this-&gt;do;&nbsp;</div></li><li><div>            $this-&gt;save();&nbsp;</div></li><li><div>            $this-&gt;manage();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'create' == $this-&gt;do && $this-&gt;save && !in_array( $this-&gt;do, $this-&gt;actions_disabled ) && !empty( $_POST ) ) {&nbsp;</div></li><li><div>            $this-&gt;ui_page[] = $this-&gt;do;&nbsp;</div></li><li><div>            $this-&gt;save( true );&nbsp;</div></li><li><div>            $this-&gt;manage();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'view' == $this-&gt;action && !in_array( $this-&gt;action, $this-&gt;actions_disabled ) )&nbsp;</div></li><li><div>            $this-&gt;view();&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            if ( isset( $this-&gt;actions_custom[ $this-&gt;action ] ) ) {&nbsp;</div></li><li><div>                $more_args = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( is_array( $this-&gt;actions_custom[ $this-&gt;action ] ) && isset( $this-&gt;actions_custom[ $this-&gt;action ][ 'more_args' ] ) ) {&nbsp;</div></li><li><div>                    $more_args = $this-&gt;actions_custom[ $this-&gt;action ][ 'more_args' ];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $row = $this-&gt;row;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( empty( $row ) ) {&nbsp;</div></li><li><div>                    $row = $this-&gt;get_row();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $this-&gt;restricted( $this-&gt;action, $row ) || ( $more_args && ! empty( $more_args[ 'nonce' ] ) && false === wp_verify_nonce( $this-&gt;_nonce, 'pods-ui-action-' . $this-&gt;action ) ) ) {&nbsp;</div></li><li><div>                    return $this-&gt;error( sprintf( __( '&lt;strong&gt;Error:&lt;/strong&gt; You do not have access to this %s.', 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( $more_args && false !== $this-&gt;callback_action( true, $this-&gt;action, $this-&gt;id, $row ) ) {&nbsp;</div></li><li><div>                    return null;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( false !== $this-&gt;callback_action( true, $this-&gt;action, $this-&gt;id ) ) {&nbsp;</div></li><li><div>                    return null;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'manage', $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                // handle session / user persistent settings for show_per_page, orderby, search, and filters&nbsp;</div></li><li><div>                $methods = array( 'session', 'user' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // @todo fix this to set ($this) AND save (setting)&nbsp;</div></li><li><div>                foreach ( $methods as $method ) {&nbsp;</div></li><li><div>                    foreach ( $this-&gt;$method as $setting ) {&nbsp;</div></li><li><div>                        if ( 'show_per_page' == $setting )&nbsp;</div></li><li><div>                            $value = $this-&gt;limit;&nbsp;</div></li><li><div>                        elseif ( 'orderby' == $setting ) {&nbsp;</div></li><li><div>                            if ( empty( $this-&gt;orderby ) )&nbsp;</div></li><li><div>                                $value = '';&nbsp;</div></li><li><div>                            // save this if we have a default index set&nbsp;</div></li><li><div>                            elseif ( isset( $this-&gt;orderby[ 'default' ] ) ) {&nbsp;</div></li><li><div>                                $value = $this-&gt;orderby[ 'default' ] . ' '&nbsp;</div></li><li><div>                                         . ( false === strpos( $this-&gt;orderby[ 'default' ], ' ' ) ? $this-&gt;orderby_dir : '' );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $value = '';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                            $value = $this-&gt;$setting;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        pods_v_set( $value, $setting, $method );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $this-&gt;manage();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add () {&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback_action( 'add' ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>    &lt;div class=&quot;wrap pods-ui&quot;&gt;&nbsp;</div></li><li><div>        &lt;div id=&quot;icon-edit-pages&quot; class=&quot;icon32&quot;&lt;?php if ( false !== $this-&gt;icon ) { ?&gt; style=&quot;background-position:0 0;background-size:100%;background-image:url(&lt;?php echo esc_url( $this-&gt;icon ); ?&gt;);&quot;&lt;?php } ?&gt;&gt;&lt;br /&gt;&lt;/div&gt;&nbsp;</div></li><li><div>        &lt;h2&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            echo $this-&gt;header[ 'add' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'manage', 'id' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $this-&gt;action_links[ 'manage' ] ) ) {&nbsp;</div></li><li><div>                $link = $this-&gt;action_links[ 'manage' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&laquo; &lt;?php echo sprintf( __( 'Back to %s', 'pods' ), $this-&gt;heading[ 'manage' ] ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>        &lt;/h2&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php $this-&gt;form( true ); ?&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $duplicate&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function edit ( $duplicate = false ) {&nbsp;</div></li><li><div>        if ( in_array( 'duplicate', $this-&gt;actions_disabled ) )&nbsp;</div></li><li><div>            $duplicate = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;row ) )&nbsp;</div></li><li><div>            $this-&gt;get_row();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $duplicate && false !== $this-&gt;callback_action( 'duplicate' ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( false !== $this-&gt;callback_action( 'edit', $duplicate ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>    &lt;div class=&quot;wrap pods-ui&quot;&gt;&nbsp;</div></li><li><div>        &lt;div id=&quot;icon-edit-pages&quot; class=&quot;icon32&quot;&lt;?php if ( false !== $this-&gt;icon ) { ?&gt; style=&quot;background-position:0 0;background-size:100%;background-image:url(&lt;?php echo esc_url( $this-&gt;icon ); ?&gt;);&quot;&lt;?php } ?&gt;&gt;&lt;br /&gt;&lt;/div&gt;&nbsp;</div></li><li><div>        &lt;h2&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            echo $this-&gt;do_template( $duplicate ? $this-&gt;header[ 'duplicate' ] : $this-&gt;header[ 'edit' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'add', $this-&gt;actions_disabled ) && !in_array( 'add', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'add', 'id' . $this-&gt;num =&gt; '', 'do' . $this-&gt;num = '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;action_links[ 'add' ] ) )&nbsp;</div></li><li><div>                    $link = $this-&gt;action_links[ 'add' ];&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&lt;?php echo $this-&gt;heading[ 'add' ]; ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !in_array( 'manage', $this-&gt;actions_disabled ) && !in_array( 'manage', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'manage', 'id' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;action_links[ 'manage' ] ) )&nbsp;</div></li><li><div>                    $link = $this-&gt;action_links[ 'manage' ];&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&laquo; &lt;?php echo sprintf( __( 'Back to %s', 'pods' ), $this-&gt;heading[ 'manage' ] ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;/h2&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php $this-&gt;form( false, $duplicate ); ?&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $create&nbsp;</div></li><li><div>     * @param bool $duplicate&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function form ( $create = false, $duplicate = false ) {&nbsp;</div></li><li><div>        if ( in_array( 'duplicate', $this-&gt;actions_disabled ) )&nbsp;</div></li><li><div>            $duplicate = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback( 'form' ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $label = $this-&gt;label[ 'add' ];&nbsp;</div></li><li><div>        $id = null;&nbsp;</div></li><li><div>        $vars = array(&nbsp;</div></li><li><div>            'action' . $this-&gt;num =&gt; $this-&gt;action_after[ 'add' ], &nbsp;</div></li><li><div>            'do' . $this-&gt;num =&gt; 'create', &nbsp;</div></li><li><div>            'id' . $this-&gt;num =&gt; 'X_ID_X'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $alt_vars = $vars;&nbsp;</div></li><li><div>        $alt_vars[ 'action' ] = 'manage';&nbsp;</div></li><li><div>        unset( $alt_vars[ 'id' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === $create ) {&nbsp;</div></li><li><div>            if ( empty( $this-&gt;row ) )&nbsp;</div></li><li><div>                $this-&gt;get_row();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $this-&gt;row ) && ( !is_object( $this-&gt;pod ) || 'settings' != $this-&gt;pod-&gt;pod_data[ 'type' ] ) )&nbsp;</div></li><li><div>                return $this-&gt;error( sprintf( __( '&lt;strong&gt;Error:&lt;/strong&gt; %s not found.', 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $this-&gt;restricted( $this-&gt;action, $this-&gt;row ) )&nbsp;</div></li><li><div>                return $this-&gt;error( sprintf( __( '&lt;strong&gt;Error:&lt;/strong&gt; You do not have access to this %s.', 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $label = $this-&gt;do_template( $this-&gt;label[ 'edit' ] );&nbsp;</div></li><li><div>            $id = $this-&gt;row[ $this-&gt;sql[ 'field_id' ] ];&nbsp;</div></li><li><div>            $vars = array(&nbsp;</div></li><li><div>                'action' . $this-&gt;num =&gt; $this-&gt;action_after[ 'edit' ], &nbsp;</div></li><li><div>                'do' . $this-&gt;num =&gt; 'save', &nbsp;</div></li><li><div>                'id' . $this-&gt;num =&gt; $id&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $alt_vars = $vars;&nbsp;</div></li><li><div>            $alt_vars[ 'action' ] = 'manage';&nbsp;</div></li><li><div>            unset( $alt_vars[ 'id' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $duplicate ) {&nbsp;</div></li><li><div>                $label = $this-&gt;do_template( $this-&gt;label[ 'duplicate' ] );&nbsp;</div></li><li><div>                $id = null;&nbsp;</div></li><li><div>                $vars = array(&nbsp;</div></li><li><div>                    'action' . $this-&gt;num =&gt; $this-&gt;action_after[ 'duplicate' ], &nbsp;</div></li><li><div>                    'do' . $this-&gt;num =&gt; 'create', &nbsp;</div></li><li><div>                    'id' . $this-&gt;num =&gt; 'X_ID_X'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $alt_vars = $vars;&nbsp;</div></li><li><div>                $alt_vars[ 'action' ] = 'manage';&nbsp;</div></li><li><div>                unset( $alt_vars[ 'id' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;fields[ $this-&gt;action ] ) )&nbsp;</div></li><li><div>            $fields = $this-&gt;fields[ $this-&gt;action ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) ) {&nbsp;</div></li><li><div>            $object_fields = (array) pods_var_raw( 'object_fields', $this-&gt;pod-&gt;pod_data, array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $object_fields ) && in_array( $this-&gt;pod-&gt;pod_data[ 'type' ], array( 'post_type', 'taxonomy', 'media', 'user', 'comment' ) ) )&nbsp;</div></li><li><div>                $object_fields = $this-&gt;pod-&gt;api-&gt;get_wp_object_fields( $this-&gt;pod-&gt;pod_data[ 'type' ], $this-&gt;pod-&gt;pod_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $fields ) ) {&nbsp;</div></li><li><div>                // Add core object fields if $fields is empty&nbsp;</div></li><li><div>                $fields = array_merge( $object_fields, $this-&gt;pod-&gt;fields );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $form_fields = $fields; // Temporary&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $form_fields as $k =&gt; $field ) {&nbsp;</div></li><li><div>            $name = $k;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $defaults = array(&nbsp;</div></li><li><div>                'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !is_array( $field ) ) {&nbsp;</div></li><li><div>                $name = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field = array(&nbsp;</div></li><li><div>                    'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field = array_merge( $defaults, $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field[ 'name' ] = trim( $field[ 'name' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $default_value = pods_var_raw( 'default', $field );&nbsp;</div></li><li><div>            $value = pods_var_raw( 'value', $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $field[ 'name' ] ) )&nbsp;</div></li><li><div>                $field[ 'name' ] = trim( $name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $object_fields[ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>                $field = array_merge( $field, $object_fields[ $field[ 'name' ] ] );&nbsp;</div></li><li><div>            elseif ( isset( $this-&gt;pod-&gt;fields[ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>                $field = array_merge( $this-&gt;pod-&gt;fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( pods_var_raw( 'hidden', $field, false, null, true ) )&nbsp;</div></li><li><div>                $field[ 'type' ] = 'hidden';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $fields[ $field[ 'name' ] ] = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $this-&gt;id ) && null !== $default_value ) {&nbsp;</div></li><li><div>                $this-&gt;pod-&gt;row_override[ $field[ 'name' ] ] = $default_value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !empty( $this-&gt;id ) && null !== $value ) {&nbsp;</div></li><li><div>                $this-&gt;pod-&gt;row[ $field[ 'name' ] ] = $value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        unset( $form_fields ); // Cleanup&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = $this-&gt;do_hook( 'form_fields', $fields, $this-&gt;pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod =& $this-&gt;pod;&nbsp;</div></li><li><div>        $thank_you = pods_query_arg( $vars, self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>        $thank_you_alt = pods_query_arg( $alt_vars, self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>        $obj =& $this;&nbsp;</div></li><li><div>        $singular_label = $this-&gt;item;&nbsp;</div></li><li><div>        $plural_label = $this-&gt;items;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) && 'settings' == $this-&gt;pod-&gt;pod_data[ 'type' ] && 'settings' == $this-&gt;style )&nbsp;</div></li><li><div>            pods_view( PODS_DIR . 'ui/admin/form-settings.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            pods_view( PODS_DIR . 'ui/admin/form.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     * @since 2.3.10&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function view () {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback_action( 'view' ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;row ) ) {&nbsp;</div></li><li><div>            $this-&gt;get_row();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;row ) ) {&nbsp;</div></li><li><div>            return $this-&gt;error( sprintf( __( '&lt;strong&gt;Error:&lt;/strong&gt; %s not found.', 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod =& $this-&gt;pod;&nbsp;</div></li><li><div>        $obj =& $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;fields[ $this-&gt;action ] ) ) {&nbsp;</div></li><li><div>            $fields = $this-&gt;fields[ $this-&gt;action ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) ) {&nbsp;</div></li><li><div>            $object_fields = (array) pods_var_raw( 'object_fields', $this-&gt;pod-&gt;pod_data, array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $object_field_objects = array(&nbsp;</div></li><li><div>                'post_type', &nbsp;</div></li><li><div>                'taxonomy', &nbsp;</div></li><li><div>                'media', &nbsp;</div></li><li><div>                'user', &nbsp;</div></li><li><div>                'comment'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $object_fields ) && in_array( $this-&gt;pod-&gt;pod_data[ 'type' ], $object_field_objects ) ) {&nbsp;</div></li><li><div>                $object_fields = $this-&gt;pod-&gt;api-&gt;get_wp_object_fields( $this-&gt;pod-&gt;pod_data[ 'type' ], $this-&gt;pod-&gt;pod_data );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $fields ) ) {&nbsp;</div></li><li><div>                // Add core object fields if $fields is empty&nbsp;</div></li><li><div>                $fields = array_merge( $object_fields, $this-&gt;pod-&gt;fields );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $view_fields = $fields; // Temporary&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $fields = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $view_fields as $k =&gt; $field ) {&nbsp;</div></li><li><div>            $name = $k;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $defaults = array(&nbsp;</div></li><li><div>                'name' =&gt; $name, &nbsp;</div></li><li><div>                'type' =&gt; 'text', &nbsp;</div></li><li><div>                'options' =&gt; 'text'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !is_array( $field ) ) {&nbsp;</div></li><li><div>                $name = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $field = array(&nbsp;</div></li><li><div>                    'name' =&gt; $name&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field = array_merge( $defaults, $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field[ 'name' ] = trim( $field[ 'name' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = pods_var_raw( 'default', $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $field[ 'name' ] ) ) {&nbsp;</div></li><li><div>                $field[ 'name' ] = trim( $name );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $object_fields[ $field[ 'name' ] ] ) ) {&nbsp;</div></li><li><div>                $field = array_merge( $field, $object_fields[ $field[ 'name' ] ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( $this-&gt;pod-&gt;fields[ $field[ 'name' ] ] ) ) {&nbsp;</div></li><li><div>                $field = array_merge( $this-&gt;pod-&gt;fields[ $field[ 'name' ] ], $field );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( pods_v( 'hidden', $field, false, null, true ) || 'hidden' == $field[ 'type' ] ) {&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !PodsForm::permission( $field[ 'type' ], $field[ 'name' ], $field[ 'options' ], $fields, $pod, $pod-&gt;id() ) ) {&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $fields[ $field[ 'name' ] ] = $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $this-&gt;id ) && null !== $value ) {&nbsp;</div></li><li><div>                $this-&gt;pod-&gt;row_override[ $field[ 'name' ] ] = $value;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        unset( $view_fields ); // Cleanup&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;div class=&quot;wrap pods-ui&quot;&gt;&nbsp;</div></li><li><div>            &lt;div id=&quot;icon-edit-pages&quot; class=&quot;icon32&quot;&lt;?php if ( false !== $this-&gt;icon ) { ?&gt; style=&quot;background-position:0 0;background-size:100%;background-image:url(&lt;?php echo esc_url( $this-&gt;icon ); ?&gt;);&quot;&lt;?php } ?&gt;&gt;&lt;br /&gt;&lt;/div&gt;&nbsp;</div></li><li><div>            &lt;h2&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    echo $this-&gt;do_template( $this-&gt;header[ 'view' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !in_array( 'add', $this-&gt;actions_disabled ) && !in_array( 'add', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                        $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'add', 'id' . $this-&gt;num =&gt; '', 'do' . $this-&gt;num = '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $this-&gt;action_links[ 'add' ] ) ) {&nbsp;</div></li><li><div>                            $link = $this-&gt;action_links[ 'add' ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                    &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&lt;?php echo $this-&gt;heading[ 'add' ]; ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( !in_array( 'manage', $this-&gt;actions_disabled ) && !in_array( 'manage', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                        $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'manage', 'id' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $this-&gt;action_links[ 'manage' ] ) ) {&nbsp;</div></li><li><div>                            $link = $this-&gt;action_links[ 'manage' ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                    &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&laquo; &lt;?php echo sprintf( __( 'Back to %s', 'pods' ), $this-&gt;heading[ 'manage' ] ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    pods_view( PODS_DIR . 'ui/admin/view.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;/h2&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Reorder data&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function reorder () {&nbsp;</div></li><li><div>        // loop through order&nbsp;</div></li><li><div>        $order = (array) pods_var_raw( 'order', 'post', array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'pod' =&gt; $this-&gt;pod-&gt;pod, &nbsp;</div></li><li><div>            'field' =&gt; $this-&gt;reorder[ 'on' ], &nbsp;</div></li><li><div>            'order' =&gt; $order&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $reorder = pods_api()-&gt;reorder_pod_item( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $reorder )&nbsp;</div></li><li><div>            $this-&gt;message( sprintf( __( &quot;&lt;strong&gt;Success!&lt;/strong&gt; %s reordered successfully.&quot;, 'pods' ), $this-&gt;items ) );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $this-&gt;error( sprintf( __( &quot;&lt;strong&gt;Error:&lt;/strong&gt; %s has not been reordered.&quot;, 'pods' ), $this-&gt;items ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $insert&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function save ( $insert = false ) {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'pre_save', $insert );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $this-&gt;callback( 'save', $insert ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        global $wpdb;&nbsp;</div></li><li><div>        $action = __( 'saved', 'pods' );&nbsp;</div></li><li><div>        if ( true === $insert )&nbsp;</div></li><li><div>            $action = __( 'created', 'pods' );&nbsp;</div></li><li><div>        $field_sql = array();&nbsp;</div></li><li><div>        $values = array();&nbsp;</div></li><li><div>        $data = array();&nbsp;</div></li><li><div>        foreach ( $this-&gt;fields[ 'form' ] as $field =&gt; $attributes ) {&nbsp;</div></li><li><div>            $vartype = '%s';&nbsp;</div></li><li><div>            if ( 'bool' == $attributes[ 'type' ] )&nbsp;</div></li><li><div>                $selected = ( 1 == pods_var( $field, 'post', 0 ) ) ? 1 : 0;&nbsp;</div></li><li><div>            elseif ( '' == pods_var( $field, 'post', '' ) )&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            if ( false === $attributes[ 'display' ] || false !== $attributes[ 'readonly' ] ) {&nbsp;</div></li><li><div>                if ( !in_array( $attributes[ 'type' ], array( 'date', 'time', 'datetime' ) ) )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>                if ( false === $attributes[ 'date_touch' ] && ( false === $attributes[ 'date_touch_on_create' ] || false === $insert || 0 &lt; $this-&gt;id ) )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ( in_array( $attributes[ 'type' ], array( 'date', 'time', 'datetime' ) ) ) {&nbsp;</div></li><li><div>                $format = &quot;Y-m-d H:i:s&quot;;&nbsp;</div></li><li><div>                if ( 'date' == $attributes[ 'type' ] )&nbsp;</div></li><li><div>                    $format = &quot;Y-m-d&quot;;&nbsp;</div></li><li><div>                if ( 'time' == $attributes[ 'type' ] )&nbsp;</div></li><li><div>                    $format = &quot;H:i:s&quot;;&nbsp;</div></li><li><div>                if ( false !== $attributes[ 'date_touch' ] || ( false !== $attributes[ 'date_touch_on_create' ] && true === $insert && $this-&gt;id &lt; 1 ) )&nbsp;</div></li><li><div>                    $value = date_i18n( $format );&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $value = date_i18n( $format, strtotime( ( 'time' == $attributes[ 'type' ] ) ? date_i18n( 'Y-m-d ' ) : pods_var( $field, 'post', '' ) ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                if ( 'bool' == $attributes[ 'type' ] ) {&nbsp;</div></li><li><div>                    $vartype = '%d';&nbsp;</div></li><li><div>                    $value = 0;&nbsp;</div></li><li><div>                    if ( '' != pods_var( $field, 'post', '' ) )&nbsp;</div></li><li><div>                        $value = 1;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 'number' == $attributes[ 'type' ] ) {&nbsp;</div></li><li><div>                    $vartype = '%d';&nbsp;</div></li><li><div>                    $value = number_format( pods_var( $field, 'post', 0 ), 0, '', '' );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 'decimal' == $attributes[ 'type' ] ) {&nbsp;</div></li><li><div>                    $vartype = '%d';&nbsp;</div></li><li><div>                    $value = number_format( pods_var( $field, 'post', 0 ), 2, '.', '' );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 'related' == $attributes[ 'type' ] ) {&nbsp;</div></li><li><div>                    if ( is_array( pods_var( $field, 'post', '' ) ) )&nbsp;</div></li><li><div>                        $value = implode( ', ', pods_var( $field, 'post', '' ) );&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                        $value = pods_var( $field, 'post', '' );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $value = pods_var( $field, 'post', '' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $attributes[ 'custom_save' ] ) && false !== $attributes[ 'custom_save' ] && is_callable( $attributes[ 'custom_save' ] ) )&nbsp;</div></li><li><div>                $value = call_user_func_array( $attributes[ 'custom_save' ], array( $value, $field, $attributes, &$this ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $field_sql[] = &quot;`$field`=$vartype&quot;;&nbsp;</div></li><li><div>            $values[] = $value;&nbsp;</div></li><li><div>            $data[ $field ] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $field_sql = implode( ', ', $field_sql );&nbsp;</div></li><li><div>        if ( false === $insert && 0 &lt; $this-&gt;id ) {&nbsp;</div></li><li><div>            $this-&gt;insert_id = $this-&gt;id;&nbsp;</div></li><li><div>            $values[] = $this-&gt;id;&nbsp;</div></li><li><div>            $check = $wpdb-&gt;query( $wpdb-&gt;prepare( &quot;UPDATE $this-&gt;sql['table'] SET $field_sql WHERE id=%d&quot;, $values ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $check = $wpdb-&gt;query( $wpdb-&gt;prepare( &quot;INSERT INTO $this-&gt;sql['table'] SET $field_sql&quot;, $values ) );&nbsp;</div></li><li><div>        if ( $check ) {&nbsp;</div></li><li><div>            if ( 0 == $this-&gt;insert_id )&nbsp;</div></li><li><div>                $this-&gt;insert_id = $wpdb-&gt;insert_id;&nbsp;</div></li><li><div>            $this-&gt;message( sprintf( __( &quot;&lt;strong&gt;Success!&lt;/strong&gt; %s %s successfully.&quot;, 'pods' ), $this-&gt;item, $action ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $this-&gt;error( sprintf( __( &quot;&lt;strong&gt;Error:&lt;/strong&gt; %s has not been %s.&quot;, 'pods' ), $this-&gt;item, $action ) );&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'post_save', $this-&gt;insert_id, $data, $insert );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param null $id&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function delete ( $id = null ) {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'pre_delete', $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback_action( 'delete', $id ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $id = pods_absint( $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $id ) )&nbsp;</div></li><li><div>            $id = pods_absint( $this-&gt;id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $id &lt; 1 )&nbsp;</div></li><li><div>            return $this-&gt;error( __( '&lt;strong&gt;Error:&lt;/strong&gt; Invalid Configuration - Missing &quot;id&quot; definition.', 'pods' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === $id )&nbsp;</div></li><li><div>            $id = $this-&gt;id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>            $check = $this-&gt;pod-&gt;delete( $id );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $check = $this-&gt;pods_data-&gt;delete( $this-&gt;sql[ 'table' ], array( $this-&gt;sql[ 'field_id' ] =&gt; $id ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $check )&nbsp;</div></li><li><div>            $this-&gt;message( sprintf( __( &quot;&lt;strong&gt;Deleted:&lt;/strong&gt; %s has been deleted.&quot;, 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $this-&gt;error( sprintf( __( &quot;&lt;strong&gt;Error:&lt;/strong&gt; %s has not been deleted.&quot;, 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'post_delete', $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param null $id&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function delete_bulk () {&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'pre_delete_bulk' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 1 != pods_var( 'deleted_bulk', 'get', 0 ) ) {&nbsp;</div></li><li><div>            $ids = $this-&gt;bulk;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $success = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $ids ) ) {&nbsp;</div></li><li><div>                $ids = (array) $ids;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $ids as $id ) {&nbsp;</div></li><li><div>                    $id = pods_absint( $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( empty( $id ) )&nbsp;</div></li><li><div>                        continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( $callback = $this-&gt;callback( 'delete', $id ) ) {&nbsp;</div></li><li><div>                        $check = $callback;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>                        $check = $this-&gt;pod-&gt;delete( $id );&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                        $check = $this-&gt;pods_data-&gt;delete( $this-&gt;sql[ 'table' ], array( $this-&gt;sql[ 'field_id' ] =&gt; $id ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( $check )&nbsp;</div></li><li><div>                        $success = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $success )&nbsp;</div></li><li><div>                pods_redirect( pods_query_arg( array( 'action_bulk' =&gt; 'delete', 'deleted_bulk' =&gt; 1 ), array( 'page', 'lang', 'action', 'id' ) ) );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;error( sprintf( __( &quot;&lt;strong&gt;Error:&lt;/strong&gt; %s has not been deleted.&quot;, 'pods' ), $this-&gt;item ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $this-&gt;message( sprintf( __( &quot;&lt;strong&gt;Deleted:&lt;/strong&gt; %s have been deleted.&quot;, 'pods' ), $this-&gt;items ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $_GET[ 'deleted_bulk' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;action_bulk = false;&nbsp;</div></li><li><div>        unset( $_GET[ 'action_bulk' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;do_hook( 'post_delete_bulk' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;manage();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function export () {&nbsp;</div></li><li><div>        $export_type = pods_var( 'export_type', 'get', 'csv' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $type = 'sv'; // covers csv + tsv&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( in_array( $export_type, array( 'xml', 'json' ) ) )&nbsp;</div></li><li><div>            $type = $export_type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $delimiter = ', ';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 'tsv' == $export_type )&nbsp;</div></li><li><div>            $delimiter = &quot;\t&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $columns = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;fields[ 'export' ] ) ) {&nbsp;</div></li><li><div>            $this-&gt;fields[ 'export' ] = $this-&gt;pod-&gt;fields;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $columns = array(&nbsp;</div></li><li><div>                $this-&gt;pod-&gt;pod_data[ 'field_id' ] =&gt; 'ID'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $this-&gt;fields[ 'export' ] as $field ) {&nbsp;</div></li><li><div>            $columns[ $field[ 'name' ] ] = $field[ 'label' ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = array(&nbsp;</div></li><li><div>            'full' =&gt; true, &nbsp;</div></li><li><div>            'flatten' =&gt; true, &nbsp;</div></li><li><div>            'fields' =&gt; array_keys( $columns ), &nbsp;</div></li><li><div>            'type' =&gt; $type, &nbsp;</div></li><li><div>            'delimiter' =&gt; $delimiter, &nbsp;</div></li><li><div>            'columns' =&gt; $columns&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $items = $this-&gt;get_data( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = array(&nbsp;</div></li><li><div>            'columns' =&gt; $columns, &nbsp;</div></li><li><div>            'items' =&gt; $items, &nbsp;</div></li><li><div>            'fields' =&gt; $this-&gt;fields[ 'export' ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $migrate = pods_migrate( $type, $delimiter, $data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $migrate-&gt;export();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $export_file = $migrate-&gt;save();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;message( sprintf( __( '&lt;strong&gt;Success:&lt;/strong&gt; Your export is ready, you can download it &lt;a href=&quot;%s&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;', 'pods' ), $export_file ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //echo '&lt;script type=&quot;text/javascript&quot;&gt;window.open(&quot;' . esc_js( $export_file ) . '&quot;);&lt;/script&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;get_data();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool|mixed|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_field ( $field ) {&nbsp;</div></li><li><div>        $value = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // use PodsData to get field&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $callback = $this-&gt;callback( 'get_field', $field ) ) {&nbsp;</div></li><li><div>            return $callback;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;row[ $field ] ) ) {&nbsp;</div></li><li><div>            $value = $this-&gt;row[ $field ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( false !== $this-&gt;pod && is_object( $this-&gt;pod ) && ( 'Pods' == get_class( $this-&gt;pod ) || 'Pod' == get_class( $this-&gt;pod ) ) ) {&nbsp;</div></li><li><div>            if ( 'Pod' == get_class( $this-&gt;pod ) )&nbsp;</div></li><li><div>                $value = $this-&gt;pod-&gt;get_field( $field );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $value = $this-&gt;pod-&gt;field( $field );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;do_hook( 'get_field', $value, $field );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get find() params based on current UI action&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param null|array $params&nbsp;</div></li><li><div>     * @param null|string $action&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_params( $params = null, $action = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $action ) {&nbsp;</div></li><li><div>            $action = $this-&gt;action;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'full' =&gt; false, &nbsp;</div></li><li><div>            'flatten' =&gt; true, &nbsp;</div></li><li><div>            'fields' =&gt; null, &nbsp;</div></li><li><div>            'type' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params ) && is_array( $params ) )&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, $params );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = (object) $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( $action, array( 'manage', 'reorder' ) ) )&nbsp;</div></li><li><div>            $action = 'manage';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params_override = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $orderby = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $limit = $this-&gt;limit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $sql = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 'reorder' == $this-&gt;action ) {&nbsp;</div></li><li><div>            if ( ! empty( $this-&gt;reorder[ 'orderby' ] ) ) {&nbsp;</div></li><li><div>                $orderby[ $this-&gt;reorder[ 'orderby' ] ] = $this-&gt;reorder[ 'orderby_dir' ];&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $orderby[ $this-&gt;reorder[ 'on' ] ] = $this-&gt;reorder[ 'orderby_dir' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ! empty( $this-&gt;reorder[ 'limit' ] ) ) {&nbsp;</div></li><li><div>                $limit = $this-&gt;reorder[ 'limit' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ! empty( $this-&gt;reorder[ 'sql' ] ) ) {&nbsp;</div></li><li><div>                $sql = $this-&gt;reorder[ 'sql' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $this-&gt;orderby ) ) {&nbsp;</div></li><li><div>            $this-&gt;orderby = (array) $this-&gt;orderby;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $this-&gt;orderby as $order ) {&nbsp;</div></li><li><div>                if ( false !== strpos( $order, ' ' ) ) {&nbsp;</div></li><li><div>                    $orderby[] = $order;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( !isset( $orderby[ $order ] ) ) {&nbsp;</div></li><li><div>                    $orderby[ $order ] = $this-&gt;orderby_dir;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;pod && is_object( $this-&gt;pod ) && ( 'Pods' == get_class( $this-&gt;pod ) || 'Pod' == get_class( $this-&gt;pod ) ) ) {&nbsp;</div></li><li><div>            $find_params = array(&nbsp;</div></li><li><div>                'where' =&gt; pods_v( $action, $this-&gt;where, null, true ), &nbsp;</div></li><li><div>                'orderby' =&gt; $orderby, &nbsp;</div></li><li><div>                'page' =&gt; (int) $this-&gt;page, &nbsp;</div></li><li><div>                'pagination' =&gt; true, &nbsp;</div></li><li><div>                'limit' =&gt; (int) $limit, &nbsp;</div></li><li><div>                'search' =&gt; $this-&gt;searchable, &nbsp;</div></li><li><div>                'search_query' =&gt; $this-&gt;search, &nbsp;</div></li><li><div>                'search_across' =&gt; $this-&gt;search_across, &nbsp;</div></li><li><div>                'search_across_picks' =&gt; $this-&gt;search_across_picks, &nbsp;</div></li><li><div>                'filters' =&gt; $this-&gt;filters, &nbsp;</div></li><li><div>                'sql' =&gt; $sql&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params_override = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $find_params = array(&nbsp;</div></li><li><div>                'table' =&gt; $this-&gt;sql[ 'table' ], &nbsp;</div></li><li><div>                'id' =&gt; $this-&gt;sql[ 'field_id' ], &nbsp;</div></li><li><div>                'index' =&gt; $this-&gt;sql[ 'field_index' ], &nbsp;</div></li><li><div>                'where' =&gt; pods_v( $action, $this-&gt;where, null, true ), &nbsp;</div></li><li><div>                'orderby' =&gt; $orderby, &nbsp;</div></li><li><div>                'page' =&gt; (int) $this-&gt;page, &nbsp;</div></li><li><div>                'pagination' =&gt; true, &nbsp;</div></li><li><div>                'limit' =&gt; (int) $limit, &nbsp;</div></li><li><div>                'search' =&gt; $this-&gt;searchable, &nbsp;</div></li><li><div>                'search_query' =&gt; $this-&gt;search, &nbsp;</div></li><li><div>                'fields' =&gt; $this-&gt;fields[ 'search' ], &nbsp;</div></li><li><div>                'sql' =&gt; $sql&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $this-&gt;sql['select'] ) ) {&nbsp;</div></li><li><div>            $find_params['select'] = $this-&gt;sql['select'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $find_params[ 'where' ] ) && $this-&gt;restricted( $this-&gt;action ) )&nbsp;</div></li><li><div>            $find_params[ 'where' ] = $this-&gt;pods_data-&gt;query_fields( $this-&gt;restrict[ $this-&gt;action ], ( is_object( $this-&gt;pod ) ? $this-&gt;pod-&gt;pod_data : null ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $params_override ) {&nbsp;</div></li><li><div>            $find_params = array_merge( $find_params, (array) $this-&gt;params );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $params-&gt;full )&nbsp;</div></li><li><div>            $find_params[ 'limit' ] = -1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Debug purposes&nbsp;</div></li><li><div>        if ( 1 == pods_v( 'pods_debug_params', 'get', 0 ) && pods_is_admin( array( 'pods' ) ) )&nbsp;</div></li><li><div>            pods_debug( $find_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $find_params;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $full Whether to get ALL data or use pagination&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_data ( $params = null ) {&nbsp;</div></li><li><div>        $action = $this-&gt;action;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $defaults = array(&nbsp;</div></li><li><div>            'full' =&gt; false, &nbsp;</div></li><li><div>            'flatten' =&gt; true, &nbsp;</div></li><li><div>            'fields' =&gt; null, &nbsp;</div></li><li><div>            'type' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $params ) && is_array( $params ) )&nbsp;</div></li><li><div>            $params = (object) array_merge( $defaults, $params );&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $params = (object) $defaults;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( $action, array( 'manage', 'reorder' ) ) )&nbsp;</div></li><li><div>            $action = 'manage';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $find_params = $this-&gt;get_params( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;pod && is_object( $this-&gt;pod ) && ( 'Pods' == get_class( $this-&gt;pod ) || 'Pod' == get_class( $this-&gt;pod ) ) ) {&nbsp;</div></li><li><div>            $this-&gt;pod-&gt;find( $find_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !$params-&gt;full ) {&nbsp;</div></li><li><div>                $data = $this-&gt;pod-&gt;data();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $this-&gt;data = $data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;data ) ) {&nbsp;</div></li><li><div>                    $this-&gt;data_keys = array_keys( $this-&gt;data );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $this-&gt;total = $this-&gt;pod-&gt;total();&nbsp;</div></li><li><div>                $this-&gt;total_found = $this-&gt;pod-&gt;total_found();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $this-&gt;data_full = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $export_params = array(&nbsp;</div></li><li><div>                    'fields' =&gt; $params-&gt;fields, &nbsp;</div></li><li><div>                    'flatten' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( in_array( $params-&gt;type, array( 'json', 'xml' ) ) )&nbsp;</div></li><li><div>                    $export_params[ 'flatten' ] = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $export_params = $this-&gt;do_hook( 'export_options', $export_params, $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                while ( $this-&gt;pod-&gt;fetch() ) {&nbsp;</div></li><li><div>                    $this-&gt;data_full[ $this-&gt;pod-&gt;id() ] = $this-&gt;pod-&gt;export( $export_params );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $this-&gt;pod-&gt;reset();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                return $this-&gt;data_full;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            if ( !empty( $this-&gt;data ) )&nbsp;</div></li><li><div>                return $this-&gt;data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( empty( $this-&gt;sql[ 'table' ] ) )&nbsp;</div></li><li><div>                return $this-&gt;data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $this-&gt;pods_data-&gt;select( $find_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !$params-&gt;full ) {&nbsp;</div></li><li><div>                $this-&gt;data = $this-&gt;pods_data-&gt;data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;data ) ) {&nbsp;</div></li><li><div>                    $this-&gt;data_keys = array_keys( $this-&gt;data );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $this-&gt;total = $this-&gt;pods_data-&gt;total();&nbsp;</div></li><li><div>                $this-&gt;total_found = $this-&gt;pods_data-&gt;total_found();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $this-&gt;data_full = $this-&gt;pods_data-&gt;data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;data_full ) ) {&nbsp;</div></li><li><div>                    $this-&gt;data_keys = array_keys( $this-&gt;data_full );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                return $this-&gt;data_full;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Sort out data alphabetically by a key&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function sort_data () {&nbsp;</div></li><li><div>        // only do this if we have a default orderby&nbsp;</div></li><li><div>        if ( isset( $this-&gt;orderby[ 'default' ] ) ) {&nbsp;</div></li><li><div>            $orderby = $this-&gt;orderby[ 'default' ];&nbsp;</div></li><li><div>            foreach ( $this-&gt;data as $k =&gt; $v ) {&nbsp;</div></li><li><div>                $sorter[ $k ] = strtolower( $v[ $orderby ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ( $this-&gt;orderby_dir == 'ASC' )&nbsp;</div></li><li><div>                asort( $sorter );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                arsort( $sorter );&nbsp;</div></li><li><div>            foreach ( $sorter as $key =&gt; $val ) {&nbsp;</div></li><li><div>                $intermediary[] = $this-&gt;data[ $key ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ( isset( $intermediary ) ) {&nbsp;</div></li><li><div>                $this-&gt;data = $intermediary;&nbsp;</div></li><li><div>                $this-&gt;data_keys = array_keys( $this-&gt;data );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_row ( &$counter = 0, $method = null ) {&nbsp;</div></li><li><div>        if ( !empty( $this-&gt;row ) && 0 &lt; (int) $this-&gt;id && 'table' != $method )&nbsp;</div></li><li><div>            return $this-&gt;row;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) && ( 'Pods' == get_class( $this-&gt;pod ) || 'Pod' == get_class( $this-&gt;pod ) ) )&nbsp;</div></li><li><div>            $this-&gt;row = $this-&gt;pod-&gt;fetch();&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $this-&gt;row = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $this-&gt;data ) ) {&nbsp;</div></li><li><div>                if ( empty( $this-&gt;data_keys ) || count( $this-&gt;data ) != count( $this-&gt;data_keys ) ) {&nbsp;</div></li><li><div>                    $this-&gt;data_keys = array_keys( $this-&gt;data );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( count( $this-&gt;data ) == $this-&gt;total && isset( $this-&gt;data_keys[ $counter ] ) && isset( $this-&gt;data[ $this-&gt;data_keys[ $counter ] ] ) ) {&nbsp;</div></li><li><div>                    $this-&gt;row = $this-&gt;data[ $this-&gt;data_keys[ $counter ] ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $counter++;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false === $this-&gt;row && 0 &lt; (int) $this-&gt;id && !empty( $this-&gt;sql[ 'table' ] ) ) {&nbsp;</div></li><li><div>                $this-&gt;pods_data-&gt;select(&nbsp;</div></li><li><div>                    array(&nbsp;</div></li><li><div>                        'table' =&gt; $this-&gt;sql[ 'table' ], &nbsp;</div></li><li><div>                        'where' =&gt; '`' . $this-&gt;sql[ 'field_id' ] . '` = ' . (int) $this-&gt;id, &nbsp;</div></li><li><div>                        'limit' =&gt; 1&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $this-&gt;row = $this-&gt;pods_data-&gt;fetch();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;row;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $reorder&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function manage ( $reorder = false ) {&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback_action( 'manage', $reorder ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $this-&gt;action_bulk ) && !empty( $this-&gt;actions_bulk ) && isset( $this-&gt;actions_bulk[ $this-&gt;action_bulk ] ) && !in_array( $this-&gt;action_bulk, $this-&gt;actions_disabled ) && !empty( $this-&gt;bulk ) ) {&nbsp;</div></li><li><div>            if ( empty( $_REQUEST[ '_wpnonce' . $this-&gt;num ] ) || false === wp_verify_nonce( $_REQUEST[ '_wpnonce' . $this-&gt;num ], 'pods-ui-action-bulk' ) ) {&nbsp;</div></li><li><div>                pods_message( __( 'Invalid bulk request, please try again.', 'pods' ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( false !== $this-&gt;callback_bulk( $this-&gt;action_bulk, $this-&gt;bulk ) ) {&nbsp;</div></li><li><div>                return null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( 'delete' == $this-&gt;action_bulk ) {&nbsp;</div></li><li><div>                return $this-&gt;delete_bulk();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;screen_meta();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( true === $reorder )&nbsp;</div></li><li><div>            wp_enqueue_script( 'jquery-ui-sortable' );&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>    &lt;div class=&quot;wrap pods-admin pods-ui&quot;&gt;&nbsp;</div></li><li><div>        &lt;div id=&quot;icon-edit-pages&quot; class=&quot;icon32&quot;&lt;?php if ( false !== $this-&gt;icon ) { ?&gt; style=&quot;background-position:0 0;background-size:100%;background-image:url(&lt;?php echo esc_url( $this-&gt;icon ); ?&gt;);&quot;&lt;?php } ?&gt;&gt;&lt;br /&gt;&lt;/div&gt;&nbsp;</div></li><li><div>        &lt;h2&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            if ( true === $reorder ) {&nbsp;</div></li><li><div>                echo $this-&gt;header[ 'reorder' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'manage', 'id' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;action_links[ 'manage' ] ) )&nbsp;</div></li><li><div>                    $link = $this-&gt;action_links[ 'manage' ];&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;small&gt;(&lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot;&gt;&laquo; &lt;?php echo sprintf( __( 'Back to %s', 'pods' ), $this-&gt;heading[ 'manage' ] ); ?&gt;&lt;/a&gt;)&lt;/small&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                echo $this-&gt;header[ 'manage' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'add', $this-&gt;actions_disabled ) && !in_array( 'add', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'add', 'id' . $this-&gt;num =&gt; '', 'do' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;action_links[ 'add' ] ) )&nbsp;</div></li><li><div>                    $link = $this-&gt;action_links[ 'add' ];&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&lt;?php echo $this-&gt;label[ 'add_new' ]; ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ( !in_array( 'reorder', $this-&gt;actions_disabled ) && !in_array( 'reorder', $this-&gt;actions_hidden ) && false !== $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>                $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'reorder' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;action_links[ 'reorder' ] ) )&nbsp;</div></li><li><div>                    $link = $this-&gt;action_links[ 'reorder' ];&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;a href=&quot;&lt;?php echo esc_url( $link ); ?&gt;&quot; class=&quot;add-new-h2&quot;&gt;&lt;?php echo $this-&gt;label[ 'reorder' ]; ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;/h2&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;form id=&quot;posts-filter&quot; action=&quot;&quot; method=&quot;get&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                $excluded_filters = array(&nbsp;</div></li><li><div>                    'search' . $this-&gt;num, &nbsp;</div></li><li><div>                    'pg' . $this-&gt;num, &nbsp;</div></li><li><div>                    'action' . $this-&gt;num, &nbsp;</div></li><li><div>                    'action_bulk' . $this-&gt;num, &nbsp;</div></li><li><div>                    'action_bulk_ids' . $this-&gt;num, &nbsp;</div></li><li><div>                    '_wpnonce' . $this-&gt;num&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $filters = $this-&gt;filters;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $filters as $k =&gt; $filter ) {&nbsp;</div></li><li><div>                    if ( isset( $this-&gt;pod-&gt;fields[ $filter ] ) ) {&nbsp;</div></li><li><div>                        $filter_field = $this-&gt;pod-&gt;fields[ $filter ];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( isset( $this-&gt;fields[ 'manage' ][ $filter ] ) ) {&nbsp;</div></li><li><div>                        $filter_field = $this-&gt;fields[ 'manage' ][ $filter ];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        unset( $filters[ $k ] );&nbsp;</div></li><li><div>                        continue;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( in_array( $filter_field[ 'type' ], array( 'date', 'datetime', 'time' ) ) ) {&nbsp;</div></li><li><div>                        if ( '' == pods_var_raw( 'filter_' . $filter . '_start', 'get', '', null, true ) && '' == pods_var_raw( 'filter_' . $filter . '_end', 'get', '', null, true ) ) {&nbsp;</div></li><li><div>                            unset( $filters[ $k ] );&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( '' === pods_var_raw( 'filter_' . $filter, 'get', '' ) ) {&nbsp;</div></li><li><div>                        unset( $filters[ $k ] );&nbsp;</div></li><li><div>                        continue;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $excluded_filters[] = 'filter_' . $filter . '_start';&nbsp;</div></li><li><div>                    $excluded_filters[] = 'filter_' . $filter . '_end';&nbsp;</div></li><li><div>                    $excluded_filters[] = 'filter_' . $filter;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $get = $_GET;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $get as $k =&gt; $v ) {&nbsp;</div></li><li><div>                    if ( is_array( $v ) || in_array( $k, $excluded_filters ) || strlen( $v ) &lt; 1 )&nbsp;</div></li><li><div>                        continue;&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>                &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo esc_attr( $k ); ?&gt;&quot; value=&quot;&lt;?php echo esc_attr( $v ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== $this-&gt;callback( 'header', $reorder ) ) {&nbsp;</div></li><li><div>                return null;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false === $this-&gt;data )&nbsp;</div></li><li><div>                $this-&gt;get_data();&nbsp;</div></li><li><div>            elseif ( $this-&gt;sortable ) // we have the data already as an array&nbsp;</div></li><li><div>                $this-&gt;sort_data();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !in_array( 'export', $this-&gt;actions_disabled ) && 'export' == $this-&gt;action )&nbsp;</div></li><li><div>                $this-&gt;export();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ( !empty( $this-&gt;data ) || false !== $this-&gt;search || ( $this-&gt;filters_enhanced && !empty( $this-&gt;views ) ) ) && ( ( $this-&gt;filters_enhanced && !empty( $this-&gt;views ) ) || false !== $this-&gt;searchable ) ) {&nbsp;</div></li><li><div>                if ( $this-&gt;filters_enhanced )&nbsp;</div></li><li><div>                    $this-&gt;filters();&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;p class=&quot;search-box&quot; align=&quot;right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                    $excluded_filters = array( 'search' . $this-&gt;num, 'pg' . $this-&gt;num );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $this-&gt;filters as $filter ) {&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filter_' . $filter . '_start';&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filter_' . $filter . '_end';&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filter_' . $filter;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $this-&gt;hidden_vars( $excluded_filters );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $this-&gt;filters as $filter ) {&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;pod-&gt;fields[ $filter ] ) ) {&nbsp;</div></li><li><div>                            $filter_field = $this-&gt;pod-&gt;fields[ $filter ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( isset( $this-&gt;fields[ 'manage' ][ $filter ] ) ) {&nbsp;</div></li><li><div>                            $filter_field = $this-&gt;fields[ 'manage' ][ $filter ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( in_array( $filter_field[ 'type' ], array( 'date', 'datetime', 'time' ) ) ) {&nbsp;</div></li><li><div>                            $start = pods_var_raw( 'filter_' . $filter . '_start', 'get', pods_var_raw( 'filter_default', $filter_field, '', null, true ), null, true );&nbsp;</div></li><li><div>                            $end = pods_var_raw( 'filter_' . $filter . '_end', 'get', pods_var_raw( 'filter_ongoing_default', $filter_field, '', null, true ), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // override default value&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ $filter_field[ 'type' ] . '_allow_empty' ] = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $start ) && !in_array( $start, array( '0000-00-00', '0000-00-00 00:00:00', '00:00:00' ) ) )&nbsp;</div></li><li><div>                                $start = PodsForm::field_method( $filter_field[ 'type' ], 'convert_date', $start, 'n/j/Y' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $end ) && !in_array( $end, array( '0000-00-00', '0000-00-00 00:00:00', '00:00:00' ) ) )&nbsp;</div></li><li><div>                                $end = PodsForm::field_method( $filter_field[ 'type' ], 'convert_date', $end, 'n/j/Y' );&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;_start&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                        &lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;?php echo PodsForm::field( 'filter_' . $filter . '_start', $start, $filter_field[ 'type' ], $filter_field ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;_end&quot;&gt;&nbsp;</div></li><li><div>                            to&nbsp;</div></li><li><div>                        &lt;/label&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                            echo PodsForm::field( 'filter_' . $filter . '_end', $end, $filter_field[ 'type' ], $filter_field );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( 'pick' == $filter_field[ 'type' ] ) {&nbsp;</div></li><li><div>                            $value = pods_var_raw( 'filter_' . $filter, 'get' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( strlen( $value ) &lt; 1 )&nbsp;</div></li><li><div>                                $value = pods_var_raw( 'filter_default', $filter_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // override default value&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'pick_format_type' ] = 'single';&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'pick_format_single' ] = 'dropdown';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', pods_var_raw( 'options', pods_var_raw( $filter, $this-&gt;fields[ 'search' ], array(), null, true ), array(), null, true ), '', null, true );&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', $filter_field[ 'options' ], $filter_field[ 'options' ][ 'input_helper' ], null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $options = array_merge( $filter_field, $filter_field[ 'options' ] );&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                        &lt;/label&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                            echo PodsForm::field( 'filter_' . $filter, $value, 'pick', $options );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( 'boolean' == $filter_field[ 'type' ] ) {&nbsp;</div></li><li><div>                            $value = pods_var_raw( 'filter_' . $filter, 'get', '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( strlen( $value ) &lt; 1 )&nbsp;</div></li><li><div>                                $value = pods_var_raw( 'filter_default', $filter_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // override default value&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'pick_format_type' ] = 'single';&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'pick_format_single' ] = 'dropdown';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'pick_object' ] = 'custom-simple';&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'pick_custom' ] = array(&nbsp;</div></li><li><div>                                '1' =&gt; pods_var_raw( 'boolean_yes_label', $filter_field[ 'options' ], __( 'Yes', 'pods' ), null, true ), &nbsp;</div></li><li><div>                                '0' =&gt; pods_var_raw( 'boolean_no_label', $filter_field[ 'options' ], __( 'No', 'pods' ), null, true )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', pods_var_raw( 'options', pods_var_raw( $filter, $this-&gt;fields[ 'search' ], array(), null, true ), array(), null, true ), '', null, true );&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', $filter_field[ 'options' ], $filter_field[ 'options' ][ 'input_helper' ], null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $options = array_merge( $filter_field, $filter_field[ 'options' ] );&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                        &lt;/label&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                            echo PodsForm::field( 'filter_' . $filter, $value, 'pick', $options );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            $value = pods_var_raw( 'filter_' . $filter, 'get' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( strlen( $value ) &lt; 1 )&nbsp;</div></li><li><div>                                $value = pods_var_raw( 'filter_default', $filter_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // override default value&nbsp;</div></li><li><div>                            $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $options = array();&nbsp;</div></li><li><div>                            $options[ 'input_helper' ] = pods_var_raw( 'ui_input_helper', pods_var_raw( 'options', pods_var_raw( $filter, $this-&gt;fields[ 'search' ], array(), null, true ), array(), null, true ), '', null, true );&nbsp;</div></li><li><div>                            $options[ 'input_helper' ] = pods_var_raw( 'ui_input_helper', $options, $options[ 'input_helper' ], null, true );&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                        &lt;/label&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                            echo PodsForm::field( 'filter_' . $filter, $value, 'text', $options );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( false !== $this-&gt;do_hook( 'filters_show_search', true ) ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &nbsp;&nbsp; &lt;label&lt;?php echo ( empty( $this-&gt;filters ) ) ? ' class=&quot;screen-reader-text&quot;' : ''; ?&gt; for=&quot;page-search&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;-input&quot;&gt;&lt;?php _e( 'Search', 'pods' ); ?&gt;:&lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;?php echo PodsForm::field( 'search' . $this-&gt;num, $this-&gt;search, 'text', array( 'attributes' =&gt; array( 'id' =&gt; 'page-search' . $this-&gt;num . '-input' ) ) ); ?&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        echo PodsForm::field( 'search' . $this-&gt;num, '', 'hidden' );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                    &lt;?php echo PodsForm::submit_button( $this-&gt;header[ 'search' ], 'button', false, false, array('id' =&gt; 'search' . $this-&gt;num . '-submit') ); ?&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                    if ( 0 &lt; strlen( $this-&gt;search ) ) {&nbsp;</div></li><li><div>                        $clear_filters = array(&nbsp;</div></li><li><div>                            'search' . $this-&gt;num =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        foreach ( $this-&gt;filters as $filter ) {&nbsp;</div></li><li><div>                            $clear_filters[ 'filter_' . $filter . '_start' ] = false;&nbsp;</div></li><li><div>                            $clear_filters[ 'filter_' . $filter . '_end' ] = false;&nbsp;</div></li><li><div>                            $clear_filters[ 'filter_' . $filter ] = false;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>                        &lt;small&gt;[&lt;a href=&quot;&lt;?php echo esc_url( pods_query_arg( $clear_filters, array( 'orderby' . $this-&gt;num, 'orderby_dir' . $this-&gt;num, 'limit' . $this-&gt;num, 'page' ), $this-&gt;exclusion() ) ); ?&gt;&quot;&gt;&lt;?php _e( 'Reset Filters', 'pods' ); ?&gt;&lt;/a&gt;]&lt;/small&gt;&nbsp;</div></li><li><div>                        &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/p&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $this-&gt;data ) && ( false !== $this-&gt;pagination_total || false !== $this-&gt;pagination || true === $reorder ) || ( !in_array( 'export', $this-&gt;actions_disabled ) && !in_array( 'export', $this-&gt;actions_hidden ) ) || !empty( $this-&gt;actions_disabled ) ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;tablenav&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                    if ( !empty( $this-&gt;data ) && !empty( $this-&gt;actions_bulk ) ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                    &lt;div class=&quot;alignleft actions&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php wp_nonce_field( 'pods-ui-action-bulk', '_wpnonce' . $this-&gt;num, false ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        &lt;select name=&quot;action_bulk&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;option value=&quot;-1&quot; selected=&quot;selected&quot;&gt;&lt;?php _e( 'Bulk Actions', 'pods' ); ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                                foreach ( $this-&gt;actions_bulk as $action =&gt; $action_data ) {&nbsp;</div></li><li><div>                                    if ( in_array( $action, $this-&gt;actions_hidden ) || in_array( $action, $this-&gt;actions_hidden ) )&nbsp;</div></li><li><div>                                        continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( !isset( $action_data[ 'label' ] ) )&nbsp;</div></li><li><div>                                        $action_data[ 'label' ] = ucwords( str_replace( '_', ' ', $action ) );&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                                &lt;option value=&quot;&lt;?php echo esc_attr( $action ); ?&gt;&quot;&gt;&lt;?php echo esc_html( $action_data[ 'label' ] ); ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                        &lt;/select&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        &lt;input type=&quot;submit&quot; id=&quot;doaction_bulk&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot; class=&quot;button-secondary action&quot; value=&quot;&lt;?php esc_attr_e( 'Apply', 'pods' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( true !== $reorder && ( false !== $this-&gt;pagination_total || false !== $this-&gt;pagination ) ) {&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;div class=&quot;tablenav-pages&lt;?php echo esc_attr( ( $this-&gt;limit &lt; $this-&gt;total_found || 1 &lt; $this-&gt;page ) ? '' : ' one-page' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php $this-&gt;pagination( 1 ); ?&gt;&nbsp;</div></li><li><div>                        &lt;/div&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( true === $reorder ) {&nbsp;</div></li><li><div>                        $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'manage', 'id' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $this-&gt;action_links[ 'manage' ] ) ) {&nbsp;</div></li><li><div>                            $link = $this-&gt;action_links[ 'manage' ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;input type=&quot;button&quot; value=&quot;&lt;?php esc_attr_e( 'Update Order', 'pods' ); ?&gt;&quot; class=&quot;button&quot; onclick=&quot;jQuery('form.admin_ui_reorder_form').submit();&quot; /&gt;&nbsp;</div></li><li><div>                        &lt;input type=&quot;button&quot; value=&quot;&lt;?php esc_attr_e( 'Cancel', 'pods' ); ?&gt;&quot; class=&quot;button&quot; onclick=&quot;document.location='&lt;?php echo esc_js( $link ); ?&gt;';&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;/form&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( !in_array( 'export', $this-&gt;actions_disabled ) && !in_array( 'export', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;div class=&quot;alignleft actions&quot;&gt;&nbsp;</div></li><li><div>                            &lt;strong&gt;&lt;?php _e( 'Export', 'pods' ); ?&gt;:&lt;/strong&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                            foreach ( $this-&gt;export[ 'formats' ] as $format =&gt; $separator ) {&nbsp;</div></li><li><div>                                ?&gt;&nbsp;</div></li><li><div>                                &lt;input type=&quot;button&quot; value=&quot; &lt;?php echo esc_attr( strtoupper( $format ) ); ?&gt; &quot; class=&quot;button&quot; onclick=&quot;document.location='&lt;?php echo pods_slash( pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'export', 'export_type' . $this-&gt;num =&gt; $format, '_wpnonce' =&gt; wp_create_nonce( 'pods-ui-action-export' ) ), self::$allowed, $this-&gt;exclusion() ) ); ?&gt;';&quot; /&gt;&nbsp;</div></li><li><div>                                &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                        &lt;/div&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                    &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            if ( empty( $this-&gt;data ) && false !== $this-&gt;default_none && false === $this-&gt;search ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;p&gt;&lt;?php _e( 'Please use the search filter(s) above to display data', 'pods' ); ?&gt;&lt;?php if ( $this-&gt;export ) { ?&gt;, &lt;?php _e( 'or click on an Export to download a full copy of the data', 'pods' ); ?&gt;&lt;?php } ?&gt;.&lt;/p&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $this-&gt;table( $reorder );&nbsp;</div></li><li><div>            if ( !empty( $this-&gt;data ) ) {&nbsp;</div></li><li><div>                if ( true !== $reorder && ( false !== $this-&gt;pagination_total || false !== $this-&gt;pagination ) ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                    &lt;div class=&quot;tablenav&quot;&gt;&nbsp;</div></li><li><div>                        &lt;div class=&quot;tablenav-pages&lt;?php echo esc_attr( ( $this-&gt;limit &lt; $this-&gt;total_found || 1 &lt; $this-&gt;page ) ? '' : ' one-page' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php $this-&gt;pagination( 0 ); ?&gt;&nbsp;</div></li><li><div>                            &lt;br class=&quot;clear&quot; /&gt;&nbsp;</div></li><li><div>                        &lt;/div&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;/form&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>        if ( $this-&gt;filters_enhanced )&nbsp;</div></li><li><div>            $this-&gt;filters_popup();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function filters () {&nbsp;</div></li><li><div>        include_once ABSPATH . 'wp-admin/includes/template.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        wp_enqueue_script( 'thickbox' );&nbsp;</div></li><li><div>        wp_enqueue_style( 'pods-ui-list-table', PODS_URL . 'ui/css/pods-ui-list-table.css', array( 'thickbox' ), PODS_VERSION );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $filters = $this-&gt;filters;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $filters as $k =&gt; $filter ) {&nbsp;</div></li><li><div>            if ( isset( $this-&gt;pod-&gt;fields[ $filter ] ) ) {&nbsp;</div></li><li><div>                $filter_field = $this-&gt;pod-&gt;fields[ $filter ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( $this-&gt;fields[ 'manage' ][ $filter ] ) ) {&nbsp;</div></li><li><div>                $filter_field = $this-&gt;fields[ 'manage' ][ $filter ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( isset( $filter_field ) && in_array( $filter_field[ 'type' ], array( 'date', 'datetime', 'time' ) ) ) {&nbsp;</div></li><li><div>                if ( '' == pods_var_raw( 'filter_' . $filter . '_start', 'get', '', null, true ) && '' == pods_var_raw( 'filter_' . $filter . '_end', 'get', '', null, true ) )&nbsp;</div></li><li><div>                    unset( $filters[ $k ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( '' === pods_var_raw( 'filter_' . $filter, 'get', '' ) )&nbsp;</div></li><li><div>                unset( $filters[ $k ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $filtered = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $filters ) )&nbsp;</div></li><li><div>            $filtered = true;&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>    &lt;div class=&quot;pods-ui-filter-bar&quot;&gt;&nbsp;</div></li><li><div>        &lt;div class=&quot;pods-ui-filter-bar-primary&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;views ) ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>                &lt;ul class=&quot;subsubsub&quot;&gt;&nbsp;</div></li><li><div>                    &lt;li class=&quot;pods-ui-filter-view-label&quot;&gt;&lt;strong&gt;&lt;?php echo $this-&gt;heading[ 'views' ]; ?&gt;&lt;/strong&gt;&lt;/li&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        foreach ( $this-&gt;views as $view =&gt; $label ) {&nbsp;</div></li><li><div>                            if ( false === strpos( $label, '&lt;a' ) ) {&nbsp;</div></li><li><div>                                $link = pods_query_arg( array( 'view' . $this-&gt;num =&gt; $view, 'pg' . $this-&gt;num =&gt; '' ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( $this-&gt;view == $view )&nbsp;</div></li><li><div>                                    $label = '&lt;a href=&quot;' . esc_url( $link ) . '&quot; class=&quot;current&quot;&gt;' . $label . '&lt;/a&gt;';&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    $label = '&lt;a href=&quot;' . esc_url( $link ) . '&quot;&gt;' . $label . '&lt;/a&gt;';&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;li class=&quot;&lt;?php echo esc_attr( $view ); ?&gt;&quot;&gt;&lt;?php echo $label; ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/ul&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                if ( false !== $this-&gt;search && false !== $this-&gt;searchable ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>                &lt;p class=&quot;search-box&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        if ( $filtered || '' != pods_var_raw( 'search' . $this-&gt;num, 'get', '', null, true ) ) {&nbsp;</div></li><li><div>                            $clear_filters = array(&nbsp;</div></li><li><div>                                'search' . $this-&gt;num =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            foreach ( $this-&gt;filters as $filter ) {&nbsp;</div></li><li><div>                                $clear_filters[ 'filter_' . $filter . '_start' ] = false;&nbsp;</div></li><li><div>                                $clear_filters[ 'filter_' . $filter . '_end' ] = false;&nbsp;</div></li><li><div>                                $clear_filters[ 'filter_' . $filter ] = false;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;a href=&quot;&lt;?php echo esc_url( pods_query_arg( $clear_filters, array( 'orderby' . $this-&gt;num, 'orderby_dir' . $this-&gt;num, 'limit' . $this-&gt;num, 'page' ), $this-&gt;exclusion() ) ); ?&gt;&quot; class=&quot;pods-ui-filter-reset&quot;&gt;[&lt;?php _e( 'Reset', 'pods' ); ?&gt;]&lt;/a&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( false !== $this-&gt;do_hook( 'filters_show_search', true ) ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &nbsp;&nbsp; &lt;label class=&quot;screen-reader-text&quot; for=&quot;page-search&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;-input&quot;&gt;&lt;?php _e( 'Search', 'pods' ); ?&gt;:&lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;?php echo PodsForm::field( 'search' . $this-&gt;num, $this-&gt;search, 'text', array( 'attributes' =&gt; array( 'id' =&gt; 'page-search' . $this-&gt;num . '-input' ) ) ); ?&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            echo PodsForm::field( 'search' . $this-&gt;num, '', 'hidden' );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;?php echo PodsForm::submit_button( $this-&gt;header[ 'search' ], 'button', false, false, array('id' =&gt; 'search' . $this-&gt;num . '-submit') ); ?&gt;&nbsp;</div></li><li><div>                &lt;/p&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>            if ( !empty( $this-&gt;filters ) ) {&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;pods-ui-filter-bar-secondary&quot;&gt;&nbsp;</div></li><li><div>                &lt;ul class=&quot;subsubsub&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        if ( !$filtered ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;li class=&quot;pods-ui-filter-bar-add-filter&quot;&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;#TB_inline?width=640&inlineId=pods-ui-posts-filter-popup&quot; class=&quot;thickbox&quot; title=&quot;&lt;?php esc_attr_e( 'Advanced Filters', 'pods' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php _e( 'Advanced Filters', 'pods' ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/a&gt;&nbsp;</div></li><li><div>                        &lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;li class=&quot;pods-ui-filter-bar-add-filter&quot;&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;#TB_inline?width=640&inlineId=pods-ui-posts-filter-popup&quot; class=&quot;thickbox&quot; title=&quot;&lt;?php esc_attr_e( 'Advanced Filters', 'pods' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                + &lt;?php _e( 'Add Filter', 'pods' ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/a&gt;&nbsp;</div></li><li><div>                        &lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        foreach ( $filters as $filter ) {&nbsp;</div></li><li><div>                            $value = pods_var_raw( 'filter_' . $filter, 'get' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( isset( $this-&gt;pod-&gt;fields[ $filter ] ) ) {&nbsp;</div></li><li><div>                                $filter_field = $this-&gt;pod-&gt;fields[ $filter ];&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif ( isset( $this-&gt;fields[ 'manage' ][ $filter ] ) ) {&nbsp;</div></li><li><div>                                $filter_field = $this-&gt;fields[ 'manage' ][ $filter ];&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else {&nbsp;</div></li><li><div>                                continue;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $data_filter = 'filter_' . $filter;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $start = $end = $value_label = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( in_array( $filter_field[ 'type' ], array( 'date', 'datetime', 'time' ) ) ) {&nbsp;</div></li><li><div>                                $start = pods_var_raw( 'filter_' . $filter . '_start', 'get', '', null, true );&nbsp;</div></li><li><div>                                $end = pods_var_raw( 'filter_' . $filter . '_end', 'get', '', null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $start ) && !in_array( $start, array( '0000-00-00', '0000-00-00 00:00:00', '00:00:00' ) ) )&nbsp;</div></li><li><div>                                    $start = PodsForm::field_method( $filter_field[ 'type' ], 'convert_date', $start, 'n/j/Y' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $end ) && !in_array( $end, array( '0000-00-00', '0000-00-00 00:00:00', '00:00:00' ) ) )&nbsp;</div></li><li><div>                                    $end = PodsForm::field_method( $filter_field[ 'type' ], 'convert_date', $end, 'n/j/Y' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $value = trim( $start . ' - ' . $end, ' -' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $data_filter = 'filter_' . $filter . '_start';&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif ( 'pick' == $filter_field[ 'type' ] )&nbsp;</div></li><li><div>                                $value_label = trim( PodsForm::field_method( 'pick', 'value_to_label', $filter, $value, $filter_field, $this-&gt;pod-&gt;pod_data, null ) );&nbsp;</div></li><li><div>                            elseif ( 'boolean' == $filter_field[ 'type' ] ) {&nbsp;</div></li><li><div>                                $yesno_options = array(&nbsp;</div></li><li><div>                                    '1' =&gt; pods_var_raw( 'boolean_yes_label', $filter_field[ 'options' ], __( 'Yes', 'pods' ), null, true ), &nbsp;</div></li><li><div>                                    '0' =&gt; pods_var_raw( 'boolean_no_label', $filter_field[ 'options' ], __( 'No', 'pods' ), null, true )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( isset( $yesno_options[ (string) $value ] ) )&nbsp;</div></li><li><div>                                    $value_label = $yesno_options[ (string) $value ];&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( strlen( $value_label ) &lt; 1 )&nbsp;</div></li><li><div>                                $value_label = $value;&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                        &lt;li class=&quot;pods-ui-filter-bar-filter&quot; data-filter=&quot;&lt;?php echo esc_attr( $data_filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;#TB_inline?width=640&inlineId=pods-ui-posts-filter-popup&quot; class=&quot;thickbox&quot; title=&quot;&lt;?php esc_attr_e( 'Advanced Filters', 'pods' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;strong&gt;&lt;?php echo $filter_field[ 'label' ]; ?&gt;:&lt;/strong&gt;&nbsp;</div></li><li><div>                                &lt;?php echo esc_html( $value_label ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/a&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;a href=&quot;#remove-filter&quot; class=&quot;remove-filter&quot; title=&quot;&lt;?php esc_attr_e( 'Remove Filter', 'pods' ); ?&gt;&quot;&gt;x&lt;/a&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                                if ( in_array( $filter_field[ 'type' ], array( 'date', 'datetime', 'time' ) ) ) {&nbsp;</div></li><li><div>                                    echo PodsForm::field( 'filter_' . $filter . '_start', $start, 'hidden' );&nbsp;</div></li><li><div>                                    echo PodsForm::field( 'filter_' . $filter . '_end', $end, 'hidden' );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    echo PodsForm::field( $data_filter, $value, 'hidden' );&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                        &lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/ul&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>        jQuery( function() {&nbsp;</div></li><li><div>            jQuery( '.pods-ui-filter-bar-secondary' ).on( 'click', '.remove-filter', function ( e ) {&nbsp;</div></li><li><div>                jQuery( '.pods-ui-filter-popup #' + jQuery( this ).parent().data( 'filter' ) ).remove();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                jQuery( this ).parent().find( 'input' ).each( function () {&nbsp;</div></li><li><div>                    jQuery( this ).remove();&nbsp;</div></li><li><div>                } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                jQuery( 'form#posts-filter [name=&quot;pg&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).prop( 'disabled', true );&nbsp;</div></li><li><div>                jQuery( 'form#posts-filter [name=&quot;action&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).prop( 'disabled', true );&nbsp;</div></li><li><div>                jQuery( 'form#posts-filter [name=&quot;action_bulk&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).prop( 'disabled', true );&nbsp;</div></li><li><div>                jQuery( 'form#posts-filter [name=&quot;_wpnonce&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).prop( 'disabled', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                jQuery( 'form#posts-filter' ).submit();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                e.preventDefault();&nbsp;</div></li><li><div>            } );&nbsp;</div></li><li><div>        } );&nbsp;</div></li><li><div>    &lt;/script&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function filters_popup () {&nbsp;</div></li><li><div>        $filters = $this-&gt;filters;&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>    &lt;div id=&quot;pods-ui-posts-filter-popup&quot; class=&quot;hidden&quot;&gt;&nbsp;</div></li><li><div>        &lt;form action=&quot;&quot; method=&quot;get&quot; class=&quot;pods-ui-posts-filter-popup&quot;&gt;&nbsp;</div></li><li><div>            &lt;h2&gt;&lt;?php _e( 'Advanced Filters', 'pods' ); ?&gt;&lt;/h2&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;pods-ui-posts-filters&quot;&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    $excluded_filters = array(&nbsp;</div></li><li><div>                        'search' . $this-&gt;num, &nbsp;</div></li><li><div>                        'pg' . $this-&gt;num, &nbsp;</div></li><li><div>                        'action' . $this-&gt;num, &nbsp;</div></li><li><div>                        'action_bulk' . $this-&gt;num, &nbsp;</div></li><li><div>                        'action_bulk_ids' . $this-&gt;num, &nbsp;</div></li><li><div>                        '_wpnonce' . $this-&gt;num&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $filters as $filter ) {&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filters_relation';&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filters_compare_' . $filter;&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filter_' . $filter . '_start';&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filter_' . $filter . '_end';&nbsp;</div></li><li><div>                        $excluded_filters[] = 'filter_' . $filter;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $get = $_GET;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $get as $k =&gt; $v ) {&nbsp;</div></li><li><div>                        if ( in_array( $k, $excluded_filters ) || strlen( $v ) &lt; 1 )&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                    &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo esc_attr( $k ); ?&gt;&quot; value=&quot;&lt;?php echo esc_attr( $v ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $zebra = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $filters as $filter ) {&nbsp;</div></li><li><div>                        if ( empty( $filter ) )&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;pod-&gt;fields[ $filter ] ) ) {&nbsp;</div></li><li><div>                            $filter_field = $this-&gt;pod-&gt;fields[ $filter ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( isset( $this-&gt;fields[ 'manage' ][ $filter ] ) ) {&nbsp;</div></li><li><div>                            $filter_field = $this-&gt;fields[ 'manage' ][ $filter ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                    &lt;p class=&quot;pods-ui-posts-filter-toggled pods-ui-posts-filter-&lt;?php echo esc_attr( $filter . ( $zebra ? ' clear' : '' ) ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                            if ( in_array( $filter_field[ 'type' ], array( 'date', 'datetime', 'time' ) ) ) {&nbsp;</div></li><li><div>                                $start = pods_var_raw( 'filter_' . $filter . '_start', 'get', pods_var_raw( 'filter_default', $filter_field, '', null, true ), null, true );&nbsp;</div></li><li><div>                                $end = pods_var_raw( 'filter_' . $filter . '_end', 'get', pods_var_raw( 'filter_ongoing_default', $filter_field, '', null, true ), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // override default value&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ $filter_field[ 'type' ] . '_allow_empty' ] = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $start ) && !in_array( $start, array( '0000-00-00', '0000-00-00 00:00:00', '00:00:00' ) ) )&nbsp;</div></li><li><div>                                    $start = PodsForm::field_method( $filter_field[ 'type' ], 'convert_date', $start, 'n/j/Y' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $end ) && !in_array( $end, array( '0000-00-00', '0000-00-00 00:00:00', '00:00:00' ) ) )&nbsp;</div></li><li><div>                                    $end = PodsForm::field_method( $filter_field[ 'type' ], 'convert_date', $end, 'n/j/Y' );&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-on&lt;?php echo esc_attr( ( empty( $start ) && empty( $end ) ) ? '' : ' hidden' ); ?&gt;&quot;&gt;+&lt;/span&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-off&lt;?php echo esc_attr( ( empty( $start ) && empty( $end ) ) ? ' hidden' : '' ); ?&gt;&quot;&gt;&lt;?php _e( 'Clear', 'pods' ); ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;_start&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                            &lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter&lt;?php echo esc_attr( ( empty( $start ) && empty( $end ) ) ? ' hidden' : '' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo PodsForm::field( 'filter_' . $filter . '_start', $start, $filter_field[ 'type' ], $filter_field ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;_end&quot;&gt;to&lt;/label&gt;&nbsp;</div></li><li><div>                                &lt;?php echo PodsForm::field( 'filter_' . $filter . '_end', $end, $filter_field[ 'type' ], $filter_field ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/span&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif ( 'pick' == $filter_field[ 'type' ] ) {&nbsp;</div></li><li><div>                                $value = pods_var_raw( 'filter_' . $filter, 'get', '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( strlen( $value ) &lt; 1 )&nbsp;</div></li><li><div>                                    $value = pods_var_raw( 'filter_default', $filter_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // override default value&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'pick_format_type' ] = 'single';&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'pick_format_single' ] = 'dropdown';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', pods_var_raw( 'options', pods_var_raw( $filter, $this-&gt;fields[ 'search' ], array(), null, true ), array(), null, true ), '', null, true );&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', $filter_field[ 'options' ], $filter_field[ 'options' ][ 'input_helper' ], null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $options = array_merge( $filter_field, $filter_field[ 'options' ] );&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-on&lt;?php echo esc_attr( empty( $value ) ? '' : ' hidden' ); ?&gt;&quot;&gt;+&lt;/span&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-off&lt;?php echo esc_attr( empty( $value ) ? ' hidden' : '' ); ?&gt;&quot;&gt;&lt;?php _e( 'Clear', 'pods' ); ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                            &lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter&lt;?php echo esc_attr( strlen( $value ) &lt; 1 ? ' hidden' : '' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo PodsForm::field( 'filter_' . $filter, $value, 'pick', $options ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/span&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif ( 'boolean' == $filter_field[ 'type' ] ) {&nbsp;</div></li><li><div>                                $value = pods_var_raw( 'filter_' . $filter, 'get', '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( strlen( $value ) &lt; 1 )&nbsp;</div></li><li><div>                                    $value = pods_var_raw( 'filter_default', $filter_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                // override default value&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'default_value' ] = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'pick_format_type' ] = 'single';&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'pick_format_single' ] = 'dropdown';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'pick_object' ] = 'custom-simple';&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'pick_custom' ] = array(&nbsp;</div></li><li><div>                                    '1' =&gt; pods_var_raw( 'boolean_yes_label', $filter_field[ 'options' ], __( 'Yes', 'pods' ), null, true ), &nbsp;</div></li><li><div>                                    '0' =&gt; pods_var_raw( 'boolean_no_label', $filter_field[ 'options' ], __( 'No', 'pods' ), null, true )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', pods_var_raw( 'options', pods_var_raw( $filter, $this-&gt;fields[ 'search' ], array(), null, true ), array(), null, true ), '', null, true );&nbsp;</div></li><li><div>                                $filter_field[ 'options' ][ 'input_helper' ] = pods_var_raw( 'ui_input_helper', $filter_field[ 'options' ], $filter_field[ 'options' ][ 'input_helper' ], null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $options = array_merge( $filter_field, $filter_field[ 'options' ] );&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-on&lt;?php echo esc_attr( empty( $value ) ? '' : ' hidden' ); ?&gt;&quot;&gt;+&lt;/span&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-off&lt;?php echo esc_attr( empty( $value ) ? ' hidden' : '' ); ?&gt;&quot;&gt;&lt;?php _e( 'Clear', 'pods' ); ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                            &lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter&lt;?php echo esc_attr( strlen( $value ) &lt; 1 ? ' hidden' : '' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo PodsForm::field( 'filter_' . $filter, $value, 'pick', $options ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/span&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else {&nbsp;</div></li><li><div>                                $value = pods_var_raw( 'filter_' . $filter, 'get' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( strlen( $value ) &lt; 1 )&nbsp;</div></li><li><div>                                    $value = pods_var_raw( 'filter_default', $filter_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $options = array(&nbsp;</div></li><li><div>                                    'input_helper' =&gt; pods_var_raw( 'ui_input_helper', pods_var_raw( 'options', pods_var_raw( $filter, $this-&gt;fields[ 'search' ], array(), null, true ), array(), null, true ), '', null, true )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( empty( $options[ 'input_helper' ] ) && isset( $filter_field[ 'options' ] ) && isset( $filter_field[ 'options' ][ 'input_helper' ] ) )&nbsp;</div></li><li><div>                                    $options[ 'input_helper' ] = $filter_field[ 'options' ][ 'input_helper' ];&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-on&lt;?php echo esc_attr( empty( $value ) ? '' : ' hidden' ); ?&gt;&quot;&gt;+&lt;/span&gt;&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter-toggle toggle-off&lt;?php echo esc_attr( empty( $value ) ? ' hidden' : '' ); ?&gt;&quot;&gt;&lt;?php _e( 'Clear', 'pods' ); ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;label for=&quot;pods-form-ui-filter-&lt;?php echo esc_attr( $filter ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo $filter_field[ 'label' ]; ?&gt;&nbsp;</div></li><li><div>                            &lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            &lt;span class=&quot;pods-ui-posts-filter&lt;?php echo esc_attr( empty( $value ) ? ' hidden' : '' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php echo PodsForm::field( 'filter_' . $filter, $value, 'text', $options ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/span&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                    &lt;/p&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                        $zebra = empty( $zebra );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;p class=&quot;pods-ui-posts-filter-toggled pods-ui-posts-filter-search&lt;?php echo esc_attr( $zebra ? ' clear' : '' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                    &lt;label for=&quot;pods-form-ui-search&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;&gt;&lt;?php _e( 'Search Text', 'pods' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                    &lt;?php echo PodsForm::field( 'search' . $this-&gt;num, pods_var_raw( 'search' . $this-&gt;num, 'get' ), 'text' ); ?&gt;&nbsp;</div></li><li><div>                &lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;?php $zebra = empty( $zebra ); ?&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;p class=&quot;submit&lt;?php echo esc_attr( $zebra ? ' clear' : '' ); ?&gt;&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;&lt;?php echo esc_attr( $this-&gt;header[ 'search' ] ); ?&gt;&quot; class=&quot;button button-primary&quot; /&gt;&lt;/p&gt;&nbsp;</div></li><li><div>        &lt;/form&gt;&nbsp;</div></li><li><div>    &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>        jQuery( function () {&nbsp;</div></li><li><div>            jQuery( document ).on( 'click', '.pods-ui-posts-filter-toggle.toggle-on', function ( e ) {&nbsp;</div></li><li><div>                jQuery( this ).parent().find( '.pods-ui-posts-filter' ).removeClass( 'hidden' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                jQuery( this ).hide();&nbsp;</div></li><li><div>                jQuery( this ).parent().find( '.toggle-off' ).show();&nbsp;</div></li><li><div>            } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery( document ).on( 'click', '.pods-ui-posts-filter-toggle.toggle-off', function ( e ) {&nbsp;</div></li><li><div>                jQuery( this ).parent().find( '.pods-ui-posts-filter' ).addClass( 'hidden' );&nbsp;</div></li><li><div>                jQuery( this ).parent().find( 'select, input' ).val( '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                jQuery( this ).hide();&nbsp;</div></li><li><div>                jQuery( this ).parent().find( '.toggle-on' ).show();&nbsp;</div></li><li><div>            } );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery( document ).on( 'click', '.pods-ui-posts-filter-toggled label', function ( e ) {&nbsp;</div></li><li><div>                if ( jQuery( this ).parent().find( '.pods-ui-posts-filter' ).hasClass( 'hidden' ) ) {&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( '.pods-ui-posts-filter' ).removeClass( 'hidden' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( '.toggle-on' ).hide();&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( '.toggle-off' ).show();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( '.pods-ui-posts-filter' ).addClass( 'hidden' );&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( 'select, input' ).val( '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( '.toggle-on' ).show();&nbsp;</div></li><li><div>                    jQuery( this ).parent().find( '.toggle-off' ).hide();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            } );&nbsp;</div></li><li><div>        } );&nbsp;</div></li><li><div>    &lt;/script&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $reorder&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function table ( $reorder = false ) {&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback( 'table', $reorder ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $this-&gt;data ) ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;p&gt;&lt;?php echo sprintf( __( 'No %s found', 'pods' ), $this-&gt;items ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( true === $reorder && !in_array( 'reorder', $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;style type=&quot;text/css&quot;&gt;&nbsp;</div></li><li><div>            table.widefat.fixed tbody.reorderable tr {&nbsp;</div></li><li><div>                height: 50px;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .dragme {&nbsp;</div></li><li><div>                background: url(&lt;?php echo esc_url( PODS_URL ); ?&gt;/ui/images/handle.gif) no-repeat;&nbsp;</div></li><li><div>                background-position: 8px 8px;&nbsp;</div></li><li><div>                cursor: pointer;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .dragme strong {&nbsp;</div></li><li><div>                margin-left: 30px;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        &lt;/style&gt;&nbsp;</div></li><li><div>&lt;form action=&quot;&lt;?php echo esc_url( pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'reorder', 'do' . $this-&gt;num =&gt; 'save', 'page' =&gt; pods_var_raw( 'page' ) ), self::$allowed, $this-&gt;exclusion() ) ); ?&gt;&quot; method=&quot;post&quot; class=&quot;admin_ui_reorder_form&quot;&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $table_fields = $this-&gt;fields[ 'manage' ];&nbsp;</div></li><li><div>        if ( true === $reorder && !in_array( 'reorder', $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] )&nbsp;</div></li><li><div>            $table_fields = $this-&gt;fields[ 'reorder' ];&nbsp;</div></li><li><div>        if ( false === $table_fields || empty( $table_fields ) )&nbsp;</div></li><li><div>            return $this-&gt;error( __( '&lt;strong&gt;Error:&lt;/strong&gt; Invalid Configuration - Missing &quot;fields&quot; definition.', 'pods' ) );&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;table class=&quot;widefat page fixed wp-list-table&quot; cellspacing=&quot;0&quot;&lt;?php echo ( 1 == $reorder && $this-&gt;reorder ) ? ' id=&quot;admin_ui_reorder&quot;' : ''; ?&gt;&gt;&nbsp;</div></li><li><div>            &lt;thead&gt;&nbsp;</div></li><li><div>                &lt;tr&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        if ( !empty( $this-&gt;actions_bulk ) ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>                            &lt;th scope=&quot;col&quot; id=&quot;cb&quot; class=&quot;manage-column column-cb check-column&quot;&gt;&lt;input type=&quot;checkbox&quot; /&gt;&lt;/th&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $name_field = false;&nbsp;</div></li><li><div>                    $fields = array();&nbsp;</div></li><li><div>                    if ( !empty( $table_fields ) ) {&nbsp;</div></li><li><div>                        foreach ( $table_fields as $field =&gt; $attributes ) {&nbsp;</div></li><li><div>                            if ( false === $attributes[ 'display' ] )&nbsp;</div></li><li><div>                                continue;&nbsp;</div></li><li><div>                            if ( false === $name_field )&nbsp;</div></li><li><div>                                $id = 'title';&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $id = '';&nbsp;</div></li><li><div>                            if ( 'other' == $attributes[ 'type' ] )&nbsp;</div></li><li><div>                                $id = '';&nbsp;</div></li><li><div>                            if ( in_array( $attributes[ 'type' ], array( 'date', 'datetime', 'time' ) ) )&nbsp;</div></li><li><div>                                $id = 'date';&nbsp;</div></li><li><div>                            if ( false === $name_field && 'title' == $id )&nbsp;</div></li><li><div>                                $name_field = true;&nbsp;</div></li><li><div>                            $fields[ $field ] = $attributes;&nbsp;</div></li><li><div>                            $fields[ $field ][ 'field_id' ] = $id;&nbsp;</div></li><li><div>                            $dir = 'DESC';&nbsp;</div></li><li><div>                            $current_sort = ' asc';&nbsp;</div></li><li><div>                            if ( isset( $this-&gt;orderby[ 'default' ] ) && $field == $this-&gt;orderby[ 'default' ] ) {&nbsp;</div></li><li><div>                                if ( 'DESC' == $this-&gt;orderby_dir ) {&nbsp;</div></li><li><div>                                    $dir = 'ASC';&nbsp;</div></li><li><div>                                    $current_sort = ' desc';&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $att_id = '';&nbsp;</div></li><li><div>                            if ( !empty( $id ) )&nbsp;</div></li><li><div>                                $att_id = ' id=&quot;' . esc_attr( $id ) . '&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $width = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( isset( $attributes[ 'width' ] ) && !empty( $attributes[ 'width' ] ) )&nbsp;</div></li><li><div>                                $width = ' style=&quot;width: ' . esc_attr( $attributes[ 'width' ] ) . '&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( $fields[ $field ][ 'sortable' ] ) {&nbsp;</div></li><li><div>                                ?&gt;&nbsp;</div></li><li><div>                                &lt;th scope=&quot;col&quot;&lt;?php echo $att_id; ?&gt; class=&quot;manage-column column-&lt;?php echo esc_attr( $id ); ?&gt; sortable&lt;?php echo esc_attr( $current_sort ); ?&gt;&quot;&lt;?php echo $width; ?&gt;&gt;&nbsp;</div></li><li><div>                                    &lt;a href=&quot;&lt;?php echo esc_url_raw( pods_query_arg( array( 'orderby' . $this-&gt;num =&gt; $field, 'orderby_dir' . $this-&gt;num =&gt; $dir ), array( 'limit' . $this-&gt;num, 'search' . $this-&gt;num, 'pg' . $this-&gt;num, 'page' ), $this-&gt;exclusion() ) ); ?&gt;&quot;&gt; &lt;span&gt;&lt;?php echo $attributes[ 'label' ]; ?&gt;&lt;/span&gt; &lt;span class=&quot;sorting-indicator&quot;&gt;&lt;/span&gt; &lt;/a&gt;&nbsp;</div></li><li><div>                                &lt;/th&gt;&nbsp;</div></li><li><div>                                &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else {&nbsp;</div></li><li><div>                                ?&gt;&nbsp;</div></li><li><div>                                &lt;th scope=&quot;col&quot;&lt;?php echo $att_id; ?&gt; class=&quot;manage-column column-&lt;?php echo esc_attr( $id ); ?&gt;&quot;&lt;?php echo $width; ?&gt;&gt;&lt;?php echo $attributes[ 'label' ]; ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                                &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/tr&gt;&nbsp;</div></li><li><div>            &lt;/thead&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            if ( 6 &lt; $this-&gt;total_found ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;tfoot&gt;&nbsp;</div></li><li><div>                    &lt;tr&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                            if ( !empty( $this-&gt;actions_bulk ) ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>                                &lt;th scope=&quot;col&quot; class=&quot;manage-column column-cb check-column&quot;&gt;&lt;input type=&quot;checkbox&quot; /&gt;&lt;/th&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $fields ) ) {&nbsp;</div></li><li><div>                            foreach ( $fields as $field =&gt; $attributes ) {&nbsp;</div></li><li><div>                                $dir = 'ASC';&nbsp;</div></li><li><div>                                if ( $field == $this-&gt;orderby ) {&nbsp;</div></li><li><div>                                    $current_sort = 'desc';&nbsp;</div></li><li><div>                                    if ( 'ASC' == $this-&gt;orderby_dir ) {&nbsp;</div></li><li><div>                                        $dir = 'DESC';&nbsp;</div></li><li><div>                                        $current_sort = 'asc';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $width = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( isset( $attributes[ 'width' ] ) && !empty( $attributes[ 'width' ] ) )&nbsp;</div></li><li><div>                                    $width = ' style=&quot;width: ' . esc_attr( $attributes[ 'width' ] ) . '&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( $fields[ $field ][ 'sortable' ] ) {&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                    &lt;th scope=&quot;col&quot; class=&quot;manage-column column-&lt;?php echo esc_attr( $id ); ?&gt; sortable &lt;?php echo esc_attr( $current_sort ); ?&gt;&quot;&lt;?php echo $width; ?&gt;&gt;&lt;a href=&quot;&lt;?php echo esc_url_raw( pods_query_arg( array( 'orderby' . $this-&gt;num =&gt; $field, 'orderby_dir' . $this-&gt;num =&gt; $dir ), array( 'limit' . $this-&gt;num, 'search' . $this-&gt;num, 'pg' . $this-&gt;num, 'page' ), $this-&gt;exclusion() ) ); ?&gt;&quot;&gt;&lt;span&gt;&lt;?php echo $attributes[ 'label' ]; ?&gt;&lt;/span&gt;&lt;span class=&quot;sorting-indicator&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                    &lt;th scope=&quot;col&quot; class=&quot;manage-column column-&lt;?php echo esc_attr( $id ); ?&gt;&quot;&lt;?php echo $width; ?&gt;&gt;&lt;?php echo $attributes[ 'label' ]; ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                    &lt;/tr&gt;&nbsp;</div></li><li><div>                &lt;/tfoot&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;tbody id=&quot;the-list&quot;&lt;?php echo ( true === $reorder && !in_array( 'reorder', $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] ) ? ' class=&quot;reorderable&quot;' : ''; ?&gt;&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                if ( !empty( $this-&gt;data ) && is_array( $this-&gt;data ) ) {&nbsp;</div></li><li><div>                    $counter = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    while ( $row = $this-&gt;get_row( $counter, 'table' ) ) {&nbsp;</div></li><li><div>                        if ( is_object( $row ) )&nbsp;</div></li><li><div>                            $row = get_object_vars( (object) $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $toggle_class = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( is_array( $this-&gt;actions_custom ) && isset( $this-&gt;actions_custom[ 'toggle' ] ) ) {&nbsp;</div></li><li><div>                            $toggle_class = ' pods-toggled-on';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !isset( $row[ 'toggle' ] ) || empty( $row[ 'toggle' ] ) )&nbsp;</div></li><li><div>                                $toggle_class = ' pods-toggled-off';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;tr id=&quot;item-&lt;?php echo esc_attr( $row[ $this-&gt;sql[ 'field_id' ] ] ); ?&gt;&quot; class=&quot;iedit&lt;?php echo esc_attr( $toggle_class ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                                if ( !empty( $this-&gt;actions_bulk ) ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>                                &lt;th scope=&quot;row&quot; class=&quot;check-column&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;action_bulk_ids&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;[]&quot; value=&quot;&lt;?php echo esc_attr( $row[$this-&gt;sql['field_id']] ); ?&gt;&quot;&gt;&lt;/th&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            foreach ( $fields as $field =&gt; $attributes ) {&nbsp;</div></li><li><div>                                if ( false === $attributes[ 'display' ] )&nbsp;</div></li><li><div>                                    continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !isset( $row[ $field ] ) ) {&nbsp;</div></li><li><div>                                    $row[ $field ] = $this-&gt;get_field( $field );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $row_value = $row[ $field ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( !empty( $attributes[ 'custom_display' ] ) ) {&nbsp;</div></li><li><div>                                    if ( is_callable( $attributes[ 'custom_display' ] ) )&nbsp;</div></li><li><div>                                        $row_value = call_user_func_array( $attributes[ 'custom_display' ], array( $row, &$this, $row_value, $field, $attributes ) );&nbsp;</div></li><li><div>                                    elseif ( is_object( $this-&gt;pod ) && class_exists( 'Pods_Helpers' ) )&nbsp;</div></li><li><div>                                        $row_value = $this-&gt;pod-&gt;helper( $attributes[ 'custom_display' ], $row_value, $field );&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $field_value = PodsForm::field_method( $attributes[ 'type' ], 'ui', $this-&gt;id, $row_value, $field, array_merge( $attributes, pods_var_raw( 'options', $attributes, array(), null, true ) ), $fields, $this-&gt;pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $field_output = trim( (string) ob_get_clean() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( false === $field_value )&nbsp;</div></li><li><div>                                        $row_value = '';&nbsp;</div></li><li><div>                                    elseif ( 0 &lt; strlen( trim( (string) $field_value ) ) )&nbsp;</div></li><li><div>                                        $row_value = trim( (string) $field_value );&nbsp;</div></li><li><div>                                    elseif ( 0 &lt; strlen( $field_output ) )&nbsp;</div></li><li><div>                                        $row_value = $field_output;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( false !== $attributes[ 'custom_relate' ] ) {&nbsp;</div></li><li><div>                                    global $wpdb;&nbsp;</div></li><li><div>                                    $table = $attributes[ 'custom_relate' ];&nbsp;</div></li><li><div>                                    $on = $this-&gt;sql[ 'field_id' ];&nbsp;</div></li><li><div>                                    $is = $row[ $this-&gt;sql[ 'field_id' ] ];&nbsp;</div></li><li><div>                                    $what = array( 'name' );&nbsp;</div></li><li><div>                                    if ( is_array( $table ) ) {&nbsp;</div></li><li><div>                                        if ( isset( $table[ 'on' ] ) )&nbsp;</div></li><li><div>                                            $on = pods_sanitize( $table[ 'on' ] );&nbsp;</div></li><li><div>                                        if ( isset( $table[ 'is' ] ) && isset( $row[ $table[ 'is' ] ] ) )&nbsp;</div></li><li><div>                                            $is = pods_sanitize( $row[ $table[ 'is' ] ] );&nbsp;</div></li><li><div>                                        if ( isset( $table[ 'what' ] ) ) {&nbsp;</div></li><li><div>                                            $what = array();&nbsp;</div></li><li><div>                                            if ( is_array( $table[ 'what' ] ) ) {&nbsp;</div></li><li><div>                                                foreach ( $table[ 'what' ] as $wha ) {&nbsp;</div></li><li><div>                                                    $what[] = pods_sanitize( $wha );&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            else&nbsp;</div></li><li><div>                                                $what[] = pods_sanitize( $table[ 'what' ] );&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        if ( isset( $table[ 'table' ] ) )&nbsp;</div></li><li><div>                                            $table = $table[ 'table' ];&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $table = pods_sanitize( $table );&nbsp;</div></li><li><div>                                    $wha = implode( ', ', $what );&nbsp;</div></li><li><div>                                    $sql = &quot;SELECT {$wha} FROM {$table} WHERE `{$on}`='{$is}'&quot;;&nbsp;</div></li><li><div>                                    $value = @current( $wpdb-&gt;get_results( $sql, ARRAY_A ) );&nbsp;</div></li><li><div>                                    if ( !empty( $value ) ) {&nbsp;</div></li><li><div>                                        $val = array();&nbsp;</div></li><li><div>                                        foreach ( $what as $wha ) {&nbsp;</div></li><li><div>                                            if ( isset( $value[ $wha ] ) )&nbsp;</div></li><li><div>                                                $val[] = $value[ $wha ];&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        if ( !empty( $val ) )&nbsp;</div></li><li><div>                                            $row_value = implode( ' ', $val );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $css_classes = ' pods-ui-col-field-' . sanitize_title( $field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( $attributes[ 'css_values' ] ) {&nbsp;</div></li><li><div>                                    $css_field_value = $row[ $field ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( is_object( $css_field_value ) ) {&nbsp;</div></li><li><div>                                        $css_field_value = get_object_vars( $css_field_value );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( is_array( $css_field_value ) ) {&nbsp;</div></li><li><div>                                        foreach ( $css_field_value as $css_field_val ) {&nbsp;</div></li><li><div>                                            if ( is_object( $css_field_val ) ) {&nbsp;</div></li><li><div>                                                $css_field_val = get_object_vars( $css_field_val );&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( is_array( $css_field_val ) ) {&nbsp;</div></li><li><div>                                                foreach ( $css_field_val as $css_field_v ) {&nbsp;</div></li><li><div>                                                    if ( is_object( $css_field_v ) ) {&nbsp;</div></li><li><div>                                                        $css_field_v = get_object_vars( $css_field_v );&nbsp;</div></li><li><div>                                                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    $css_classes .= ' pods-ui-css-value-' . sanitize_title( str_replace( array( &quot;\n&quot;, &quot;\r&quot; ), ' ', strip_tags( (string) $css_field_v ) ) );&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                            else {&nbsp;</div></li><li><div>                                                $css_classes .= ' pods-ui-css-value-' . sanitize_title( str_replace( array( &quot;\n&quot;, &quot;\r&quot; ), ' ', strip_tags( (string) $css_field_val ) ) );&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else {&nbsp;</div></li><li><div>                                        $css_classes .= ' pods-ui-css-value-' . sanitize_title( str_replace( array( &quot;\n&quot;, &quot;\r&quot; ), ' ', strip_tags( (string) $css_field_value ) ) );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>                                    $row_value = $this-&gt;do_hook( $this-&gt;pod-&gt;pod . '_field_value', $row_value, $field, $attributes, $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                $row_value = $this-&gt;do_hook( 'field_value', $row_value, $field, $attributes, $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( 'title' == $attributes[ 'field_id' ] ) {&nbsp;</div></li><li><div>                                    $default_action = $this-&gt;do_hook( 'default_action', 'edit', $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( !in_array( 'edit', $this-&gt;actions_disabled ) && !in_array( 'edit', $this-&gt;actions_hidden ) && ( false === $reorder || in_array( 'reorder', $this-&gt;actions_disabled ) || false === $this-&gt;reorder[ 'on' ] ) && 'edit' == $default_action ) {&nbsp;</div></li><li><div>                                        $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'edit', 'id' . $this-&gt;num =&gt; $row[ $this-&gt;sql[ 'field_id' ] ] ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !empty( $this-&gt;action_links[ 'edit' ] ) )&nbsp;</div></li><li><div>                                            $link = $this-&gt;do_template( $this-&gt;action_links[ 'edit' ], $row );&nbsp;</div></li><li><div>                                        ?&gt;&nbsp;</div></li><li><div>                &lt;td class=&quot;post-title page-title column-title&lt;?php echo esc_attr( $css_classes ); ?&gt;&quot;&gt;&lt;strong&gt;&lt;a class=&quot;row-title&quot; href=&quot;&lt;?php echo esc_url_raw( $link ); ?&gt;&quot; title=&quot;&lt;?php esc_attr_e( 'Edit this item', 'pods' ); ?&gt;&quot;&gt;&lt;?php echo $row_value; ?&gt;&lt;/a&gt;&lt;/strong&gt;&nbsp;</div></li><li><div>                                        &lt;?php&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    elseif ( !in_array( 'view', $this-&gt;actions_disabled ) && !in_array( 'view', $this-&gt;actions_hidden ) && ( false === $reorder || in_array( 'reorder', $this-&gt;actions_disabled ) || false === $this-&gt;reorder[ 'on' ] ) && 'view' == $default_action ) {&nbsp;</div></li><li><div>                                        $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'view', 'id' . $this-&gt;num =&gt; $row[ $this-&gt;sql[ 'field_id' ] ] ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !empty( $this-&gt;action_links[ 'view' ] ) )&nbsp;</div></li><li><div>                                            $link = $this-&gt;do_template( $this-&gt;action_links[ 'view' ], $row );&nbsp;</div></li><li><div>                                        ?&gt;&nbsp;</div></li><li><div>                &lt;td class=&quot;post-title page-title column-title&lt;?php echo esc_attr( $css_classes ); ?&gt;&quot;&gt;&lt;strong&gt;&lt;a class=&quot;row-title&quot; href=&quot;&lt;?php echo esc_url_raw( $link ); ?&gt;&quot; title=&quot;&lt;?php esc_attr_e( 'View this item', 'pods' ); ?&gt;&quot;&gt;&lt;?php echo $row_value; ?&gt;&lt;/a&gt;&lt;/strong&gt;&nbsp;</div></li><li><div>                                        &lt;?php&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else {&nbsp;</div></li><li><div>                                        ?&gt;&nbsp;</div></li><li><div>                &lt;td class=&quot;post-title page-title column-title&lt;?php echo esc_attr( $css_classes ); ?&gt;&lt;?php echo esc_attr( ( 1 == $reorder && $this-&gt;reorder ) ? ' dragme' : '' ); ?&gt;&quot;&gt;&lt;strong&gt;&lt;?php echo $row_value; ?&gt;&lt;/strong&gt;&nbsp;</div></li><li><div>                                        &lt;?php&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( true !== $reorder || in_array( 'reorder', $this-&gt;actions_disabled ) || false === $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>                                        $toggle = false;&nbsp;</div></li><li><div>                                        $actions = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !in_array( 'view', $this-&gt;actions_disabled ) && !in_array( 'view', $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                                            $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'view', 'id' . $this-&gt;num =&gt; $row[ $this-&gt;sql[ 'field_id' ] ] ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( !empty( $this-&gt;action_links[ 'view' ] ) )&nbsp;</div></li><li><div>                                                $link = $this-&gt;do_template( $this-&gt;action_links[ 'view' ], $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $actions[ 'view' ] = '&lt;span class=&quot;view&quot;&gt;&lt;a href=&quot;' . esc_url( $link ) . '&quot; title=&quot;' . esc_attr__( 'View this item', 'pods' ) . '&quot;&gt;' . __( 'View', 'pods' ) . '&lt;/a&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !in_array( 'edit', $this-&gt;actions_disabled ) && !in_array( 'edit', $this-&gt;actions_hidden ) && !$this-&gt;restricted( 'edit', $row ) ) {&nbsp;</div></li><li><div>                                            $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'edit', 'id' . $this-&gt;num =&gt; $row[ $this-&gt;sql[ 'field_id' ] ] ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( !empty( $this-&gt;action_links[ 'edit' ] ) )&nbsp;</div></li><li><div>                                                $link = $this-&gt;do_template( $this-&gt;action_links[ 'edit' ], $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $actions[ 'edit' ] = '&lt;span class=&quot;edit&quot;&gt;&lt;a href=&quot;' . esc_url( $link ) . '&quot; title=&quot;' . esc_attr__( 'Edit this item', 'pods' ) . '&quot;&gt;' . __( 'Edit', 'pods' ) . '&lt;/a&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !in_array( 'duplicate', $this-&gt;actions_disabled ) && !in_array( 'duplicate', $this-&gt;actions_hidden ) && !$this-&gt;restricted( 'edit', $row ) ) {&nbsp;</div></li><li><div>                                            $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'duplicate', 'id' . $this-&gt;num =&gt; $row[ $this-&gt;sql[ 'field_id' ] ] ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( !empty( $this-&gt;action_links[ 'duplicate' ] ) )&nbsp;</div></li><li><div>                                                $link = $this-&gt;do_template( $this-&gt;action_links[ 'duplicate' ], $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $actions[ 'duplicate' ] = '&lt;span class=&quot;edit&quot;&gt;&lt;a href=&quot;' . esc_url( $link ) . '&quot; title=&quot;' . esc_attr__( 'Duplicate this item', 'pods' ) . '&quot;&gt;' . __( 'Duplicate', 'pods' ) . '&lt;/a&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !in_array( 'delete', $this-&gt;actions_disabled ) && !in_array( 'delete', $this-&gt;actions_hidden ) && !$this-&gt;restricted( 'delete', $row ) ) {&nbsp;</div></li><li><div>                                            $link = pods_query_arg( array( 'action' . $this-&gt;num =&gt; 'delete', 'id' . $this-&gt;num =&gt; $row[ $this-&gt;sql[ 'field_id' ] ], '_wpnonce' =&gt; wp_create_nonce( 'pods-ui-action-delete' ) ), self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( !empty( $this-&gt;action_links[ 'delete' ] ) ) {&nbsp;</div></li><li><div>                                                $link = add_query_arg( array( '_wpnonce' =&gt; wp_create_nonce( 'pods-ui-action-delete' ) ), $this-&gt;do_template( $this-&gt;action_links[ 'delete' ], $row ) );&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            $actions[ 'delete' ] = '&lt;span class=&quot;delete&quot;&gt;&lt;a href=&quot;' . esc_url( $link ) . '&quot; title=&quot;' . esc_attr__( 'Delete this item', 'pods' ) . '&quot; class=&quot;submitdelete&quot; onclick=&quot;if(confirm(\'' . esc_attr__( 'You are about to permanently delete this item\n Choose \\\'Cancel\\\' to stop, \\\'OK\\\' to delete.', 'pods' ) . '\')) {return true;}return false;&quot;&gt;' . __( 'Delete', 'pods' ) . '&lt;/a&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( is_array( $this-&gt;actions_custom ) ) {&nbsp;</div></li><li><div>                                            foreach ( $this-&gt;actions_custom as $custom_action =&gt; $custom_data ) {&nbsp;</div></li><li><div>                                                if ( 'add' != $custom_action && is_array( $custom_data ) && ( isset( $custom_data[ 'link' ] ) || isset( $custom_data[ 'callback' ] ) ) && !in_array( $custom_action, $this-&gt;actions_disabled ) && !in_array( $custom_action, $this-&gt;actions_hidden ) ) {&nbsp;</div></li><li><div>                                                    if ( !in_array( $custom_action, array( 'add', 'view', 'edit', 'duplicate', 'delete', 'save', 'export', 'reorder', 'manage', 'table' ) ) ) {&nbsp;</div></li><li><div>                                                        if ( 'toggle' == $custom_action ) {&nbsp;</div></li><li><div>                                                            $toggle = true;&nbsp;</div></li><li><div>                                                            $toggle_labels = array(&nbsp;</div></li><li><div>                                                                __( 'Enable', 'pods' ), &nbsp;</div></li><li><div>                                                                __( 'Disable', 'pods' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                            $custom_data[ 'label' ] = ( $row[ 'toggle' ] ? $toggle_labels[ 1 ] : $toggle_labels[ 0 ] );&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        if ( !isset( $custom_data[ 'label' ] ) )&nbsp;</div></li><li><div>                                                            $custom_data[ 'label' ] = ucwords( str_replace( '_', ' ', $custom_action ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        if ( !isset( $custom_data[ 'link' ] ) ) {&nbsp;</div></li><li><div>                                                            $vars = array(&nbsp;</div></li><li><div>                                                                'action' =&gt; $custom_action, &nbsp;</div></li><li><div>                                                                'id' =&gt; $row[ $this-&gt;sql[ 'field_id' ] ], &nbsp;</div></li><li><div>                                                                '_wpnonce' =&gt; wp_create_nonce( 'pods-ui-action-' . $custom_action )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                            if ( 'toggle' == $custom_action ) {&nbsp;</div></li><li><div>                                                                $vars[ 'toggle' ] = (int) ( !$row[ 'toggle' ] );&nbsp;</div></li><li><div>                                                                $vars[ 'toggled' ] = 1;&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                            $custom_data[ 'link' ] = pods_query_arg( $vars, self::$allowed, $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                            if ( isset( $this-&gt;action_links[ $custom_action ] ) && !empty( $this-&gt;action_links[ $custom_action ] ) ) {&nbsp;</div></li><li><div>                                                                $custom_data[ 'link' ] = add_query_arg( array( '_wpnonce' =&gt; wp_create_nonce( 'pods-ui-action-' . $custom_action ) ), $this-&gt;do_template( $this-&gt;action_links[ $custom_action ], $row ) );&nbsp;</div></li><li><div>                                                            }&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        $confirm = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        if ( isset( $custom_data[ 'confirm' ] ) )&nbsp;</div></li><li><div>                                                            $confirm = ' onclick=&quot;if(confirm(\'' . esc_js( $custom_data[ 'confirm' ] ) . '\')) {return true;}return false;&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        if ( $this-&gt;restricted( $custom_action, $row ) ) {&nbsp;</div></li><li><div>                                                            continue;&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                        $actions[ $custom_action ] = '&lt;span class=&quot;edit action-' . esc_attr( $custom_action ) . '&quot;&gt;&lt;a href=&quot;' . esc_url( $this-&gt;do_template( $custom_data[ 'link' ], $row ) ) . '&quot; title=&quot;' . esc_attr( $custom_data[ 'label' ] ) . ' this item&quot;' . $confirm . '&gt;' . $custom_data[ 'label' ] . '&lt;/a&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>                                                    }&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        $actions = $this-&gt;do_hook( 'row_actions', $actions, $row[ $this-&gt;sql[ 'field_id' ] ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( !empty( $actions ) ) {&nbsp;</div></li><li><div>                                            ?&gt;&nbsp;</div></li><li><div>                                            &lt;div class=&quot;row-actions&lt;?php echo esc_attr( $toggle ? ' row-actions-toggle' : '' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                                &lt;?php&nbsp;</div></li><li><div>                                                    $this-&gt;callback( 'actions_start', $row, $actions );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    echo implode( ' | ', $actions );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                    $this-&gt;callback( 'actions_end', $row, $actions );&nbsp;</div></li><li><div>                                                ?&gt;&nbsp;</div></li><li><div>                                            &lt;/div&gt;&nbsp;</div></li><li><div>                                            &lt;?php&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    else {&nbsp;</div></li><li><div>                                        ?&gt;&nbsp;</div></li><li><div>                                        &lt;input type=&quot;hidden&quot; name=&quot;order[]&quot; value=&quot;&lt;?php echo esc_attr( $row[ $this-&gt;sql[ 'field_id' ] ] ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                                        &lt;?php&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                &lt;/td&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                elseif ( 'date' == $attributes[ 'type' ] ) {&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                    &lt;td class=&quot;date column-date&lt;?php echo esc_attr( $css_classes ); ?&gt;&quot;&gt;&lt;abbr title=&quot;&lt;?php echo esc_attr( $row_value ); ?&gt;&quot;&gt;&lt;?php echo $row_value; ?&gt;&lt;/abbr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else {&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                    &lt;td class=&quot;author&lt;?php echo esc_attr( $css_classes ); ?&gt;&quot;&gt;&lt;span&gt;&lt;?php echo $row_value; ?&gt;&lt;/span&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                        &lt;/tr&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>            &lt;/tbody&gt;&nbsp;</div></li><li><div>        &lt;/table&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        if ( true === $reorder && !in_array( 'reorder', $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>    &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>        jQuery( 'table.widefat tbody tr:even' ).addClass( 'alternate' );&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            if ( true === $reorder && !in_array( 'reorder', $this-&gt;actions_disabled ) && false !== $this-&gt;reorder[ 'on' ] ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>            jQuery( document ).ready( function () {&nbsp;</div></li><li><div>                jQuery( &quot;.reorderable&quot; ).sortable( {axis : &quot;y&quot;, handle : &quot;.dragme&quot;} );&nbsp;</div></li><li><div>                jQuery( &quot;.reorderable&quot; ).bind( 'sortupdate', function ( event, ui ) {&nbsp;</div></li><li><div>                    jQuery( 'table.widefat tbody tr' ).removeClass( 'alternate' );&nbsp;</div></li><li><div>                    jQuery( 'table.widefat tbody tr:even' ).addClass( 'alternate' );&nbsp;</div></li><li><div>                } );&nbsp;</div></li><li><div>            } );&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>    &lt;/script&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function screen_meta () {&nbsp;</div></li><li><div>        $screen_html = $help_html = '';&nbsp;</div></li><li><div>        $screen_link = $help_link = '';&nbsp;</div></li><li><div>        if ( !empty( $this-&gt;screen_options ) && !empty( $this-&gt;help ) ) {&nbsp;</div></li><li><div>            foreach ( $this-&gt;ui_page as $page ) {&nbsp;</div></li><li><div>                if ( isset( $this-&gt;screen_options[ $page ] ) ) {&nbsp;</div></li><li><div>                    if ( is_array( $this-&gt;screen_options[ $page ] ) ) {&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;screen_options[ $page ][ 'link' ] ) ) {&nbsp;</div></li><li><div>                            $screen_link = $this-&gt;screen_options[ $page ][ 'link' ];&nbsp;</div></li><li><div>                            break;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        $screen_html = $this-&gt;screen_options[ $page ];&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            foreach ( $this-&gt;ui_page as $page ) {&nbsp;</div></li><li><div>                if ( isset( $this-&gt;help[ $page ] ) ) {&nbsp;</div></li><li><div>                    if ( is_array( $this-&gt;help[ $page ] ) ) {&nbsp;</div></li><li><div>                        if ( isset( $this-&gt;help[ $page ][ 'link' ] ) ) {&nbsp;</div></li><li><div>                            $help_link = $this-&gt;help[ $page ][ 'link' ];&nbsp;</div></li><li><div>                            break;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        $help_html = $this-&gt;help[ $page ];&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $screen_html = $this-&gt;do_hook( 'screen_meta_screen_html', $screen_html );&nbsp;</div></li><li><div>        $screen_link = $this-&gt;do_hook( 'screen_meta_screen_link', $screen_link );&nbsp;</div></li><li><div>        $help_html = $this-&gt;do_hook( 'screen_meta_help_html', $help_html );&nbsp;</div></li><li><div>        $help_link = $this-&gt;do_hook( 'screen_meta_help_link', $help_link );&nbsp;</div></li><li><div>        if ( 0 &lt; strlen( $screen_html ) || 0 &lt; strlen( $screen_link ) || 0 &lt; strlen( $help_html ) || 0 &lt; strlen( $help_link ) ) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;div id=&quot;screen-meta&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            $this-&gt;do_hook( 'screen_meta_pre' );&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $screen_html ) ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;div id=&quot;screen-options-wrap&quot; class=&quot;hidden&quot;&gt;&nbsp;</div></li><li><div>                    &lt;form id=&quot;adv-settings&quot; action=&quot;&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                        echo $screen_html;&nbsp;</div></li><li><div>                        $fields = array();&nbsp;</div></li><li><div>                        foreach ( $this-&gt;ui_page as $page ) {&nbsp;</div></li><li><div>                            if ( isset( $this-&gt;fields[ $page ] ) && !empty( $this-&gt;fields[ $page ] ) )&nbsp;</div></li><li><div>                                $fields = $this-&gt;fields[ $page ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        if ( !empty( $fields ) || true === $this-&gt;pagination ) {&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;h5&gt;&lt;?php _e( 'Show on screen', 'pods' ); ?&gt;&lt;/h5&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                            if ( !empty( $fields ) ) {&nbsp;</div></li><li><div>                                ?&gt;&nbsp;</div></li><li><div>                                &lt;div class=&quot;metabox-prefs&quot;&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                    $this-&gt;do_hook( 'screen_meta_screen_options' );&nbsp;</div></li><li><div>                                    foreach ( $fields as $field =&gt; $attributes ) {&nbsp;</div></li><li><div>                                        if ( false === $attributes[ 'display' ] || true === $attributes[ 'hidden' ] )&nbsp;</div></li><li><div>                                            continue;&nbsp;</div></li><li><div>                                        ?&gt;&nbsp;</div></li><li><div>                                        &lt;label for=&quot;&lt;?php echo esc_attr( $field ); ?&gt;-hide&quot;&gt;&nbsp;</div></li><li><div>                                            &lt;input class=&quot;hide-column-tog&quot; name=&quot;&lt;?php echo esc_attr( $this-&gt;unique_identifier ); ?&gt;_&lt;?php echo esc_attr( $field ); ?&gt;-hide&quot; type=&quot;checkbox&quot; id=&quot;&lt;?php echo esc_attr( $field ); ?&gt;-hide&quot; value=&quot;&lt;?php echo esc_attr( $field ); ?&gt;&quot; checked=&quot;checked&quot;&gt;&lt;?php echo $attributes[ 'label' ]; ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                                        &lt;?php&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                    &lt;br class=&quot;clear&quot;&gt;&nbsp;</div></li><li><div>                                &lt;/div&gt;&nbsp;</div></li><li><div>                                &lt;h5&gt;&lt;?php _e( 'Show on screen', 'pods' ); ?&gt;&lt;/h5&gt;&nbsp;</div></li><li><div>                                &lt;?php&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;div class=&quot;screen-options&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php&nbsp;</div></li><li><div>                                if ( true === $this-&gt;pagination ) {&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                    &lt;input type=&quot;text&quot; class=&quot;screen-per-page&quot; name=&quot;wp_screen_options[value]&quot; id=&quot;&lt;?php echo esc_attr( $this-&gt;unique_identifier ); ?&gt;_per_page&quot; maxlength=&quot;3&quot; value=&quot;20&quot;&gt; &lt;label for=&quot;&lt;?php echo esc_attr( $this-&gt;unique_identifier ); ?&gt;_per_page&quot;&gt;&lt;?php echo $this-&gt;items; ?&gt; per page&lt;/label&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                $this-&gt;do_hook( 'screen_meta_screen_submit' );&nbsp;</div></li><li><div>                                ?&gt;&nbsp;</div></li><li><div>                                &lt;input type=&quot;submit&quot; name=&quot;screen-options-apply&quot; id=&quot;screen-options-apply&quot; class=&quot;button&quot; value=&quot;&lt;?php esc_attr_e( 'Apply', 'pods' ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                &lt;input type=&quot;hidden&quot; name=&quot;wp_screen_options[option]&quot; value=&quot;&lt;?php echo esc_attr( $this-&gt;unique_identifier ); ?&gt;_per_page&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php wp_nonce_field( 'screen-options-nonce', 'screenoptionnonce', false ); ?&gt;&nbsp;</div></li><li><div>                            &lt;/div&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                    &lt;/form&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ( 0 &lt; strlen( $help_html ) ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;div id=&quot;contextual-help-wrap&quot; class=&quot;hidden&quot;&gt;&nbsp;</div></li><li><div>                    &lt;div class=&quot;metabox-prefs&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php echo $help_html; ?&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;div id=&quot;screen-meta-links&quot;&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                $this-&gt;do_hook( 'screen_meta_links_pre' );&nbsp;</div></li><li><div>                if ( 0 &lt; strlen( $help_html ) || 0 &lt; strlen( $help_link ) ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                    &lt;div id=&quot;contextual-help-link-wrap&quot; class=&quot;hide-if-no-js screen-meta-toggle&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                        if ( 0 &lt; strlen( $help_link ) ) {&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;&lt;?php echo esc_url( $help_link ); ?&gt;&quot; class=&quot;show-settings&quot;&gt;Help&lt;/a&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;#contextual-help&quot; id=&quot;contextual-help-link&quot; class=&quot;show-settings&quot;&gt;Help&lt;/a&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ( 0 &lt; strlen( $screen_html ) || 0 &lt; strlen( $screen_link ) ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                    &lt;div id=&quot;screen-options-link-wrap&quot; class=&quot;hide-if-no-js screen-meta-toggle&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                        if ( 0 &lt; strlen( $screen_link ) ) {&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;&lt;?php echo esc_url( $screen_link ); ?&gt;&quot; class=&quot;show-settings&quot;&gt;Screen Options&lt;/a&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;a href=&quot;#screen-options&quot; id=&quot;show-settings-link&quot; class=&quot;show-settings&quot;&gt;Screen Options&lt;/a&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $this-&gt;do_hook( 'screen_meta_links_post' );&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            $this-&gt;do_hook( 'screen_meta_post' );&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $header&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function pagination ( $header = false ) {&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback( 'pagination', $header ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $total_pages = ceil( $this-&gt;total_found / $this-&gt;limit );&nbsp;</div></li><li><div>        $request_uri = pods_query_arg( array( 'pg' . $this-&gt;num =&gt; '' ), array( 'limit' . $this-&gt;num, 'orderby' . $this-&gt;num, 'orderby_dir' . $this-&gt;num, 'search' . $this-&gt;num, 'filter_*', 'view' . $this-&gt;num, 'page' . $this-&gt;num ), $this-&gt;exclusion() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $append = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== strpos( $request_uri, '?' ) )&nbsp;</div></li><li><div>            $append = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;pagination_total && ( $header || 1 != $this-&gt;total_found ) ) {&nbsp;</div></li><li><div>            $singular_label = strtolower( $this-&gt;item );&nbsp;</div></li><li><div>            $plural_label = strtolower( $this-&gt;items );&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>        &lt;span class=&quot;displaying-num&quot;&gt;&lt;?php echo number_format_i18n( $this-&gt;total_found ) . ' ' . _n( $singular_label, $plural_label, $this-&gt;total_found, 'pods' ) . $this-&gt;extra[ 'total' ]; ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false !== $this-&gt;pagination ) {&nbsp;</div></li><li><div>            if ( 1 &lt; $total_pages ) {&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>            &lt;a class=&quot;first-page&lt;?php echo esc_attr( ( 1 &lt; $this-&gt;page ) ? '' : ' disabled' ); ?&gt;&quot; title=&quot;&lt;?php esc_attr_e( 'Go to the first page', 'pods' ); ?&gt;&quot; href=&quot;&lt;?php echo esc_url( $request_uri . ( $append ? '&' : '?' ) . 'pg' . $this-&gt;num . '=1' ); ?&gt;&quot;&gt;&laquo;&lt;/a&gt;&nbsp;</div></li><li><div>            &lt;a class=&quot;prev-page&lt;?php echo esc_attr( ( 1 &lt; $this-&gt;page ) ? '' : ' disabled' ); ?&gt;&quot; title=&quot;&lt;?php esc_attr_e( 'Go to the previous page', 'pods' ); ?&gt;&quot; href=&quot;&lt;?php echo esc_url( $request_uri . ( $append ? '&' : '?' ) . 'pg' . $this-&gt;num . '=' . max( $this-&gt;page - 1, 1 ) ); ?&gt;&quot;&gt;&lsaquo;&lt;/a&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                if ( true == $header ) {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;span class=&quot;paging-input&quot;&gt;&lt;input class=&quot;current-page&quot; title=&quot;&lt;?php esc_attr_e( 'Current page', 'pods' ); ?&gt;&quot; type=&quot;text&quot; name=&quot;pg&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot; value=&quot;&lt;?php echo esc_attr( $this-&gt;page ); ?&gt;&quot; size=&quot;&lt;?php echo esc_attr( strlen( $total_pages ) ); ?&gt;&quot;&gt; &lt;?php _e( 'of', 'pods' ); ?&gt; &lt;span class=&quot;total-pages&quot;&gt;&lt;?php echo $total_pages; ?&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;</div></li><li><div>                &lt;script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    jQuery( document ).ready( function ( $ ) {&nbsp;</div></li><li><div>                        var pageInput = $( 'input.current-page' );&nbsp;</div></li><li><div>                        var currentPage = pageInput.val();&nbsp;</div></li><li><div>                        pageInput.closest( 'form' ).submit( function ( e ) {&nbsp;</div></li><li><div>                            if (&nbsp;</div></li><li><div>                                ( 1 &gt; $( 'select[name=&quot;action&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).length&nbsp;</div></li><li><div>                                  || $( 'select[name=&quot;action&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).val() == -1 )&nbsp;</div></li><li><div>                                && ( 1 &gt; $( 'select[name=&quot;action_bulk&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).length&nbsp;</div></li><li><div>                                     || $( 'select[name=&quot;action_bulk&lt;?php echo esc_attr( $this-&gt;num ); ?&gt;&quot;]' ).val() == -1 )&nbsp;</div></li><li><div>                                && pageInput.val() == currentPage ) {&nbsp;</div></li><li><div>                                pageInput.val( '1' );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        } );&nbsp;</div></li><li><div>                    } );&nbsp;</div></li><li><div>                &lt;/script&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;span class=&quot;paging-input&quot;&gt;&lt;?php echo $this-&gt;page; ?&gt; &lt;?php _e( 'of', 'pods' ); ?&gt; &lt;span class=&quot;total-pages&quot;&gt;&lt;?php echo number_format_i18n( $total_pages ); ?&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>            &lt;a class=&quot;next-page&lt;?php echo esc_attr( ( $this-&gt;page &lt; $total_pages ) ? '' : ' disabled' ); ?&gt;&quot; title=&quot;&lt;?php esc_attr_e( 'Go to the next page', 'pods' ); ?&gt;&quot; href=&quot;&lt;?php echo esc_url( $request_uri . ( $append ? '&' : '?' ) . 'pg' . $this-&gt;num . '=' . min( $this-&gt;page + 1, $total_pages ) ); ?&gt;&quot;&gt;&rsaquo;&lt;/a&gt;&nbsp;</div></li><li><div>            &lt;a class=&quot;last-page&lt;?php echo esc_attr( ( $this-&gt;page &lt; $total_pages ) ? '' : ' disabled' ); ?&gt;&quot; title=&quot;&lt;?php esc_attr_e( 'Go to the last page', 'pods' ); ?&gt;'&quot; href=&quot;&lt;?php echo esc_url( $request_uri . ( $append ? '&' : '?' ) . 'pg' . $this-&gt;num . '=' . $total_pages ); ?&gt;&quot;&gt;&raquo;&lt;/a&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool $options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function limit ( $options = false ) {&nbsp;</div></li><li><div>        if ( false !== $this-&gt;callback( 'limit', $options ) ) {&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( false === $options || !is_array( $options ) || empty( $options ) )&nbsp;</div></li><li><div>            $options = array( 10, 25, 50, 100, 200 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !in_array( $this-&gt;limit, $options ) && -1 != $this-&gt;limit )&nbsp;</div></li><li><div>            $this-&gt;limit = $options[ 1 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $options as $option ) {&nbsp;</div></li><li><div>            if ( $option == $this-&gt;limit )&nbsp;</div></li><li><div>                echo ' &lt;span class=&quot;page-numbers current&quot;&gt;' . esc_html( $option ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                echo ' &lt;a href=&quot;' . esc_url( pods_query_arg( array( 'limit' =&gt; $option ), array( 'orderby' . $this-&gt;num, 'orderby_dir' . $this-&gt;num, 'search' . $this-&gt;num, 'filter_*', 'page' . $this-&gt;num ), $this-&gt;exclusion() ) ) . '&quot;&gt;' . esc_html( $option ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $code&nbsp;</div></li><li><div>     * @param bool|array $row&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function do_template ( $code, $row = false ) {&nbsp;</div></li><li><div>        if ( is_object( $this-&gt;pod ) && 1 == 0 && 0 &lt; $this-&gt;pod-&gt;id() )&nbsp;</div></li><li><div>            return $this-&gt;pod-&gt;do_magic_tags( $code );&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            if ( false !== $row ) {&nbsp;</div></li><li><div>                $this-&gt;temp_row = $this-&gt;row;&nbsp;</div></li><li><div>                $this-&gt;row = $row;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $code = preg_replace_callback( &quot;/({@(.*?)})/m&quot;, array( $this, &quot;do_magic_tags&quot; ), $code );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== $row ) {&nbsp;</div></li><li><div>                $this-&gt;row = $this-&gt;temp_row;&nbsp;</div></li><li><div>                unset( $this-&gt;temp_row );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $code;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param $tag&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function do_magic_tags ( $tag ) {&nbsp;</div></li><li><div>        if ( is_array( $tag ) ) {&nbsp;</div></li><li><div>            if ( !isset( $tag[ 2 ] ) && strlen( trim( $tag[ 2 ] ) ) &lt; 1 )&nbsp;</div></li><li><div>                return '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $tag = $tag[ 2 ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $tag = trim( $tag, ' {@}' );&nbsp;</div></li><li><div>        $tag = explode( ', ', $tag );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $tag ) || !isset( $tag[ 0 ] ) || strlen( trim( $tag[ 0 ] ) ) &lt; 1 )&nbsp;</div></li><li><div>            return null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $tag as $k =&gt; $v ) {&nbsp;</div></li><li><div>            $tag[ $k ] = trim( $v );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $field_name = $tag[ 0 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $value = $this-&gt;get_field( $field_name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $tag[ 1 ] ) && !empty( $tag[ 1 ] ) && is_callable( $tag[ 1 ] ) )&nbsp;</div></li><li><div>            $value = call_user_func_array( $tag[ 1 ], array( $value, $field_name, $this-&gt;row, &$this ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $before = $after = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $tag[ 2 ] ) && !empty( $tag[ 2 ] ) )&nbsp;</div></li><li><div>            $before = $tag[ 2 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $tag[ 3 ] ) && !empty( $tag[ 3 ] ) )&nbsp;</div></li><li><div>            $after = $tag[ 3 ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 &lt; strlen( $value ) )&nbsp;</div></li><li><div>            return $before . $value . $after;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return null;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @param bool|array $exclude&nbsp;</div></li><li><div>     * @param bool|array $array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function hidden_vars ( $exclude = false, $array = false ) {&nbsp;</div></li><li><div>        $exclude = $this-&gt;do_hook( 'hidden_vars', $exclude, $array );&nbsp;</div></li><li><div>        if ( false === $exclude )&nbsp;</div></li><li><div>            $exclude = array();&nbsp;</div></li><li><div>        if ( !is_array( $exclude ) )&nbsp;</div></li><li><div>            $exclude = explode( ', ', $exclude );&nbsp;</div></li><li><div>        $get = $_GET;&nbsp;</div></li><li><div>        if ( is_array( $array ) ) {&nbsp;</div></li><li><div>            foreach ( $array as $key =&gt; $val ) {&nbsp;</div></li><li><div>                if ( 0 &lt; strlen( $val ) )&nbsp;</div></li><li><div>                    $get[ $key ] = $val;&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    unset( $get[ $key ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        foreach ( $get as $k =&gt; $v ) {&nbsp;</div></li><li><div>            if ( in_array( $k, $exclude ) )&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_array( $v ) ) {&nbsp;</div></li><li><div>                foreach ( $v as $vk =&gt; $vv ) {&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>    &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo esc_attr( $k ); ?&gt;[&lt;?php echo esc_attr( $vk ); ?&gt;]&quot; value=&quot;&lt;?php echo esc_attr( $vv ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>               }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li><li><div>    &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo esc_attr( $k ); ?&gt;&quot; value=&quot;&lt;?php echo esc_attr( $v ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function exclusion () {&nbsp;</div></li><li><div>        $exclusion = self::$excluded;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $exclusion as $k =&gt; $exclude ) {&nbsp;</div></li><li><div>            $exclusion[ $k ] = $exclude . $this-&gt;num;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $exclusion;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function restricted ( $action = 'edit', $row = null ) {&nbsp;</div></li><li><div>        $restricted = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $restrict = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;restrict[ $action ] ) )&nbsp;</div></li><li><div>            $restrict = (array) $this-&gt;restrict[ $action ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // @todo Build 'edit', 'duplicate', 'delete' action support for 'where' which runs another find() query&nbsp;</div></li><li><div>        /**if ( !in_array( $action, array( 'manage', 'reorder' ) ) ) {&nbsp;</div></li><li><div>            $where = pods_var_raw( $action, $this-&gt;where, null, null, true );&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>            if ( !empty( $where ) ) {&nbsp;</div></li><li><div>                $restricted = true;&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                $old_where = $this-&gt;where[ $action ];&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                $id = $this-&gt;row[ $this-&gt;sql[ 'field_id' ] ];&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                if ( is_array( $where ) ) {&nbsp;</div></li><li><div>                    if ( 'OR' == pods_var( 'relation', $where ) )&nbsp;</div></li><li><div>                        $where = array( $where );&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                    $where[] = &quot;`t`.`&quot; . $this-&gt;sql[ 'field_id' ] . &quot;` = &quot; . (int) $id;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $where = &quot;( {$where} ) AND `t`.`&quot; . $this-&gt;sql[ 'field_id' ] . &quot;` = &quot; . (int) $id;&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                $this-&gt;where[ $action ] = $where;&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                $data = false;&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                //$data = $this-&gt;get_data();&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                $this-&gt;where[ $action ] = $old_where;&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                if ( empty( $data ) )&nbsp;</div></li><li><div>                    $restricted = true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $author_restrict = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $this-&gt;restrict[ 'author_restrict' ] ) && $restrict === $this-&gt;restrict[ 'author_restrict' ] ) {&nbsp;</div></li><li><div>            $restricted = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $author_restrict = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_object( $this-&gt;pod ) ) {&nbsp;</div></li><li><div>                $restricted = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'settings' == $this-&gt;pod-&gt;pod_data[ 'type' ] && 'add' == $action )&nbsp;</div></li><li><div>                    $action = 'edit';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( pods_is_admin( array( 'pods', 'pods_content' ) ) )&nbsp;</div></li><li><div>                    $restricted = false;&nbsp;</div></li><li><div>                elseif ( 'manage' == $action ) {&nbsp;</div></li><li><div>                    if ( !in_array( 'edit', $this-&gt;actions_disabled ) && current_user_can( 'pods_edit_' . $this-&gt;pod-&gt;pod ) && current_user_can( 'pods_edit_others_' . $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>                        $restricted = false;&nbsp;</div></li><li><div>                    elseif ( !in_array( 'delete', $this-&gt;actions_disabled ) && current_user_can( 'pods_delete_' . $this-&gt;pod-&gt;pod ) && current_user_can( 'pods_delete_others_' . $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>                        $restricted = false;&nbsp;</div></li><li><div>                    elseif ( current_user_can( 'pods_' . $action . '_' . $this-&gt;pod-&gt;pod ) && current_user_can( 'pods_' . $action . '_others_' . $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>                        $restricted = false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( current_user_can( 'pods_' . $action . '_' . $this-&gt;pod-&gt;pod ) && current_user_can( 'pods_' . $action . '_others_' . $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>                    $restricted = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            /** @todo determine proper logic for non-pods capabilities&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $restricted = true;&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                if ( pods_is_admin( array( 'pods', 'pods_content' ) ) )&nbsp;</div></li><li><div>                    $restricted = false;&nbsp;</div></li><li><div>                elseif ( current_user_can( 'pods_' . $action . '_others_' . $_tbd ) )&nbsp;</div></li><li><div>                    $restricted = false;&nbsp;</div></li><li><div>            }*/&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $restricted && !empty( $restrict ) ) {&nbsp;</div></li><li><div>            $relation = strtoupper( trim( pods_var( 'relation', $restrict, 'AND', null, true ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'AND' != $relation )&nbsp;</div></li><li><div>                $relation = 'OR';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $restrict as $field =&gt; $match ) {&nbsp;</div></li><li><div>                if ( 'relation' == $field )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( is_array( $match ) ) {&nbsp;</div></li><li><div>                    $match_okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $match_relation = strtoupper( trim( pods_var( 'relation', $match, 'OR', null, true ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 'AND' != $match_relation )&nbsp;</div></li><li><div>                        $match_relation = 'OR';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $match as $the_field =&gt; $the_match ) {&nbsp;</div></li><li><div>                        if ( 'relation' == $the_field )&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $value = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>                            $value = $this-&gt;pod-&gt;field( $the_match, true );&nbsp;</div></li><li><div>                        else {&nbsp;</div></li><li><div>                            if ( empty( $row ) )&nbsp;</div></li><li><div>                                $row = $this-&gt;row;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( isset( $row[ $the_match ] ) ) {&nbsp;</div></li><li><div>                                if ( is_array( $row[ $the_match ] ) ) {&nbsp;</div></li><li><div>                                    if ( false !== strpos( $the_match, '.' ) ) {&nbsp;</div></li><li><div>                                        $the_matches = explode( '.', $the_match );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        $value = $row[ $the_match ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        foreach ( $the_matches as $m ) {&nbsp;</div></li><li><div>                                            if ( is_array( $value ) && isset( $value[ $m ] ) )&nbsp;</div></li><li><div>                                                $value = $value[ $m ];&nbsp;</div></li><li><div>                                            else {&nbsp;</div></li><li><div>                                                $value = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                                break;&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    $value = $row[ $the_match ];&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( is_array( $value ) ) {&nbsp;</div></li><li><div>                            if ( !in_array( $the_match, $value ) )&nbsp;</div></li><li><div>                                $match_okay = false;&nbsp;</div></li><li><div>                            elseif ( 'OR' == $match_relation ) {&nbsp;</div></li><li><div>                                $match_okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                break;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( $value == $the_match )&nbsp;</div></li><li><div>                            $match_okay = false;&nbsp;</div></li><li><div>                        elseif ( 'OR' == $match_relation ) {&nbsp;</div></li><li><div>                            $match_okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            break;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !$match_okay )&nbsp;</div></li><li><div>                        $okay = false;&nbsp;</div></li><li><div>                    if ( 'OR' == $relation ) {&nbsp;</div></li><li><div>                        $okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $value = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( is_object( $this-&gt;pod ) )&nbsp;</div></li><li><div>                        $value = $this-&gt;pod-&gt;field( $match, true );&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        if ( empty( $row ) )&nbsp;</div></li><li><div>                            $row = $this-&gt;row;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( isset( $row[ $match ] ) ) {&nbsp;</div></li><li><div>                            if ( is_array( $row[ $match ] ) ) {&nbsp;</div></li><li><div>                                if ( false !== strpos( $match, '.' ) ) {&nbsp;</div></li><li><div>                                    $matches = explode( '.', $match );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $value = $row[ $match ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    foreach ( $matches as $m ) {&nbsp;</div></li><li><div>                                        if ( is_array( $value ) && isset( $value[ $m ] ) )&nbsp;</div></li><li><div>                                            $value = $value[ $m ];&nbsp;</div></li><li><div>                                        else {&nbsp;</div></li><li><div>                                            $value = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            break;&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $value = $row[ $match ];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( is_array( $value ) ) {&nbsp;</div></li><li><div>                        if ( !in_array( $match, $value ) )&nbsp;</div></li><li><div>                            $okay = false;&nbsp;</div></li><li><div>                        elseif ( 'OR' == $relation ) {&nbsp;</div></li><li><div>                            $okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            break;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( $value != $match )&nbsp;</div></li><li><div>                        $okay = false;&nbsp;</div></li><li><div>                    elseif ( 'OR' == $relation ) {&nbsp;</div></li><li><div>                        $okay = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !empty( $author_restrict ) ) {&nbsp;</div></li><li><div>                if ( is_object( $this-&gt;pod ) && 'manage' == $action ) {&nbsp;</div></li><li><div>                    if ( !in_array( 'edit', $this-&gt;actions_disabled ) && !current_user_can( 'pods_edit_' . $this-&gt;pod-&gt;pod ) && !in_array( 'delete', $this-&gt;actions_disabled ) && !current_user_can( 'pods_delete_' . $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>                        $okay = false;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ( is_object( $this-&gt;pod ) && !current_user_can( 'pods_' . $action . '_' . $this-&gt;pod-&gt;pod ) )&nbsp;</div></li><li><div>                    $okay = false;&nbsp;</div></li><li><div>                /** @todo determine proper logic for non-pods capabilities&nbsp;</div></li><li><div>                elseif ( !current_user_can( 'pods_' . $action . '_' . $_tbd ) )&nbsp;</div></li><li><div>                    $okay = false;*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !$okay && !empty( $row ) ) {&nbsp;</div></li><li><div>                    foreach ( $this-&gt;restrict[ 'author_restrict' ] as $key =&gt; $val ) {&nbsp;</div></li><li><div>                        $author_restricted = $this-&gt;get_field( $key );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $author_restricted ) ) {&nbsp;</div></li><li><div>                            if ( !is_array( $author_restricted ) )&nbsp;</div></li><li><div>                                $author_restricted = (array) $author_restricted;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( is_array( $val ) ) {&nbsp;</div></li><li><div>                                foreach ( $val as $v ) {&nbsp;</div></li><li><div>                                    if ( in_array( $v, $author_restricted ) )&nbsp;</div></li><li><div>                                        $okay = true;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            elseif ( in_array( $val, $author_restricted ) )&nbsp;</div></li><li><div>                                $okay = true;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $okay )&nbsp;</div></li><li><div>                $restricted = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;actions_custom[ $action ] ) && is_array( $this-&gt;actions_custom[ $action ] ) && isset( $this-&gt;actions_custom[ $action ][ 'restrict_callback' ] ) && is_callable( $this-&gt;actions_custom[ $action ][ 'restrict_callback' ] ) ) {&nbsp;</div></li><li><div>            $restricted = call_user_func( $this-&gt;actions_custom[ $action ][ 'restrict_callback' ], $restricted, $restrict, $action, $row, $this );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $restricted = $this-&gt;do_hook( 'restricted_' . $action, $restricted, $restrict, $action, $row );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $restricted;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check for a custom action callback and run it&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function callback() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = func_get_args();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $args ) ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $action = array_shift( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Do hook&nbsp;</div></li><li><div>        $callback_args = $args;&nbsp;</div></li><li><div>        array_unshift( $callback_args, null );&nbsp;</div></li><li><div>        array_unshift( $callback_args, $action );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $callback = call_user_func_array( array( $this, 'do_hook' ), $callback_args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $callback ) {&nbsp;</div></li><li><div>            $callback = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args[] = $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;actions_custom[ $action ] ) ) {&nbsp;</div></li><li><div>            if ( is_array( $this-&gt;actions_custom[ $action ] ) && isset( $this-&gt;actions_custom[ $action ][ 'callback' ] ) && is_callable( $this-&gt;actions_custom[ $action ][ 'callback' ] ) ) {&nbsp;</div></li><li><div>                $callback = call_user_func_array( $this-&gt;actions_custom[ $action ][ 'callback' ], $args );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( is_callable( $this-&gt;actions_custom[ $action ] ) ) {&nbsp;</div></li><li><div>                $callback = call_user_func_array( $this-&gt;actions_custom[ $action ], $args );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $callback;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check for a custom action callback and run it (deprecated reverse arg order)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function callback_action() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = func_get_args();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $args ) ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $action = array_shift( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $deprecated = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_bool( $action ) ) {&nbsp;</div></li><li><div>            $deprecated = $action;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $action = array_shift( $args );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Do hook&nbsp;</div></li><li><div>        $callback_args = $args;&nbsp;</div></li><li><div>        array_unshift( $callback_args, null );&nbsp;</div></li><li><div>        array_unshift( $callback_args, 'action_' . $action );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $callback = call_user_func_array( array( $this, 'do_hook' ), $callback_args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $callback ) {&nbsp;</div></li><li><div>            $callback = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args[] = $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Deprecated reverse arg order&nbsp;</div></li><li><div>        if ( $deprecated ) {&nbsp;</div></li><li><div>            $args = array_reverse( $args );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;actions_custom[ $action ] ) ) {&nbsp;</div></li><li><div>            if ( is_array( $this-&gt;actions_custom[ $action ] ) && isset( $this-&gt;actions_custom[ $action ][ 'callback' ] ) && is_callable( $this-&gt;actions_custom[ $action ][ 'callback' ] ) ) {&nbsp;</div></li><li><div>                $callback = call_user_func_array( $this-&gt;actions_custom[ $action ][ 'callback' ], $args );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( is_callable( $this-&gt;actions_custom[ $action ] ) ) {&nbsp;</div></li><li><div>                $callback = call_user_func_array( $this-&gt;actions_custom[ $action ], $args );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $callback;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check for a bulk action callback and run it&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return bool|mixed Callback result&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function callback_bulk() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = func_get_args();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $args ) ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $action = array_shift( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $deprecated = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_bool( $action ) ) {&nbsp;</div></li><li><div>            $deprecated = $action;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $action = array_shift( $args );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Do hook&nbsp;</div></li><li><div>        $callback_args = $args;&nbsp;</div></li><li><div>        array_unshift( $callback_args, null );&nbsp;</div></li><li><div>        array_unshift( $callback_args, 'bulk_action_' . $action );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $callback = call_user_func_array( array( $this, 'do_hook' ), $callback_args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $callback ) {&nbsp;</div></li><li><div>            $callback = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args[] = $this;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Deprecated reverse arg order&nbsp;</div></li><li><div>        if ( $deprecated ) {&nbsp;</div></li><li><div>            $args = array_reverse( $args );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $this-&gt;actions_bulk[ $action ] ) ) {&nbsp;</div></li><li><div>            if ( is_array( $this-&gt;actions_bulk[ $action ] ) && isset( $this-&gt;actions_bulk[ $action ][ 'callback' ] ) && is_callable( $this-&gt;actions_bulk[ $action ][ 'callback' ] ) ) {&nbsp;</div></li><li><div>                $callback = call_user_func_array( $this-&gt;actions_bulk[ $action ][ 'callback' ], $args );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( is_callable( $this-&gt;actions_bulk[ $action ] ) ) {&nbsp;</div></li><li><div>                $callback = call_user_func_array( $this-&gt;actions_bulk[ $action ], $args );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $callback;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>        // Example code for use with $this-&gt;do_hook&nbsp;</div></li><li><div>        public function my_filter_function ($args, $obj) {&nbsp;</div></li><li><div>            $obj[0]-&gt;item = 'Post';&nbsp;</div></li><li><div>            $obj[0]-&gt;add = true;&nbsp;</div></li><li><div>            // args are an array (0 =&gt; $arg1, 1 =&gt; $arg2)&nbsp;</div></li><li><div>            // may have more than one arg, dependant on filter&nbsp;</div></li><li><div>            return $args;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        add_filter('pods_ui_post_init', 'my_filter_function', 10, 2);&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @return array|bool|mixed|null&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private function do_hook() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $args = func_get_args();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( $args ) ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $name = array_shift( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return pods_do_hook( &quot;ui&quot;, $name, $args, $this );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.5.2</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/classes/pods_ui/" class="active">2.6</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.5/classes/pods_ui/" class="">2.5.5</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.4/classes/pods_ui/" class="">2.5.4</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.3/classes/pods_ui/" class="">2.5.3</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.2/classes/pods_ui/" class="">2.5.2</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>PodsUI</li><li><span></span>Pods - Custom Content Types and Fields</li><li><span></span>2.6</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>