<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="2.6" data-slug="pods-custom-content-types-and-fields" data-type="class" data-id="59441"><head xmlns="http://www.w3.org/1999/xhtml"><title> podsfield_pick | class | Pods Custom Content Types And Fields | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="PodsField_Pick, class, plugin, pods-custom-content-types-and-fields, 2.6" /><meta name="description" content="The Pods - Custom Content Types and Fields PodsField Pick class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=c6df4154bceb16525e17585760ec3004' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/pods_field_pick/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods_field_pick%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fpods_field_pick%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-pods-custom-content-types-and-fields-2.6-class-pods_field_pick","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="pods_field_pick" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to pods-custom-content-types-and&hellip;." href="http://hookr.io/plugins/pods-custom-content-types-and-fields/" class="plugin"><span property="name">pods-custom-content-types-and&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.6." href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/" class="H_VERSION"><span property="name">2.6</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">pods_field_pick</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="726"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/all/" title="All">All <span class="count badge">726</span></a></li><li class="" data-id="new" data-count="5"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/new/" title="New">New <span class="count badge">5</span></a></li><li class="" data-id="hooks" data-count="474"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/hooks/" title="Hooks">Hooks <span class="count badge">474</span></a></li><li class="" data-id="action" data-count="109"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/actions/" title="Actions">Actions <span class="count badge">109</span></a></li><li class="" data-id="filter" data-count="365"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/filters/" title="Filters">Filters <span class="count badge">365</span></a></li><li class="active" data-id="class" data-count="70"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/classes/" title="Classes">Classes <span class="count badge">70</span></a></li><li class="" data-id="constant" data-count="18"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/constants/" title="Constants">Constants <span class="count badge">18</span></a></li><li class="" data-id="function" data-count="156"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/functions/" title="Functions">Functions <span class="count badge">156</span></a></li><li class="" data-id="shortcode" data-count="8"><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">8</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>PodsField_Pick</strong></h1><p>The Pods - Custom Content Types and Fields <strong>PodsField Pick</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/files/classes-fields-pick/" class="file">/classes/fields/pick.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="5" class="block" start="5"><li><div>class PodsField_Pick extends PodsField {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Field Type Group&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $group = 'Relationships / Media';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Field Type Identifier&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $type = 'pick';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Field Type Label&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var string&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $label = 'Relationship';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Available Related Objects&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $related_objects = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Custom Related Objects&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $custom_related_objects = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data used during validate / save to avoid extra queries&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $related_data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data used during input method (mainly for autocomplete)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $field_data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * API caching for fields that need it during validate/save&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var \PodsAPI&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected static $api = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Saved array of simple relationship names&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.5&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $names_simple = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Saved array of relationship names&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.5&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $names_related = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Saved array of bidirectional relationship names&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @var array&nbsp;</div></li><li><div>     * @since 2.5&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private static $names_bidirectional = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>   /**&nbsp;</div></li><li><div>     * Setup related objects list&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct () {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add admin_init actions&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function admin_init () {&nbsp;</div></li><li><div>        // AJAX for Relationship lookups&nbsp;</div></li><li><div>        add_action( 'wp_ajax_pods_relationship', array( $this, 'admin_ajax_relationship' ) );&nbsp;</div></li><li><div>        add_action( 'wp_ajax_nopriv_pods_relationship', array( $this, 'admin_ajax_relationship' ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add options and set defaults to&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function options () {&nbsp;</div></li><li><div>        $options = array(&nbsp;</div></li><li><div>            self::$type . '_format_type' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Selection Type', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; 'single', &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'data' =&gt; array(&nbsp;</div></li><li><div>                    'single' =&gt; __( 'Single Select', 'pods' ), &nbsp;</div></li><li><div>                    'multi' =&gt; __( 'Multiple Select', 'pods' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_format_single' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Format', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_format_type' =&gt; 'single' ), &nbsp;</div></li><li><div>                'default' =&gt; 'dropdown', &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'data' =&gt; apply_filters(&nbsp;</div></li><li><div>                    'pods_form_ui_field_pick_format_single_options', &nbsp;</div></li><li><div>                    array(&nbsp;</div></li><li><div>                        'dropdown' =&gt; __( 'Drop Down', 'pods' ), &nbsp;</div></li><li><div>                        'radio' =&gt; __( 'Radio Buttons', 'pods' ), &nbsp;</div></li><li><div>                        'autocomplete' =&gt; __( 'Autocomplete', 'pods' )&nbsp;</div></li><li><div> ) + ( ( pods_developer() && 1 == 0 ) ? array( 'flexible' =&gt; __( 'Flexible', 'pods' ) ) : array() ) // Disable for now&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_format_multi' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Format', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_format_type' =&gt; 'multi' ), &nbsp;</div></li><li><div>                'default' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'data' =&gt; apply_filters(&nbsp;</div></li><li><div>                    'pods_form_ui_field_pick_format_multi_options', &nbsp;</div></li><li><div>                    array(&nbsp;</div></li><li><div>                        'checkbox' =&gt; __( 'Checkboxes', 'pods' ), &nbsp;</div></li><li><div>                        'multiselect' =&gt; __( 'Multi Select', 'pods' ), &nbsp;</div></li><li><div>                        'autocomplete' =&gt; __( 'Autocomplete', 'pods' )&nbsp;</div></li><li><div> ) + ( ( pods_developer() && 1 == 0 ) ? array( 'flexible' =&gt; __( 'Flexible', 'pods' ) ) : array() ) // Disable for now&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'dependency' =&gt; true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_taggable' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Taggable', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'Allow new values to be inserted when using an Autocomplete field', 'pods' ), &nbsp;</div></li><li><div>                'excludes-on' =&gt; array(&nbsp;</div></li><li><div>                    self::$type . '_format_single' =&gt; array( 'dropdown', 'radio' ), &nbsp;</div></li><li><div>                    self::$type . '_format_multi' =&gt; array( 'checkbox', 'multiselect' ), &nbsp;</div></li><li><div>                    self::$type . '_object' =&gt; array_merge(&nbsp;</div></li><li><div>                        array( 'site', 'network' ), &nbsp;</div></li><li><div>                        self::simple_objects()&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'default' =&gt; 0&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_select_text' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Default Select Text', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'This is the text use for the default &quot;no selection&quot; dropdown item, if empty, it will default to &quot;-- Select One --&quot;', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array(&nbsp;</div></li><li><div>                    self::$type . '_format_type' =&gt; 'single', &nbsp;</div></li><li><div>                    self::$type . '_format_single' =&gt; 'dropdown'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_limit' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Selection Limit', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_format_type' =&gt; 'multi' ), &nbsp;</div></li><li><div>                'default' =&gt; 0, &nbsp;</div></li><li><div>                'type' =&gt; 'number'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_allow_html' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __('Allow HTML', 'pods'), &nbsp;</div></li><li><div>                'type' =&gt; 'boolean', &nbsp;</div></li><li><div>                'default' =&gt; 0&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_table_id' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Table ID Column', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'You must provide the ID column name for the table, this will be used to keep track of the relationship', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_object' =&gt; 'table' ), &nbsp;</div></li><li><div>                'required' =&gt; 1, &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_table_index' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Table Index Column', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'You must provide the index column name for the table, this may optionally also be the ID column name', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_object' =&gt; 'table' ), &nbsp;</div></li><li><div>                'required' =&gt; 1, &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_display' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Display Field in Selection List', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'Provide the name of a field on the related object to reference, example: {@post_title}', 'pods' ), &nbsp;</div></li><li><div>                'excludes-on' =&gt; array(&nbsp;</div></li><li><div>                    self::$type . '_object' =&gt; array_merge(&nbsp;</div></li><li><div>                        array( 'site', 'network' ), &nbsp;</div></li><li><div>                        self::simple_objects()&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_user_role' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Limit list to Role(s)', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_object' =&gt; 'user' ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'pick_object' =&gt; 'role', &nbsp;</div></li><li><div>                'pick_format_type' =&gt; 'multi'&nbsp;</div></li><li><div> ), /**&nbsp;</div></li><li><div>            self::$type . '_user_site' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Limit list to Site(s)', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'depends-on' =&gt; array( self::$type . '_object' =&gt; 'user' ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'pick_object' =&gt; 'site', &nbsp;</div></li><li><div>                'pick_format_type' =&gt; 'multi'&nbsp;</div></li><li><div> ), */&nbsp;</div></li><li><div>            self::$type . '_where' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Customized &lt;em&gt;WHERE&lt;/em&gt;', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'excludes-on' =&gt; array(&nbsp;</div></li><li><div>                    self::$type . '_object' =&gt; array_merge(&nbsp;</div></li><li><div>                        array( 'site', 'network' ), &nbsp;</div></li><li><div>                        self::simple_objects()&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_orderby' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Customized &lt;em&gt;ORDER BY&lt;/em&gt;', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'excludes-on' =&gt; array(&nbsp;</div></li><li><div>                    self::$type . '_object' =&gt; array_merge(&nbsp;</div></li><li><div>                        array( 'site', 'network' ), &nbsp;</div></li><li><div>                        self::simple_objects()&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            self::$type . '_groupby' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Customized &lt;em&gt;GROUP BY&lt;/em&gt;', 'pods' ), &nbsp;</div></li><li><div>                'help' =&gt; __( 'help', 'pods' ), &nbsp;</div></li><li><div>                'excludes-on' =&gt; array(&nbsp;</div></li><li><div>                    self::$type . '_object' =&gt; array_merge(&nbsp;</div></li><li><div>                        array( 'site', 'network' ), &nbsp;</div></li><li><div>                        self::simple_objects()&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'default' =&gt; '', &nbsp;</div></li><li><div>                'type' =&gt; 'text'&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div>            /**, &nbsp;</div></li><li><div>            self::$type . '_size' =&gt; array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Field Size', 'pods' ), &nbsp;</div></li><li><div>                'default' =&gt; 'medium', &nbsp;</div></li><li><div>                'type' =&gt; 'pick', &nbsp;</div></li><li><div>                'data' =&gt; array(&nbsp;</div></li><li><div>                    'small' =&gt; __( 'Small', 'pods' ), &nbsp;</div></li><li><div>                    'medium' =&gt; __( 'Medium', 'pods' ), &nbsp;</div></li><li><div>                    'large' =&gt; __( 'Large', 'pods' )&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> )*/&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**if ( !is_multisite() )&nbsp;</div></li><li><div>            unset( $options[ self::$type . '_user_site' ] );*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $options;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Register a related object&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name Object name&nbsp;</div></li><li><div>     * @param string $label Object label&nbsp;</div></li><li><div>     * @param array $options Object options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|boolean Object array or false if unsuccessful&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function register_related_object ( $name, $label, $options = null ) {&nbsp;</div></li><li><div>        if ( empty( $name ) || empty( $label ) )&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $related_object = array(&nbsp;</div></li><li><div>            'label' =&gt; $label, &nbsp;</div></li><li><div>            'group' =&gt; 'Custom Relationships', &nbsp;</div></li><li><div>            'simple' =&gt; true, &nbsp;</div></li><li><div>            'bidirectional' =&gt; false, &nbsp;</div></li><li><div>            'data' =&gt; array(), &nbsp;</div></li><li><div>            'data_callback' =&gt; null&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $related_object = array_merge( $related_object, $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        self::$custom_related_objects[ $name ] = $related_object;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Setup related objects&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param boolean $force Whether to force refresh of related objects&nbsp;</div></li><li><div>     * @return bool True when data has been loaded&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function setup_related_objects ( $force = false ) {&nbsp;</div></li><li><div>        $new_data_loaded = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! $force && empty( self::$related_objects ) ) {&nbsp;</div></li><li><div>            // Only load transient if we aren't forcing a refresh&nbsp;</div></li><li><div>            self::$related_objects = pods_transient_get( 'pods_related_objects' );&nbsp;</div></li><li><div>            if ( false !== self::$related_objects ) {&nbsp;</div></li><li><div>                $new_data_loaded = true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        } elseif ( $force ) {&nbsp;</div></li><li><div>            // If we are rebuilding, make sure we start with a clean slate&nbsp;</div></li><li><div>            self::$related_objects = array();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( self::$related_objects ) ) {&nbsp;</div></li><li><div>                // Do a complete build of related_objects&nbsp;</div></li><li><div>            $new_data_loaded = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Custom&nbsp;</div></li><li><div>            self::$related_objects[ 'custom-simple' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Simple (custom defined list)', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Custom', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Pods&nbsp;</div></li><li><div>            $pod_options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Include PodsMeta if not already included&nbsp;</div></li><li><div>            pods_meta();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Advanced Content Types&nbsp;</div></li><li><div>            $_pods = PodsMeta::$advanced_content_types;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $_pods as $pod ) {&nbsp;</div></li><li><div>                $pod_options[ $pod[ 'name' ] ] = $pod[ 'label' ] . ' (' . $pod[ 'name' ] . ')';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Settings&nbsp;</div></li><li><div>            $_pods = PodsMeta::$settings;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $_pods as $pod ) {&nbsp;</div></li><li><div>                $pod_options[ $pod[ 'name' ] ] = $pod[ 'label' ] . ' (' . $pod[ 'name' ] . ')';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            asort( $pod_options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $pod_options as $pod =&gt; $label ) {&nbsp;</div></li><li><div>                self::$related_objects[ 'pod-' . $pod ] = array(&nbsp;</div></li><li><div>                    'label' =&gt; $label, &nbsp;</div></li><li><div>                    'group' =&gt; __( 'Pods', 'pods' ), &nbsp;</div></li><li><div>                    'bidirectional' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Post Types&nbsp;</div></li><li><div>            $post_types = get_post_types();&nbsp;</div></li><li><div>            asort( $post_types );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $ignore = array( 'attachment', 'revision', 'nav_menu_item' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $post_types as $post_type =&gt; $label ) {&nbsp;</div></li><li><div>                if ( in_array( $post_type, $ignore ) || empty( $post_type ) ) {&nbsp;</div></li><li><div>                    unset( $post_types[ $post_type ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 0 === strpos( $post_type, '_pods_' ) && apply_filters( 'pods_pick_ignore_internal', true ) ) {&nbsp;</div></li><li><div>                    unset( $post_types[ $post_type ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $post_type = get_post_type_object( $post_type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                self::$related_objects[ 'post_type-' . $post_type-&gt;name ] = array(&nbsp;</div></li><li><div>                    'label' =&gt; $post_type-&gt;label . ' (' . $post_type-&gt;name . ')', &nbsp;</div></li><li><div>                    'group' =&gt; __( 'Post Types', 'pods' ), &nbsp;</div></li><li><div>                    'bidirectional' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Taxonomies&nbsp;</div></li><li><div>            $taxonomies = get_taxonomies();&nbsp;</div></li><li><div>            asort( $taxonomies );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $ignore = array( 'nav_menu', 'post_format' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $taxonomies as $taxonomy =&gt; $label ) {&nbsp;</div></li><li><div>                if ( in_array( $taxonomy, $ignore ) || empty( $taxonomy ) ) {&nbsp;</div></li><li><div>                    unset( $taxonomies[ $taxonomy ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                /**&nbsp;</div></li><li><div>                 * Prevent ability to extend core Pods content types.&nbsp;</div></li><li><div>                 *&nbsp;</div></li><li><div>                 * @param bool. Default is true, when set to false Pods internal content types can not be extended.&nbsp;</div></li><li><div>                 *&nbsp;</div></li><li><div>                 * @since 2.3.19&nbsp;</div></li><li><div>                 */&nbsp;</div></li><li><div>                elseif ( 0 === strpos( $taxonomy, '_pods_' ) && apply_filters( 'pods_pick_ignore_internal', true ) ) {&nbsp;</div></li><li><div>                    unset( $taxonomies[ $taxonomy ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $taxonomy = get_taxonomy( $taxonomy );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                self::$related_objects[ 'taxonomy-' . $taxonomy-&gt;name ] = array(&nbsp;</div></li><li><div>                    'label' =&gt; $taxonomy-&gt;label . ' (' . $taxonomy-&gt;name . ')', &nbsp;</div></li><li><div>                    'group' =&gt; __( 'Taxonomies', 'pods' ), &nbsp;</div></li><li><div>                    'bidirectional' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Other WP Objects&nbsp;</div></li><li><div>            self::$related_objects[ 'user' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Users', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'bidirectional' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'role' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'User Roles', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_roles' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'capability' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'User Capabilities', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_capabilities' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'media' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Media', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'bidirectional' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'comment' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Comments', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'bidirectional' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'image-size' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Image Sizes', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_image_sizes' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'nav_menu' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Navigation Menus', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'post_format' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Post Formats', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'post-status' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Post Status', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Other WP Objects', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_post_stati' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            do_action( 'pods_form_ui_field_pick_related_objects_other' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'country' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Countries', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Predefined Lists', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_countries' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'us_state' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'US States', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Predefined Lists', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_us_states' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'days_of_week' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Calendar - Days of Week', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Predefined Lists', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_days_of_week' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$related_objects[ 'months_of_year' ] = array(&nbsp;</div></li><li><div>                'label' =&gt; __( 'Calendar - Months of Year', 'pods' ), &nbsp;</div></li><li><div>                'group' =&gt; __( 'Predefined Lists', 'pods' ), &nbsp;</div></li><li><div>                'simple' =&gt; true, &nbsp;</div></li><li><div>                'data_callback' =&gt; array( $this, 'data_months_of_year' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            do_action( 'pods_form_ui_field_pick_related_objects_predefined' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( did_action( 'init' ) )&nbsp;</div></li><li><div>                pods_transient_set( 'pods_related_objects', self::$related_objects );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( self::$custom_related_objects as $object =&gt; $related_object ) {&nbsp;</div></li><li><div>            if ( ! isset( self::$related_objects[ $object ] ) ) {&nbsp;</div></li><li><div>                $new_data_loaded = true;&nbsp;</div></li><li><div>                self::$related_objects[ $object ] = $related_object;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $new_data_loaded;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return available related objects&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param boolean $force Whether to force refresh of related objects&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array Field selection array&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function related_objects ( $force = false ) {&nbsp;</div></li><li><div>        if ( $this-&gt;setup_related_objects( $force ) || null === self::$names_related ) {&nbsp;</div></li><li><div>            $related_objects = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( self::$related_objects as $related_object_name =&gt; $related_object ) {&nbsp;</div></li><li><div>                if ( ! isset( $related_objects[ $related_object[ 'group' ] ] ) ) {&nbsp;</div></li><li><div>                    $related_objects[ $related_object[ 'group' ] ] = array();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $related_objects[ $related_object[ 'group' ] ][ $related_object_name ] = $related_object[ 'label' ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$names_related = (array) apply_filters( 'pods_form_ui_field_pick_related_objects', $related_objects );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return self::$names_related;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return available simple object names&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array Simple object names&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function simple_objects () {&nbsp;</div></li><li><div>        if ( $this-&gt;setup_related_objects() || null === self::$names_simple ) {&nbsp;</div></li><li><div>            $simple_objects = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( self::$related_objects as $object =&gt; $related_object ) {&nbsp;</div></li><li><div>                if ( !isset( $related_object[ 'simple' ] ) || !$related_object[ 'simple' ] )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $simple_objects[] = $object;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$names_simple = (array) apply_filters( 'pods_form_ui_field_pick_simple_objects', $simple_objects );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return self::$names_simple;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Return available bidirectional object names&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array Bidirectional object names&nbsp;</div></li><li><div>     * @since 2.3.4&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function bidirectional_objects () {&nbsp;</div></li><li><div>        if ( $this-&gt;setup_related_objects() || null === self::$names_bidirectional ) {&nbsp;</div></li><li><div>            $bidirectional_objects = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( self::$related_objects as $object =&gt; $related_object ) {&nbsp;</div></li><li><div>                if ( !isset( $related_object[ 'bidirectional' ] ) || !$related_object[ 'bidirectional' ] )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $bidirectional_objects[] = $object;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            self::$names_bidirectional = (array) apply_filters( 'pods_form_ui_field_pick_bidirectional_objects', $bidirectional_objects );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return self::$names_bidirectional;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Define the current field's schema for DB table storage&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function schema ( $options = null ) {&nbsp;</div></li><li><div>        $schema = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $simple_tableless_objects = $this-&gt;simple_objects();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( in_array( pods_var( self::$type . '_object', $options ), $simple_tableless_objects ) )&nbsp;</div></li><li><div>            $schema = 'LONGTEXT';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $schema;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Change the way the value of the field is displayed with Pods::get&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     * @param array $fields&nbsp;</div></li><li><div>     * @param array $pod&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function display ( $value = null, $name = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $fields = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_object( $pod ) && isset( $pod-&gt;fields ) ) {&nbsp;</div></li><li><div>            $fields = $pod-&gt;fields;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ! empty( $pod-&gt;pod_data[ 'object_fields' ] ) ) {&nbsp;</div></li><li><div>                $fields = array_merge( $fields, $pod-&gt;pod_data[ 'object_fields' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        } elseif ( is_array( $pod ) && isset( $pod[ 'fields' ] ) ) {&nbsp;</div></li><li><div>            $fields = $pod[ 'fields' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( ! empty( $pod[ 'object_fields' ] ) ) {&nbsp;</div></li><li><div>                $fields = array_merge( $fields, $pod[ 'object_fields' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return pods_serial_comma( $value, array( 'field' =&gt; $name, 'fields' =&gt; $fields ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Customize output of the form field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @param mixed $value&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     * @param array $pod&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function input ( $name, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options = (array) $options;&nbsp;</div></li><li><div>        $form_field_type = PodsForm::$field_type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options[ 'grouped' ] = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options[ 'table_info' ] = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $custom = pods_var_raw( self::$type . '_custom', $options, false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $custom = apply_filters( 'pods_form_ui_field_pick_custom_values', $custom, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $ajax = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ( 'custom-simple' != pods_var( self::$type . '_object', $options ) || empty( $custom ) ) && '' != pods_var( self::$type . '_object', $options, '', null, true ) )&nbsp;</div></li><li><div>            $ajax = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( self::$field_data ) && self::$field_data[ 'id' ] == $options[ 'id' ] ) {&nbsp;</div></li><li><div>            $ajax = (boolean) self::$field_data[ 'autocomplete' ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $ajax = apply_filters( 'pods_form_ui_field_pick_ajax', $ajax, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 0 == pods_var( self::$type . '_ajax', $options, 1 ) )&nbsp;</div></li><li><div>            $ajax = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 'single' == pods_var( self::$type . '_format_type', $options, 'single' ) ) {&nbsp;</div></li><li><div>            if ( 'dropdown' == pods_var( self::$type . '_format_single', $options, 'dropdown' ) )&nbsp;</div></li><li><div>                $field_type = 'select';&nbsp;</div></li><li><div>            elseif ( 'radio' == pods_var( self::$type . '_format_single', $options, 'dropdown' ) )&nbsp;</div></li><li><div>                $field_type = 'radio';&nbsp;</div></li><li><div>            elseif ( 'autocomplete' == pods_var( self::$type . '_format_single', $options, 'dropdown' ) )&nbsp;</div></li><li><div>                $field_type = 'select2';&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                // Support custom integration&nbsp;</div></li><li><div>                do_action( 'pods_form_ui_field_pick_input_' . pods_var( self::$type . '_format_type', $options, 'single' ) . '_' . pods_var( self::$type . '_format_single', $options, 'dropdown' ), $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>                do_action( 'pods_form_ui_field_pick_input', pods_var( self::$type . '_format_type', $options, 'single' ), $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>                return;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( 'multi' == pods_var( self::$type . '_format_type', $options, 'single' ) ) {&nbsp;</div></li><li><div>            if ( !empty( $value ) && !is_array( $value ) )&nbsp;</div></li><li><div>                $value = explode( ', ', $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'checkbox' == pods_var( self::$type . '_format_multi', $options, 'checkbox' ) )&nbsp;</div></li><li><div>                $field_type = 'checkbox';&nbsp;</div></li><li><div>            elseif ( 'multiselect' == pods_var( self::$type . '_format_multi', $options, 'checkbox' ) )&nbsp;</div></li><li><div>                $field_type = 'select';&nbsp;</div></li><li><div>            elseif ( 'autocomplete' == pods_var( self::$type . '_format_multi', $options, 'checkbox' ) )&nbsp;</div></li><li><div>                $field_type = 'select2';&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                // Support custom integration&nbsp;</div></li><li><div>                do_action( 'pods_form_ui_field_pick_input_' . pods_var( self::$type . '_format_type', $options, 'single' ) . '_' . pods_var( self::$type . '_format_multi', $options, 'checkbox' ), $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>                do_action( 'pods_form_ui_field_pick_input', pods_var( self::$type . '_format_type', $options, 'single' ), $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>                return;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            // Support custom integration&nbsp;</div></li><li><div>            do_action( 'pods_form_ui_field_pick_input', pods_var( self::$type . '_format_type', $options, 'single' ), $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        pods_view( PODS_DIR . 'ui/fields/' . $field_type . '.php', compact( array_keys( get_defined_vars() ) ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Validate a value before it's saved&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     * @param array $fields&nbsp;</div></li><li><div>     * @param array $pod&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param null $params&nbsp;</div></li><li><div>     * @return array|bool&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function validate ( $value, $name = null, $options = null, $fields = null, $pod = null, $id = null, $params = null ) {&nbsp;</div></li><li><div>        if ( empty( self::$api ) )&nbsp;</div></li><li><div>            self::$api = pods_api();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $simple_tableless_objects = $this-&gt;simple_objects();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $related_pick_limit = 0;&nbsp;</div></li><li><div>        $related_field = $related_pod = $current_related_ids = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Bidirectional relationship requirement checks&nbsp;</div></li><li><div>        $related_object = pods_var( self::$type . '_object', $options, '' ); // pod, post_type, taxonomy, etc..&nbsp;</div></li><li><div>        $related_val = pods_var( self::$type . '_val', $options, $related_object, null, true ); // pod name, post type name, taxonomy name, etc..&nbsp;</div></li><li><div>        if ( empty( $related_val ) ) {&nbsp;</div></li><li><div>            $related_val = $related_object;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $related_sister_id = (int) pods_var( 'sister_id', $options, 0 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options[ 'id' ] = (int) $options[ 'id' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( self::$related_data[ $options[ 'id' ] ] ) || empty( self::$related_data[ $options[ 'id' ] ] ) )&nbsp;</div></li><li><div>            self::$related_data[ $options[ 'id' ] ] = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $related_sister_id ) && !in_array( $related_object, $simple_tableless_objects ) ) {&nbsp;</div></li><li><div>            $related_pod = self::$api-&gt;load_pod( array( 'name' =&gt; $related_val, 'table_info' =&gt; false ), false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== $related_pod && ( 'pod' == $related_object || $related_object == $related_pod[ 'type' ] ) ) {&nbsp;</div></li><li><div>                $related_field = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Ensure sister_id exists on related Pod&nbsp;</div></li><li><div>                foreach ( $related_pod[ 'fields' ] as $related_pod_field ) {&nbsp;</div></li><li><div>                    if ( 'pick' == $related_pod_field[ 'type' ] && $related_sister_id == $related_pod_field[ 'id' ] ) {&nbsp;</div></li><li><div>                        $related_field = $related_pod_field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $related_field ) ) {&nbsp;</div></li><li><div>                    $current_ids = self::$api-&gt;lookup_related_items( $fields[ $name ][ 'id' ], $pod[ 'id' ], $id, $fields[ $name ], $pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    self::$related_data[ $options[ 'id' ] ][ 'current_ids' ] = $current_ids;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $value_ids = $value;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Convert values from a comma-separated string into an array&nbsp;</div></li><li><div>                    if ( !is_array( $value_ids ) )&nbsp;</div></li><li><div>                        $value_ids = explode( ', ', $value_ids );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $value_ids = array_unique( array_filter( $value_ids ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Get ids to remove&nbsp;</div></li><li><div>                    $remove_ids = array_diff( $current_ids, $value_ids );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $related_required = (boolean) pods_var( 'required', $related_field[ 'options' ], 0 );&nbsp;</div></li><li><div>                    $related_pick_limit = (int) pods_var( self::$type . '_limit', $related_field[ 'options' ], 0 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 'single' == pods_var_raw( self::$type . '_format_type', $related_field[ 'options' ] ) )&nbsp;</div></li><li><div>                        $related_pick_limit = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // Validate Required&nbsp;</div></li><li><div>                    if ( $related_required && !empty( $remove_ids ) ) {&nbsp;</div></li><li><div>                        foreach ( $remove_ids as $related_id ) {&nbsp;</div></li><li><div>                            $bidirectional_ids = self::$api-&gt;lookup_related_items( $related_field[ 'id' ], $related_pod[ 'id' ], $related_id, $related_field, $related_pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            self::$related_data[ $options[ 'id' ] ][ 'related_ids_' . $related_id ] = $bidirectional_ids;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( empty( $bidirectional_ids ) || ( in_array( $id, $bidirectional_ids ) && 1 == count( $bidirectional_ids ) ) )&nbsp;</div></li><li><div>                                return sprintf( __( 'The %s field is required and cannot be removed by the %s field', 'pods' ), $related_field[ 'label' ], $options[ 'label' ] );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $related_pod = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $related_pod = false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( empty( self::$related_data[ $options[ 'id' ] ] ) )&nbsp;</div></li><li><div>            unset( self::$related_data[ $options[ 'id' ] ] );&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            self::$related_data[ $options[ 'id' ] ][ 'related_pod' ] = $related_pod;&nbsp;</div></li><li><div>            self::$related_data[ $options[ 'id' ] ][ 'related_field' ] = $related_field;&nbsp;</div></li><li><div>            self::$related_data[ $options[ 'id' ] ][ 'related_pick_limit' ] = $related_pick_limit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $pick_limit = (int) pods_var( self::$type . '_limit', $options[ 'options' ], 0 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'single' == pods_var_raw( self::$type . '_format_type', $options[ 'options' ] ) )&nbsp;</div></li><li><div>                $pick_limit = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $related_field[ 'id' ] = (int) $related_field[ 'id' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !isset( self::$related_data[ $related_field[ 'id' ] ] ) || empty( self::$related_data[ $related_field[ 'id' ] ] ) ) {&nbsp;</div></li><li><div>                self::$related_data[ $related_field[ 'id' ] ] = array(&nbsp;</div></li><li><div>                    'related_pod' =&gt; $pod, &nbsp;</div></li><li><div>                    'related_field' =&gt; $options, &nbsp;</div></li><li><div>                    'related_pick_limit' =&gt; $pick_limit&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Save the value to the DB&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param mixed $value&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     * @param array $fields&nbsp;</div></li><li><div>     * @param array $pod&nbsp;</div></li><li><div>     * @param object $params&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function save ( $value, $id = null, $name = null, $options = null, $fields = null, $pod = null, $params = null ) {&nbsp;</div></li><li><div>        if ( empty( self::$api ) )&nbsp;</div></li><li><div>            self::$api = pods_api();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $options[ 'id' ] = (int) $options[ 'id' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( self::$related_data[ $options[ 'id' ] ] ) )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $related_pod = self::$related_data[ $options[ 'id' ] ][ 'related_pod' ];&nbsp;</div></li><li><div>        $related_field = self::$related_data[ $options[ 'id' ] ][ 'related_field' ];&nbsp;</div></li><li><div>        $related_pick_limit = self::$related_data[ $options[ 'id' ] ][ 'related_pick_limit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Bidirectional relationship updates&nbsp;</div></li><li><div>        if ( !empty( $related_field ) ) {&nbsp;</div></li><li><div>            // Don't use no conflict mode unless this isn't the current pod type&nbsp;</div></li><li><div>            $no_conflict = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $related_pod[ 'type' ] != $pod[ 'type' ] )&nbsp;</div></li><li><div>                $no_conflict = pods_no_conflict_check( $related_pod[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !$no_conflict )&nbsp;</div></li><li><div>                pods_no_conflict_on( $related_pod[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $value = array_filter( $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $value as $related_id ) {&nbsp;</div></li><li><div>                if ( isset( self::$related_data[ $options[ 'id' ] ][ 'related_ids_' . $related_id ] ) && !empty( self::$related_data[ $options[ 'id' ] ][ 'related_ids_' . $related_id ] ) )&nbsp;</div></li><li><div>                    $bidirectional_ids = self::$related_data[ $options[ 'id' ] ][ 'related_ids_' . $related_id ];&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $bidirectional_ids = self::$api-&gt;lookup_related_items( $related_field[ 'id' ], $related_pod[ 'id' ], $related_id, $related_field, $related_pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $bidirectional_ids = array_filter( $bidirectional_ids );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( empty( $bidirectional_ids ) )&nbsp;</div></li><li><div>                    $bidirectional_ids = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $remove_ids = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 0 &lt; $related_pick_limit && !empty( $bidirectional_ids ) && !in_array( $id, $bidirectional_ids ) ) {&nbsp;</div></li><li><div>                    while ( $related_pick_limit &lt;= count( $bidirectional_ids ) ) {&nbsp;</div></li><li><div>                        $remove_ids[] = (int) array_pop( $bidirectional_ids );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Remove this item from related items no longer related to&nbsp;</div></li><li><div>                $remove_ids = array_unique( array_filter( $remove_ids ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Add to related items&nbsp;</div></li><li><div>                if ( !in_array( $id, $bidirectional_ids ) )&nbsp;</div></li><li><div>                    $bidirectional_ids[] = $id;&nbsp;</div></li><li><div>                // Nothing to change&nbsp;</div></li><li><div>                elseif ( empty( $remove_ids ) )&nbsp;</div></li><li><div>                    continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                self::$api-&gt;save_relationships( $related_id, $bidirectional_ids, $related_pod, $related_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $remove_ids ) )&nbsp;</div></li><li><div>                    self::$api-&gt;delete_relationships( $remove_ids, $related_id, $pod, $options );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !$no_conflict )&nbsp;</div></li><li><div>                pods_no_conflict_off( $related_pod[ 'type' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Delete the value from the DB&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     * @param array $pod&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function delete ( $id = null, $name = null, $options = null, $pod = null ) {&nbsp;</div></li><li><div>        if ( empty( self::$api ) )&nbsp;</div></li><li><div>            self::$api = pods_api();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $simple_tableless_objects = $this-&gt;simple_objects();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Bidirectional relationship requirement checks&nbsp;</div></li><li><div>        $related_object = pods_var( self::$type . '_object', $options, '' ); // pod, post_type, taxonomy, etc..&nbsp;</div></li><li><div>        $related_val = pods_var( self::$type . '_val', $options, $related_object, null, true ); // pod name, post type name, taxonomy name, etc..&nbsp;</div></li><li><div>        $related_sister_id = (int) pods_var( 'sister_id', $options, 0 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $related_sister_id ) && !in_array( $related_object, $simple_tableless_objects ) ) {&nbsp;</div></li><li><div>            $related_pod = self::$api-&gt;load_pod( array( 'name' =&gt; $related_val, 'table_info' =&gt; false ), false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( false !== $related_pod && ( 'pod' == $related_object || $related_object == $related_pod[ 'type' ] ) ) {&nbsp;</div></li><li><div>                $related_field = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Ensure sister_id exists on related Pod&nbsp;</div></li><li><div>                foreach ( $related_pod[ 'fields' ] as $related_pod_field ) {&nbsp;</div></li><li><div>                    if ( 'pick' == $related_pod_field[ 'type' ] && $related_sister_id == $related_pod_field[ 'id' ] ) {&nbsp;</div></li><li><div>                        $related_field = $related_pod_field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $related_field ) ) {&nbsp;</div></li><li><div>                    $values = self::$api-&gt;lookup_related_items( $options[ 'id' ], $pod[ 'id' ], $id, $options, $pod );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $values ) ) {&nbsp;</div></li><li><div>                        $no_conflict = pods_no_conflict_check( $related_pod[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !$no_conflict )&nbsp;</div></li><li><div>                            pods_no_conflict_on( $related_pod[ 'type' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        self::$api-&gt;delete_relationships( $values, $id, $related_pod, $related_field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !$no_conflict )&nbsp;</div></li><li><div>                            pods_no_conflict_off( $related_pod[ 'type' ] );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Customize the Pods UI manage table column output&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param int $id&nbsp;</div></li><li><div>     * @param mixed $value&nbsp;</div></li><li><div>     * @param string $name&nbsp;</div></li><li><div>     * @param array $options&nbsp;</div></li><li><div>     * @param array $fields&nbsp;</div></li><li><div>     * @param array $pod&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function ui ( $id, $value, $name = null, $options = null, $fields = null, $pod = null ) {&nbsp;</div></li><li><div>        $value = $this-&gt;simple_value( $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $this-&gt;display( $value, $name, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the data from the field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     * @param boolean $in_form&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array Array of possible field data&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data ( $name, $value = null, $options = null, $pod = null, $id = null, $in_form = true ) {&nbsp;</div></li><li><div>        if ( isset( $options[ 'options' ] ) ) {&nbsp;</div></li><li><div>            $options = array_merge( $options, $options[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $options[ 'options' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = pods_var_raw( 'data', $options, null, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_params = array(&nbsp;</div></li><li><div>            'name' =&gt; $name, // The name of the field&nbsp;</div></li><li><div>            'value' =&gt; $value, // The value of the field&nbsp;</div></li><li><div>            'options' =&gt; $options, // Field options&nbsp;</div></li><li><div>            'pod' =&gt; $pod, // Pod data&nbsp;</div></li><li><div>            'id' =&gt; $id, // Item ID&nbsp;</div></li><li><div>            'context' =&gt; 'data', // Data context&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $data )&nbsp;</div></li><li><div>            $data = (array) $data;&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $data = $this-&gt;get_object_data( $object_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 'single' == pods_var( self::$type . '_format_type', $options, 'single' ) && 'dropdown' == pods_var( self::$type . '_format_single', $options, 'dropdown' ) )&nbsp;</div></li><li><div>            $data = array( '' =&gt; pods_var_raw( self::$type . '_select_text', $options, __( '-- Select One --', 'pods' ), null, true ) ) + $data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = apply_filters( 'pods_field_pick_data', $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Convert a simple value to the correct value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     * @param boolean $raw Whether to return the raw list of keys (true) or convert to key=&gt;value (false)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return mixed Corrected value&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function simple_value ( $name, $value = null, $options = null, $pod = null, $id = null, $raw = false ) {&nbsp;</div></li><li><div>        if ( in_array( pods_var( self::$type . '_object', $options ), self::simple_objects() ) ) {&nbsp;</div></li><li><div>            if ( isset( $options[ 'options' ] ) ) {&nbsp;</div></li><li><div>                $options = array_merge( $options, $options[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                unset( $options[ 'options' ] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( !is_array( $value ) && 0 &lt; strlen( $value ) ) {&nbsp;</div></li><li><div>                $simple = @json_decode( $value, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( is_array( $simple ) )&nbsp;</div></li><li><div>                    $value = $simple;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $data = pods_var_raw( 'data', $options, null, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $object_params = array(&nbsp;</div></li><li><div>                'name' =&gt; $name, // The name of the field&nbsp;</div></li><li><div>                'value' =&gt; $value, // The value of the field&nbsp;</div></li><li><div>                'options' =&gt; $options, // Field options&nbsp;</div></li><li><div>                'pod' =&gt; $pod, // Pod data&nbsp;</div></li><li><div>                'id' =&gt; $id, // Item ID&nbsp;</div></li><li><div>                'context' =&gt; 'simple_value', // Data context&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( null === $data )&nbsp;</div></li><li><div>                $data = $this-&gt;get_object_data( $object_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $data = (array) $data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $key = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_array( $value ) ) {&nbsp;</div></li><li><div>                if ( !empty( $data ) ) {&nbsp;</div></li><li><div>                    $val = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $value as $k =&gt; $v ) {&nbsp;</div></li><li><div>                        if ( isset( $data[ $v ] ) ) {&nbsp;</div></li><li><div>                            if ( false === $raw ) {&nbsp;</div></li><li><div>                                $k = $v;&nbsp;</div></li><li><div>                                $v = $data[ $v ];&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $val[ $k ] = $v;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $value = $val;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( $data[ $value ] ) && false === $raw ) {&nbsp;</div></li><li><div>                $key = $value;&nbsp;</div></li><li><div>                $value = $data[ $value ];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $single_multi = pods_var( self::$type . '_format_type', $options, 'single' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'multi' == $single_multi )&nbsp;</div></li><li><div>                $limit = (int) pods_var( self::$type . '_limit', $options, 0 );&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $limit = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( is_array( $value ) && 0 &lt; $limit ) {&nbsp;</div></li><li><div>                if ( 1 == $limit )&nbsp;</div></li><li><div>                    $value = current( $value );&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $value = array_slice( $value, 0, $limit, true );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( !is_array( $value ) && null !== $value && 0 &lt; strlen( $value ) ) {&nbsp;</div></li><li><div>                if ( 1 != $limit || ( true === $raw && 'multi' == $single_multi ) ) {&nbsp;</div></li><li><div>                    $value = array(&nbsp;</div></li><li><div>                        $key =&gt; $value&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $value;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get the label from a pick value&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.2&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function value_to_label ( $name, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        if ( isset( $options[ 'options' ] ) ) {&nbsp;</div></li><li><div>            $options = array_merge( $options, $options[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $options[ 'options' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = pods_var_raw( 'data', $options, null, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_params = array(&nbsp;</div></li><li><div>            'name' =&gt; $name, // The name of the field&nbsp;</div></li><li><div>            'value' =&gt; $value, // The value of the field&nbsp;</div></li><li><div>            'options' =&gt; $options, // Field options&nbsp;</div></li><li><div>            'pod' =&gt; $pod, // Pod data&nbsp;</div></li><li><div>            'id' =&gt; $id, // Item ID&nbsp;</div></li><li><div>            'context' =&gt; 'value_to_label', // Data context&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $data )&nbsp;</div></li><li><div>            $data = (array) $data;&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $data = $this-&gt;get_object_data( $object_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $labels = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $data as $v =&gt; $l ) {&nbsp;</div></li><li><div>            if ( !in_array( $l, $labels ) && ( $value == $v || ( is_array( $value ) && in_array( $v, $value ) ) ) )&nbsp;</div></li><li><div>                $labels[] = $l;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $labels = apply_filters( 'pods_field_pick_value_to_label', $labels, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $labels = pods_serial_comma( $labels );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $labels;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get available items from a relationship field&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array|string $field Field array or field name&nbsp;</div></li><li><div>     * @param array $options [optional] Field options array overrides&nbsp;</div></li><li><div>     * @param array $object_params [optional] Additional get_object_data options&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array An array of available items from a relationship field&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_field_data( $field, $options = array(), $object_params = array() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Handle field array overrides&nbsp;</div></li><li><div>        if ( is_array( $field ) ) {&nbsp;</div></li><li><div>            $options = array_merge( $field, $options );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Get field name from array&nbsp;</div></li><li><div>        $field = pods_var_raw( 'name', $options, $field, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Field name or options not set&nbsp;</div></li><li><div>        if ( empty( $field ) || empty( $options ) ) {&nbsp;</div></li><li><div>            return array();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Options normalization&nbsp;</div></li><li><div>        $options = array_merge( $options, pods_var_raw( 'options', $options, array(), null, true ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Setup object params&nbsp;</div></li><li><div>        $object_params = array_merge(&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; $field, // The name of the field&nbsp;</div></li><li><div>                'options' =&gt; $options, // Field options&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            $object_params&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Get data override&nbsp;</div></li><li><div>        $data = pods_var_raw( 'data', $options, null, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Return data override&nbsp;</div></li><li><div>        if ( null !== $data ) {&nbsp;</div></li><li><div>            $data = (array) $data;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Get object data&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $data = $this-&gt;get_object_data( $object_params );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $data;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Get data from relationship objects&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $object_params Object data parameters&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array|bool Object data&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function get_object_data ( $object_params = null ) {&nbsp;</div></li><li><div>        global $wpdb, $polylang, $sitepress, $icl_adjust_id_url_filter_off;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $current_language = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // WPML support&nbsp;</div></li><li><div>        if ( is_object( $sitepress ) && !$icl_adjust_id_url_filter_off )&nbsp;</div></li><li><div>            $current_language = pods_sanitize( ICL_LANGUAGE_CODE );&nbsp;</div></li><li><div>        // Polylang support&nbsp;</div></li><li><div>        elseif ( function_exists( 'pll_current_language' ) )&nbsp;</div></li><li><div>            $current_language = pll_current_language( 'slug' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_params = array_merge(&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; '', // The name of the field&nbsp;</div></li><li><div>                'value' =&gt; '', // The value of the field&nbsp;</div></li><li><div>                'options' =&gt; array(), // Field options&nbsp;</div></li><li><div>                'pod' =&gt; '', // Pod data&nbsp;</div></li><li><div>                'id' =&gt; '', // Item ID&nbsp;</div></li><li><div>                'context' =&gt; '', // Data context&nbsp;</div></li><li><div>                'data_params' =&gt; array(&nbsp;</div></li><li><div>                    'query' =&gt; '' // Query being searched&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'page' =&gt; 1, // Page number of results to get&nbsp;</div></li><li><div>                'limit' =&gt; 0 // How many data items to limit to (autocomplete defaults to 30, set to -1 or 1+ to override)&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            $object_params&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $name = $object_params[ 'name' ];&nbsp;</div></li><li><div>        $value = $object_params[ 'value' ];&nbsp;</div></li><li><div>        $options = $object_params[ 'options' ] = (array) $object_params[ 'options' ];&nbsp;</div></li><li><div>        $pod = $object_params[ 'pod' ];&nbsp;</div></li><li><div>        $id = $object_params[ 'id' ];&nbsp;</div></li><li><div>        $context = $object_params[ 'context' ];&nbsp;</div></li><li><div>        $data_params = $object_params[ 'data_params' ] = (array) $object_params[ 'data_params' ];&nbsp;</div></li><li><div>        $page = min( 1, (int) $object_params[ 'page' ] );&nbsp;</div></li><li><div>        $limit = (int) $object_params[ 'limit' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $options[ 'options' ] ) ) {&nbsp;</div></li><li><div>            $options = array_merge( $options, $options[ 'options' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $options[ 'options' ] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $data = apply_filters( 'pods_field_pick_object_data', null, $name, $value, $options, $pod, $id, $object_params );&nbsp;</div></li><li><div>        $items = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $options[ self::$type . '_object' ] ) )&nbsp;</div></li><li><div>            $data = pods_var_raw( 'data', $options, array(), null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $simple = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null === $data ) {&nbsp;</div></li><li><div>            $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( 'custom-simple' == $options[ self::$type . '_object' ] ) {&nbsp;</div></li><li><div>                $custom = pods_var_raw( self::$type . '_custom', $options, '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $custom = apply_filters( 'pods_form_ui_field_pick_custom_values', $custom, $name, $value, $options, $pod, $id, $object_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $custom ) ) {&nbsp;</div></li><li><div>                    if ( !is_array( $custom ) ) {&nbsp;</div></li><li><div>                        $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $custom = explode( &quot;\n&quot;, trim( $custom ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        foreach ( $custom as $custom_value ) {&nbsp;</div></li><li><div>                            $custom_label = explode( '|', $custom_value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( empty( $custom_label ) )&nbsp;</div></li><li><div>                                continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( 1 == count( $custom_label ) )&nbsp;</div></li><li><div>                                $custom_label = $custom_value;&nbsp;</div></li><li><div>                            else {&nbsp;</div></li><li><div>                                $custom_value = $custom_label[ 0 ];&nbsp;</div></li><li><div>                                $custom_label = $custom_label[ 1 ];&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $custom_value = trim( (string) $custom_value );&nbsp;</div></li><li><div>                            $custom_label = trim( (string) $custom_label );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $data[ $custom_value ] = $custom_label;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    else&nbsp;</div></li><li><div>                        $data = $custom;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $simple = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( self::$related_objects[ $options[ self::$type . '_object' ] ] ) && isset( self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data' ] ) && !empty( self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data' ] ) ) {&nbsp;</div></li><li><div>                $data = self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $simple = true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( isset( self::$related_objects[ $options[ self::$type . '_object' ] ] ) && isset( self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data_callback' ] ) && is_callable( self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data_callback' ] ) ) {&nbsp;</div></li><li><div>                $data = call_user_func_array(&nbsp;</div></li><li><div>                    self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data_callback' ], &nbsp;</div></li><li><div>                    array( $name, $value, $options, $pod, $id )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $simple = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Cache data from callback&nbsp;</div></li><li><div>                if ( !empty( $data ) )&nbsp;</div></li><li><div>                    self::$related_objects[ $options[ self::$type . '_object' ] ][ 'data' ] = $data;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            elseif ( 'simple_value' != $context ) {&nbsp;</div></li><li><div>                $pick_val = pods_var( self::$type . '_val', $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'table' == pods_var( self::$type . '_object', $options ) )&nbsp;</div></li><li><div>                    $pick_val = pods_var( self::$type . '_table', $options, $pick_val, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( '__current__' == $pick_val ) {&nbsp;</div></li><li><div>                    if ( is_object( $pod ) )&nbsp;</div></li><li><div>                        $pick_val = $pod-&gt;pod;&nbsp;</div></li><li><div>                    elseif ( is_array( $pod ) )&nbsp;</div></li><li><div>                        $pick_val = $pod[ 'name' ];&nbsp;</div></li><li><div>                    elseif ( 0 &lt; strlen( $pod ) )&nbsp;</div></li><li><div>                        $pick_val = $pod;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $options[ 'table_info' ] = pods_api()-&gt;get_table_info( pods_var( self::$type . '_object', $options ), $pick_val, null, null, $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $search_data = pods_data();&nbsp;</div></li><li><div>                $search_data-&gt;table( $options[ 'table_info' ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( isset( $options[ 'table_info' ][ 'pod' ] ) && !empty( $options[ 'table_info' ][ 'pod' ] ) && isset( $options[ 'table_info' ][ 'pod' ][ 'name' ] ) ) {&nbsp;</div></li><li><div>                    $search_data-&gt;pod = $options[ 'table_info' ][ 'pod' ][ 'name' ];&nbsp;</div></li><li><div>                    $search_data-&gt;fields = $options[ 'table_info' ][ 'pod' ][ 'fields' ];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $params = array(&nbsp;</div></li><li><div>                    'select' =&gt; &quot;`t`.`{$search_data-&gt;field_id}`, `t`.`{$search_data-&gt;field_index}`&quot;, &nbsp;</div></li><li><div>                    'table' =&gt; $search_data-&gt;table, &nbsp;</div></li><li><div>                    'where' =&gt; pods_var_raw( self::$type . '_where', $options, (array) $options[ 'table_info' ][ 'where_default' ], null, true ), &nbsp;</div></li><li><div>                    'orderby' =&gt; pods_var_raw( self::$type . '_orderby', $options, null, null, true ), &nbsp;</div></li><li><div>                    'groupby' =&gt; pods_var_raw( self::$type . '_groupby', $options, null, null, true ), &nbsp;</div></li><li><div>                    //'having' =&gt; pods_var_raw( self::$type . '_having', $options, null, null, true ), &nbsp;</div></li><li><div>                    'pagination' =&gt; false, &nbsp;</div></li><li><div>                    'search' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( in_array( $options[ self::$type . '_object' ], array( 'site', 'network' ) ) )&nbsp;</div></li><li><div>                    $params[ 'select' ] .= ', `t`.`path`';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $params[ 'where' ] ) && (array) $options[ 'table_info' ][ 'where_default' ] != $params[ 'where' ] )&nbsp;</div></li><li><div>                    $params[ 'where' ] = pods_evaluate_tags( $params[ 'where' ], true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( empty( $params[ 'where' ] ) || ( !is_array( $params[ 'where' ] ) && strlen( trim( $params[ 'where' ] ) ) &lt; 1 ) )&nbsp;</div></li><li><div>                    $params[ 'where' ] = array();&nbsp;</div></li><li><div>                elseif ( !is_array( $params[ 'where' ] ) )&nbsp;</div></li><li><div>                    $params[ 'where' ] = (array) $params[ 'where' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'value_to_label' == $context )&nbsp;</div></li><li><div>                    $params[ 'where' ][] = &quot;`t`.`{$search_data-&gt;field_id}` = &quot; . number_format( $value, 0, '', '' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                /** not needed yet&nbsp;</div></li><li><div>                if ( !empty( $params[ 'orderby' ] ) )&nbsp;</div></li><li><div>                    $params[ 'orderby' ] = pods_evaluate_tags( $params[ 'orderby' ], true );&nbsp;</div></li><li><div>&nbsp;&nbsp;</div></li><li><div>                if ( !empty( $params[ 'groupby' ] ) )&nbsp;</div></li><li><div>                    $params[ 'groupby' ] = pods_evaluate_tags( $params[ 'groupby' ], true );*/&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $display = trim( pods_var( self::$type . '_display', $options ), ' {@}' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 0 &lt; strlen( $display ) ) {&nbsp;</div></li><li><div>                    if ( isset( $options[ 'table_info' ][ 'pod' ] ) && !empty( $options[ 'table_info' ][ 'pod' ] ) ) {&nbsp;</div></li><li><div>                        if ( isset( $options[ 'table_info' ][ 'pod' ][ 'object_fields' ] ) && isset( $options[ 'table_info' ][ 'pod' ][ 'object_fields' ][ $display ] ) ) {&nbsp;</div></li><li><div>                            $search_data-&gt;field_index = $display;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $params[ 'select' ] = &quot;`t`.`{$search_data-&gt;field_id}`, `t`.`{$search_data-&gt;field_index}`&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( isset( $options[ 'table_info' ][ 'pod' ][ 'fields' ][ $display ] ) ) {&nbsp;</div></li><li><div>                            $search_data-&gt;field_index = $display;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( 'table' == $options[ 'table_info' ][ 'pod' ][ 'storage' ] && !in_array( $options[ 'table_info' ][ 'pod' ][ 'type' ], array( 'pod', 'table' ) ) )&nbsp;</div></li><li><div>                                $params[ 'select' ] = &quot;`t`.`{$search_data-&gt;field_id}`, `d`.`{$search_data-&gt;field_index}`&quot;;&nbsp;</div></li><li><div>                            elseif ( 'meta' == $options[ 'table_info' ][ 'pod' ][ 'storage' ] )&nbsp;</div></li><li><div>                                $params[ 'select' ] = &quot;`t`.`{$search_data-&gt;field_id}`, `{$search_data-&gt;field_index}`.`meta_value` AS {$search_data-&gt;field_index}&quot;;&nbsp;</div></li><li><div>                            else&nbsp;</div></li><li><div>                                $params[ 'select' ] = &quot;`t`.`{$search_data-&gt;field_id}`, `t`.`{$search_data-&gt;field_index}`&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    elseif ( isset( $options[ 'table_info' ][ 'object_fields' ] ) && isset( $options[ 'table_info' ][ 'object_fields' ][ $display ] ) ) {&nbsp;</div></li><li><div>                        $search_data-&gt;field_index = $display;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $params[ 'select' ] = &quot;`t`.`{$search_data-&gt;field_id}`, `t`.`{$search_data-&gt;field_index}`&quot;;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $autocomplete = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'single' == pods_var( self::$type . '_format_type', $options, 'single' ) && 'autocomplete' == pods_var( self::$type . '_format_single', $options, 'dropdown' ) )&nbsp;</div></li><li><div>                    $autocomplete = true;&nbsp;</div></li><li><div>                elseif ( 'multi' == pods_var( self::$type . '_format_type', $options, 'single' ) && 'autocomplete' == pods_var( self::$type . '_format_multi', $options, 'checkbox' ) )&nbsp;</div></li><li><div>                    $autocomplete = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $hierarchy = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'data' == $context && !$autocomplete ) {&nbsp;</div></li><li><div>                    if ( 'single' == pods_var( self::$type . '_format_type', $options, 'single' ) && in_array( pods_var( self::$type . '_format_single', $options, 'dropdown' ), array( 'dropdown', 'radio' ) ) )&nbsp;</div></li><li><div>                        $hierarchy = true;&nbsp;</div></li><li><div>                    elseif ( 'multi' == pods_var( self::$type . '_format_type', $options, 'single' ) && in_array( pods_var( self::$type . '_format_multi', $options, 'checkbox' ), array( 'multiselect', 'checkbox' ) ) )&nbsp;</div></li><li><div>                        $hierarchy = true;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $hierarchy && $options[ 'table_info' ][ 'object_hierarchical' ] && !empty( $options[ 'table_info' ][ 'field_parent' ] ) )&nbsp;</div></li><li><div>                    $params[ 'select' ] .= ', ' . $options[ 'table_info' ][ 'field_parent_select' ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $autocomplete ) {&nbsp;</div></li><li><div>                    if ( 0 == $limit ) {&nbsp;</div></li><li><div>                        $limit = 30;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $params[ 'limit' ] = apply_filters( 'pods_form_ui_field_pick_autocomplete_limit', $limit, $name, $value, $options, $pod, $id, $object_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( is_array( $value ) && $params[ 'limit' ] &lt; count( $value ) ) {&nbsp;</div></li><li><div>                        $params[ 'limit' ] = count( $value );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $params[ 'page' ] = $page;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( 'admin_ajax_relationship' == $context ) {&nbsp;</div></li><li><div>                        $lookup_where = array(&nbsp;</div></li><li><div>                            $search_data-&gt;field_index =&gt; &quot;`t`.`{$search_data-&gt;field_index}` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // @todo Hook into WPML for each table&nbsp;</div></li><li><div>                        if ( $wpdb-&gt;users == $search_data-&gt;table ) {&nbsp;</div></li><li><div>                            $lookup_where[ 'display_name' ] = &quot;`t`.`display_name` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'user_login' ] = &quot;`t`.`user_login` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'user_email' ] = &quot;`t`.`user_email` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( $wpdb-&gt;posts == $search_data-&gt;table ) {&nbsp;</div></li><li><div>                            $lookup_where[ 'post_title' ] = &quot;`t`.`post_title` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'post_name' ] = &quot;`t`.`post_name` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'post_content' ] = &quot;`t`.`post_content` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'post_excerpt' ] = &quot;`t`.`post_excerpt` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( $wpdb-&gt;terms == $search_data-&gt;table ) {&nbsp;</div></li><li><div>                            $lookup_where[ 'name' ] = &quot;`t`.`name` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'slug' ] = &quot;`t`.`slug` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( $wpdb-&gt;comments == $search_data-&gt;table ) {&nbsp;</div></li><li><div>                            $lookup_where[ 'comment_content' ] = &quot;`t`.`comment_content` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'comment_author' ] = &quot;`t`.`comment_author` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                            $lookup_where[ 'comment_author_email' ] = &quot;`t`.`comment_author_email` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%'&quot;;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $lookup_where = apply_filters( 'pods_form_ui_field_pick_autocomplete_lookup', $lookup_where, $data_params[ 'query' ], $name, $value, $options, $pod, $id, $object_params, $search_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $lookup_where ) )&nbsp;</div></li><li><div>                            $params[ 'where' ][] = implode( ' OR ', $lookup_where );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $orderby = array();&nbsp;</div></li><li><div>                        $orderby[] = &quot;(`t`.`{$search_data-&gt;field_index}` LIKE '%&quot; . pods_sanitize_like( $data_params[ 'query' ] ) . &quot;%' ) DESC&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $pick_orderby = pods_var_raw( self::$type . '_orderby', $options, null, null, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 0 &lt; strlen( $pick_orderby ) )&nbsp;</div></li><li><div>                            $orderby[] = $pick_orderby;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $orderby[] = &quot;`t`.`{$search_data-&gt;field_index}`&quot;;&nbsp;</div></li><li><div>                        $orderby[] = &quot;`t`.`{$search_data-&gt;field_id}`&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $params[ 'orderby' ] = $orderby;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                elseif ( 0 &lt; $limit ) {&nbsp;</div></li><li><div>                    $params[ 'limit' ] = $limit;&nbsp;</div></li><li><div>                    $params[ 'page' ] = $page;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $extra = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $wpdb-&gt;posts == $search_data-&gt;table )&nbsp;</div></li><li><div>                    $extra = ', `t`.`post_type`';&nbsp;</div></li><li><div>                elseif ( $wpdb-&gt;terms == $search_data-&gt;table )&nbsp;</div></li><li><div>                    $extra = ', `tt`.`taxonomy`';&nbsp;</div></li><li><div>                elseif ( $wpdb-&gt;comments == $search_data-&gt;table )&nbsp;</div></li><li><div>                    $extra = ', `t`.`comment_type`';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $params[ 'select' ] .= $extra;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'user' == pods_var( self::$type . '_object', $options ) ) {&nbsp;</div></li><li><div>                    $roles = pods_var( self::$type . '_user_role', $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if ( !empty( $roles ) ) {&nbsp;</div></li><li><div>                        $where = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        foreach ( (array) $roles as $role ) {&nbsp;</div></li><li><div>                            if ( empty( $role ) || ( pods_clean_name( $role ) != $role && sanitize_title( $role ) != $role ) )&nbsp;</div></li><li><div>                                continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $where[] = $wpdb-&gt;base_prefix . ( ( is_multisite() && !is_main_site() ) ? get_current_blog_id() . '_' : '' ) . 'capabilities.meta_value LIKE &quot;%\&quot;' . pods_sanitize_like( $role ) . '\&quot;%&quot;';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !empty( $where ) ) {&nbsp;</div></li><li><div>                            $params[ 'where' ][] = implode( ' OR ', $where );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $results = $search_data-&gt;select( $params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $autocomplete && $params[ 'limit' ] &lt; $search_data-&gt;total_found() ) {&nbsp;</div></li><li><div>                    if ( !empty( $value ) ) {&nbsp;</div></li><li><div>                        $ids = $value;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( is_array( $ids ) && isset( $ids[ 0 ] ) && is_array( $ids[ 0 ] ) ) {&nbsp;</div></li><li><div>                            $ids = wp_list_pluck( $ids, $search_data-&gt;field_id );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( is_array( $ids ) )&nbsp;</div></li><li><div>                            $ids = implode( ', ', $ids );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( is_array( $params[ 'where' ] ) )&nbsp;</div></li><li><div>                            $params[ 'where' ] = implode( ' AND ', $params[ 'where' ] );&nbsp;</div></li><li><div>                        if ( !empty( $params[ 'where' ] ) )&nbsp;</div></li><li><div>                            $params[ 'where' ] .= ' AND ';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $params[ 'where' ] .= &quot;`t`.`{$search_data-&gt;field_id}` IN ( &quot; . $ids . &quot; )&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $results = $search_data-&gt;select( $params );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                else&nbsp;</div></li><li><div>                    $autocomplete = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( 'data' == $context ) {&nbsp;</div></li><li><div>                    self::$field_data = array(&nbsp;</div></li><li><div>                        'field' =&gt; $name, &nbsp;</div></li><li><div>                        'id' =&gt; $options[ 'id' ], &nbsp;</div></li><li><div>                        'autocomplete' =&gt; $autocomplete&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $hierarchy && !$autocomplete && !empty( $results ) && $options[ 'table_info' ][ 'object_hierarchical' ] && !empty( $options[ 'table_info' ][ 'field_parent' ] ) ) {&nbsp;</div></li><li><div>                    $args = array(&nbsp;</div></li><li><div>                        'id' =&gt; $options[ 'table_info' ][ 'field_id' ], &nbsp;</div></li><li><div>                        'index' =&gt; $options[ 'table_info' ][ 'field_index' ], &nbsp;</div></li><li><div>                        'parent' =&gt; $options[ 'table_info' ][ 'field_parent' ], &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $results = pods_hierarchical_select( $results, $args );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $ids = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( !empty( $results ) ) {&nbsp;</div></li><li><div>                    $display_filter = pods_var( 'display_filter', pods_var_raw( 'options', pods_var_raw( $search_data-&gt;field_index, $search_data-&gt;pod_data[ 'object_fields' ] ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $results as $result ) {&nbsp;</div></li><li><div>                        $result = get_object_vars( $result );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( !isset( $result[ $search_data-&gt;field_id ] ) || !isset( $result[ $search_data-&gt;field_index ] ) )&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $result[ $search_data-&gt;field_index ] = trim( $result[ $search_data-&gt;field_index ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $object = $object_type = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $wpdb-&gt;posts == $search_data-&gt;table && isset( $result[ 'post_type' ] ) ) {&nbsp;</div></li><li><div>                            $object = $result[ 'post_type' ];&nbsp;</div></li><li><div>                            $object_type = 'post_type';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        elseif ( $wpdb-&gt;terms == $search_data-&gt;table && isset( $result[ 'taxonomy' ] ) ) {&nbsp;</div></li><li><div>                            $object = $result[ 'taxonomy' ];&nbsp;</div></li><li><div>                            $object_type = 'taxonomy';&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // WPML integration for Post Types and Taxonomies&nbsp;</div></li><li><div>                        if ( is_object( $sitepress ) && in_array( $object_type, array( 'post_type', 'taxonomy' ) ) ) {&nbsp;</div></li><li><div>                            $translated = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( 'post_type' == $object_type && $sitepress-&gt;is_translated_post_type( $object ) )&nbsp;</div></li><li><div>                                $translated = true;&nbsp;</div></li><li><div>                            elseif ( 'taxonomy' == $object_type && $sitepress-&gt;is_translated_taxonomy( $object ) )&nbsp;</div></li><li><div>                                $translated = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( $translated ) {&nbsp;</div></li><li><div>                                $object_id = icl_object_id( $result[ $search_data-&gt;field_id ], $object, false, $current_language );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( 0 &lt; $object_id && !in_array( $object_id, $ids ) ) {&nbsp;</div></li><li><div>                                    $text = $result[ $search_data-&gt;field_index ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( $result[ $search_data-&gt;field_id ] != $object_id ) {&nbsp;</div></li><li><div>                                        if ( $wpdb-&gt;posts == $search_data-&gt;table )&nbsp;</div></li><li><div>                                            $text = trim( get_the_title( $object_id ) );&nbsp;</div></li><li><div>                                        elseif ( $wpdb-&gt;terms == $search_data-&gt;table )&nbsp;</div></li><li><div>                                            $text = trim( get_term( $object_id, $object )-&gt;name );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $result[ $search_data-&gt;field_id ] = $object_id;&nbsp;</div></li><li><div>                                    $result[ $search_data-&gt;field_index ] = $text;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    continue;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        // Polylang integration for Post Types and Taxonomies&nbsp;</div></li><li><div>                        elseif ( is_object( $polylang ) && in_array( $object_type, array( 'post_type', 'taxonomy' ) ) && method_exists( $polylang, 'get_translation' ) ) {&nbsp;</div></li><li><div>                            $translated = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( 'post_type' == $object_type && pll_is_translated_post_type( $object ) )&nbsp;</div></li><li><div>                                $translated = true;&nbsp;</div></li><li><div>                            elseif ( 'taxonomy' == $object_type && pll_is_translated_taxonomy( $object ) )&nbsp;</div></li><li><div>                                $translated = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( $translated ) {&nbsp;</div></li><li><div>                                $object_id = $polylang-&gt;get_translation( $object, $result[ $search_data-&gt;field_id ], $current_language );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                if ( 0 &lt; $object_id && !in_array( $object_id, $ids ) ) {&nbsp;</div></li><li><div>                                    $text = $result[ $search_data-&gt;field_index ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ( $result[ $search_data-&gt;field_id ] != $object_id ) {&nbsp;</div></li><li><div>                                        if ( $wpdb-&gt;posts == $search_data-&gt;table )&nbsp;</div></li><li><div>                                            $text = trim( get_the_title( $object_id ) );&nbsp;</div></li><li><div>                                        elseif ( $wpdb-&gt;terms == $search_data-&gt;table )&nbsp;</div></li><li><div>                                            $text = trim( get_term( $object_id, $object )-&gt;name );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $result[ $search_data-&gt;field_id ] = $object_id;&nbsp;</div></li><li><div>                                    $result[ $search_data-&gt;field_index ] = $text;&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                                else&nbsp;</div></li><li><div>                                    continue;&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 0 &lt; strlen( $display_filter ) ) {&nbsp;</div></li><li><div>                            $display_filter_args = pods_var( 'display_filter_args', pods_var_raw( 'options', pods_var_raw( $search_data-&gt;field_index, $search_data-&gt;pod_data[ 'object_fields' ] ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $args = array(&nbsp;</div></li><li><div>                                $display_filter, &nbsp;</div></li><li><div>                                $result[ $search_data-&gt;field_index ]&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( !empty( $display_filter_args ) ) {&nbsp;</div></li><li><div>                                foreach ( (array) $display_filter_args as $display_filter_arg ) {&nbsp;</div></li><li><div>                                    if ( isset( $result[ $display_filter_arg ] ) )&nbsp;</div></li><li><div>                                        $args[] = $result[ $display_filter_arg ];&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $result[ $search_data-&gt;field_index ] = call_user_func_array( 'apply_filters', $args );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( in_array( $options[ self::$type . '_object' ], array( 'site', 'network' ) ) )&nbsp;</div></li><li><div>                            $result[ $search_data-&gt;field_index ] = $result[ $search_data-&gt;field_index ] . $result[ 'path' ];&nbsp;</div></li><li><div>                        elseif ( strlen( $result[ $search_data-&gt;field_index ] ) &lt; 1 )&nbsp;</div></li><li><div>                            $result[ $search_data-&gt;field_index ] = '(No Title)';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( 'admin_ajax_relationship' == $context ) {&nbsp;</div></li><li><div>                            $items[] = array(&nbsp;</div></li><li><div>                                'id' =&gt; $result[ $search_data-&gt;field_id ], &nbsp;</div></li><li><div>                                'text' =&gt; $result[ $search_data-&gt;field_index ], &nbsp;</div></li><li><div>                                'image' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        else&nbsp;</div></li><li><div>                            $data[ $result[ $search_data-&gt;field_id ] ] = $result[ $search_data-&gt;field_index ];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        $ids[] = $result[ $search_data-&gt;field_id ];&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $simple && 'admin_ajax_relationship' == $context ) {&nbsp;</div></li><li><div>                $found_data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $data as $k =&gt; $v ) {&nbsp;</div></li><li><div>                    if ( false !== stripos( $v, $data_params[ 'query' ] ) || false !== stripos( $k, $data_params[ 'query' ] ) ) {&nbsp;</div></li><li><div>                        $found_data[ $k ] = $v;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $data = $found_data;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 'admin_ajax_relationship' == $context ) {&nbsp;</div></li><li><div>            if ( empty( $items ) && !empty( $data ) ) {&nbsp;</div></li><li><div>                foreach ( $data as $k =&gt; $v ) {&nbsp;</div></li><li><div>                    $items[] = array(&nbsp;</div></li><li><div>                        'id' =&gt; $k, &nbsp;</div></li><li><div>                        'text' =&gt; $v, &nbsp;</div></li><li><div>                        'image' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return $items;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $data;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Handle autocomplete AJAX&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function admin_ajax_relationship () {&nbsp;</div></li><li><div>        pods_session_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Sanitize input&nbsp;</div></li><li><div>        $params = pods_unslash( (array) $_POST );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $params as $key =&gt; $value ) {&nbsp;</div></li><li><div>            if ( 'action' == $key )&nbsp;</div></li><li><div>                continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            unset( $params[ $key ] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $params[ str_replace( '_podsfix_', '', $key ) ] = $value;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $params = (object) $params;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $uid = @session_id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_user_logged_in() )&nbsp;</div></li><li><div>            $uid = 'user_' . get_current_user_id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $nonce_check = 'pods_relationship_' . (int) $params-&gt;pod . '_' . $uid . '_' . $params-&gt;uri . '_' . (int) $params-&gt;field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $params-&gt;_wpnonce ) || false === wp_verify_nonce( $params-&gt;_wpnonce, $nonce_check ) )&nbsp;</div></li><li><div>            pods_error( __( 'Unauthorized request', 'pods' ), PodsInit::$admin );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $api = pods_api();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pod = $api-&gt;load_pod( array( 'id' =&gt; (int) $params-&gt;pod ) );&nbsp;</div></li><li><div>        $field = $api-&gt;load_field( array( 'id' =&gt; (int) $params-&gt;field, 'table_info' =&gt; true ) );&nbsp;</div></li><li><div>        $id = (int) $params-&gt;id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $limit = 15;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $params-&gt;limit ) )&nbsp;</div></li><li><div>            $limit = (int) $params-&gt;limit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $page = 1;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $params-&gt;page ) )&nbsp;</div></li><li><div>            $page = (int) $params-&gt;page;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !isset( $params-&gt;query ) || strlen( trim( $params-&gt;query ) ) &lt; 1 )&nbsp;</div></li><li><div>            pods_error( __( 'Invalid field request', 'pods' ), PodsInit::$admin );&nbsp;</div></li><li><div>        elseif ( empty( $pod ) || empty( $field ) || $pod[ 'id' ] != $field[ 'pod_id' ] || !isset( $pod[ 'fields' ][ $field[ 'name' ] ] ) )&nbsp;</div></li><li><div>            pods_error( __( 'Invalid field request', 'pods' ), PodsInit::$admin );&nbsp;</div></li><li><div>        elseif ( 'pick' != $field[ 'type' ] || empty( $field[ 'table_info' ] ) )&nbsp;</div></li><li><div>            pods_error( __( 'Invalid field', 'pods' ), PodsInit::$admin );&nbsp;</div></li><li><div>        elseif ( 'single' == pods_var( self::$type . '_format_type', $field ) && 'autocomplete' == pods_var( self::$type . '_format_single', $field ) )&nbsp;</div></li><li><div>            pods_error( __( 'Invalid field', 'pods' ), PodsInit::$admin );&nbsp;</div></li><li><div>        elseif ( 'multi' == pods_var( self::$type . '_format_type', $field ) && 'autocomplete' == pods_var( self::$type . '_format_multi', $field ) )&nbsp;</div></li><li><div>            pods_error( __( 'Invalid field', 'pods' ), PodsInit::$admin );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $object_params = array(&nbsp;</div></li><li><div>            'name' =&gt; $field[ 'name' ], // The name of the field&nbsp;</div></li><li><div>            'value' =&gt; null, // The value of the field&nbsp;</div></li><li><div>            'options' =&gt; array_merge( $field, $field[ 'options' ] ), // Field options&nbsp;</div></li><li><div>            'pod' =&gt; $pod, // Pod data&nbsp;</div></li><li><div>            'id' =&gt; $id, // Item ID&nbsp;</div></li><li><div>            'context' =&gt; 'admin_ajax_relationship', // Data context&nbsp;</div></li><li><div>            'data_params' =&gt; $params, &nbsp;</div></li><li><div>            'page' =&gt; $page, &nbsp;</div></li><li><div>            'limit' =&gt; $limit&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pick_data = apply_filters( 'pods_field_pick_data_ajax', null, $field[ 'name' ], null, $field, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( null !== $pick_data )&nbsp;</div></li><li><div>            $items = $pick_data;&nbsp;</div></li><li><div>        else&nbsp;</div></li><li><div>            $items = $this-&gt;get_object_data( $object_params );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( !empty( $items ) && isset( $items[ 0 ] ) && !is_array( $items[ 0 ] ) ) {&nbsp;</div></li><li><div>            $new_items = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $items as $id =&gt; $text ) {&nbsp;</div></li><li><div>                $new_items[] = array(&nbsp;</div></li><li><div>                    'id' =&gt; $id, &nbsp;</div></li><li><div>                    'text' =&gt; $text, &nbsp;</div></li><li><div>                    'image' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $items = $new_items;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $items = apply_filters( 'pods_field_pick_data_ajax_items', $items, $field[ 'name' ], null, $field, $pod, $id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $items = array(&nbsp;</div></li><li><div>            'results' =&gt; $items&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        wp_send_json( $items );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        die(); // KBAI!&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for Post Stati&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_post_stati ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $post_stati = get_post_stati( array(), 'objects' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $post_stati as $post_status ) {&nbsp;</div></li><li><div>            $data[ $post_status-&gt;name ] = $post_status-&gt;label;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_form_ui_field_pick_' . __FUNCTION__, $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for User Roles&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_roles ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        global $wp_roles;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $wp_roles-&gt;role_objects as $key =&gt; $role ) {&nbsp;</div></li><li><div>            $data[ $key ] = $wp_roles-&gt;role_names[ $key ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_form_ui_field_pick_' . __FUNCTION__, $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for User Capabilities&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_capabilities ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        global $wp_roles;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $default_caps = array(&nbsp;</div></li><li><div>            'activate_plugins', &nbsp;</div></li><li><div>            'add_users', &nbsp;</div></li><li><div>            'create_users', &nbsp;</div></li><li><div>            'delete_others_pages', &nbsp;</div></li><li><div>            'delete_others_posts', &nbsp;</div></li><li><div>            'delete_pages', &nbsp;</div></li><li><div>            'delete_plugins', &nbsp;</div></li><li><div>            'delete_posts', &nbsp;</div></li><li><div>            'delete_private_pages', &nbsp;</div></li><li><div>            'delete_private_posts', &nbsp;</div></li><li><div>            'delete_published_pages', &nbsp;</div></li><li><div>            'delete_published_posts', &nbsp;</div></li><li><div>            'delete_users', &nbsp;</div></li><li><div>            'edit_dashboard', &nbsp;</div></li><li><div>            'edit_files', &nbsp;</div></li><li><div>            'edit_others_pages', &nbsp;</div></li><li><div>            'edit_others_posts', &nbsp;</div></li><li><div>            'edit_pages', &nbsp;</div></li><li><div>            'edit_plugins', &nbsp;</div></li><li><div>            'edit_posts', &nbsp;</div></li><li><div>            'edit_private_pages', &nbsp;</div></li><li><div>            'edit_private_posts', &nbsp;</div></li><li><div>            'edit_published_pages', &nbsp;</div></li><li><div>            'edit_published_posts', &nbsp;</div></li><li><div>            'edit_theme_options', &nbsp;</div></li><li><div>            'edit_themes', &nbsp;</div></li><li><div>            'edit_users', &nbsp;</div></li><li><div>            'import', &nbsp;</div></li><li><div>            'install_plugins', &nbsp;</div></li><li><div>            'install_themes', &nbsp;</div></li><li><div>            'list_users', &nbsp;</div></li><li><div>            'manage_categories', &nbsp;</div></li><li><div>            'manage_links', &nbsp;</div></li><li><div>            'manage_options', &nbsp;</div></li><li><div>            'moderate_comments', &nbsp;</div></li><li><div>            'promote_users', &nbsp;</div></li><li><div>            'publish_pages', &nbsp;</div></li><li><div>            'publish_posts', &nbsp;</div></li><li><div>            'read', &nbsp;</div></li><li><div>            'read_private_pages', &nbsp;</div></li><li><div>            'read_private_posts', &nbsp;</div></li><li><div>            'remove_users', &nbsp;</div></li><li><div>            'switch_themes', &nbsp;</div></li><li><div>            'unfiltered_html', &nbsp;</div></li><li><div>            'unfiltered_upload', &nbsp;</div></li><li><div>            'update_core', &nbsp;</div></li><li><div>            'update_plugins', &nbsp;</div></li><li><div>            'update_themes', &nbsp;</div></li><li><div>            'upload_files'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $role_caps = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $wp_roles-&gt;role_objects as $key =&gt; $role ) {&nbsp;</div></li><li><div>            if ( is_array( $role-&gt;capabilities ) ) {&nbsp;</div></li><li><div>                foreach ( $role-&gt;capabilities as $cap =&gt; $grant ) {&nbsp;</div></li><li><div>                    $role_caps[ $cap ] = $cap;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $role_caps = array_unique( $role_caps );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $capabilities = array_merge( $default_caps, $role_caps );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // To support Members filters&nbsp;</div></li><li><div>        $capabilities = apply_filters( 'members_get_capabilities', $capabilities );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $capabilities = apply_filters( 'pods_roles_get_capabilities', $capabilities );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        sort( $capabilities );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $capabilities = array_unique( $capabilities );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        global $wp_roles;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $capabilities as $capability ) {&nbsp;</div></li><li><div>            $data[ $capability ] = $capability;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_form_ui_field_pick_' . __FUNCTION__, $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for Image Sizes&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_image_sizes ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $data = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $image_sizes = get_intermediate_image_sizes();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $image_sizes as $image_size ) {&nbsp;</div></li><li><div>            $data[ $image_size ] = ucwords( str_replace( '-', ' ', $image_size ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_form_ui_field_pick_' . __FUNCTION__, $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for Countries&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_countries ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $data = array(&nbsp;</div></li><li><div>            'AF' =&gt; __( 'Afghanistan' ), &nbsp;</div></li><li><div>            'AL' =&gt; __( 'Albania' ), &nbsp;</div></li><li><div>            'DZ' =&gt; __( 'Algeria' ), &nbsp;</div></li><li><div>            'AS' =&gt; __( 'American Samoa' ), &nbsp;</div></li><li><div>            'AD' =&gt; __( 'Andorra' ), &nbsp;</div></li><li><div>            'AO' =&gt; __( 'Angola' ), &nbsp;</div></li><li><div>            'AI' =&gt; __( 'Anguilla' ), &nbsp;</div></li><li><div>            'AQ' =&gt; __( 'Antarctica' ), &nbsp;</div></li><li><div>            'AG' =&gt; __( 'Antigua and Barbuda' ), &nbsp;</div></li><li><div>            'AR' =&gt; __( 'Argentina' ), &nbsp;</div></li><li><div>            'AM' =&gt; __( 'Armenia' ), &nbsp;</div></li><li><div>            'AW' =&gt; __( 'Aruba' ), &nbsp;</div></li><li><div>            'AU' =&gt; __( 'Australia' ), &nbsp;</div></li><li><div>            'AT' =&gt; __( 'Austria' ), &nbsp;</div></li><li><div>            'AZ' =&gt; __( 'Azerbaijan' ), &nbsp;</div></li><li><div>            'BS' =&gt; __( 'Bahamas' ), &nbsp;</div></li><li><div>            'BH' =&gt; __( 'Bahrain' ), &nbsp;</div></li><li><div>            'BD' =&gt; __( 'Bangladesh' ), &nbsp;</div></li><li><div>            'BB' =&gt; __( 'Barbados' ), &nbsp;</div></li><li><div>            'BY' =&gt; __( 'Belarus' ), &nbsp;</div></li><li><div>            'BE' =&gt; __( 'Belgium' ), &nbsp;</div></li><li><div>            'BZ' =&gt; __( 'Belize' ), &nbsp;</div></li><li><div>            'BJ' =&gt; __( 'Benin' ), &nbsp;</div></li><li><div>            'BM' =&gt; __( 'Bermuda' ), &nbsp;</div></li><li><div>            'BT' =&gt; __( 'Bhutan' ), &nbsp;</div></li><li><div>            'BO' =&gt; __( 'Bolivia' ), &nbsp;</div></li><li><div>            'BA' =&gt; __( 'Bosnia and Herzegovina' ), &nbsp;</div></li><li><div>            'BW' =&gt; __( 'Botswana' ), &nbsp;</div></li><li><div>            'BV' =&gt; __( 'Bouvet Island' ), &nbsp;</div></li><li><div>            'BR' =&gt; __( 'Brazil' ), &nbsp;</div></li><li><div>            'BQ' =&gt; __( 'British Antarctic Territory' ), &nbsp;</div></li><li><div>            'IO' =&gt; __( 'British Indian Ocean Territory' ), &nbsp;</div></li><li><div>            'VG' =&gt; __( 'British Virgin Islands' ), &nbsp;</div></li><li><div>            'BN' =&gt; __( 'Brunei' ), &nbsp;</div></li><li><div>            'BG' =&gt; __( 'Bulgaria' ), &nbsp;</div></li><li><div>            'BF' =&gt; __( 'Burkina Faso' ), &nbsp;</div></li><li><div>            'BI' =&gt; __( 'Burundi' ), &nbsp;</div></li><li><div>            'KH' =&gt; __( 'Cambodia' ), &nbsp;</div></li><li><div>            'CM' =&gt; __( 'Cameroon' ), &nbsp;</div></li><li><div>            'CA' =&gt; __( 'Canada' ), &nbsp;</div></li><li><div>            'CT' =&gt; __( 'Canton and Enderbury Islands' ), &nbsp;</div></li><li><div>            'CV' =&gt; __( 'Cape Verde' ), &nbsp;</div></li><li><div>            'KY' =&gt; __( 'Cayman Islands' ), &nbsp;</div></li><li><div>            'CF' =&gt; __( 'Central African Republic' ), &nbsp;</div></li><li><div>            'TD' =&gt; __( 'Chad' ), &nbsp;</div></li><li><div>            'CL' =&gt; __( 'Chile' ), &nbsp;</div></li><li><div>            'CN' =&gt; __( 'China' ), &nbsp;</div></li><li><div>            'CX' =&gt; __( 'Christmas Island' ), &nbsp;</div></li><li><div>            'CC' =&gt; __( 'Cocos [Keeling] Islands' ), &nbsp;</div></li><li><div>            'CO' =&gt; __( 'Colombia' ), &nbsp;</div></li><li><div>            'KM' =&gt; __( 'Comoros' ), &nbsp;</div></li><li><div>            'CG' =&gt; __( 'Congo - Brazzaville' ), &nbsp;</div></li><li><div>            'CD' =&gt; __( 'Congo - Kinshasa' ), &nbsp;</div></li><li><div>            'CK' =&gt; __( 'Cook Islands' ), &nbsp;</div></li><li><div>            'CR' =&gt; __( 'Costa Rica' ), &nbsp;</div></li><li><div>            'HR' =&gt; __( 'Croatia' ), &nbsp;</div></li><li><div>            'CU' =&gt; __( 'Cuba' ), &nbsp;</div></li><li><div>            'CY' =&gt; __( 'Cyprus' ), &nbsp;</div></li><li><div>            'CZ' =&gt; __( 'Czech Republic' ), &nbsp;</div></li><li><div>            'CI' =&gt; __( 'Cte d*Ivoire' ), &nbsp;</div></li><li><div>            'DK' =&gt; __( 'Denmark' ), &nbsp;</div></li><li><div>            'DJ' =&gt; __( 'Djibouti' ), &nbsp;</div></li><li><div>            'DM' =&gt; __( 'Dominica' ), &nbsp;</div></li><li><div>            'DO' =&gt; __( 'Dominican Republic' ), &nbsp;</div></li><li><div>            'NQ' =&gt; __( 'Dronning Maud Land' ), &nbsp;</div></li><li><div>            'DD' =&gt; __( 'East Germany' ), &nbsp;</div></li><li><div>            'EC' =&gt; __( 'Ecuador' ), &nbsp;</div></li><li><div>            'EG' =&gt; __( 'Egypt' ), &nbsp;</div></li><li><div>            'SV' =&gt; __( 'El Salvador' ), &nbsp;</div></li><li><div>            'GQ' =&gt; __( 'Equatorial Guinea' ), &nbsp;</div></li><li><div>            'ER' =&gt; __( 'Eritrea' ), &nbsp;</div></li><li><div>            'EE' =&gt; __( 'Estonia' ), &nbsp;</div></li><li><div>            'ET' =&gt; __( 'Ethiopia' ), &nbsp;</div></li><li><div>            'FK' =&gt; __( 'Falkland Islands' ), &nbsp;</div></li><li><div>            'FO' =&gt; __( 'Faroe Islands' ), &nbsp;</div></li><li><div>            'FJ' =&gt; __( 'Fiji' ), &nbsp;</div></li><li><div>            'FI' =&gt; __( 'Finland' ), &nbsp;</div></li><li><div>            'FR' =&gt; __( 'France' ), &nbsp;</div></li><li><div>            'GF' =&gt; __( 'French Guiana' ), &nbsp;</div></li><li><div>            'PF' =&gt; __( 'French Polynesia' ), &nbsp;</div></li><li><div>            'TF' =&gt; __( 'French Southern Territories' ), &nbsp;</div></li><li><div>            'FQ' =&gt; __( 'French Southern and Antarctic Territories' ), &nbsp;</div></li><li><div>            'GA' =&gt; __( 'Gabon' ), &nbsp;</div></li><li><div>            'GM' =&gt; __( 'Gambia' ), &nbsp;</div></li><li><div>            'GE' =&gt; __( 'Georgia' ), &nbsp;</div></li><li><div>            'DE' =&gt; __( 'Germany' ), &nbsp;</div></li><li><div>            'GH' =&gt; __( 'Ghana' ), &nbsp;</div></li><li><div>            'GI' =&gt; __( 'Gibraltar' ), &nbsp;</div></li><li><div>            'GR' =&gt; __( 'Greece' ), &nbsp;</div></li><li><div>            'GL' =&gt; __( 'Greenland' ), &nbsp;</div></li><li><div>            'GD' =&gt; __( 'Grenada' ), &nbsp;</div></li><li><div>            'GP' =&gt; __( 'Guadeloupe' ), &nbsp;</div></li><li><div>            'GU' =&gt; __( 'Guam' ), &nbsp;</div></li><li><div>            'GT' =&gt; __( 'Guatemala' ), &nbsp;</div></li><li><div>            'GG' =&gt; __( 'Guernsey' ), &nbsp;</div></li><li><div>            'GN' =&gt; __( 'Guinea' ), &nbsp;</div></li><li><div>            'GW' =&gt; __( 'Guinea-Bissau' ), &nbsp;</div></li><li><div>            'GY' =&gt; __( 'Guyana' ), &nbsp;</div></li><li><div>            'HT' =&gt; __( 'Haiti' ), &nbsp;</div></li><li><div>            'HM' =&gt; __( 'Heard Island and McDonald Islands' ), &nbsp;</div></li><li><div>            'HN' =&gt; __( 'Honduras' ), &nbsp;</div></li><li><div>            'HK' =&gt; __( 'Hong Kong SAR China' ), &nbsp;</div></li><li><div>            'HU' =&gt; __( 'Hungary' ), &nbsp;</div></li><li><div>            'IS' =&gt; __( 'Iceland' ), &nbsp;</div></li><li><div>            'IN' =&gt; __( 'India' ), &nbsp;</div></li><li><div>            'ID' =&gt; __( 'Indonesia' ), &nbsp;</div></li><li><div>            'IR' =&gt; __( 'Iran' ), &nbsp;</div></li><li><div>            'IQ' =&gt; __( 'Iraq' ), &nbsp;</div></li><li><div>            'IE' =&gt; __( 'Ireland' ), &nbsp;</div></li><li><div>            'IM' =&gt; __( 'Isle of Man' ), &nbsp;</div></li><li><div>            'IL' =&gt; __( 'Israel' ), &nbsp;</div></li><li><div>            'IT' =&gt; __( 'Italy' ), &nbsp;</div></li><li><div>            'JM' =&gt; __( 'Jamaica' ), &nbsp;</div></li><li><div>            'JP' =&gt; __( 'Japan' ), &nbsp;</div></li><li><div>            'JE' =&gt; __( 'Jersey' ), &nbsp;</div></li><li><div>            'JT' =&gt; __( 'Johnston Island' ), &nbsp;</div></li><li><div>            'JO' =&gt; __( 'Jordan' ), &nbsp;</div></li><li><div>            'KZ' =&gt; __( 'Kazakhstan' ), &nbsp;</div></li><li><div>            'KE' =&gt; __( 'Kenya' ), &nbsp;</div></li><li><div>            'KI' =&gt; __( 'Kiribati' ), &nbsp;</div></li><li><div>            'KW' =&gt; __( 'Kuwait' ), &nbsp;</div></li><li><div>            'KG' =&gt; __( 'Kyrgyzstan' ), &nbsp;</div></li><li><div>            'LA' =&gt; __( 'Laos' ), &nbsp;</div></li><li><div>            'LV' =&gt; __( 'Latvia' ), &nbsp;</div></li><li><div>            'LB' =&gt; __( 'Lebanon' ), &nbsp;</div></li><li><div>            'LS' =&gt; __( 'Lesotho' ), &nbsp;</div></li><li><div>            'LR' =&gt; __( 'Liberia' ), &nbsp;</div></li><li><div>            'LY' =&gt; __( 'Libya' ), &nbsp;</div></li><li><div>            'LI' =&gt; __( 'Liechtenstein' ), &nbsp;</div></li><li><div>            'LT' =&gt; __( 'Lithuania' ), &nbsp;</div></li><li><div>            'LU' =&gt; __( 'Luxembourg' ), &nbsp;</div></li><li><div>            'MO' =&gt; __( 'Macau SAR China' ), &nbsp;</div></li><li><div>            'MK' =&gt; __( 'Macedonia' ), &nbsp;</div></li><li><div>            'MG' =&gt; __( 'Madagascar' ), &nbsp;</div></li><li><div>            'MW' =&gt; __( 'Malawi' ), &nbsp;</div></li><li><div>            'MY' =&gt; __( 'Malaysia' ), &nbsp;</div></li><li><div>            'MV' =&gt; __( 'Maldives' ), &nbsp;</div></li><li><div>            'ML' =&gt; __( 'Mali' ), &nbsp;</div></li><li><div>            'MT' =&gt; __( 'Malta' ), &nbsp;</div></li><li><div>            'MH' =&gt; __( 'Marshall Islands' ), &nbsp;</div></li><li><div>            'MQ' =&gt; __( 'Martinique' ), &nbsp;</div></li><li><div>            'MR' =&gt; __( 'Mauritania' ), &nbsp;</div></li><li><div>            'MU' =&gt; __( 'Mauritius' ), &nbsp;</div></li><li><div>            'YT' =&gt; __( 'Mayotte' ), &nbsp;</div></li><li><div>            'FX' =&gt; __( 'Metropolitan France' ), &nbsp;</div></li><li><div>            'MX' =&gt; __( 'Mexico' ), &nbsp;</div></li><li><div>            'FM' =&gt; __( 'Micronesia' ), &nbsp;</div></li><li><div>            'MI' =&gt; __( 'Midway Islands' ), &nbsp;</div></li><li><div>            'MD' =&gt; __( 'Moldova' ), &nbsp;</div></li><li><div>            'MC' =&gt; __( 'Monaco' ), &nbsp;</div></li><li><div>            'MN' =&gt; __( 'Mongolia' ), &nbsp;</div></li><li><div>            'ME' =&gt; __( 'Montenegro' ), &nbsp;</div></li><li><div>            'MS' =&gt; __( 'Montserrat' ), &nbsp;</div></li><li><div>            'MA' =&gt; __( 'Morocco' ), &nbsp;</div></li><li><div>            'MZ' =&gt; __( 'Mozambique' ), &nbsp;</div></li><li><div>            'MM' =&gt; __( 'Myanmar [Burma]' ), &nbsp;</div></li><li><div>            'NA' =&gt; __( 'Namibia' ), &nbsp;</div></li><li><div>            'NR' =&gt; __( 'Nauru' ), &nbsp;</div></li><li><div>            'NP' =&gt; __( 'Nepal' ), &nbsp;</div></li><li><div>            'NL' =&gt; __( 'Netherlands' ), &nbsp;</div></li><li><div>            'AN' =&gt; __( 'Netherlands Antilles' ), &nbsp;</div></li><li><div>            'NT' =&gt; __( 'Neutral Zone' ), &nbsp;</div></li><li><div>            'NC' =&gt; __( 'New Caledonia' ), &nbsp;</div></li><li><div>            'NZ' =&gt; __( 'New Zealand' ), &nbsp;</div></li><li><div>            'NI' =&gt; __( 'Nicaragua' ), &nbsp;</div></li><li><div>            'NE' =&gt; __( 'Niger' ), &nbsp;</div></li><li><div>            'NG' =&gt; __( 'Nigeria' ), &nbsp;</div></li><li><div>            'NU' =&gt; __( 'Niue' ), &nbsp;</div></li><li><div>            'NF' =&gt; __( 'Norfolk Island' ), &nbsp;</div></li><li><div>            'KP' =&gt; __( 'North Korea' ), &nbsp;</div></li><li><div>            'VD' =&gt; __( 'North Vietnam' ), &nbsp;</div></li><li><div>            'MP' =&gt; __( 'Northern Mariana Islands' ), &nbsp;</div></li><li><div>            'NO' =&gt; __( 'Norway' ), &nbsp;</div></li><li><div>            'OM' =&gt; __( 'Oman' ), &nbsp;</div></li><li><div>            'PC' =&gt; __( 'Pacific Islands Trust Territory' ), &nbsp;</div></li><li><div>            'PK' =&gt; __( 'Pakistan' ), &nbsp;</div></li><li><div>            'PW' =&gt; __( 'Palau' ), &nbsp;</div></li><li><div>            'PS' =&gt; __( 'Palestinian Territories' ), &nbsp;</div></li><li><div>            'PA' =&gt; __( 'Panama' ), &nbsp;</div></li><li><div>            'PZ' =&gt; __( 'Panama Canal Zone' ), &nbsp;</div></li><li><div>            'PG' =&gt; __( 'Papua New Guinea' ), &nbsp;</div></li><li><div>            'PY' =&gt; __( 'Paraguay' ), &nbsp;</div></li><li><div>            'YD' =&gt; __( &quot;People's Democratic Republic of Yemen&quot; ), &nbsp;</div></li><li><div>            'PE' =&gt; __( 'Peru' ), &nbsp;</div></li><li><div>            'PH' =&gt; __( 'Philippines' ), &nbsp;</div></li><li><div>            'PN' =&gt; __( 'Pitcairn Islands' ), &nbsp;</div></li><li><div>            'PL' =&gt; __( 'Poland' ), &nbsp;</div></li><li><div>            'PT' =&gt; __( 'Portugal' ), &nbsp;</div></li><li><div>            'PR' =&gt; __( 'Puerto Rico' ), &nbsp;</div></li><li><div>            'QA' =&gt; __( 'Qatar' ), &nbsp;</div></li><li><div>            'RO' =&gt; __( 'Romania' ), &nbsp;</div></li><li><div>            'RU' =&gt; __( 'Russia' ), &nbsp;</div></li><li><div>            'RW' =&gt; __( 'Rwanda' ), &nbsp;</div></li><li><div>            'RE' =&gt; __( 'Runion' ), &nbsp;</div></li><li><div>            'BL' =&gt; __( 'Saint Barthlemy' ), &nbsp;</div></li><li><div>            'SH' =&gt; __( 'Saint Helena' ), &nbsp;</div></li><li><div>            'KN' =&gt; __( 'Saint Kitts and Nevis' ), &nbsp;</div></li><li><div>            'LC' =&gt; __( 'Saint Lucia' ), &nbsp;</div></li><li><div>            'MF' =&gt; __( 'Saint Martin' ), &nbsp;</div></li><li><div>            'PM' =&gt; __( 'Saint Pierre and Miquelon' ), &nbsp;</div></li><li><div>            'VC' =&gt; __( 'Saint Vincent and the Grenadines' ), &nbsp;</div></li><li><div>            'WS' =&gt; __( 'Samoa' ), &nbsp;</div></li><li><div>            'SM' =&gt; __( 'San Marino' ), &nbsp;</div></li><li><div>            'SA' =&gt; __( 'Saudi Arabia' ), &nbsp;</div></li><li><div>            'SN' =&gt; __( 'Senegal' ), &nbsp;</div></li><li><div>            'RS' =&gt; __( 'Serbia' ), &nbsp;</div></li><li><div>            'CS' =&gt; __( 'Serbia and Montenegro' ), &nbsp;</div></li><li><div>            'SC' =&gt; __( 'Seychelles' ), &nbsp;</div></li><li><div>            'SL' =&gt; __( 'Sierra Leone' ), &nbsp;</div></li><li><div>            'SG' =&gt; __( 'Singapore' ), &nbsp;</div></li><li><div>            'SK' =&gt; __( 'Slovakia' ), &nbsp;</div></li><li><div>            'SI' =&gt; __( 'Slovenia' ), &nbsp;</div></li><li><div>            'SB' =&gt; __( 'Solomon Islands' ), &nbsp;</div></li><li><div>            'SO' =&gt; __( 'Somalia' ), &nbsp;</div></li><li><div>            'ZA' =&gt; __( 'South Africa' ), &nbsp;</div></li><li><div>            'GS' =&gt; __( 'South Georgia and the South Sandwich Islands' ), &nbsp;</div></li><li><div>            'KR' =&gt; __( 'South Korea' ), &nbsp;</div></li><li><div>            'ES' =&gt; __( 'Spain' ), &nbsp;</div></li><li><div>            'LK' =&gt; __( 'Sri Lanka' ), &nbsp;</div></li><li><div>            'SD' =&gt; __( 'Sudan' ), &nbsp;</div></li><li><div>            'SR' =&gt; __( 'Suriname' ), &nbsp;</div></li><li><div>            'SJ' =&gt; __( 'Svalbard and Jan Mayen' ), &nbsp;</div></li><li><div>            'SZ' =&gt; __( 'Swaziland' ), &nbsp;</div></li><li><div>            'SE' =&gt; __( 'Sweden' ), &nbsp;</div></li><li><div>            'CH' =&gt; __( 'Switzerland' ), &nbsp;</div></li><li><div>            'SY' =&gt; __( 'Syria' ), &nbsp;</div></li><li><div>            'ST' =&gt; __( 'So Tom and Prncipe' ), &nbsp;</div></li><li><div>            'TW' =&gt; __( 'Taiwan' ), &nbsp;</div></li><li><div>            'TJ' =&gt; __( 'Tajikistan' ), &nbsp;</div></li><li><div>            'TZ' =&gt; __( 'Tanzania' ), &nbsp;</div></li><li><div>            'TH' =&gt; __( 'Thailand' ), &nbsp;</div></li><li><div>            'TL' =&gt; __( 'Timor-Leste' ), &nbsp;</div></li><li><div>            'TG' =&gt; __( 'Togo' ), &nbsp;</div></li><li><div>            'TK' =&gt; __( 'Tokelau' ), &nbsp;</div></li><li><div>            'TO' =&gt; __( 'Tonga' ), &nbsp;</div></li><li><div>            'TT' =&gt; __( 'Trinidad and Tobago' ), &nbsp;</div></li><li><div>            'TN' =&gt; __( 'Tunisia' ), &nbsp;</div></li><li><div>            'TR' =&gt; __( 'Turkey' ), &nbsp;</div></li><li><div>            'TM' =&gt; __( 'Turkmenistan' ), &nbsp;</div></li><li><div>            'TC' =&gt; __( 'Turks and Caicos Islands' ), &nbsp;</div></li><li><div>            'TV' =&gt; __( 'Tuvalu' ), &nbsp;</div></li><li><div>            'UM' =&gt; __( 'U.S. Minor Outlying Islands' ), &nbsp;</div></li><li><div>            'PU' =&gt; __( 'U.S. Miscellaneous Pacific Islands' ), &nbsp;</div></li><li><div>            'VI' =&gt; __( 'U.S. Virgin Islands' ), &nbsp;</div></li><li><div>            'UG' =&gt; __( 'Uganda' ), &nbsp;</div></li><li><div>            'UA' =&gt; __( 'Ukraine' ), &nbsp;</div></li><li><div>            'SU' =&gt; __( 'Union of Soviet Socialist Republics' ), &nbsp;</div></li><li><div>            'AE' =&gt; __( 'United Arab Emirates' ), &nbsp;</div></li><li><div>            'GB' =&gt; __( 'United Kingdom' ), &nbsp;</div></li><li><div>            'US' =&gt; __( 'United States' ), &nbsp;</div></li><li><div>            'ZZ' =&gt; __( 'Unknown or Invalid Region' ), &nbsp;</div></li><li><div>            'UY' =&gt; __( 'Uruguay' ), &nbsp;</div></li><li><div>            'UZ' =&gt; __( 'Uzbekistan' ), &nbsp;</div></li><li><div>            'VU' =&gt; __( 'Vanuatu' ), &nbsp;</div></li><li><div>            'VA' =&gt; __( 'Vatican City' ), &nbsp;</div></li><li><div>            'VE' =&gt; __( 'Venezuela' ), &nbsp;</div></li><li><div>            'VN' =&gt; __( 'Vietnam' ), &nbsp;</div></li><li><div>            'WK' =&gt; __( 'Wake Island' ), &nbsp;</div></li><li><div>            'WF' =&gt; __( 'Wallis and Futuna' ), &nbsp;</div></li><li><div>            'EH' =&gt; __( 'Western Sahara' ), &nbsp;</div></li><li><div>            'YE' =&gt; __( 'Yemen' ), &nbsp;</div></li><li><div>            'ZM' =&gt; __( 'Zambia' ), &nbsp;</div></li><li><div>            'ZW' =&gt; __( 'Zimbabwe' ), &nbsp;</div></li><li><div>            'AX' =&gt; __( 'land Islands' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_form_ui_field_pick_' . __FUNCTION__, $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for US States&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_us_states ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>        $data = array(&nbsp;</div></li><li><div>            'AL' =&gt; __( 'Alabama' ), &nbsp;</div></li><li><div>            'AK' =&gt; __( 'Alaska' ), &nbsp;</div></li><li><div>            'AZ' =&gt; __( 'Arizona' ), &nbsp;</div></li><li><div>            'AR' =&gt; __( 'Arkansas' ), &nbsp;</div></li><li><div>            'CA' =&gt; __( 'California' ), &nbsp;</div></li><li><div>            'CO' =&gt; __( 'Colorado' ), &nbsp;</div></li><li><div>            'CT' =&gt; __( 'Connecticut' ), &nbsp;</div></li><li><div>            'DE' =&gt; __( 'Delaware' ), &nbsp;</div></li><li><div>            'DC' =&gt; __( 'District Of Columbia' ), &nbsp;</div></li><li><div>            'FL' =&gt; __( 'Florida' ), &nbsp;</div></li><li><div>            'GA' =&gt; __( 'Georgia' ), &nbsp;</div></li><li><div>            'HI' =&gt; __( 'Hawaii' ), &nbsp;</div></li><li><div>            'ID' =&gt; __( 'Idaho' ), &nbsp;</div></li><li><div>            'IL' =&gt; __( 'Illinois' ), &nbsp;</div></li><li><div>            'IN' =&gt; __( 'Indiana' ), &nbsp;</div></li><li><div>            'IA' =&gt; __( 'Iowa' ), &nbsp;</div></li><li><div>            'KS' =&gt; __( 'Kansas' ), &nbsp;</div></li><li><div>            'KY' =&gt; __( 'Kentucky' ), &nbsp;</div></li><li><div>            'LA' =&gt; __( 'Louisiana' ), &nbsp;</div></li><li><div>            'ME' =&gt; __( 'Maine' ), &nbsp;</div></li><li><div>            'MD' =&gt; __( 'Maryland' ), &nbsp;</div></li><li><div>            'MA' =&gt; __( 'Massachusetts' ), &nbsp;</div></li><li><div>            'MI' =&gt; __( 'Michigan' ), &nbsp;</div></li><li><div>            'MN' =&gt; __( 'Minnesota' ), &nbsp;</div></li><li><div>            'MS' =&gt; __( 'Mississippi' ), &nbsp;</div></li><li><div>            'MO' =&gt; __( 'Missouri' ), &nbsp;</div></li><li><div>            'MT' =&gt; __( 'Montana' ), &nbsp;</div></li><li><div>            'NE' =&gt; __( 'Nebraska' ), &nbsp;</div></li><li><div>            'NV' =&gt; __( 'Nevada' ), &nbsp;</div></li><li><div>            'NH' =&gt; __( 'New Hampshire' ), &nbsp;</div></li><li><div>            'NJ' =&gt; __( 'New Jersey' ), &nbsp;</div></li><li><div>            'NM' =&gt; __( 'New Mexico' ), &nbsp;</div></li><li><div>            'NY' =&gt; __( 'New York' ), &nbsp;</div></li><li><div>            'NC' =&gt; __( 'North Carolina' ), &nbsp;</div></li><li><div>            'ND' =&gt; __( 'North Dakota' ), &nbsp;</div></li><li><div>            'OH' =&gt; __( 'Ohio' ), &nbsp;</div></li><li><div>            'OK' =&gt; __( 'Oklahoma' ), &nbsp;</div></li><li><div>            'OR' =&gt; __( 'Oregon' ), &nbsp;</div></li><li><div>            'PA' =&gt; __( 'Pennsylvania' ), &nbsp;</div></li><li><div>            'RI' =&gt; __( 'Rhode Island' ), &nbsp;</div></li><li><div>            'SC' =&gt; __( 'South Carolina' ), &nbsp;</div></li><li><div>            'SD' =&gt; __( 'South Dakota' ), &nbsp;</div></li><li><div>            'TN' =&gt; __( 'Tennessee' ), &nbsp;</div></li><li><div>            'TX' =&gt; __( 'Texas' ), &nbsp;</div></li><li><div>            'UT' =&gt; __( 'Utah' ), &nbsp;</div></li><li><div>            'VT' =&gt; __( 'Vermont' ), &nbsp;</div></li><li><div>            'VA' =&gt; __( 'Virginia' ), &nbsp;</div></li><li><div>            'WA' =&gt; __( 'Washington' ), &nbsp;</div></li><li><div>            'WV' =&gt; __( 'West Virginia' ), &nbsp;</div></li><li><div>            'WI' =&gt; __( 'Wisconsin' ), &nbsp;</div></li><li><div>            'WY' =&gt; __( 'Wyoming' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return apply_filters( 'pods_form_ui_field_pick_' . __FUNCTION__, $data, $name, $value, $options, $pod, $id );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for US States&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_days_of_week ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * @var WP_Locale&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        global $wp_locale;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $wp_locale-&gt;weekday;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Data callback for US States&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $name The name of the field&nbsp;</div></li><li><div>     * @param string|array $value The value of the field&nbsp;</div></li><li><div>     * @param array $options Field options&nbsp;</div></li><li><div>     * @param array $pod Pod data&nbsp;</div></li><li><div>     * @param int $id Item ID&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @since 2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function data_months_of_year ( $name = null, $value = null, $options = null, $pod = null, $id = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * @var WP_Locale&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        global $wp_locale;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $wp_locale-&gt;month;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.5.2</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.6/classes/pods_field_pick/" class="active">2.6</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.5/classes/pods_field_pick/" class="">2.5.5</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.4/classes/pods_field_pick/" class="">2.5.4</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.3/classes/pods_field_pick/" class="">2.5.3</a></li><li><a href="http://hookr.io/plugins/pods-custom-content-types-and-fields/2.5.2/classes/pods_field_pick/" class="">2.5.2</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>PodsField_Pick</li><li><span></span>Pods - Custom Content Types and Fields</li><li><span></span>2.6</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>