<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="1.6.1" data-slug="woocommerce-products-quick-view" data-type="class" data-id="77854"><head xmlns="http://www.w3.org/1999/xhtml"><title> wc_quick_view_custom_template | class | Woocommerce Products Quick View | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="WC_Quick_View_Custom_Template, class, plugin, woocommerce-products-quick-view, 1.6.1" /><meta name="description" content="WC Quick View Template Class" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=e04c7ff97f40436c62fe8672e94f22a8' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/wc_quick_view_custom_template/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwc_quick_view_custom_template%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwc_quick_view_custom_template%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-products-quick-view-1.6.1-class-wc_quick_view_custom_template","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wc_quick_view_custom_template" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce-products-quick-vi&hellip;." href="http://hookr.io/plugins/woocommerce-products-quick-view/" class="plugin"><span property="name">woocommerce-products-quick-vi&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 1.6.1." href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/" class="H_VERSION"><span property="name">1.6.1</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wc_quick_view_custom_template</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="184"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/all/" title="All">All <span class="count badge">184</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="100"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/hooks/" title="Hooks">Hooks <span class="count badge">100</span></a></li><li class="" data-id="action" data-count="34"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/actions/" title="Actions">Actions <span class="count badge">34</span></a></li><li class="" data-id="filter" data-count="66"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/filters/" title="Filters">Filters <span class="count badge">66</span></a></li><li class="active" data-id="class" data-count="49"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/classes/" title="Classes">Classes <span class="count badge">49</span></a></li><li class="" data-id="constant" data-count="13"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/constants/" title="Constants">Constants <span class="count badge">13</span></a></li><li class="" data-id="function" data-count="22"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/functions/" title="Functions">Functions <span class="count badge">22</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>WC_Quick_View_Custom_Template</strong></h1><p>WC Quick View Template Class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/files/classes-class-quick-view-template/" class="file">/classes/class-quick-view-template.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="9" class="block" start="9"><li><div>class WC_Quick_View_Custom_Template&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>    public static function quick_view_custom_template_load() {&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $product_id = $_REQUEST['product_id'];&nbsp;</div></li><li><div>        $orderby = $_REQUEST['orderby'];&nbsp;</div></li><li><div>        $is_shop = $_REQUEST['is_shop'];&nbsp;</div></li><li><div>        $is_category = $_REQUEST['is_category'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $quick_view_ultimate_popup_tool = get_option( 'quick_view_ultimate_popup_tool', 'prettyphoto' );&nbsp;</div></li><li><div>        if ( 'prettyphoto' != $quick_view_ultimate_popup_tool ) {&nbsp;</div></li><li><div>            echo WC_Quick_View_Custom_Template::custom_template_display( $product_id, $orderby, $is_shop, $is_category );&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            echo WC_Quick_View_Custom_Template::prettyphoto_init_custom_template( $product_id, $orderby, $is_shop, $is_category );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        die();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public static function quick_view_prettyphoto_custom_template_load() {&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $product_id = $_REQUEST['product_id'];&nbsp;</div></li><li><div>        $orderby = $_REQUEST['orderby'];&nbsp;</div></li><li><div>        $is_shop = $_REQUEST['is_shop'];&nbsp;</div></li><li><div>        $is_category = $_REQUEST['is_category'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        echo WC_Quick_View_Custom_Template::custom_template_popup( $product_id, $orderby, $is_shop, $is_category );&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        die();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function prettyphoto_init_custom_template( $product_id, $orderby = 'menu_order', $is_shop = 'no', $is_category = 'no' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $output_html = '&lt;div class=&quot;quick_view_popup_container&quot;&nbsp;</div></li><li><div>            data-product_id=&quot;'.$product_id.'&quot;&nbsp;</div></li><li><div>            data-orderby=&quot;'.$orderby.'&quot;&nbsp;</div></li><li><div>            data-is_shop=&quot;'.$is_shop.'&quot;&nbsp;</div></li><li><div>            data-is_category=&quot;'.$is_category.'&quot;&nbsp;</div></li><li><div>            &gt;&lt;/div&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $output_html;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function custom_template_display( $product_id, $orderby = 'menu_order', $is_shop = 'no', $is_category = 'no' ) {&nbsp;</div></li><li><div>        $quick_view_ultimate_popup_tool = get_option('quick_view_ultimate_popup_tool');&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $output_html = '';&nbsp;</div></li><li><div>        ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $output_html .= ob_get_clean();&nbsp;</div></li><li><div>        $output_html .= '&lt;div class=&quot;quick_view_popup_container&quot;&gt;';&nbsp;</div></li><li><div>        $output_html .= WC_Quick_View_Custom_Template::custom_template_popup( $product_id, $orderby, $is_shop, $is_category );&nbsp;</div></li><li><div>        $output_html .= '&lt;/div&gt;';&nbsp;</div></li><li><div>        ob_start();&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>        &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>        jQuery(document).ready(function($) {&nbsp;</div></li><li><div>            &lt;?php if ( $quick_view_ultimate_popup_tool == 'colorbox' ) { ?&gt;&nbsp;</div></li><li><div>            $(document).find('#cboxContent').append( '&lt;div class=&quot;quick_view_popup_loading&quot;&gt;&lt;/div&gt;' );&nbsp;</div></li><li><div>            &lt;?php } elseif (  $quick_view_ultimate_popup_tool == 'fancybox' ) { ?&gt;&nbsp;</div></li><li><div>            setTimeout( function() {&nbsp;</div></li><li><div>                $(document).find('#fancybox-content').append( '&lt;div class=&quot;quick_view_popup_loading&quot;&gt;&lt;/div&gt;' );&nbsp;</div></li><li><div>            }, 1000);&nbsp;</div></li><li><div>            &lt;?php } ?&gt;&nbsp;</div></li><li><div>        });&nbsp;</div></li><li><div>        &lt;/script&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>        $output_html .= ob_get_clean();&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        return $output_html;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function custom_template_popup( $product_id, $orderby = 'menu_order', $is_shop = 'no', $is_category = 'no', $next_previous_loaded = 'no' ) {&nbsp;</div></li><li><div>        global $wc_quick_view_ultimate;&nbsp;</div></li><li><div>        global $quick_view_template_global_settings;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $dynamic_gallery_activate = get_option('quick_view_template_dynamic_gallery_activate', 'yes' );&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        if ( version_compare( WC()-&gt;version, '2.2.0', '&lt;' ) ) {&nbsp;</div></li><li><div>            $my_product = get_product( $product_id );&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $my_product = wc_get_product( $product_id );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $my_post = get_post( $product_id );&nbsp;</div></li><li><div>        $product_name = get_the_title( $product_id );&nbsp;</div></li><li><div>        $product_url = get_permalink( $product_id );&nbsp;</div></li><li><div>        $product_description = apply_filters( 'the_content', $my_post-&gt;post_excerpt );&nbsp;</div></li><li><div>        if ( $quick_view_template_global_settings['pull_description_from'] == 'description' || trim( $product_description ) == '' ) {&nbsp;</div></li><li><div>            $product_description = apply_filters( 'the_content', $wc_quick_view_ultimate-&gt;limit_words( $my_post-&gt;post_content , $quick_view_template_global_settings['description_characters'] ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Add code check show or hide price and add to cart button support for Woo Catalog Visibility Options plugin&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $show_add_to_cart = true;&nbsp;</div></li><li><div>        $show_price = true;&nbsp;</div></li><li><div>        if ( class_exists( 'WC_CVO_Visibility_Options' ) ) {&nbsp;</div></li><li><div>            global $wc_cvo;&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * Check show or hide price&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>             if (($wc_cvo-&gt;setting('wc_cvo_prices') == 'secured' && !catalog_visibility_user_has_access()) || $wc_cvo-&gt;setting('wc_cvo_prices') == 'disabled') {&nbsp;</div></li><li><div>                 $show_price = false;&nbsp;</div></li><li><div>             }&nbsp;</div></li><li><div>             &nbsp;</div></li><li><div>             /**&nbsp;</div></li><li><div>             * Check show or hide add to cart button&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>             if (($wc_cvo-&gt;setting('wc_cvo_atc') == 'secured' && !catalog_visibility_user_has_access()) || $wc_cvo-&gt;setting('wc_cvo_atc') == 'disabled') {&nbsp;</div></li><li><div>                 $show_add_to_cart = false;&nbsp;</div></li><li><div>             }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( class_exists( 'WC_Email_Inquiry_Functions' ) ) {&nbsp;</div></li><li><div>            if ( method_exists( 'WC_Email_Inquiry_Functions', 'check_hide_add_cart_button' ) && WC_Email_Inquiry_Functions::check_hide_add_cart_button( $product_id ) ) {&nbsp;</div></li><li><div>                $show_add_to_cart = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            if ( method_exists( 'WC_Email_Inquiry_Functions', 'check_hide_price' ) && WC_Email_Inquiry_Functions::check_hide_price( $product_id ) ) {&nbsp;</div></li><li><div>                $show_price = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        ob_start();&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;div class=&quot;quick_view_popup_container_inner&quot;&gt;&nbsp;</div></li><li><div>            &lt;!-- Product Gallery --&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;quick_view_product_gallery_container&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>            if ( 'yes' == $dynamic_gallery_activate ) {&nbsp;</div></li><li><div>                global $wc_quick_view_template_gallery_class;&nbsp;</div></li><li><div>                $wc_quick_view_template_gallery_class-&gt;wc_dynamic_gallery_display( $product_id, $next_previous_loaded );&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                global $wc_quick_view_template_default_gallery_class;&nbsp;</div></li><li><div>                $wc_quick_view_template_default_gallery_class-&gt;wc_default_gallery_display( $product_id );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;quick_view_product_data_container&quot;&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;!-- Product Title --&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_product_title_container&quot;&gt;&nbsp;</div></li><li><div>                    &lt;a class=&quot;quick_view_product_title&quot; href=&quot;&lt;?php echo $product_url; ?&gt;&quot;&gt;&lt;?php echo $product_name; ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;!-- Product Rating --&gt;&nbsp;</div></li><li><div>                &lt;?php if ( get_option( 'woocommerce_enable_review_rating' ) !== 'no' && $quick_view_template_global_settings['show_rating'] == 1 ) { ?&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    $count = $my_product-&gt;get_rating_count();&nbsp;</div></li><li><div>                    $average = $my_product-&gt;get_average_rating();&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;?php if ( $count &gt; 0 ) { ?&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_product_rating_container&quot;&gt;&nbsp;</div></li><li><div>                    &lt;div class=&quot;star-rating&quot; title=&quot;&lt;?php printf( __( 'Rated %s out of 5', 'wooquickview' ), $average ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                        &lt;span style=&quot;width:&lt;?php echo ( ( $average / 5 ) * 100 ); ?&gt;%&quot;&gt;&nbsp;</div></li><li><div>                            &lt;strong itemprop=&quot;ratingValue&quot; class=&quot;rating&quot;&gt;&lt;?php echo esc_html( $average ); ?&gt;&lt;/strong&gt; &lt;?php _e( 'out of 5', 'wooquickview' ); ?&gt;&nbsp;</div></li><li><div>                        &lt;/span&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>                    &lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;!-- Product Description --&gt;&nbsp;</div></li><li><div>                &lt;?php if ( $quick_view_template_global_settings['show_description'] == 1 ) { ?&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_product_description_container&quot;&gt;&nbsp;</div></li><li><div>                &lt;?php echo $product_description; ?&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;!-- Product Meta --&gt;&nbsp;</div></li><li><div>                &lt;?php if ( $quick_view_template_global_settings['show_product_meta'] == 1 ) { ?&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    $cat_count = sizeof( get_the_terms( $product_id, 'product_cat' ) );&nbsp;</div></li><li><div>                    $tag_count = sizeof( get_the_terms( $product_id, 'product_tag' ) );&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_product_meta_container&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php if ( wc_product_sku_enabled() && ( $my_product-&gt;get_sku() || $my_product-&gt;is_type( 'variable' ) ) ) : ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        &lt;div class=&quot;quick_view_product_meta quick_view_product_sku&quot;&gt;&lt;span class=&quot;quick_view_product_meta_name&quot;&gt;&lt;?php _e( 'SKU:', 'wooquickview' ); ?&gt;&lt;/span&gt; &lt;span class=&quot;quick_view_product_meta_value&quot;&gt;&lt;?php echo ( $sku = $my_product-&gt;get_sku() ) ? $sku : __( 'N/A', 'wooquickview' ); ?&gt;&lt;/span&gt;.&lt;/div&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                    &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;?php if ( version_compare( WC_VERSION, '3.0.0', '&lt;' ) ) { ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                    &lt;?php echo $my_product-&gt;get_categories( ', ', '&lt;div class=&quot;quick_view_product_meta quick_view_product_category&quot;&gt;&lt;span class=&quot;quick_view_product_meta_name&quot;&gt;' . _n( 'Category:', 'Categories:', $cat_count, 'wooquickview' ) . '&lt;/span&gt; ', '.&lt;/div&gt;' ); ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                    &lt;?php echo $my_product-&gt;get_tags( ', ', '&lt;div class=&quot;quick_view_product_meta quick_view_product_tag&quot;&gt;&lt;span class=&quot;quick_view_product_meta_name&quot;&gt;' . _n( 'Tag:', 'Tags:', $tag_count, 'wooquickview' ) . '&lt;/span&gt; ', '.&lt;/div&gt;' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;?php echo wc_get_product_category_list( $my_product-&gt;get_id(), ', ', '&lt;div class=&quot;quick_view_product_meta quick_view_product_category&quot;&gt;&lt;span class=&quot;quick_view_product_meta_name&quot;&gt;' . _n( 'Category:', 'Categories:', $cat_count, 'wooquickview' ) . '&lt;/span&gt; ', '.&lt;/div&gt;' ); ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                    &lt;?php echo wc_get_product_tag_list( $my_product-&gt;get_id(), ', ', '&lt;div class=&quot;quick_view_product_meta quick_view_product_tag&quot;&gt;&lt;span class=&quot;quick_view_product_meta_name&quot;&gt;' . _n( 'Tag:', 'Tags:', $tag_count, 'wooquickview' ) . '&lt;/span&gt; ', '.&lt;/div&gt;' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;!-- Product Price --&gt;&nbsp;</div></li><li><div>                &lt;?php if ( $show_price && $quick_view_template_global_settings['show_product_price'] == 1 ) { ?&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_product_price_container&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php echo $my_product-&gt;get_price_html(); ?&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;!-- Product Add To Cart --&gt;&nbsp;</div></li><li><div>                &lt;?php if ( $show_add_to_cart && $quick_view_template_global_settings['show_addtocart'] == 1 ) { ?&gt;&nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_product_addtocart_container&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php &nbsp;</div></li><li><div>                    global $product;&nbsp;</div></li><li><div>                    $product = $my_product;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    switch( $my_product-&gt;get_type() ) {&nbsp;</div></li><li><div>                        case 'variable' :&nbsp;</div></li><li><div>                        case 'variable-subscription':&nbsp;</div></li><li><div>                            WC_Quick_View_Custom_Template::variable_add_to_cart( $my_product );&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                        &nbsp;</div></li><li><div>                        case 'external' :&nbsp;</div></li><li><div>                            WC_Quick_View_Custom_Template::external_add_to_cart( $my_product );&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                        &nbsp;</div></li><li><div>                        case 'grouped' :&nbsp;</div></li><li><div>                            WC_Quick_View_Custom_Template::grouped_add_to_cart( $my_product );&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                        &nbsp;</div></li><li><div>                        default :&nbsp;</div></li><li><div>                            WC_Quick_View_Custom_Template::simple_add_to_cart( $my_product );&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;div style=&quot;clear:both&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&nbsp;</div></li><li><div>        &lt;div style=&quot;clear:both&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>        &lt;script&gt;&nbsp;</div></li><li><div>        jQuery(document).ready(function($) {&nbsp;</div></li><li><div>            $( 'div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)' ).addClass( 'buttons_added' ).append( '&lt;input type=&quot;button&quot; value=&quot;+&quot; class=&quot;quick_view_plus&quot; /&gt;' ).prepend( '&lt;input type=&quot;button&quot; value=&quot;-&quot; class=&quot;quick_view_minus&quot; /&gt;' );&nbsp;</div></li><li><div>        });&nbsp;</div></li><li><div>        &lt;/script&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>        $output_html = ob_get_clean();&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        return $output_html;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function simple_add_to_cart( $product ) {&nbsp;</div></li><li><div>        global $quick_view_template_global_settings;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>        if ( $product-&gt;is_purchasable() && $product-&gt;is_in_stock() ) {&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            $add_to_cart_bt_class = 'quick_view_add_to_cart_button';&nbsp;</div></li><li><div>            $add_to_cart_text = trim( $quick_view_template_global_settings['addtocart_button_text'] );&nbsp;</div></li><li><div>            if ( $quick_view_template_global_settings['addtocart_button_type'] == 'link' ) {&nbsp;</div></li><li><div>                $add_to_cart_bt_class = 'quick_view_add_to_cart_link';&nbsp;</div></li><li><div>                $add_to_cart_text = trim( $quick_view_template_global_settings['addtocart_link_text'] );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            echo '&lt;div class=&quot;quick_view_product_simple_addtocart_container quick_view_product_addtocart_button_container&quot;&gt;';&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>             if ( $quick_view_template_global_settings['show_quantity_selector'] == 1 && ! $product-&gt;is_sold_individually() )&nbsp;</div></li><li><div>                 woocommerce_quantity_input( array(&nbsp;</div></li><li><div>                     'min_value' =&gt; apply_filters( 'woocommerce_quantity_input_min', 1, $product ), &nbsp;</div></li><li><div>                     'max_value' =&gt; apply_filters( 'woocommerce_quantity_input_max', $product-&gt;backorders_allowed() ? '' : $product-&gt;get_stock_quantity(), $product ), &nbsp;</div></li><li><div> ), $product );&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>            echo sprintf( '&lt;a href=&quot;%s&quot; rel=&quot;nofollow&quot; data-product_id=&quot;%s&quot; data-quantity=&quot;1&quot; data-product_sku=&quot;%s&quot; class=&quot;button %s product_type_%s %s&quot;&gt;%s&lt;/a&gt;', &nbsp;</div></li><li><div>                    esc_url( $product-&gt;add_to_cart_url() ), &nbsp;</div></li><li><div>                    esc_attr( $product-&gt;get_id() ), &nbsp;</div></li><li><div>                    esc_attr( $product-&gt;get_sku() ), &nbsp;</div></li><li><div>                    $product-&gt;is_purchasable() && $product-&gt;is_in_stock() ? 'ajax_add_to_cart add_to_cart_button' : '', &nbsp;</div></li><li><div>                    esc_attr( $product-&gt;get_type() ), &nbsp;</div></li><li><div>                    esc_attr( $add_to_cart_bt_class ), &nbsp;</div></li><li><div>                    esc_html( apply_filters( 'woocommerce_product_single_add_to_cart_text', $add_to_cart_text, $product ) )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            echo '&lt;/div&gt;';&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>            &lt;script&gt;&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            jQuery(document).ready(function($) {&nbsp;</div></li><li><div>                // Get trigger when qty is changed&nbsp;</div></li><li><div>                $(document).on( &quot;change&quot;, '.quick_view_product_simple_addtocart_container .qty', function( event ) {&nbsp;</div></li><li><div>                    var quantity_number = $(this).val();&nbsp;</div></li><li><div>                    $(this).parents('.quick_view_product_simple_addtocart_container').find('.product_type_simple').attr('data-quantity', quantity_number );&nbsp;</div></li><li><div>                });&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>            &lt;/script&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function variable_add_to_cart( $product ) {&nbsp;</div></li><li><div>        global $quick_view_template_global_settings;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>        $add_to_cart_bt_class = 'quick_view_add_to_cart_button';&nbsp;</div></li><li><div>        $add_to_cart_text = trim( $quick_view_template_global_settings['addtocart_button_text'] );&nbsp;</div></li><li><div>        if ( $quick_view_template_global_settings['addtocart_button_type'] == 'link' ) {&nbsp;</div></li><li><div>            $add_to_cart_bt_class = 'quick_view_add_to_cart_link';&nbsp;</div></li><li><div>            $add_to_cart_text = trim( $quick_view_template_global_settings['addtocart_link_text'] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $available_variations = $product-&gt;get_available_variations();&nbsp;</div></li><li><div>        $attributes = $product-&gt;get_variation_attributes();&nbsp;</div></li><li><div>        $attribute_keys = array_keys( $attributes );&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>        &lt;form class=&quot;quick_view_variations_form cart&quot; method=&quot;post&quot; enctype='multipart/form-data' data-product_id=&quot;&lt;?php echo $product-&gt;get_id(); ?&gt;&quot; data-product_variations=&quot;&lt;?php echo esc_attr( json_encode( $available_variations ) ) ?&gt;&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php if ( ! empty( $available_variations ) ) : ?&gt;&nbsp;</div></li><li><div>                &lt;table class=&quot;variations quick_view_table_variations&quot; cellspacing=&quot;0&quot;&gt;&nbsp;</div></li><li><div>                    &lt;tbody&gt;&nbsp;</div></li><li><div>                        &lt;?php foreach ( $attributes as $attribute_name =&gt; $options ) : ?&gt;&nbsp;</div></li><li><div>                            &lt;tr&gt;&nbsp;</div></li><li><div>                                &lt;td class=&quot;label&quot;&gt;&lt;label for=&quot;&lt;?php echo sanitize_title($attribute_name); ?&gt;&quot;&gt;&lt;?php echo wc_attribute_label( $attribute_name ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                &lt;td class=&quot;value&quot;&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                        $selected = isset( $_REQUEST[ 'attribute_' . sanitize_title( $attribute_name ) ] ) ? wc_clean( urldecode( $_REQUEST[ 'attribute_' . sanitize_title( $attribute_name ) ] ) ) : $product-&gt;get_variation_default_attribute( $attribute_name );&nbsp;</div></li><li><div>                                        wc_dropdown_variation_attribute_options( array( 'options' =&gt; $options, 'attribute' =&gt; $attribute_name, 'product' =&gt; $product, 'selected' =&gt; $selected ) );&nbsp;</div></li><li><div>                                        echo end( $attribute_keys ) === $attribute_name ? apply_filters( 'woocommerce_reset_variations_link', '&lt;a class=&quot;reset_variations quick_view_reset_variations&quot; href=&quot;#&quot;&gt;' . __( 'Clear', 'woocommerce' ) . '&lt;/a&gt;' ) : '';&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                &lt;/td&gt;&nbsp;</div></li><li><div>                            &lt;/tr&gt;&nbsp;</div></li><li><div>                        &lt;?php endforeach;?&gt;&nbsp;</div></li><li><div>                    &lt;/tbody&gt;&nbsp;</div></li><li><div>                &lt;/table&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                &lt;div class=&quot;quick_view_single_variation_wrap&quot; style=&quot;display:none;&quot;&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                    &lt;div class=&quot;quick_view_single_variation&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                    &lt;div class=&quot;quick_view_variations_button&quot;&gt;&nbsp;</div></li><li><div>                        &lt;div class=&quot;quick_view_product_addtocart_button_container&quot;&gt;&nbsp;</div></li><li><div>                        &lt;?php if ( $quick_view_template_global_settings['show_quantity_selector'] == 1 ) woocommerce_quantity_input( array(), $product ); ?&gt;&nbsp;</div></li><li><div>                        &lt;?php&nbsp;</div></li><li><div>                        echo sprintf( '&lt;a href=&quot;%s&quot; rel=&quot;nofollow&quot; class=&quot;quick_view_single_add_to_cart_button single_add_to_cart_button button product_type_%s %s&quot;&gt;%s&lt;/a&gt;', &nbsp;</div></li><li><div>                                esc_url( $product-&gt;add_to_cart_url() ), &nbsp;</div></li><li><div>                                esc_attr( $product-&gt;get_type() ), &nbsp;</div></li><li><div>                                esc_attr( $add_to_cart_bt_class ), &nbsp;</div></li><li><div>                                esc_html( apply_filters( 'woocommerce_product_single_add_to_cart_text', $add_to_cart_text, $product ) )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                        ?&gt;&nbsp;</div></li><li><div>                        &lt;/div&gt;&nbsp;</div></li><li><div>                    &lt;/div&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                    &lt;input type=&quot;hidden&quot; name=&quot;add-to-cart&quot; value=&quot;&lt;?php echo $product-&gt;get_id(); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;input type=&quot;hidden&quot; name=&quot;product_id&quot; value=&quot;&lt;?php echo esc_attr( $product-&gt;get_id() ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;input type=&quot;hidden&quot; name=&quot;variation_id&quot; value=&quot;&quot; /&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>            &lt;?php else : ?&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                &lt;p class=&quot;stock out-of-stock&quot;&gt;&lt;?php _e( 'This product is currently out of stock and unavailable.', 'woocommerce' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>            &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        &lt;/form&gt;&nbsp;</div></li><li><div>        &lt;script&gt;&nbsp;</div></li><li><div>        jQuery(document).ready(function($) {&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            var cart_page_url = '&lt;?php echo str_replace( array( 'https:', 'http:' ), '' , get_permalink( wc_get_page_id( 'cart' ) ) ) ; ?&gt;';&nbsp;</div></li><li><div>            $('.quick_view_single_add_to_cart_button').click(function() {&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                var addtocart_object =$(this);&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                $(this).removeClass('added');&nbsp;</div></li><li><div>                $(this).addClass('loading');&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                var all_data = $('.quick_view_variations_form').serialize();&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                $.get( cart_page_url, all_data, function(response) {&nbsp;</div></li><li><div>                    addtocart_object.addClass('added');&nbsp;</div></li><li><div>                    addtocart_object.removeClass('loading');&nbsp;</div></li><li><div>                    $.post( '&lt;?php echo admin_url('admin-ajax.php', 'relative');?&gt;?action=quick_view_ultimate_reload_cart&security=&lt;?php echo wp_create_nonce(&quot;reload-cart&quot;);?&gt;', '', function(rsHTML) {&nbsp;</div></li><li><div>                        $('.widget_shopping_cart_content').html(rsHTML);&nbsp;</div></li><li><div>                            &nbsp;</div></li><li><div>                    });&nbsp;</div></li><li><div>                });&nbsp;</div></li><li><div>                return false;&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>        });&nbsp;</div></li><li><div>        &lt;/script&gt;&nbsp;</div></li><li><div>        &lt;script src=&quot;&lt;?php echo WC_QUICK_VIEW_ULTIMATE_JS_URL . '/add-to-cart-variation.js'; ?&gt;&quot;&gt;&lt;/script&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function grouped_add_to_cart( $product ) {&nbsp;</div></li><li><div>        global $quick_view_template_global_settings;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>        $add_to_cart_bt_class = 'quick_view_add_to_cart_button';&nbsp;</div></li><li><div>        $add_to_cart_text = trim( $quick_view_template_global_settings['addtocart_button_text'] );&nbsp;</div></li><li><div>        if ( $quick_view_template_global_settings['addtocart_button_type'] == 'link' ) {&nbsp;</div></li><li><div>            $add_to_cart_bt_class = 'quick_view_add_to_cart_link';&nbsp;</div></li><li><div>            $add_to_cart_text = trim( $quick_view_template_global_settings['addtocart_link_text'] );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $grouped_product = $product;&nbsp;</div></li><li><div>        $grouped_products = $product-&gt;get_children();&nbsp;</div></li><li><div>        $quantites_required = false;&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>        &lt;form class=&quot;quick_view_grouped_form cart&quot; method=&quot;post&quot; enctype='multipart/form-data'&gt;&nbsp;</div></li><li><div>            &lt;table cellspacing=&quot;0&quot; class=&quot;group_table&quot;&gt;&nbsp;</div></li><li><div>                &lt;tbody&gt;&nbsp;</div></li><li><div>                    &lt;?php&nbsp;</div></li><li><div>                        foreach ( $grouped_products as $product_id ) :&nbsp;</div></li><li><div>                            if ( version_compare( WC()-&gt;version, '2.2.0', '&lt;' ) ) {&nbsp;</div></li><li><div>                                $product = get_product( $product_id );&nbsp;</div></li><li><div>                            } else {&nbsp;</div></li><li><div>                                $product = wc_get_product( $product_id );&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            ?&gt;&nbsp;</div></li><li><div>                            &lt;tr&gt;&nbsp;</div></li><li><div>                                &lt;?php if ( $product-&gt;is_sold_individually() || ! $product-&gt;is_purchasable() ) : ?&gt;&nbsp;</div></li><li><div>                                &lt;td&gt;&nbsp;</div></li><li><div>                                        &lt;?php woocommerce_template_loop_add_to_cart(); ?&gt;&nbsp;</div></li><li><div>                                &lt;/td&gt;&nbsp;</div></li><li><div>                                &lt;?php elseif( $quick_view_template_global_settings['show_quantity_selector'] == 1 ) : ?&gt;&nbsp;</div></li><li><div>                                &lt;td&gt;&nbsp;</div></li><li><div>                                        &lt;?php&nbsp;</div></li><li><div>                                            $quantites_required = true;&nbsp;</div></li><li><div>                                            woocommerce_quantity_input( array( 'input_name' =&gt; 'quantity[' . $product_id . ']', 'input_value' =&gt; '0' ), $product );&nbsp;</div></li><li><div>                                        ?&gt;&nbsp;</div></li><li><div>                                &lt;/td&gt;&nbsp;</div></li><li><div>                                &lt;?php else : ?&gt;&nbsp;</div></li><li><div>                                &lt;?php $quantites_required = true; ?&gt;&nbsp;</div></li><li><div>                                &lt;input type=&quot;hidden&quot; size=&quot;4&quot; class=&quot;input-text qty text&quot; title=&quot;Qty&quot; value=&quot;1&quot; name=&quot;quantity[&lt;?php echo $product_id; ?&gt;]&quot; step=&quot;1&quot;&gt;&nbsp;</div></li><li><div>                                &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                                &lt;td class=&quot;label&quot;&gt;&nbsp;</div></li><li><div>                                    &lt;label for=&quot;product-&lt;?php echo $product_id; ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                        &lt;?php echo $product-&gt;is_visible() ? '&lt;a href=&quot;' . get_permalink( $product_id ) . '&quot;&gt;' . get_the_title( $product_id ) . '&lt;/a&gt;' : get_the_title( $product_id ); ?&gt;&nbsp;</div></li><li><div>                                    &lt;/label&gt;&nbsp;</div></li><li><div>                                &lt;/td&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                                &lt;td class=&quot;price&quot;&gt;&nbsp;</div></li><li><div>                                    &lt;?php&nbsp;</div></li><li><div>                                        echo $product-&gt;get_price_html();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( version_compare( WC_VERSION, '3.0.0', '&lt;' ) ) {&nbsp;</div></li><li><div>                                            if ( ( $availability = $product-&gt;get_availability() ) && $availability['availability'] )&nbsp;</div></li><li><div>                                                echo apply_filters( 'woocommerce_stock_html', '&lt;p class=&quot;stock ' . esc_attr( $availability['class'] ) . '&quot;&gt;' . esc_html( $availability['availability'] ) . '&lt;/p&gt;', $availability['availability'] );&nbsp;</div></li><li><div>                                        } else {&nbsp;</div></li><li><div>                                            echo wc_get_stock_html( $product );&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                    ?&gt;&nbsp;</div></li><li><div>                                &lt;/td&gt;&nbsp;</div></li><li><div>                            &lt;/tr&gt;&nbsp;</div></li><li><div>                            &lt;?php&nbsp;</div></li><li><div>                        endforeach;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>                        $product = $grouped_product;&nbsp;</div></li><li><div>                    ?&gt;&nbsp;</div></li><li><div>                &lt;/tbody&gt;&nbsp;</div></li><li><div>            &lt;/table&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>            &lt;input type=&quot;hidden&quot; name=&quot;add-to-cart&quot; value=&quot;&lt;?php echo esc_attr( $product-&gt;get_id() ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>            &lt;?php if ( $quantites_required ) : ?&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                    echo sprintf( '&lt;div class=&quot;quick_view_product_addtocart_button_container&quot;&gt;&lt;a href=&quot;%s&quot; rel=&quot;nofollow&quot; class=&quot;single_add_to_cart_button button product_type_%s %s&quot;&gt;%s&lt;/a&gt;&lt;/div&gt;', &nbsp;</div></li><li><div>                            esc_url( $product-&gt;add_to_cart_url() ), &nbsp;</div></li><li><div>                            esc_attr( $product-&gt;get_type() ), &nbsp;</div></li><li><div>                            esc_attr( $add_to_cart_bt_class ), &nbsp;</div></li><li><div>                            esc_html( apply_filters( 'woocommerce_product_single_add_to_cart_text', $add_to_cart_text, $product ) )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                ?&gt;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>            &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>        &lt;/form&gt;&nbsp;</div></li><li><div>        &lt;script&gt;&nbsp;</div></li><li><div>        jQuery(document).ready(function($) {&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>            var cart_page_url = '&lt;?php str_replace( array( 'https:', 'http:' ), '' , get_permalink( wc_get_page_id( 'cart' ) ) ) ; ?&gt;';&nbsp;</div></li><li><div>            $('.single_add_to_cart_button').click(function() {&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                var addtocart_object =$(this);&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                $(this).removeClass('added');&nbsp;</div></li><li><div>                $(this).addClass('loading');&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                var all_data = $('.quick_view_grouped_form').serialize();&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                $.get( cart_page_url, all_data, function(response) {&nbsp;</div></li><li><div>                    addtocart_object.addClass('added');&nbsp;</div></li><li><div>                    addtocart_object.removeClass('loading');&nbsp;</div></li><li><div>                    $.post( '&lt;?php echo admin_url('admin-ajax.php', 'relative');?&gt;?action=quick_view_ultimate_reload_cart&security=&lt;?php echo wp_create_nonce(&quot;reload-cart&quot;);?&gt;', '', function(rsHTML) {&nbsp;</div></li><li><div>                        $('.widget_shopping_cart_content').html(rsHTML);&nbsp;</div></li><li><div>                            &nbsp;</div></li><li><div>                    });&nbsp;</div></li><li><div>                });&nbsp;</div></li><li><div>                return false;&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>        });&nbsp;</div></li><li><div>        &lt;/script&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    &nbsp;</div></li><li><div>    public static function external_add_to_cart( $product ) {&nbsp;</div></li><li><div>        global $quick_view_template_global_settings;&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $add_to_cart_bt_class = 'quick_view_add_to_cart_button';&nbsp;</div></li><li><div>        if ( $quick_view_template_global_settings['addtocart_button_type'] == 'link' ) {&nbsp;</div></li><li><div>            $add_to_cart_bt_class = 'quick_view_add_to_cart_link';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        &nbsp;</div></li><li><div>        $product_url = $product-&gt;get_product_url();&nbsp;</div></li><li><div>        $button_text = $product-&gt;single_add_to_cart_text();&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>        &lt;div class=&quot;quick_view_product_addtocart_button_container&quot;&gt;&lt;a href=&quot;&lt;?php echo esc_url( $product_url ); ?&gt;&quot; rel=&quot;nofollow&quot; class=&quot;single_add_to_cart_button button alt &lt;?php echo $add_to_cart_bt_class; ?&gt;&quot;&gt;&lt;?php echo $button_text; ?&gt;&lt;/a&gt;&lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 1.4.1</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.1/classes/wc_quick_view_custom_template/" class="active">1.6.1</a></li><li><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.6.0/classes/wc_quick_view_custom_template/" class="">1.6.0</a></li><li><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.5.1/classes/wc_quick_view_custom_template/" class="">1.5.1</a></li><li><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.5.0/classes/wc_quick_view_custom_template/" class="">1.5.0</a></li><li><a href="http://hookr.io/plugins/woocommerce-products-quick-view/1.4.1/classes/wc_quick_view_custom_template/" class="">1.4.1</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>WC_Quick_View_Custom_Template</li><li><span></span>WooCommerce Products Quick View</li><li><span></span>1.6.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>