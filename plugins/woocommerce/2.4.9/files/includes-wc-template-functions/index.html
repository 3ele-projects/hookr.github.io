<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="3.0.6" data-slug="woocommerce" data-type="file" data-id="40776"><head xmlns="http://www.w3.org/1999/xhtml"><title> includes-wc-template-functions | file | Woocommerce | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, woocommerce, 3.0.6" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=ce7b7e309c3410f24cd329856a1ff928' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/includes-wc-template-functions/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fincludes-wc-template-functions%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fincludes-wc-template-functions%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-3.0.6-file-includes-wc-template-functions","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="includes-wc-template-functions" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce." href="http://hookr.io/plugins/woocommerce/" class="plugin"><span property="name">woocommerce</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.0.6." href="http://hookr.io/plugins/woocommerce/3.0.6/" class="H_VERSION"><span property="name">3.0.6</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/woocommerce/3.0.6/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">includes-wc-template-functions</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="3119"><a href="http://hookr.io/plugins/woocommerce/3.0.6/all/" title="All">All <span class="count badge">3119</span></a></li><li class="" data-id="new" data-count="3"><a href="http://hookr.io/plugins/woocommerce/3.0.6/new/" title="New">New <span class="count badge">3</span></a></li><li class="" data-id="hooks" data-count="2110"><a href="http://hookr.io/plugins/woocommerce/3.0.6/hooks/" title="Hooks">Hooks <span class="count badge">2110</span></a></li><li class="" data-id="action" data-count="774"><a href="http://hookr.io/plugins/woocommerce/3.0.6/actions/" title="Actions">Actions <span class="count badge">774</span></a></li><li class="" data-id="filter" data-count="1336"><a href="http://hookr.io/plugins/woocommerce/3.0.6/filters/" title="Filters">Filters <span class="count badge">1336</span></a></li><li class="" data-id="class" data-count="365"><a href="http://hookr.io/plugins/woocommerce/3.0.6/classes/" title="Classes">Classes <span class="count badge">365</span></a></li><li class="" data-id="constant" data-count="14"><a href="http://hookr.io/plugins/woocommerce/3.0.6/constants/" title="Constants">Constants <span class="count badge">14</span></a></li><li class="" data-id="function" data-count="626"><a href="http://hookr.io/plugins/woocommerce/3.0.6/functions/" title="Functions">Functions <span class="count badge">626</span></a></li><li class="" data-id="shortcode" data-count="4"><a href="http://hookr.io/plugins/woocommerce/3.0.6/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">4</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/includes/wc-template-functions.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * WooCommerce Template</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Functions for the templating system.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @author   WooThemes</span>&nbsp;</div></li><li><div><span class="comment"> * @category Core</span>&nbsp;</div></li><li><div><span class="comment"> * @package  WooCommerce/Functions</span>&nbsp;</div></li><li><div><span class="comment"> * @version  2.5.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! defined( 'ABSPATH' ) ) {&nbsp;</div></li><li><div>  exit; <span class="comment">// Exit if accessed directly</span>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Handle redirects before content is output - hooked into template_redirect so is_page works.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_template_redirect() {&nbsp;</div></li><li><div>  global $wp_query, $wp;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! empty( $_GET['page_id'] ) && '' === get_option( 'permalink_structure' ) && wc_get_page_id( 'shop' ) == $_GET['page_id'] ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// When default permalinks are enabled, redirect shop page to post type archive url</span>&nbsp;</div></li><li><div>      wp_safe_redirect( get_post_type_archive_link( 'product' ) );&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_page( wc_get_page_id( 'checkout' ) ) && wc_get_page_id( 'checkout' ) !== wc_get_page_id( 'cart' ) && WC()-&gt;cart-&gt;is_empty() && empty( $wp-&gt;query_vars['order-pay'] ) && ! isset( $wp-&gt;query_vars['order-received'] ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// When on the checkout with an empty cart, redirect to cart page</span>&nbsp;</div></li><li><div>      wc_add_notice( __( 'Checkout is not available whilst your cart is empty.', 'woocommerce' ), 'notice' );&nbsp;</div></li><li><div>      wp_redirect( wc_get_page_permalink( 'cart' ) );&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( isset( $wp-&gt;query_vars['customer-logout'] ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Logout</span>&nbsp;</div></li><li><div>      wp_redirect( str_replace( '&amp;', '&', wp_logout_url( wc_get_page_permalink( 'myaccount' ) ) ) );&nbsp;</div></li><li><div>      exit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_search() && is_post_type_archive( 'product' ) && apply_filters( 'woocommerce_redirect_single_search_result', true ) && 1 === absint( $wp_query-&gt;found_posts ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Redirect to the product page if we have a single product</span>&nbsp;</div></li><li><div>      $product = wc_get_product( $wp_query-&gt;post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $product && $product-&gt;is_visible() ) {&nbsp;</div></li><li><div>          wp_safe_redirect( get_permalink( $product-&gt;get_id() ), 302 );&nbsp;</div></li><li><div>          exit;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( is_add_payment_method_page() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ensure payment gateways are loaded early</span>&nbsp;</div></li><li><div>      WC()-&gt;payment_gateways();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_checkout() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Checkout pages handling</span>&nbsp;</div></li><li><div>      <span class="comment">// Buffer the checkout page</span>&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ensure gateways and shipping methods are loaded early</span>&nbsp;</div></li><li><div>      WC()-&gt;payment_gateways();&nbsp;</div></li><li><div>      WC()-&gt;shipping();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'template_redirect', 'wc_template_redirect' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * When loading sensitive checkout or account pages, send a HTTP header to limit rendering of pages to same origin iframes for security reasons.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Can be disabled with: remove_action( 'template_redirect', 'wc_send_frame_options_header' );</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since  2.3.10</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_send_frame_options_header() {&nbsp;</div></li><li><div>  if ( is_checkout() || is_account_page() ) {&nbsp;</div></li><li><div>      send_frame_options_header();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'template_redirect', 'wc_send_frame_options_header' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * No index our endpoints.</span>&nbsp;</div></li><li><div><span class="comment"> * Prevent indexing pages like order-received.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.5.3</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_prevent_endpoint_indexing() {&nbsp;</div></li><li><div>  if ( is_wc_endpoint_url() || isset( $_GET['download_file'] ) ) {&nbsp;</div></li><li><div>      @header( 'X-Robots-Tag: noindex' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'template_redirect', 'wc_prevent_endpoint_indexing' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Remove adjacent_posts_rel_link_wp_head - pointless for products.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_prevent_adjacent_posts_rel_link_wp_head() {&nbsp;</div></li><li><div>  if ( is_singular( 'product' ) ) {&nbsp;</div></li><li><div>      remove_action( 'wp_head', 'adjacent_posts_rel_link_wp_head', 10, 0 );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'template_redirect', 'wc_prevent_adjacent_posts_rel_link_wp_head' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Show the gallery if JS is disabled.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.6</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_gallery_noscript() {&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;noscript&gt;&lt;style&gt;.woocommerce-product-gallery{ opacity: 1 !important; }&lt;/style&gt;&lt;/noscript&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'wp_head', 'wc_gallery_noscript' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * When the_post is called, put product data into a global.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed $post</span>&nbsp;</div></li><li><div><span class="comment"> * @return WC_Product</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_setup_product_data( $post ) {&nbsp;</div></li><li><div>  unset( $GLOBALS['product'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_int( $post ) )&nbsp;</div></li><li><div>      $post = get_post( $post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( empty( $post-&gt;post_type ) || ! in_array( $post-&gt;post_type, array( 'product', 'product_variation' ) ) )&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $GLOBALS['product'] = wc_get_product( $post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $GLOBALS['product'];&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'the_post', 'wc_setup_product_data' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_reset_loop' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Reset the loop's index and columns when we're done outputting a product loop.</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_reset_loop() {&nbsp;</div></li><li><div>      $GLOBALS['woocommerce_loop'] = array(&nbsp;</div></li><li><div>          'loop' =&gt; '', &nbsp;</div></li><li><div>          'columns' =&gt; '', &nbsp;</div></li><li><div>          'name' =&gt; '', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_filter( 'loop_end', 'woocommerce_reset_loop' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Products RSS Feed.</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 2.6</span>&nbsp;</div></li><li><div><span class="comment"> * @access public</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_products_rss_feed() {&nbsp;</div></li><li><div>  <span class="comment">// Product RSS</span>&nbsp;</div></li><li><div>  if ( is_post_type_archive( 'product' ) || is_singular( 'product' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $feed = get_post_type_archive_feed_link( 'product' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo '&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot;  title=&quot;' . esc_attr__( 'New products', 'woocommerce' ) . '&quot; href=&quot;' . esc_url( $feed ) . '&quot; /&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_tax( 'product_cat' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $term = get_term_by( 'slug', esc_attr( get_query_var( 'product_cat' ) ), 'product_cat' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $term ) {&nbsp;</div></li><li><div>          $feed = add_query_arg( 'product_cat', $term-&gt;slug, get_post_type_archive_feed_link( 'product' ) );&nbsp;</div></li><li><div>          echo '&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot;  title=&quot;' . sprintf( esc_attr__( 'New products added to %s', 'woocommerce' ), $term-&gt;name ) . '&quot; href=&quot;' . esc_url( $feed ) . '&quot; /&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } elseif ( is_tax( 'product_tag' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $term = get_term_by( 'slug', esc_attr( get_query_var( 'product_tag' ) ), 'product_tag' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $term ) {&nbsp;</div></li><li><div>          $feed = add_query_arg( 'product_tag', $term-&gt;slug, get_post_type_archive_feed_link( 'product' ) );&nbsp;</div></li><li><div>          echo '&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot;  title=&quot;' . sprintf( esc_attr__( 'New products tagged %s', 'woocommerce' ), urlencode( $term-&gt;name ) ) . '&quot; href=&quot;' . esc_url( $feed ) . '&quot; /&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Output generator tag to aid debugging.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @access public</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_generator_tag( $gen, $type ) {&nbsp;</div></li><li><div>  switch ( $type ) {&nbsp;</div></li><li><div>      case 'html':&nbsp;</div></li><li><div>          $gen .= &quot;\n&quot; . '&lt;meta name=&quot;generator&quot; content=&quot;WooCommerce ' . esc_attr( WC_VERSION ) . '&quot;&gt;';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case 'xhtml':&nbsp;</div></li><li><div>          $gen .= &quot;\n&quot; . '&lt;meta name=&quot;generator&quot; content=&quot;WooCommerce ' . esc_attr( WC_VERSION ) . '&quot; /&gt;';&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $gen;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Add body classes for WC pages.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param  array $classes</span>&nbsp;</div></li><li><div><span class="comment"> * @return array</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_body_class( $classes ) {&nbsp;</div></li><li><div>  $classes = (array) $classes;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_woocommerce() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $classes[] = 'woocommerce';&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-page';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_checkout() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-checkout';&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-page';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_cart() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-cart';&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-page';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  } elseif ( is_account_page() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-account';&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-page';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_store_notice_showing() ) {&nbsp;</div></li><li><div>      $classes[] = 'woocommerce-demo-store';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( WC()-&gt;query-&gt;query_vars as $key =&gt; $value ) {&nbsp;</div></li><li><div>      if ( is_wc_endpoint_url( $key ) ) {&nbsp;</div></li><li><div>          $classes[] = 'woocommerce-' . sanitize_html_class( $key );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return array_unique( $classes );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Display the classes for the product cat div.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.4.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param string|array $class One or more classes to add to the class list.</span>&nbsp;</div></li><li><div><span class="comment"> * @param object $category object Optional.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_product_cat_class( $class = '', $category = null ) {&nbsp;</div></li><li><div>  <span class="comment">// Separates classes with a single space, collates classes for post DIV</span>&nbsp;</div></li><li><div>  echo 'class=&quot;' . esc_attr( join( ' ', wc_get_product_cat_class( $class, $category ) ) ) . '&quot;';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get classname for loops based on $woocommerce_loop global.</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.6.0</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_get_loop_class() {&nbsp;</div></li><li><div>  global $woocommerce_loop;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $woocommerce_loop['loop'] = ! empty( $woocommerce_loop['loop'] ) ? $woocommerce_loop['loop'] + 1   : 1;&nbsp;</div></li><li><div>  $woocommerce_loop['columns'] = max( 1, ! empty( $woocommerce_loop['columns'] ) ? $woocommerce_loop['columns'] : apply_filters( 'loop_shop_columns', 4 ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( 0 === ( $woocommerce_loop['loop'] - 1 ) % $woocommerce_loop['columns'] || 1 === $woocommerce_loop['columns'] ) {&nbsp;</div></li><li><div>      return 'first';&nbsp;</div></li><li><div>  } elseif ( 0 === $woocommerce_loop['loop'] % $woocommerce_loop['columns'] ) {&nbsp;</div></li><li><div>      return 'last';&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get the classes for the product cat div.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.4.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param string|array $class One or more classes to add to the class list.</span>&nbsp;</div></li><li><div><span class="comment"> * @param object $category object Optional.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_get_product_cat_class( $class = '', $category = null ) {&nbsp;</div></li><li><div>  $classes = is_array( $class ) ? $class : array_map( 'trim', explode( ' ', $class ) );&nbsp;</div></li><li><div>  $classes[] = 'product-category';&nbsp;</div></li><li><div>  $classes[] = 'product';&nbsp;</div></li><li><div>  $classes[] = wc_get_loop_class();&nbsp;</div></li><li><div>  $classes = apply_filters( 'product_cat_class', $classes, $class, $category );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return array_unique( array_filter( $classes ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Adds extra post classes for products.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.1.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $classes</span>&nbsp;</div></li><li><div><span class="comment"> * @param string|array $class</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $post_id</span>&nbsp;</div></li><li><div><span class="comment"> * @return array</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_product_post_class( $classes, $class = '', $post_id = '' ) {&nbsp;</div></li><li><div>  if ( ! $post_id || ! in_array( get_post_type( $post_id ), array( 'product', 'product_variation' ) ) ) {&nbsp;</div></li><li><div>      return $classes;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $product = wc_get_product( $post_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $product ) {&nbsp;</div></li><li><div>      $classes[] = 'product';&nbsp;</div></li><li><div>      $classes[] = wc_get_loop_class();&nbsp;</div></li><li><div>      $classes[] = $product-&gt;get_stock_status();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $product-&gt;is_on_sale() ) {&nbsp;</div></li><li><div>          $classes[] = 'sale';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_featured() ) {&nbsp;</div></li><li><div>          $classes[] = 'featured';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_downloadable() ) {&nbsp;</div></li><li><div>          $classes[] = 'downloadable';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_virtual() ) {&nbsp;</div></li><li><div>          $classes[] = 'virtual';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_sold_individually() ) {&nbsp;</div></li><li><div>          $classes[] = 'sold-individually';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_taxable() ) {&nbsp;</div></li><li><div>          $classes[] = 'taxable';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_shipping_taxable() ) {&nbsp;</div></li><li><div>          $classes[] = 'shipping-taxable';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_purchasable() ) {&nbsp;</div></li><li><div>          $classes[] = 'purchasable';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;get_type() ) {&nbsp;</div></li><li><div>          $classes[] = &quot;product-type-&quot; . $product-&gt;get_type();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $product-&gt;is_type( 'variable' ) ) {&nbsp;</div></li><li><div>          if ( ! $product-&gt;get_default_attributes() ) {&nbsp;</div></li><li><div>              $classes[] = 'has-default-attributes';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $product-&gt;has_child() ) {&nbsp;</div></li><li><div>              $classes[] = 'has-children';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( false !== ( $key = array_search( 'hentry', $classes ) ) ) {&nbsp;</div></li><li><div>      unset( $classes[ $key ] );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $classes;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs hidden form inputs for each query string variable.</span>&nbsp;</div></li><li><div><span class="comment"> * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $values Name value pairs.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $exclude Keys to exclude.</span>&nbsp;</div></li><li><div><span class="comment"> * @param string $current_key Current key we are outputting.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_query_string_form_fields( $values = null, $exclude = array(), $current_key = '', $return = false ) {&nbsp;</div></li><li><div>  if ( is_null( $values ) ) {&nbsp;</div></li><li><div>      $values = $_GET;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $html = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  foreach ( $values as $key =&gt; $value ) {&nbsp;</div></li><li><div>      if ( in_array( $key, $exclude, true ) ) {&nbsp;</div></li><li><div>          continue;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $current_key ) {&nbsp;</div></li><li><div>          $key = $current_key . '[' . $key . ']';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( is_array( $value ) ) {&nbsp;</div></li><li><div>          $html .= wc_query_string_form_fields( $value, $exclude, $key, true );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $html .= '&lt;input type=&quot;hidden&quot; name=&quot;' . esc_attr( $key ) . '&quot; value=&quot;' . esc_attr( $value ) . '&quot; /&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $return ) {&nbsp;</div></li><li><div>      return $html;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      echo $html;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Template pages ********************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_content' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output WooCommerce content.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * This function is only used in the optional 'woocommerce.php' template.</span>&nbsp;</div></li><li><div><span class="comment">   * which people can add to their themes to add basic woocommerce support.</span>&nbsp;</div></li><li><div><span class="comment">   * without hooks or modifying core templates.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_content() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_singular( 'product' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          while ( have_posts() ) : the_post();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              wc_get_template_part( 'content', 'single-product' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          endwhile;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      } else { ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;?php if ( apply_filters( 'woocommerce_show_page_title', true ) ) : ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;h1 class=&quot;page-title&quot;&gt;&lt;?php woocommerce_page_title(); ?&gt;&lt;/h1&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;?php do_action( 'woocommerce_archive_description' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;?php if ( have_posts() ) : ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php do_action( 'woocommerce_before_shop_loop' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php woocommerce_product_loop_start(); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php woocommerce_product_subcategories(); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php while ( have_posts() ) : the_post(); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      &lt;?php wc_get_template_part( 'content', 'product' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php endwhile; <span class="comment">// end of the loop. ?&gt;</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php woocommerce_product_loop_end(); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php do_action( 'woocommerce_after_shop_loop' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;?php elseif ( ! woocommerce_product_subcategories( array( 'before' =&gt; woocommerce_product_loop_start( false ), 'after' =&gt; woocommerce_product_loop_end( false ) ) ) ) : ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php do_action( 'woocommerce_no_products_found' ); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &lt;?php endif;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Global ****************************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_output_content_wrapper' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the start of the page wrapper.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_output_content_wrapper() {&nbsp;</div></li><li><div>      wc_get_template( 'global/wrapper-start.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_output_content_wrapper_end' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the end of the page wrapper.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_output_content_wrapper_end() {&nbsp;</div></li><li><div>      wc_get_template( 'global/wrapper-end.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_get_sidebar' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the shop sidebar template.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_get_sidebar() {&nbsp;</div></li><li><div>      wc_get_template( 'global/sidebar.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_demo_store' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Adds a demo store banner to the site if enabled.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_demo_store() {&nbsp;</div></li><li><div>      if ( ! is_store_notice_showing() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $notice = get_option( 'woocommerce_demo_store_notice' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( empty( $notice ) ) {&nbsp;</div></li><li><div>          $notice = __( 'This is a demo store for testing purposes &mdash; no orders shall be fulfilled.', 'woocommerce' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo apply_filters( 'woocommerce_demo_store', '&lt;p class=&quot;woocommerce-store-notice demo_store&quot;&gt;' . wp_kses_post( $notice ) . ' &lt;a href=&quot;#&quot; class=&quot;woocommerce-store-notice__dismiss-link&quot;&gt;' . esc_html__( 'Dismiss', 'woocommerce' ) . '&lt;/a&gt;&lt;/p&gt;', $notice );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Loop ******************************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_page_title' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * woocommerce_page_title function.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param  bool $echo</span>&nbsp;</div></li><li><div><span class="comment">   * @return string</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_page_title( $echo = true ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_search() ) {&nbsp;</div></li><li><div>          $page_title = sprintf( __( 'Search results: &ldquo;%s&rdquo;', 'woocommerce' ), get_search_query() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( get_query_var( 'paged' ) )&nbsp;</div></li><li><div>              $page_title .= sprintf( __( '&nbsp;&ndash; Page %s', 'woocommerce' ), get_query_var( 'paged' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      } elseif ( is_tax() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $page_title = single_term_title( &quot;&quot;, false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $shop_page_id = wc_get_page_id( 'shop' );&nbsp;</div></li><li><div>          $page_title = get_the_title( $shop_page_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $page_title = apply_filters( 'woocommerce_page_title', $page_title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $echo )&nbsp;</div></li><li><div>          echo $page_title;&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          return $page_title;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_loop_start' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the start of a product loop. By default this is a UL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool $echo</span>&nbsp;</div></li><li><div><span class="comment">   * @return string</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_loop_start( $echo = true ) {&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>      $GLOBALS['woocommerce_loop']['loop'] = 0;&nbsp;</div></li><li><div>      wc_get_template( 'loop/loop-start.php' );&nbsp;</div></li><li><div>      if ( $echo )&nbsp;</div></li><li><div>          echo ob_get_clean();&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          return ob_get_clean();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_loop_end' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the end of a product loop. By default this is a UL.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool $echo</span>&nbsp;</div></li><li><div><span class="comment">   * @return string</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_loop_end( $echo = true ) {&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'loop/loop-end.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $echo )&nbsp;</div></li><li><div>          echo ob_get_clean();&nbsp;</div></li><li><div>      else&nbsp;</div></li><li><div>          return ob_get_clean();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_loop_product_title' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Show the product title in the product loop. By default this is an H2.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_loop_product_title() {&nbsp;</div></li><li><div>      echo '&lt;h2 class=&quot;woocommerce-loop-product__title&quot;&gt;' . get_the_title() . '&lt;/h2&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_loop_category_title' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Show the subcategory title in the product loop.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_loop_category_title( $category ) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;h2 class=&quot;woocommerce-loop-category__title&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>              echo $category-&gt;name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( $category-&gt;count &gt; 0 )&nbsp;</div></li><li><div>                  echo apply_filters( 'woocommerce_subcategory_count_html', ' &lt;mark class=&quot;count&quot;&gt;(' . $category-&gt;count . ')&lt;/mark&gt;', $category );&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>      &lt;/h2&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Insert the opening anchor tag for products in the loop.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function woocommerce_template_loop_product_link_open() {&nbsp;</div></li><li><div>  echo '&lt;a href=&quot;' . get_the_permalink() . '&quot; class=&quot;woocommerce-LoopProduct-link&quot;&gt;';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Insert the opening anchor tag for products in the loop.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function woocommerce_template_loop_product_link_close() {&nbsp;</div></li><li><div>  echo '&lt;/a&gt;';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Insert the opening anchor tag for categories in the loop.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function woocommerce_template_loop_category_link_open( $category ) {&nbsp;</div></li><li><div>  echo '&lt;a href=&quot;' . get_term_link( $category, 'product_cat' ) . '&quot;&gt;';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Insert the closing anchor tag for categories in the loop.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function woocommerce_template_loop_category_link_close() {&nbsp;</div></li><li><div>  echo '&lt;/a&gt;';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_taxonomy_archive_description' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Show an archive description on taxonomy archives.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Archives</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_taxonomy_archive_description() {&nbsp;</div></li><li><div>      if ( is_product_taxonomy() && 0 === absint( get_query_var( 'paged' ) ) ) {&nbsp;</div></li><li><div>          $description = wc_format_content( term_description() );&nbsp;</div></li><li><div>          if ( $description ) {&nbsp;</div></li><li><div>              echo '&lt;div class=&quot;term-description&quot;&gt;' . $description . '&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_archive_description' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Show a shop page description on product archives.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Archives</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_archive_description() {&nbsp;</div></li><li><div>      <span class="comment">// Don't display the description on search results page</span>&nbsp;</div></li><li><div>      if ( is_search() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_post_type_archive( 'product' ) && 0 === absint( get_query_var( 'paged' ) ) ) {&nbsp;</div></li><li><div>          $shop_page = get_post( wc_get_page_id( 'shop' ) );&nbsp;</div></li><li><div>          if ( $shop_page ) {&nbsp;</div></li><li><div>              $description = wc_format_content( $shop_page-&gt;post_content );&nbsp;</div></li><li><div>              if ( $description ) {&nbsp;</div></li><li><div>                  echo '&lt;div class=&quot;page-description&quot;&gt;' . $description . '&lt;/div&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_loop_add_to_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the add to cart template for the loop.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_loop_add_to_cart( $args = array() ) {&nbsp;</div></li><li><div>      global $product;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $product ) {&nbsp;</div></li><li><div>          $defaults = array(&nbsp;</div></li><li><div>              'quantity' =&gt; 1, &nbsp;</div></li><li><div>              'class' =&gt; implode( ' ', array_filter( array(&nbsp;</div></li><li><div>                      'button', &nbsp;</div></li><li><div>                      'product_type_' . $product-&gt;get_type(), &nbsp;</div></li><li><div>                      $product-&gt;is_purchasable() && $product-&gt;is_in_stock() ? 'add_to_cart_button' : '', &nbsp;</div></li><li><div>                      $product-&gt;supports( 'ajax_add_to_cart' ) ? 'ajax_add_to_cart' : '', &nbsp;</div></li><li><div> ) ) ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $args = apply_filters( 'woocommerce_loop_add_to_cart_args', wp_parse_args( $args, $defaults ), $product );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          wc_get_template( 'loop/add-to-cart.php', $args );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_loop_product_thumbnail' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the product thumbnail for the loop.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_loop_product_thumbnail() {&nbsp;</div></li><li><div>      echo woocommerce_get_product_thumbnail();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_loop_price' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the product price for the loop.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_loop_price() {&nbsp;</div></li><li><div>      wc_get_template( 'loop/price.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_loop_rating' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display the average rating in the loop.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_loop_rating() {&nbsp;</div></li><li><div>      wc_get_template( 'loop/rating.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_show_product_loop_sale_flash' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the sale flash for the loop.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_show_product_loop_sale_flash() {&nbsp;</div></li><li><div>      wc_get_template( 'loop/sale-flash.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_get_product_thumbnail' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the product thumbnail, or the placeholder if not set.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $size (default: 'shop_catalog')</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $deprecated1 Deprecated since WooCommerce 2.0 (default: 0)</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $deprecated2 Deprecated since WooCommerce 2.0 (default: 0)</span>&nbsp;</div></li><li><div><span class="comment">   * @return string</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_get_product_thumbnail( $size = 'shop_catalog', $deprecated1 = 0, $deprecated2 = 0 ) {&nbsp;</div></li><li><div>      global $post;&nbsp;</div></li><li><div>      $image_size = apply_filters( 'single_product_archive_thumbnail_size', $size );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( has_post_thumbnail() ) {&nbsp;</div></li><li><div>          $props = wc_get_product_attachment_props( get_post_thumbnail_id(), $post );&nbsp;</div></li><li><div>          return get_the_post_thumbnail( $post-&gt;ID, $image_size, array(&nbsp;</div></li><li><div>              'title' =&gt; $props['title'], &nbsp;</div></li><li><div>              'alt' =&gt; $props['alt'], &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      } elseif ( wc_placeholder_img_src() ) {&nbsp;</div></li><li><div>          return wc_placeholder_img( $image_size );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_result_count' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the result count text (Showing x - x of x results).</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_result_count() {&nbsp;</div></li><li><div>      wc_get_template( 'loop/result-count.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_catalog_ordering' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product sorting options.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_catalog_ordering() {&nbsp;</div></li><li><div>      global $wp_query;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 1 === (int) $wp_query-&gt;found_posts || ! woocommerce_products_will_display() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $orderby = isset( $_GET['orderby'] ) ? wc_clean( $_GET['orderby'] ) : apply_filters( 'woocommerce_default_catalog_orderby', get_option( 'woocommerce_default_catalog_orderby' ) );&nbsp;</div></li><li><div>      $show_default_orderby = 'menu_order' === apply_filters( 'woocommerce_default_catalog_orderby', get_option( 'woocommerce_default_catalog_orderby' ) );&nbsp;</div></li><li><div>      $catalog_orderby_options = apply_filters( 'woocommerce_catalog_orderby', array(&nbsp;</div></li><li><div>          'menu_order' =&gt; __( 'Default sorting', 'woocommerce' ), &nbsp;</div></li><li><div>          'popularity' =&gt; __( 'Sort by popularity', 'woocommerce' ), &nbsp;</div></li><li><div>          'rating' =&gt; __( 'Sort by average rating', 'woocommerce' ), &nbsp;</div></li><li><div>          'date' =&gt; __( 'Sort by newness', 'woocommerce' ), &nbsp;</div></li><li><div>          'price' =&gt; __( 'Sort by price: low to high', 'woocommerce' ), &nbsp;</div></li><li><div>          'price-desc' =&gt; __( 'Sort by price: high to low', 'woocommerce' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $show_default_orderby ) {&nbsp;</div></li><li><div>          unset( $catalog_orderby_options['menu_order'] );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( 'no' === get_option( 'woocommerce_enable_review_rating' ) ) {&nbsp;</div></li><li><div>          unset( $catalog_orderby_options['rating'] );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'loop/orderby.php', array( 'catalog_orderby_options' =&gt; $catalog_orderby_options, 'orderby' =&gt; $orderby, 'show_default_orderby' =&gt; $show_default_orderby ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_pagination' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the pagination.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_pagination() {&nbsp;</div></li><li><div>      wc_get_template( 'loop/pagination.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Single Product ********************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_show_product_images' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product image before the single product summary.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_show_product_images() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/product-image.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_show_product_thumbnails' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product thumbnails.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_show_product_thumbnails() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/product-thumbnails.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_output_product_data_tabs' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product tabs.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product/Tabs</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_output_product_data_tabs() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/tabs/tabs.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_title' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product title.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_title() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/title.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_rating' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product rating.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_rating() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/rating.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_price' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product price.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_price() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/price.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_excerpt' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product short description (excerpt).</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_excerpt() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/short-description.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_meta' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product meta.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_meta() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/meta.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_sharing' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product sharing.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_sharing() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/share.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_show_product_sale_flash' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the product sale flash.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_show_product_sale_flash() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/sale-flash.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_template_single_add_to_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Trigger the single product add to cart action.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_template_single_add_to_cart() {&nbsp;</div></li><li><div>      global $product;&nbsp;</div></li><li><div>      do_action( 'woocommerce_' . $product-&gt;get_type() . '_add_to_cart' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_simple_add_to_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the simple product add to cart area.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_simple_add_to_cart() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/add-to-cart/simple.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_grouped_add_to_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the grouped product add to cart area.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_grouped_add_to_cart() {&nbsp;</div></li><li><div>      global $product;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $products = array_filter( array_map( 'wc_get_product', $product-&gt;get_children() ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $products ) {&nbsp;</div></li><li><div>          usort( $products, 'wc_products_array_orderby_menu_order' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          wc_get_template( 'single-product/add-to-cart/grouped.php', array(&nbsp;</div></li><li><div>              'grouped_product' =&gt; $product, &nbsp;</div></li><li><div>              'grouped_products' =&gt; $products, &nbsp;</div></li><li><div>              'quantites_required' =&gt; false, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_variable_add_to_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the variable product add to cart area.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_variable_add_to_cart() {&nbsp;</div></li><li><div>      global $product;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Enqueue variation scripts</span>&nbsp;</div></li><li><div>      wp_enqueue_script( 'wc-add-to-cart-variation' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get Available variations?</span>&nbsp;</div></li><li><div>      $get_variations = sizeof( $product-&gt;get_children() ) &lt;= apply_filters( 'woocommerce_ajax_variation_threshold', 30, $product );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Load the template</span>&nbsp;</div></li><li><div>      wc_get_template( 'single-product/add-to-cart/variable.php', array(&nbsp;</div></li><li><div>          'available_variations' =&gt; $get_variations ? $product-&gt;get_available_variations() : false, &nbsp;</div></li><li><div>          'attributes' =&gt; $product-&gt;get_variation_attributes(), &nbsp;</div></li><li><div>          'selected_attributes' =&gt; $product-&gt;get_default_attributes(), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_external_add_to_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the external product add to cart area.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_external_add_to_cart() {&nbsp;</div></li><li><div>      global $product;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $product-&gt;add_to_cart_url() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'single-product/add-to-cart/external.php', array(&nbsp;</div></li><li><div>          'product_url' =&gt; $product-&gt;add_to_cart_url(), &nbsp;</div></li><li><div>          'button_text' =&gt; $product-&gt;single_add_to_cart_text(), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_quantity_input' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the quantity input for add to cart forms.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param  array $args Args for the input</span>&nbsp;</div></li><li><div><span class="comment">   * @param  WC_Product|null $product</span>&nbsp;</div></li><li><div><span class="comment">   * @param  boolean $echo Whether to return or echo|string</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_quantity_input( $args = array(), $product = null, $echo = true ) {&nbsp;</div></li><li><div>      if ( is_null( $product ) ) {&nbsp;</div></li><li><div>          $product = $GLOBALS['product'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'input_name' =&gt; 'quantity', &nbsp;</div></li><li><div>          'input_value' =&gt; '1', &nbsp;</div></li><li><div>          'max_value' =&gt; apply_filters( 'woocommerce_quantity_input_max', -1, $product ), &nbsp;</div></li><li><div>          'min_value' =&gt; apply_filters( 'woocommerce_quantity_input_min', 0, $product ), &nbsp;</div></li><li><div>          'step' =&gt; apply_filters( 'woocommerce_quantity_input_step', 1, $product ), &nbsp;</div></li><li><div>          'pattern' =&gt; apply_filters( 'woocommerce_quantity_input_pattern', has_filter( 'woocommerce_stock_amount', 'intval' ) ? '[0-9]*' : '' ), &nbsp;</div></li><li><div>          'inputmode' =&gt; apply_filters( 'woocommerce_quantity_input_inputmode', has_filter( 'woocommerce_stock_amount', 'intval' ) ? 'numeric' : '' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = apply_filters( 'woocommerce_quantity_input_args', wp_parse_args( $args, $defaults ), $product );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Apply sanity to min/max args - min cannot be lower than 0.</span>&nbsp;</div></li><li><div>      $args['min_value'] = max( $args['min_value'], 0 );&nbsp;</div></li><li><div>      $args['max_value'] = 0 &lt; $args['max_value'] ? $args['max_value'] : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Max cannot be lower than min if defined.</span>&nbsp;</div></li><li><div>      if ( '' !== $args['max_value'] && $args['max_value'] &lt; $args['min_value'] ) {&nbsp;</div></li><li><div>          $args['max_value'] = $args['min_value'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'global/quantity-input.php', $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $echo ) {&nbsp;</div></li><li><div>          echo ob_get_clean();&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          return ob_get_clean();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_description_tab' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the description tab content.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product/Tabs</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_description_tab() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/tabs/description.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_additional_information_tab' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the attributes tab content.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product/Tabs</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_additional_information_tab() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/tabs/additional-information.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_reviews_tab' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the reviews tab content.</span>&nbsp;</div></li><li><div><span class="comment">   * @deprecated  2.4.0 Unused</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product/Tabs</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_reviews_tab() {&nbsp;</div></li><li><div>      wc_deprecated_function( 'woocommerce_product_reviews_tab', '2.4' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_default_product_tabs' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Add default product tabs to product pages.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $tabs</span>&nbsp;</div></li><li><div><span class="comment">   * @return array</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_default_product_tabs( $tabs = array() ) {&nbsp;</div></li><li><div>      global $product, $post;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Description tab - shows product content</span>&nbsp;</div></li><li><div>      if ( $post-&gt;post_content ) {&nbsp;</div></li><li><div>          $tabs['description'] = array(&nbsp;</div></li><li><div>              'title' =&gt; __( 'Description', 'woocommerce' ), &nbsp;</div></li><li><div>              'priority' =&gt; 10, &nbsp;</div></li><li><div>              'callback' =&gt; 'woocommerce_product_description_tab', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Additional information tab - shows attributes</span>&nbsp;</div></li><li><div>      if ( $product && ( $product-&gt;has_attributes() || apply_filters( 'wc_product_enable_dimensions_display', $product-&gt;has_weight() || $product-&gt;has_dimensions() ) ) ) {&nbsp;</div></li><li><div>          $tabs['additional_information'] = array(&nbsp;</div></li><li><div>              'title' =&gt; __( 'Additional information', 'woocommerce' ), &nbsp;</div></li><li><div>              'priority' =&gt; 20, &nbsp;</div></li><li><div>              'callback' =&gt; 'woocommerce_product_additional_information_tab', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Reviews tab - shows comments</span>&nbsp;</div></li><li><div>      if ( comments_open() ) {&nbsp;</div></li><li><div>          $tabs['reviews'] = array(&nbsp;</div></li><li><div>              'title' =&gt; sprintf( __( 'Reviews (%d)', 'woocommerce' ), $product-&gt;get_review_count() ), &nbsp;</div></li><li><div>              'priority' =&gt; 30, &nbsp;</div></li><li><div>              'callback' =&gt; 'comments_template', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $tabs;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_sort_product_tabs' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Sort tabs by priority.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $tabs</span>&nbsp;</div></li><li><div><span class="comment">   * @return array</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_sort_product_tabs( $tabs = array() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Make sure the $tabs parameter is an array</span>&nbsp;</div></li><li><div>      if ( ! is_array( $tabs ) ) {&nbsp;</div></li><li><div>          trigger_error( &quot;Function woocommerce_sort_product_tabs() expects an array as the first parameter. Defaulting to empty array.&quot; );&nbsp;</div></li><li><div>          $tabs = array();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Re-order tabs by priority</span>&nbsp;</div></li><li><div>      if ( ! function_exists( '_sort_priority_callback' ) ) {&nbsp;</div></li><li><div>          function _sort_priority_callback( $a, $b ) {&nbsp;</div></li><li><div>              if ( $a['priority'] === $b['priority'] )&nbsp;</div></li><li><div>                  return 0;&nbsp;</div></li><li><div>              return ( $a['priority'] &lt; $b['priority'] ) ? -1 : 1;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      uasort( $tabs, '_sort_priority_callback' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $tabs;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_comments' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Review comments template.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   * @param WP_Comment $comment</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $depth</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_comments( $comment, $args, $depth ) {&nbsp;</div></li><li><div>      $GLOBALS['comment'] = $comment;&nbsp;</div></li><li><div>      wc_get_template( 'single-product/review.php', array( 'comment' =&gt; $comment, 'args' =&gt; $args, 'depth' =&gt; $depth ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_review_display_gravatar' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display the review authors gravatar</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $comment WP_Comment.</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_review_display_gravatar( $comment ) {&nbsp;</div></li><li><div>      echo get_avatar( $comment, apply_filters( 'woocommerce_review_gravatar_size', '60' ), '' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_review_display_rating' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display the reviewers star rating</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_review_display_rating() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/review-rating.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_review_display_meta' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display the review authors meta (name, verified owner, review date)</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_review_display_meta() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/review-meta.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_review_display_comment_text' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display the review content.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_review_display_comment_text() {&nbsp;</div></li><li><div>      echo '&lt;div class=&quot;description&quot;&gt;';&nbsp;</div></li><li><div>      comment_text();&nbsp;</div></li><li><div>      echo '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_output_related_products' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the related products.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Product</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_output_related_products() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = array(&nbsp;</div></li><li><div>          'posts_per_page' =&gt; 4, &nbsp;</div></li><li><div>          'columns' =&gt; 4, &nbsp;</div></li><li><div>          'orderby' =&gt; 'rand', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      woocommerce_related_products( apply_filters( 'woocommerce_output_related_products_args', $args ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_related_products' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the related products.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array Provided arguments</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_related_products( $args = array() ) {&nbsp;</div></li><li><div>      global $product, $woocommerce_loop;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $product ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'posts_per_page' =&gt; 2, &nbsp;</div></li><li><div>          'columns' =&gt; 2, &nbsp;</div></li><li><div>          'orderby' =&gt; 'rand', &nbsp;</div></li><li><div>          'order' =&gt; 'desc', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get visble related products then sort them at random.</span>&nbsp;</div></li><li><div>      $args['related_products'] = array_filter( array_map( 'wc_get_product', wc_get_related_products( $product-&gt;get_id(), $args['posts_per_page'], $product-&gt;get_upsell_ids() ) ), 'wc_products_array_filter_visible' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Handle orderby.</span>&nbsp;</div></li><li><div>      $args['related_products'] = wc_products_array_orderby( $args['related_products'], $args['orderby'], $args['order'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Set global loop values.</span>&nbsp;</div></li><li><div>      $woocommerce_loop['name'] = 'related';&nbsp;</div></li><li><div>      $woocommerce_loop['columns'] = apply_filters( 'woocommerce_related_products_columns', $args['columns'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'single-product/related.php', $args );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_upsell_display' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output product up sells.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $limit (default: -1)</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $columns (default: 4)</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $orderby Supported values - rand, title, ID, date, modified, menu_order, price.</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $order Sort direction.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_upsell_display( $limit = '-1', $columns = 4, $orderby = 'rand', $order = 'desc' ) {&nbsp;</div></li><li><div>      global $product, $woocommerce_loop;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $product ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Handle the legacy filter which controlled posts per page etc.</span>&nbsp;</div></li><li><div>      $args = apply_filters( 'woocommerce_upsell_display_args', array(&nbsp;</div></li><li><div>          'posts_per_page' =&gt; $limit, &nbsp;</div></li><li><div>          'orderby' =&gt; $orderby, &nbsp;</div></li><li><div>          'columns' =&gt; $columns, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      $woocommerce_loop['name'] = 'up-sells';&nbsp;</div></li><li><div>      $woocommerce_loop['columns'] = apply_filters( 'woocommerce_upsells_columns', isset( $args['columns'] ) ? $args['columns'] : $columns );&nbsp;</div></li><li><div>      $orderby = apply_filters( 'woocommerce_upsells_orderby', isset( $args['orderby'] ) ? $args['orderby'] : $orderby );&nbsp;</div></li><li><div>      $limit = apply_filters( 'woocommerce_upsells_total', isset( $args['posts_per_page'] ) ? $args['posts_per_page'] : $limit );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get visble upsells then sort them at random, then limit result set.</span>&nbsp;</div></li><li><div>      $upsells = wc_products_array_orderby( array_filter( array_map( 'wc_get_product', $product-&gt;get_upsell_ids() ), 'wc_products_array_filter_visible' ), $orderby, $order );&nbsp;</div></li><li><div>      $upsells = $limit &gt; 0 ? array_slice( $upsells, 0, $limit ) : $upsells;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'single-product/up-sells.php', array(&nbsp;</div></li><li><div>          'upsells' =&gt; $upsells, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Not used now, but used in previous version of up-sells.php.</span></span>&nbsp;</div></li><li><div>          'posts_per_page' =&gt; $limit, &nbsp;</div></li><li><div>          'orderby' =&gt; $orderby, &nbsp;</div></li><li><div>          'columns' =&gt; $columns, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Cart ******************************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_shipping_calculator' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the cart shipping calculator.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Cart</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_shipping_calculator() {&nbsp;</div></li><li><div>      wc_get_template( 'cart/shipping-calculator.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_cart_totals' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the cart totals.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Cart</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_cart_totals() {&nbsp;</div></li><li><div>      if ( is_checkout() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      wc_get_template( 'cart/cart-totals.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_cross_sell_display' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the cart cross-sells.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param  int $limit (default: 2)</span>&nbsp;</div></li><li><div><span class="comment">   * @param  int $columns (default: 2)</span>&nbsp;</div></li><li><div><span class="comment">   * @param  string $orderby (default: 'rand')</span>&nbsp;</div></li><li><div><span class="comment">   * @param  string $order (default: 'desc')</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_cross_sell_display( $limit = 2, $columns = 2, $orderby = 'rand', $order = 'desc' ) {&nbsp;</div></li><li><div>      global $woocommerce_loop;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_checkout() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Get visble cross sells then sort them at random.</span>&nbsp;</div></li><li><div>      $cross_sells = array_filter( array_map( 'wc_get_product', WC()-&gt;cart-&gt;get_cross_sells() ), 'wc_products_array_filter_visible' );&nbsp;</div></li><li><div>      $woocommerce_loop['name'] = 'cross-sells';&nbsp;</div></li><li><div>      $woocommerce_loop['columns'] = apply_filters( 'woocommerce_cross_sells_columns', $columns );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Handle orderby and limit results.</span>&nbsp;</div></li><li><div>      $orderby = apply_filters( 'woocommerce_cross_sells_orderby', $orderby );&nbsp;</div></li><li><div>      $cross_sells = wc_products_array_orderby( $cross_sells, $orderby, $order );&nbsp;</div></li><li><div>      $limit = apply_filters( 'woocommerce_cross_sells_total', $limit );&nbsp;</div></li><li><div>      $cross_sells = $limit &gt; 0 ? array_slice( $cross_sells, 0, $limit ) : $cross_sells;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'cart/cross-sells.php', array(&nbsp;</div></li><li><div>          'cross_sells' =&gt; $cross_sells, &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Not used now, but used in previous version of up-sells.php.</span></span>&nbsp;</div></li><li><div>          'posts_per_page' =&gt; $limit, &nbsp;</div></li><li><div>          'orderby' =&gt; $orderby, &nbsp;</div></li><li><div>          'columns' =&gt; $columns, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_button_proceed_to_checkout' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the proceed to checkout button.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Cart</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_button_proceed_to_checkout() {&nbsp;</div></li><li><div>      wc_get_template( 'cart/proceed-to-checkout-button.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_widget_shopping_cart_button_view_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the proceed to checkout button.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Cart</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_widget_shopping_cart_button_view_cart() {&nbsp;</div></li><li><div>      echo '&lt;a href=&quot;' . esc_url( wc_get_cart_url() ) . '&quot; class=&quot;button wc-forward&quot;&gt;' . esc_html__( 'View cart', 'woocommerce' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_widget_shopping_cart_proceed_to_checkout' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the proceed to checkout button.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Cart</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_widget_shopping_cart_proceed_to_checkout() {&nbsp;</div></li><li><div>      echo '&lt;a href=&quot;' . esc_url( wc_get_checkout_url() ) . '&quot; class=&quot;button checkout wc-forward&quot;&gt;' . esc_html__( 'Checkout', 'woocommerce' ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Mini-Cart *************************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_mini_cart' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Mini-cart - used by cart widget.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_mini_cart( $args = array() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'list_class' =&gt; '', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'cart/mini-cart.php', $args );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Login *****************************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_login_form' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the WooCommerce Login Form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Forms</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_login_form( $args = array() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'message' =&gt; '', &nbsp;</div></li><li><div>          'redirect' =&gt; '', &nbsp;</div></li><li><div>          'hidden' =&gt; false, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'global/form-login.php', $args );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_checkout_login_form' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the WooCommerce Checkout Login Form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Checkout</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_checkout_login_form() {&nbsp;</div></li><li><div>      wc_get_template( 'checkout/form-login.php', array( 'checkout' =&gt; WC()-&gt;checkout() ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_breadcrumb' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the WooCommerce Breadcrumb.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_breadcrumb( $args = array() ) {&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, apply_filters( 'woocommerce_breadcrumb_defaults', array(&nbsp;</div></li><li><div>          'delimiter' =&gt; '&nbsp;&#47;&nbsp;', &nbsp;</div></li><li><div>          'wrap_before' =&gt; '&lt;nav class=&quot;woocommerce-breadcrumb&quot;&gt;', &nbsp;</div></li><li><div>          'wrap_after' =&gt; '&lt;/nav&gt;', &nbsp;</div></li><li><div>          'before' =&gt; '', &nbsp;</div></li><li><div>          'after' =&gt; '', &nbsp;</div></li><li><div>          'home' =&gt; _x( 'Home', 'breadcrumb', 'woocommerce' ), &nbsp;</div></li><li><div> ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $breadcrumbs = new WC_Breadcrumb();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $args['home'] ) ) {&nbsp;</div></li><li><div>          $breadcrumbs-&gt;add_crumb( $args['home'], apply_filters( 'woocommerce_breadcrumb_home_url', home_url() ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args['breadcrumb'] = $breadcrumbs-&gt;generate();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * @hooked WC_Structured_Data::generate_breadcrumblist_data() - 10</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      do_action( 'woocommerce_breadcrumb', $breadcrumbs, $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'global/breadcrumb.php', $args );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_order_review' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Order review table for the checkout.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Checkout</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_order_review( $deprecated = false ) {&nbsp;</div></li><li><div>      wc_get_template( 'checkout/review-order.php', array( 'checkout' =&gt; WC()-&gt;checkout() ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_checkout_payment' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Payment Methods on the checkout.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Checkout</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_checkout_payment() {&nbsp;</div></li><li><div>      if ( WC()-&gt;cart-&gt;needs_payment() ) {&nbsp;</div></li><li><div>          $available_gateways = WC()-&gt;payment_gateways()-&gt;get_available_payment_gateways();&nbsp;</div></li><li><div>          WC()-&gt;payment_gateways()-&gt;set_current_gateway( $available_gateways );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $available_gateways = array();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'checkout/payment.php', array(&nbsp;</div></li><li><div>          'checkout' =&gt; WC()-&gt;checkout(), &nbsp;</div></li><li><div>          'available_gateways' =&gt; $available_gateways, &nbsp;</div></li><li><div>          'order_button_text' =&gt; apply_filters( 'woocommerce_order_button_text', __( 'Place order', 'woocommerce' ) ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_checkout_coupon_form' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Coupon form for the checkout.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Checkout</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_checkout_coupon_form() {&nbsp;</div></li><li><div>      wc_get_template( 'checkout/form-coupon.php', array( 'checkout' =&gt; WC()-&gt;checkout() ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_products_will_display' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Check if we will be showing products or not (and not sub-categories only).</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   * @return bool</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_products_will_display() {&nbsp;</div></li><li><div>      global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_shop() ) {&nbsp;</div></li><li><div>          return 'subcategories' !== get_option( 'woocommerce_shop_page_display' ) || is_search();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! is_product_taxonomy() ) {&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_search() || is_filtered() || is_paged() ) {&nbsp;</div></li><li><div>          return true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $term = get_queried_object();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_product_category() ) {&nbsp;</div></li><li><div>          switch ( get_woocommerce_term_meta( $term-&gt;term_id, 'display_type', true ) ) {&nbsp;</div></li><li><div>              case 'subcategories' :&nbsp;</div></li><li><div>                  <span class="comment">// Nothing - we want to continue to see if there are products/subcats</span>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>              case 'products' :&nbsp;</div></li><li><div>              case 'both' :&nbsp;</div></li><li><div>                  return true;&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>              default :&nbsp;</div></li><li><div>                  <span class="comment">// Default - no setting</span>&nbsp;</div></li><li><div>                  if ( get_option( 'woocommerce_category_archive_display' ) != 'subcategories' ) {&nbsp;</div></li><li><div>                      return true;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Begin subcategory logic</span>&nbsp;</div></li><li><div>      if ( empty( $term-&gt;term_id ) || empty( $term-&gt;taxonomy ) ) {&nbsp;</div></li><li><div>          return true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $transient_name = 'wc_products_will_display_' . $term-&gt;term_id . '_' . WC_Cache_Helper::get_transient_version( 'product_query' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( false === ( $products_will_display = get_transient( $transient_name ) ) ) {&nbsp;</div></li><li><div>          $has_children = $wpdb-&gt;get_col( $wpdb-&gt;prepare( &quot;SELECT term_id FROM {$wpdb-&gt;term_taxonomy} WHERE parent = %d AND taxonomy = %s&quot;, $term-&gt;term_id, $term-&gt;taxonomy ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $has_children ) {&nbsp;</div></li><li><div>              <span class="comment">// Check terms have products inside - parents first. If products are found inside, subcats will be shown instead of products so we can return false.</span>&nbsp;</div></li><li><div>              if ( sizeof( get_objects_in_term( $has_children, $term-&gt;taxonomy ) ) &gt; 0 ) {&nbsp;</div></li><li><div>                  $products_will_display = false;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  <span class="comment">// If we get here, the parents were empty so we're forced to check children</span>&nbsp;</div></li><li><div>                  foreach ( $has_children as $term_id ) {&nbsp;</div></li><li><div>                      $children = get_term_children( $term_id, $term-&gt;taxonomy );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      if ( sizeof( get_objects_in_term( $children, $term-&gt;taxonomy ) ) &gt; 0 ) {&nbsp;</div></li><li><div>                          $products_will_display = false;&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $products_will_display = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      set_transient( $transient_name, $products_will_display, DAY_IN_SECONDS * 30 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $products_will_display;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_product_subcategories' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display product sub categories as thumbnails.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   * @return null|boolean</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_product_subcategories( $args = array() ) {&nbsp;</div></li><li><div>      global $wp_query;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'before' =&gt; '', &nbsp;</div></li><li><div>          'after' =&gt; '', &nbsp;</div></li><li><div>          'force_display' =&gt; false, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      extract( $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Main query only</span>&nbsp;</div></li><li><div>      if ( ! is_main_query() && ! $force_display ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Don't show when filtering, searching or when on page &gt; 1 and ensure we're on a product archive</span>&nbsp;</div></li><li><div>      if ( is_search() || is_filtered() || is_paged() || ( ! is_product_category() && ! is_shop() ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Check categories are enabled</span>&nbsp;</div></li><li><div>      if ( is_shop() && '' === get_option( 'woocommerce_shop_page_display' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Find the category + category parent, if applicable</span>&nbsp;</div></li><li><div>      $term = get_queried_object();&nbsp;</div></li><li><div>      $parent_id = empty( $term-&gt;term_id ) ? 0 : $term-&gt;term_id;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_product_category() ) {&nbsp;</div></li><li><div>          $display_type = get_woocommerce_term_meta( $term-&gt;term_id, 'display_type', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          switch ( $display_type ) {&nbsp;</div></li><li><div>              case 'products' :&nbsp;</div></li><li><div>                  return;&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>              case '' :&nbsp;</div></li><li><div>                  if ( '' === get_option( 'woocommerce_category_archive_display' ) ) {&nbsp;</div></li><li><div>                      return;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// NOTE: using child_of instead of parent - this is not ideal but due to a WP bug ( https://core.trac.wordpress.org/ticket/15626 ) pad_counts won't work</span>&nbsp;</div></li><li><div>      $product_categories = get_categories( apply_filters( 'woocommerce_product_subcategories_args', array(&nbsp;</div></li><li><div>          'parent' =&gt; $parent_id, &nbsp;</div></li><li><div>          'menu_order' =&gt; 'ASC', &nbsp;</div></li><li><div>          'hide_empty' =&gt; 0, &nbsp;</div></li><li><div>          'hierarchical' =&gt; 1, &nbsp;</div></li><li><div>          'taxonomy' =&gt; 'product_cat', &nbsp;</div></li><li><div>          'pad_counts' =&gt; 1, &nbsp;</div></li><li><div> ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( apply_filters( 'woocommerce_product_subcategories_hide_empty', true ) ) {&nbsp;</div></li><li><div>          $product_categories = wp_list_filter( $product_categories, array( 'count' =&gt; 0 ), 'NOT' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $product_categories ) {&nbsp;</div></li><li><div>          echo $before;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          foreach ( $product_categories as $category ) {&nbsp;</div></li><li><div>              wc_get_template( 'content-product_cat.php', array(&nbsp;</div></li><li><div>                  'category' =&gt; $category, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// If we are hiding products disable the loop and pagination</span>&nbsp;</div></li><li><div>          if ( is_product_category() ) {&nbsp;</div></li><li><div>              $display_type = get_woocommerce_term_meta( $term-&gt;term_id, 'display_type', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              switch ( $display_type ) {&nbsp;</div></li><li><div>                  case 'subcategories' :&nbsp;</div></li><li><div>                      $wp_query-&gt;post_count = 0;&nbsp;</div></li><li><div>                      $wp_query-&gt;max_num_pages = 0;&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>                  case '' :&nbsp;</div></li><li><div>                      if ( 'subcategories' === get_option( 'woocommerce_category_archive_display' ) ) {&nbsp;</div></li><li><div>                          $wp_query-&gt;post_count = 0;&nbsp;</div></li><li><div>                          $wp_query-&gt;max_num_pages = 0;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  break;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( is_shop() && 'subcategories' === get_option( 'woocommerce_shop_page_display' ) ) {&nbsp;</div></li><li><div>              $wp_query-&gt;post_count = 0;&nbsp;</div></li><li><div>              $wp_query-&gt;max_num_pages = 0;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          echo $after;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_subcategory_thumbnail' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Show subcategory thumbnails.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $category</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Loop</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_subcategory_thumbnail( $category ) {&nbsp;</div></li><li><div>      $small_thumbnail_size = apply_filters( 'subcategory_archive_thumbnail_size', 'shop_catalog' );&nbsp;</div></li><li><div>      $dimensions = wc_get_image_size( $small_thumbnail_size );&nbsp;</div></li><li><div>      $thumbnail_id = get_woocommerce_term_meta( $category-&gt;term_id, 'thumbnail_id', true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $thumbnail_id ) {&nbsp;</div></li><li><div>          $image = wp_get_attachment_image_src( $thumbnail_id, $small_thumbnail_size );&nbsp;</div></li><li><div>          $image = $image[0];&nbsp;</div></li><li><div>          $image_srcset = function_exists( 'wp_get_attachment_image_srcset' ) ? wp_get_attachment_image_srcset( $thumbnail_id, $small_thumbnail_size ) : false;&nbsp;</div></li><li><div>          $image_sizes = function_exists( 'wp_get_attachment_image_sizes' ) ? wp_get_attachment_image_sizes( $thumbnail_id, $small_thumbnail_size ) : false;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $image = wc_placeholder_img_src();&nbsp;</div></li><li><div>          $image_srcset = $image_sizes = false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $image ) {&nbsp;</div></li><li><div>          <span class="comment">// Prevent esc_url from breaking spaces in urls for image embeds</span>&nbsp;</div></li><li><div>          <span class="comment">// Ref: https://core.trac.wordpress.org/ticket/23605</span>&nbsp;</div></li><li><div>          $image = str_replace( ' ', '%20', $image );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Add responsive image markup if available</span>&nbsp;</div></li><li><div>          if ( $image_srcset && $image_sizes ) {&nbsp;</div></li><li><div>              echo '&lt;img src=&quot;' . esc_url( $image ) . '&quot; alt=&quot;' . esc_attr( $category-&gt;name ) . '&quot; width=&quot;' . esc_attr( $dimensions['width'] ) . '&quot; height=&quot;' . esc_attr( $dimensions['height'] ) . '&quot; srcset=&quot;' . esc_attr( $image_srcset ) . '&quot; sizes=&quot;' . esc_attr( $image_sizes ) . '&quot; /&gt;';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              echo '&lt;img src=&quot;' . esc_url( $image ) . '&quot; alt=&quot;' . esc_attr( $category-&gt;name ) . '&quot; width=&quot;' . esc_attr( $dimensions['width'] ) . '&quot; height=&quot;' . esc_attr( $dimensions['height'] ) . '&quot; /&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_order_details_table' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Displays order details in a table.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $order_id</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Orders</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_order_details_table( $order_id ) {&nbsp;</div></li><li><div>      if ( ! $order_id ) return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'order/order-details.php', array(&nbsp;</div></li><li><div>          'order_id' =&gt; $order_id, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_order_again_button' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display an 'order again' button on the view order page.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param object $order</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Orders</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_order_again_button( $order ) {&nbsp;</div></li><li><div>      if ( ! $order || ! $order-&gt;has_status( 'completed' ) || ! is_user_logged_in() ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'order/order-again.php', array(&nbsp;</div></li><li><div>          'order' =&gt; $order, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/** Forms ****************************************************************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_form_field' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Outputs a checkout/address form field.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Forms</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $key</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $args</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $value (default: null)</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_form_field( $key, $args, $value = null ) {&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'type' =&gt; 'text', &nbsp;</div></li><li><div>          'label' =&gt; '', &nbsp;</div></li><li><div>          'description' =&gt; '', &nbsp;</div></li><li><div>          'placeholder' =&gt; '', &nbsp;</div></li><li><div>          'maxlength' =&gt; false, &nbsp;</div></li><li><div>          'required' =&gt; false, &nbsp;</div></li><li><div>          'autocomplete' =&gt; false, &nbsp;</div></li><li><div>          'id' =&gt; $key, &nbsp;</div></li><li><div>          'class' =&gt; array(), &nbsp;</div></li><li><div>          'label_class' =&gt; array(), &nbsp;</div></li><li><div>          'input_class' =&gt; array(), &nbsp;</div></li><li><div>          'return' =&gt; false, &nbsp;</div></li><li><div>          'options' =&gt; array(), &nbsp;</div></li><li><div>          'custom_attributes' =&gt; array(), &nbsp;</div></li><li><div>          'validate' =&gt; array(), &nbsp;</div></li><li><div>          'default' =&gt; '', &nbsp;</div></li><li><div>          'autofocus' =&gt; '', &nbsp;</div></li><li><div>          'priority' =&gt; '', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>      $args = apply_filters( 'woocommerce_form_field_args', $args, $key, $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $args['required'] ) {&nbsp;</div></li><li><div>          $args['class'][] = 'validate-required';&nbsp;</div></li><li><div>          $required = ' &lt;abbr class=&quot;required&quot; title=&quot;' . esc_attr__( 'required', 'woocommerce' ) . '&quot;&gt;*&lt;/abbr&gt;';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $required = '';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_string( $args['label_class'] ) ) {&nbsp;</div></li><li><div>          $args['label_class'] = array( $args['label_class'] );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_null( $value ) ) {&nbsp;</div></li><li><div>          $value = $args['default'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Custom attribute handling</span>&nbsp;</div></li><li><div>      $custom_attributes = array();&nbsp;</div></li><li><div>      $args['custom_attributes'] = array_filter( (array) $args['custom_attributes'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $args['maxlength'] ) {&nbsp;</div></li><li><div>          $args['custom_attributes']['maxlength'] = absint( $args['maxlength'] );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $args['autocomplete'] ) ) {&nbsp;</div></li><li><div>          $args['custom_attributes']['autocomplete'] = $args['autocomplete'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( true === $args['autofocus'] ) {&nbsp;</div></li><li><div>          $args['custom_attributes']['autofocus'] = 'autofocus';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $args['custom_attributes'] ) && is_array( $args['custom_attributes'] ) ) {&nbsp;</div></li><li><div>          foreach ( $args['custom_attributes'] as $attribute =&gt; $attribute_value ) {&nbsp;</div></li><li><div>              $custom_attributes[] = esc_attr( $attribute ) . '=&quot;' . esc_attr( $attribute_value ) . '&quot;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $args['validate'] ) ) {&nbsp;</div></li><li><div>          foreach ( $args['validate'] as $validate ) {&nbsp;</div></li><li><div>              $args['class'][] = 'validate-' . $validate;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $field = '';&nbsp;</div></li><li><div>      $label_id = $args['id'];&nbsp;</div></li><li><div>      $sort = $args['priority'] ? $args['priority'] : '';&nbsp;</div></li><li><div>      $field_container = '&lt;p class=&quot;form-row %1$s&quot; id=&quot;%2$s&quot; data-priority=&quot;' . esc_attr( $sort ) . '&quot;&gt;%3$s&lt;/p&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      switch ( $args['type'] ) {&nbsp;</div></li><li><div>          case 'country' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $countries = 'shipping_country' === $key ? WC()-&gt;countries-&gt;get_shipping_countries() : WC()-&gt;countries-&gt;get_allowed_countries();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( 1 === sizeof( $countries ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;strong&gt;' . current( array_values( $countries ) ) . '&lt;/strong&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;input type=&quot;hidden&quot; name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; value=&quot;' . current( array_keys( $countries ) ) . '&quot; ' . implode( ' ', $custom_attributes ) . ' class=&quot;country_to_state&quot; /&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field = '&lt;select name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; class=&quot;country_to_state country_select ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; ' . implode( ' ', $custom_attributes ) . '&gt;' . '&lt;option value=&quot;&quot;&gt;' . esc_html__( 'Select a country&hellip;', 'woocommerce' ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  foreach ( $countries as $ckey =&gt; $cvalue ) {&nbsp;</div></li><li><div>                      $field .= '&lt;option value=&quot;' . esc_attr( $ckey ) . '&quot; ' . selected( $value, $ckey, false ) . '&gt;' . $cvalue . '&lt;/option&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;/select&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;noscript&gt;&lt;input type=&quot;submit&quot; name=&quot;woocommerce_checkout_update_totals&quot; value=&quot;' . esc_attr__( 'Update country', 'woocommerce' ) . '&quot; /&gt;&lt;/noscript&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'state' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">/** Get Country */</span>&nbsp;</div></li><li><div>              $country_key = 'billing_state' === $key ? 'billing_country' : 'shipping_country';&nbsp;</div></li><li><div>              $current_cc = WC()-&gt;checkout-&gt;get_value( $country_key );&nbsp;</div></li><li><div>              $states = WC()-&gt;countries-&gt;get_states( $current_cc );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( is_array( $states ) && empty( $states ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field_container = '&lt;p class=&quot;form-row %1$s&quot; id=&quot;%2$s&quot; style=&quot;display: none&quot;&gt;%3$s&lt;/p&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;input type=&quot;hidden&quot; class=&quot;hidden&quot; name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; value=&quot;&quot; ' . implode( ' ', $custom_attributes ) . ' placeholder=&quot;' . esc_attr( $args['placeholder'] ) . '&quot; /&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              } elseif ( ! is_null( $current_cc ) && is_array( $states ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;select name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; class=&quot;state_select ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; ' . implode( ' ', $custom_attributes ) . ' data-placeholder=&quot;' . esc_attr( $args['placeholder'] ) . '&quot;&gt;&nbsp;</div></li><li><div>                      &lt;option value=&quot;&quot;&gt;' . esc_html__( 'Select a state&hellip;', 'woocommerce' ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  foreach ( $states as $ckey =&gt; $cvalue ) {&nbsp;</div></li><li><div>                      $field .= '&lt;option value=&quot;' . esc_attr( $ckey ) . '&quot; ' . selected( $value, $ckey, false ) . '&gt;' . $cvalue . '&lt;/option&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;/select&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;input type=&quot;text&quot; class=&quot;input-text ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; value=&quot;' . esc_attr( $value ) . '&quot;  placeholder=&quot;' . esc_attr( $args['placeholder'] ) . '&quot; name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; ' . implode( ' ', $custom_attributes ) . ' /&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'textarea' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $field .= '&lt;textarea name=&quot;' . esc_attr( $key ) . '&quot; class=&quot;input-text ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; placeholder=&quot;' . esc_attr( $args['placeholder'] ) . '&quot; ' . ( empty( $args['custom_attributes']['rows'] ) ? ' rows=&quot;2&quot;' : '' ) . ( empty( $args['custom_attributes']['cols'] ) ? ' cols=&quot;5&quot;' : '' ) . implode( ' ', $custom_attributes ) . '&gt;' . esc_textarea( $value ) . '&lt;/textarea&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'checkbox' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $field = '&lt;label class=&quot;checkbox ' . implode( ' ', $args['label_class'] ) . '&quot; ' . implode( ' ', $custom_attributes ) . '&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;' . esc_attr( $args['type'] ) . '&quot; class=&quot;input-checkbox ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; value=&quot;1&quot; ' . checked( $value, 1, false ) . ' /&gt; '&nbsp;</div></li><li><div>                       . $args['label'] . $required . '&lt;/label&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'password' :&nbsp;</div></li><li><div>          case 'text' :&nbsp;</div></li><li><div>          case 'email' :&nbsp;</div></li><li><div>          case 'tel' :&nbsp;</div></li><li><div>          case 'number' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $field .= '&lt;input type=&quot;' . esc_attr( $args['type'] ) . '&quot; class=&quot;input-text ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; placeholder=&quot;' . esc_attr( $args['placeholder'] ) . '&quot;  value=&quot;' . esc_attr( $value ) . '&quot; ' . implode( ' ', $custom_attributes ) . ' /&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'select' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $options = $field = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( ! empty( $args['options'] ) ) {&nbsp;</div></li><li><div>                  foreach ( $args['options'] as $option_key =&gt; $option_text ) {&nbsp;</div></li><li><div>                      if ( '' === $option_key ) {&nbsp;</div></li><li><div>                          <span class="comment">// If we have a blank option, select2 needs a placeholder</span>&nbsp;</div></li><li><div>                          if ( empty( $args['placeholder'] ) ) {&nbsp;</div></li><li><div>                              $args['placeholder'] = $option_text ? $option_text : __( 'Choose an option', 'woocommerce' );&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $custom_attributes[] = 'data-allow_clear=&quot;true&quot;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      $options .= '&lt;option value=&quot;' . esc_attr( $option_key ) . '&quot; ' . selected( $value, $option_key, false ) . '&gt;' . esc_attr( $option_text ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $field .= '&lt;select name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '&quot; class=&quot;select ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; ' . implode( ' ', $custom_attributes ) . ' data-placeholder=&quot;' . esc_attr( $args['placeholder'] ) . '&quot;&gt;&nbsp;</div></li><li><div>                          ' . $options . '&nbsp;</div></li><li><div>                      &lt;/select&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'radio' :&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $label_id = current( array_keys( $args['options'] ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( ! empty( $args['options'] ) ) {&nbsp;</div></li><li><div>                  foreach ( $args['options'] as $option_key =&gt; $option_text ) {&nbsp;</div></li><li><div>                      $field .= '&lt;input type=&quot;radio&quot; class=&quot;input-radio ' . esc_attr( implode( ' ', $args['input_class'] ) ) . '&quot; value=&quot;' . esc_attr( $option_key ) . '&quot; name=&quot;' . esc_attr( $key ) . '&quot; id=&quot;' . esc_attr( $args['id'] ) . '_' . esc_attr( $option_key ) . '&quot;' . checked( $value, $option_key, false ) . ' /&gt;';&nbsp;</div></li><li><div>                      $field .= '&lt;label for=&quot;' . esc_attr( $args['id'] ) . '_' . esc_attr( $option_key ) . '&quot; class=&quot;radio ' . implode( ' ', $args['label_class'] ) . '&quot;&gt;' . $option_text . '&lt;/label&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $field ) ) {&nbsp;</div></li><li><div>          $field_html = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $args['label'] && 'checkbox' != $args['type'] ) {&nbsp;</div></li><li><div>              $field_html .= '&lt;label for=&quot;' . esc_attr( $label_id ) . '&quot; class=&quot;' . esc_attr( implode( ' ', $args['label_class'] ) ) . '&quot;&gt;' . $args['label'] . $required . '&lt;/label&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $field_html .= $field;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $args['description'] ) {&nbsp;</div></li><li><div>              $field_html .= '&lt;span class=&quot;description&quot;&gt;' . esc_html( $args['description'] ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $container_class = esc_attr( implode( ' ', $args['class'] ) );&nbsp;</div></li><li><div>          $container_id = esc_attr( $args['id'] ) . '_field';&nbsp;</div></li><li><div>          $field = sprintf( $field_container, $container_class, $container_id, $field_html );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $field = apply_filters( 'woocommerce_form_field_' . $args['type'], $field, $key, $args, $value );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $args['return'] ) {&nbsp;</div></li><li><div>          return $field;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          echo $field;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'get_product_search_form' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display product search form.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Will first attempt to locate the product-searchform.php file in either the child or.</span>&nbsp;</div></li><li><div><span class="comment">   * the parent, then load it. If it doesn't exist, then the default search form.</span>&nbsp;</div></li><li><div><span class="comment">   * will be displayed.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The default searchform uses html5.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @subpackage    Forms</span>&nbsp;</div></li><li><div><span class="comment">   * @param bool $echo (default: true)</span>&nbsp;</div></li><li><div><span class="comment">   * @return string</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function get_product_search_form( $echo = true ) {&nbsp;</div></li><li><div>      global $product_search_form_index;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( empty( $product_search_form_index ) ) {&nbsp;</div></li><li><div>          $product_search_form_index = 0;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      do_action( 'pre_get_product_search_form' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'product-searchform.php', array(&nbsp;</div></li><li><div>          'index' =&gt; $product_search_form_index++, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $form = apply_filters( 'get_product_search_form', ob_get_clean() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $echo ) {&nbsp;</div></li><li><div>          echo $form;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          return $form;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_output_auth_header' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Auth header.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_output_auth_header() {&nbsp;</div></li><li><div>      wc_get_template( 'auth/header.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_output_auth_footer' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the Auth footer.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_output_auth_footer() {&nbsp;</div></li><li><div>      wc_get_template( 'auth/footer.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_single_variation' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output placeholders for the single variation.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_single_variation() {&nbsp;</div></li><li><div>      echo '&lt;div class=&quot;woocommerce-variation single_variation&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_single_variation_add_to_cart_button' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output the add to cart button for variations.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_single_variation_add_to_cart_button() {&nbsp;</div></li><li><div>      wc_get_template( 'single-product/add-to-cart/variation-add-to-cart-button.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'wc_dropdown_variation_attribute_options' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Output a list of variation attributes for use in the cart forms.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.4.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function wc_dropdown_variation_attribute_options( $args = array() ) {&nbsp;</div></li><li><div>      $args = wp_parse_args( apply_filters( 'woocommerce_dropdown_variation_attribute_options_args', $args ), array(&nbsp;</div></li><li><div>          'options' =&gt; false, &nbsp;</div></li><li><div>          'attribute' =&gt; false, &nbsp;</div></li><li><div>          'product' =&gt; false, &nbsp;</div></li><li><div>          'selected' =&gt; false, &nbsp;</div></li><li><div>          'name' =&gt; '', &nbsp;</div></li><li><div>          'id' =&gt; '', &nbsp;</div></li><li><div>          'class' =&gt; '', &nbsp;</div></li><li><div>          'show_option_none' =&gt; __( 'Choose an option', 'woocommerce' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $options = $args['options'];&nbsp;</div></li><li><div>      $product = $args['product'];&nbsp;</div></li><li><div>      $attribute = $args['attribute'];&nbsp;</div></li><li><div>      $name = $args['name'] ? $args['name'] : 'attribute_' . sanitize_title( $attribute );&nbsp;</div></li><li><div>      $id = $args['id'] ? $args['id'] : sanitize_title( $attribute );&nbsp;</div></li><li><div>      $class = $args['class'];&nbsp;</div></li><li><div>      $show_option_none = $args['show_option_none'] ? true : false;&nbsp;</div></li><li><div>      $show_option_none_text = $args['show_option_none'] ? $args['show_option_none'] : __( 'Choose an option', 'woocommerce' ); <span class="comment">// We'll do our best to hide the placeholder, but we'll need to show something when resetting options.</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( empty( $options ) && ! empty( $product ) && ! empty( $attribute ) ) {&nbsp;</div></li><li><div>          $attributes = $product-&gt;get_variation_attributes();&nbsp;</div></li><li><div>          $options = $attributes[ $attribute ];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $html = '&lt;select id=&quot;' . esc_attr( $id ) . '&quot; class=&quot;' . esc_attr( $class ) . '&quot; name=&quot;' . esc_attr( $name ) . '&quot; data-attribute_name=&quot;attribute_' . esc_attr( sanitize_title( $attribute ) ) . '&quot; data-show_option_none=&quot;' . ( $show_option_none ? 'yes' : 'no' ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $html .= '&lt;option value=&quot;&quot;&gt;' . esc_html( $show_option_none_text ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $options ) ) {&nbsp;</div></li><li><div>          if ( $product && taxonomy_exists( $attribute ) ) {&nbsp;</div></li><li><div>              <span class="comment">// Get terms if this is a taxonomy - ordered. We need the names too.</span>&nbsp;</div></li><li><div>              $terms = wc_get_product_terms( $product-&gt;get_id(), $attribute, array( 'fields' =&gt; 'all' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              foreach ( $terms as $term ) {&nbsp;</div></li><li><div>                  if ( in_array( $term-&gt;slug, $options ) ) {&nbsp;</div></li><li><div>                      $html .= '&lt;option value=&quot;' . esc_attr( $term-&gt;slug ) . '&quot; ' . selected( sanitize_title( $args['selected'] ), $term-&gt;slug, false ) . '&gt;' . esc_html( apply_filters( 'woocommerce_variation_option_name', $term-&gt;name ) ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              foreach ( $options as $option ) {&nbsp;</div></li><li><div>                  <span class="comment">// This handles &lt; 2.4.0 bw compatibility where text attributes were not sanitized.</span>&nbsp;</div></li><li><div>                  $selected = sanitize_title( $args['selected'] ) === $args['selected'] ? selected( $args['selected'], sanitize_title( $option ), false ) : selected( $args['selected'], $option, false );&nbsp;</div></li><li><div>                  $html .= '&lt;option value=&quot;' . esc_attr( $option ) . '&quot; ' . $selected . '&gt;' . esc_html( apply_filters( 'woocommerce_variation_option_name', $option ) ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $html .= '&lt;/select&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo apply_filters( 'woocommerce_dropdown_variation_attribute_options_html', $html, $args );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_content' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account content output.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_content() {&nbsp;</div></li><li><div>      global $wp;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      foreach ( $wp-&gt;query_vars as $key =&gt; $value ) {&nbsp;</div></li><li><div>          <span class="comment">// Ignore pagename param.</span>&nbsp;</div></li><li><div>          if ( 'pagename' === $key ) {&nbsp;</div></li><li><div>              continue;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( has_action( 'woocommerce_account_' . $key . '_endpoint' ) ) {&nbsp;</div></li><li><div>              do_action( 'woocommerce_account_' . $key . '_endpoint', $value );&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// No endpoint found? Default to dashboard.</span>&nbsp;</div></li><li><div>      wc_get_template( 'myaccount/dashboard.php', array(&nbsp;</div></li><li><div>          'current_user' =&gt; get_user_by( 'id', get_current_user_id() ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_navigation' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account navigation template.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_navigation() {&nbsp;</div></li><li><div>      wc_get_template( 'myaccount/navigation.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_orders' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; Orders template.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $current_page Current page number.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_orders( $current_page ) {&nbsp;</div></li><li><div>      $current_page = empty( $current_page ) ? 1 : absint( $current_page );&nbsp;</div></li><li><div>      $customer_orders = wc_get_orders( apply_filters( 'woocommerce_my_account_my_orders_query', array( 'customer' =&gt; get_current_user_id(), 'page' =&gt; $current_page, 'paginate' =&gt; true ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template(&nbsp;</div></li><li><div>          'myaccount/orders.php', &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'current_page' =&gt; absint( $current_page ), &nbsp;</div></li><li><div>              'customer_orders' =&gt; $customer_orders, &nbsp;</div></li><li><div>              'has_orders' =&gt; 0 &lt; $customer_orders-&gt;total, &nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_view_order' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; View order template.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $order_id Order ID.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_view_order( $order_id ) {&nbsp;</div></li><li><div>      WC_Shortcode_My_Account::view_order( absint( $order_id ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_downloads' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; Downloads template.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_downloads() {&nbsp;</div></li><li><div>      wc_get_template( 'myaccount/downloads.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_edit_address' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; Edit address template.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $type Address type.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_edit_address( $type ) {&nbsp;</div></li><li><div>      $type = wc_edit_address_i18n( sanitize_title( $type ), true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      WC_Shortcode_My_Account::edit_address( $type );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_payment_methods' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; Downloads template.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_payment_methods() {&nbsp;</div></li><li><div>      wc_get_template( 'myaccount/payment-methods.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_add_payment_method' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; Add payment method template.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_add_payment_method() {&nbsp;</div></li><li><div>      WC_Shortcode_My_Account::add_payment_method();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_account_edit_account' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * My Account &gt; Edit account template.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_account_edit_account() {&nbsp;</div></li><li><div>      WC_Shortcode_My_Account::edit_account();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'wc_no_products_found' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Show no products found message.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function wc_no_products_found() {&nbsp;</div></li><li><div>      wc_get_template( 'loop/no-products-found.php' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'wc_get_email_order_items' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get HTML for the order items to be shown in emails.</span>&nbsp;</div></li><li><div><span class="comment">   * @param WC_Order $order</span>&nbsp;</div></li><li><div><span class="comment">   * @param array $args</span>&nbsp;</div></li><li><div><span class="comment">   * @since 3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function wc_get_email_order_items( $order, $args = array() ) {&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $defaults = array(&nbsp;</div></li><li><div>          'show_sku' =&gt; false, &nbsp;</div></li><li><div>          'show_image' =&gt; false, &nbsp;</div></li><li><div>          'image_size' =&gt; array( 32, 32 ), &nbsp;</div></li><li><div>          'plain_text' =&gt; false, &nbsp;</div></li><li><div>          'sent_to_admin' =&gt; false, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, $defaults );&nbsp;</div></li><li><div>      $template = $args['plain_text'] ? 'emails/plain/email-order-items.php' : 'emails/email-order-items.php';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( $template, apply_filters( 'woocommerce_email_order_items_args', array(&nbsp;</div></li><li><div>          'order' =&gt; $order, &nbsp;</div></li><li><div>          'items' =&gt; $order-&gt;get_items(), &nbsp;</div></li><li><div>          'show_download_links' =&gt; $order-&gt;is_download_permitted() && ! $args['sent_to_admin'], &nbsp;</div></li><li><div>          'show_sku' =&gt; $args['show_sku'], &nbsp;</div></li><li><div>          'show_purchase_note' =&gt; $order-&gt;is_paid() && ! $args['sent_to_admin'], &nbsp;</div></li><li><div>          'show_image' =&gt; $args['show_image'], &nbsp;</div></li><li><div>          'image_size' =&gt; $args['image_size'], &nbsp;</div></li><li><div>          'plain_text' =&gt; $args['plain_text'], &nbsp;</div></li><li><div>          'sent_to_admin' =&gt; $args['sent_to_admin'], &nbsp;</div></li><li><div> ) ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return apply_filters( 'woocommerce_email_order_items_table', ob_get_clean(), $order );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'wc_display_item_meta' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display item meta data.</span>&nbsp;</div></li><li><div><span class="comment">   * @since  3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   * @param  WC_Item $item</span>&nbsp;</div></li><li><div><span class="comment">   * @param  array   $args</span>&nbsp;</div></li><li><div><span class="comment">   * @return string|void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function wc_display_item_meta( $item, $args = array() ) {&nbsp;</div></li><li><div>      $strings = array();&nbsp;</div></li><li><div>      $html = '';&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, array(&nbsp;</div></li><li><div>          'before' =&gt; '&lt;ul class=&quot;wc-item-meta&quot;&gt;&lt;li&gt;', &nbsp;</div></li><li><div>          'after' =&gt; '&lt;/li&gt;&lt;/ul&gt;', &nbsp;</div></li><li><div>          'separator' =&gt; '&lt;/li&gt;&lt;li&gt;', &nbsp;</div></li><li><div>          'echo' =&gt; true, &nbsp;</div></li><li><div>          'autop' =&gt; false, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      foreach ( $item-&gt;get_formatted_meta_data() as $meta_id =&gt; $meta ) {&nbsp;</div></li><li><div>          $value = $args['autop'] ? wp_kses_post( $meta-&gt;display_value ) : wp_kses_post( make_clickable( trim( strip_tags( $meta-&gt;display_value ) ) ) );&nbsp;</div></li><li><div>          $strings[] = '&lt;strong class=&quot;wc-item-meta-label&quot;&gt;' . wp_kses_post( $meta-&gt;display_key ) . ':&lt;/strong&gt; ' . $value;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $strings ) {&nbsp;</div></li><li><div>          $html = $args['before'] . implode( $args['separator'], $strings ) . $args['after'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $html = apply_filters( 'woocommerce_display_item_meta', $html, $item, $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $args['echo'] ) {&nbsp;</div></li><li><div>          echo $html;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          return $html;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'wc_display_item_downloads' ) ) {&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Display item download links.</span>&nbsp;</div></li><li><div><span class="comment">   * @since  3.0.0</span>&nbsp;</div></li><li><div><span class="comment">   * @param  WC_Item $item</span>&nbsp;</div></li><li><div><span class="comment">   * @param  array   $args</span>&nbsp;</div></li><li><div><span class="comment">   * @return string|void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function wc_display_item_downloads( $item, $args = array() ) {&nbsp;</div></li><li><div>      $strings = array();&nbsp;</div></li><li><div>      $html = '';&nbsp;</div></li><li><div>      $args = wp_parse_args( $args, array(&nbsp;</div></li><li><div>          'before' =&gt; '&lt;ul class =&quot;wc-item-downloads&quot;&gt;&lt;li&gt;', &nbsp;</div></li><li><div>          'after' =&gt; '&lt;/li&gt;&lt;/ul&gt;', &nbsp;</div></li><li><div>          'separator' =&gt; '&lt;/li&gt;&lt;li&gt;', &nbsp;</div></li><li><div>          'echo' =&gt; true, &nbsp;</div></li><li><div>          'show_url' =&gt; false, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_object( $item ) && $item-&gt;is_type( 'line_item' ) && ( $downloads = $item-&gt;get_item_downloads() ) ) {&nbsp;</div></li><li><div>          $i = 0;&nbsp;</div></li><li><div>          foreach ( $downloads as $file ) {&nbsp;</div></li><li><div>              $i ++;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( $args['show_url'] ) {&nbsp;</div></li><li><div>                  $strings[] = '&lt;strong class=&quot;wc-item-download-label&quot;&gt;' . esc_html( $file['name'] ) . ':&lt;/strong&gt; ' . esc_html( $file['download_url'] );&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $prefix = sizeof( $downloads ) &gt; 1 ? sprintf( __( 'Download %d', 'woocommerce' ), $i ) : __( 'Download', 'woocommerce' );&nbsp;</div></li><li><div>                  $strings[] = '&lt;strong class=&quot;wc-item-download-label&quot;&gt;' . $prefix . ':&lt;/strong&gt; &lt;a href=&quot;' . esc_url( $file['download_url'] ) . '&quot; target=&quot;_blank&quot;&gt;' . esc_html( $file['name'] ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $strings ) {&nbsp;</div></li><li><div>          $html = $args['before'] . implode( $args['separator'], $strings ) . $args['after'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $html = apply_filters( 'woocommerce_display_item_downloads', $html, $item, $args );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $args['echo'] ) {&nbsp;</div></li><li><div>          echo $html;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          return $html;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! function_exists( 'woocommerce_photoswipe' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get the shop sidebar template.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function woocommerce_photoswipe() {&nbsp;</div></li><li><div>      if ( current_theme_supports( 'wc-product-gallery-lightbox' ) ) {&nbsp;</div></li><li><div>          wc_get_template( 'single-product/photoswipe.php' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Outputs a list of product attributes for a product.</span>&nbsp;</div></li><li><div><span class="comment"> * @since  3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param  WC_Product $product</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_display_product_attributes( $product ) {&nbsp;</div></li><li><div>  wc_get_template( 'single-product/product-attributes.php', array(&nbsp;</div></li><li><div>      'product' =&gt; $product, &nbsp;</div></li><li><div>      'attributes' =&gt; array_filter( $product-&gt;get_attributes(), 'wc_attributes_array_filter_visible' ), &nbsp;</div></li><li><div>      'display_dimensions' =&gt; apply_filters( 'wc_product_enable_dimensions_display', $product-&gt;has_weight() || $product-&gt;has_dimensions() ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get HTML to show product stock.</span>&nbsp;</div></li><li><div><span class="comment"> * @since  3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param  WC_Product $product</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_get_stock_html( $product ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $html = '';&nbsp;</div></li><li><div>  $availability = $product-&gt;get_availability();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! empty( $availability['availability'] ) ) {&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wc_get_template( 'single-product/stock.php', array(&nbsp;</div></li><li><div>          'product' =&gt; $product, &nbsp;</div></li><li><div>          'class' =&gt; $availability['class'], &nbsp;</div></li><li><div>          'availability' =&gt; $availability['availability'], &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $html = ob_get_clean();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( has_filter( 'woocommerce_stock_html' ) ) {&nbsp;</div></li><li><div>      wc_deprecated_function( 'The woocommerce_stock_html filter', '', 'woocommerce_get_stock_html' );&nbsp;</div></li><li><div>      $html = apply_filters( 'woocommerce_stock_html', $html, $availability['availability'], $product );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return apply_filters( 'woocommerce_get_stock_html', $html, $product );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get HTML for ratings.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since  3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @param  float $rating Rating being shown.</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_get_rating_html( $rating ) {&nbsp;</div></li><li><div>  if ( $rating &gt; 0 ) {&nbsp;</div></li><li><div>      $rating_html = '&lt;div class=&quot;star-rating&quot; title=&quot;' . sprintf( esc_attr__( 'Rated %s out of 5', 'woocommerce' ), $rating ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $rating_html .= '&lt;span style=&quot;width:' . ( ( $rating / 5 ) * 100 ) . '%&quot;&gt;&lt;strong class=&quot;rating&quot;&gt;' . $rating . '&lt;/strong&gt; ' . esc_html__( 'out of 5', 'woocommerce' ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>      $rating_html .= '&lt;/div&gt;';&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      $rating_html = '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return apply_filters( 'woocommerce_product_get_rating_html', $rating_html, $rating );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns a 'from' prefix if you want to show where prices start at.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since  3.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_get_price_html_from_text() {&nbsp;</div></li><li><div>  return apply_filters( 'woocommerce_get_price_html_from_text', '&lt;span class=&quot;from&quot;&gt;' . _x( 'From:', 'min_price', 'woocommerce' ) . ' &lt;/span&gt;' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Get logout endpoint.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since  2.6.9</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wc_logout_url( $redirect = '' ) {&nbsp;</div></li><li><div>  $logout_endpoint = get_option( 'woocommerce_logout_endpoint' );&nbsp;</div></li><li><div>  $redirect = $redirect ? $redirect : wc_get_page_permalink( 'myaccount' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $logout_endpoint ) {&nbsp;</div></li><li><div>      return wc_get_endpoint_url( 'customer-logout', '', $redirect );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      return wp_logout_url( $redirect );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>WooCommerce</li><li><span></span>3.0.6</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>