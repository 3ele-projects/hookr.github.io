<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="5.1.1" data-slug="breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate" data-type="file" data-id="10298"><head xmlns="http://www.w3.org/1999/xhtml"><title> class-bcn-network-admin | file | Breadcrumb Navxt 5 0 Migration Compatibility Layer Do Not Activate | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate, 5.1.1" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.10"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=27c271e9a54285c2632d270ffe736490' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.10' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/class-bcn-network-admin/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fclass-bcn-network-admin%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fclass-bcn-network-admin%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate-5.1.1-file-class-bcn-network-admin","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="class-bcn-network-admin" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to breadcrumb-navxt-5-0-migratio&hellip;." href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/" class="plugin"><span property="name">breadcrumb-navxt-5-0-migratio&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><span property="name">5.1.1</span><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">class-bcn-network-admin</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="68"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/all/" title="All">All <span class="count badge">68</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="46"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/hooks/" title="Hooks">Hooks <span class="count badge">46</span></a></li><li class="" data-id="action" data-count="22"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/actions/" title="Actions">Actions <span class="count badge">22</span></a></li><li class="" data-id="filter" data-count="24"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/filters/" title="Filters">Filters <span class="count badge">24</span></a></li><li class="" data-id="class" data-count="9"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/classes/" title="Classes">Classes <span class="count badge">9</span></a></li><li class="" data-id="constant" data-count="1"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/constants/" title="Constants">Constants <span class="count badge">1</span></a></li><li class="" data-id="function" data-count="12"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/functions/" title="Functions">Functions <span class="count badge">12</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/breadcrumb-navxt-5-0-migration-compatibility-layer-do-not-activate/5.1.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/class.bcn_network_admin.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**  Copyright 2007-2014  John Havlik  (email : john.havlik@mtekk.us)</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">  This program is free software; you can redistribute it and/or modify</span>&nbsp;</div></li><li><div><span class="comment">  it under the terms of the GNU General Public License as published by</span>&nbsp;</div></li><li><div><span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>&nbsp;</div></li><li><div><span class="comment">  (at your option) any later version.</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">  This program is distributed in the hope that it will be useful, </span>&nbsp;</div></li><li><div><span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>&nbsp;</div></li><li><div><span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>&nbsp;</div></li><li><div><span class="comment">  GNU General Public License for more details.</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">  You should have received a copy of the GNU General Public License</span>&nbsp;</div></li><li><div><span class="comment">  along with this program; if not, write to the Free Software</span>&nbsp;</div></li><li><div><span class="comment">  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>require_once(dirname(__FILE__) . '/includes/block_direct_access.php');&nbsp;</div></li><li><div><span class="comment">//Do a PHP version check, require 5.2 or newer</span>&nbsp;</div></li><li><div>if(version_compare(phpversion(), '5.2.0', '&lt;'))&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  <span class="comment">//Only purpose of this function is to echo out the PHP version error</span>&nbsp;</div></li><li><div>  function bcn_phpold()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      printf('&lt;div class=&quot;error&quot;&gt;&lt;p&gt;' . __('Your PHP version is too old, please upgrade to a newer version. Your version is %1$s, Breadcrumb NavXT requires %2$s', 'breadcrumb-navxt') . '&lt;/p&gt;&lt;/div&gt;', phpversion(), '5.2.0');&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">//If we are in the admin, let's print a warning then return</span>&nbsp;</div></li><li><div>  if(is_admin())&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      add_action('admin_notices', 'bcn_phpold');&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">//Include admin base class</span>&nbsp;</div></li><li><div>if(!class_exists('mtekk_adminKit'))&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  require_once(dirname(__FILE__) . '/includes/class.mtekk_adminkit.php');&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * The administrative interface class </span>&nbsp;</div></li><li><div><span class="comment"> * </span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>class bcn_network_admin extends mtekk_adminKit&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  protected $version = '5.1.1';&nbsp;</div></li><li><div>  protected $full_name = 'Breadcrumb NavXT Network Settings';&nbsp;</div></li><li><div>  protected $short_name = 'Breadcrumb NavXT';&nbsp;</div></li><li><div>  protected $access_level = 'manage_network_options';&nbsp;</div></li><li><div>  protected $identifier = 'breadcrumb-navxt';&nbsp;</div></li><li><div>  protected $unique_prefix = 'bcn';&nbsp;</div></li><li><div>  protected $plugin_basename = null;&nbsp;</div></li><li><div>  protected $support_url = 'http:<span class="comment">//mtekk.us/archives/wordpress/plugins-wordpress/breadcrumb-navxt-';</span>&nbsp;</div></li><li><div>  protected $breadcrumb_trail = null;&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Administrative interface class default constructor</span>&nbsp;</div></li><li><div><span class="comment">   * @param bcn_breadcrumb_trail $breadcrumb_trail a breadcrumb trail object</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $basename The basename of the plugin</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function __construct(bcn_breadcrumb_trail $breadcrumb_trail, $basename)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      $this-&gt;breadcrumb_trail = $breadcrumb_trail;&nbsp;</div></li><li><div>      $this-&gt;plugin_basename = $basename;&nbsp;</div></li><li><div>      <span class="comment">//Grab defaults from the breadcrumb_trail object</span>&nbsp;</div></li><li><div>      $this-&gt;opt = $this-&gt;breadcrumb_trail-&gt;opt;&nbsp;</div></li><li><div>      add_action('network_admin_menu', array($this, 'add_page'));&nbsp;</div></li><li><div>      <span class="comment">//We're going to make sure we load the parent's constructor</span>&nbsp;</div></li><li><div>      parent::__construct();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * admin initialization callback function</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * is bound to wpordpress action 'admin_init' on instantiation</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @since  3.2.0</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function init()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      <span class="comment">//We're going to make sure we run the parent's version of this function as well</span>&nbsp;</div></li><li><div>      parent::init();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  function wp_loaded()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      parent::wp_loaded();&nbsp;</div></li><li><div>      breadcrumb_navxt::setup_options($this-&gt;opt);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Return the URL of the settings page for the plugin</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function admin_url()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      return admin_url('network/settings.php?page=' . $this-&gt;identifier);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Adds the adminpage the menu and the nice little settings link</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function add_page()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      <span class="comment">//Add the submenu page to &quot;settings&quot; menu</span>&nbsp;</div></li><li><div>      $hookname = add_submenu_page('settings.php', __($this-&gt;full_name, $this-&gt;identifier), $this-&gt;short_name, $this-&gt;access_level, $this-&gt;identifier, array($this, 'net_admin_page'));&nbsp;</div></li><li><div>      <span class="comment">// check capability of user to manage options (access control)</span>&nbsp;</div></li><li><div>      if(current_user_can($this-&gt;access_level))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          <span class="comment">//Register admin_head-$hookname callback</span>&nbsp;</div></li><li><div>          add_action('admin_head-' . $hookname, array($this, 'admin_head'));&nbsp;</div></li><li><div>          <span class="comment">//Register admin_print_styles-$hookname callback</span>&nbsp;</div></li><li><div>          add_action('admin_print_styles-' . $hookname, array($this, 'admin_styles'));&nbsp;</div></li><li><div>          <span class="comment">//Register admin_print_scripts-$hookname callback</span>&nbsp;</div></li><li><div>          add_action('admin_print_scripts-' . $hookname, array($this, 'admin_scripts'));&nbsp;</div></li><li><div>          <span class="comment">//Register Help Output</span>&nbsp;</div></li><li><div>          add_action('load-' . $hookname, array($this, 'help'));&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Have to hook into get_option and replace with network wide alternate</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @param string $option The name of the option to retrieve</span>&nbsp;</div></li><li><div><span class="comment">   * @return mixed The value of the option</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function get_option($option)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      return get_site_option($option);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Have to hook into update_option and replace with network wide alternate</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @param string $option The name of the option to update</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $newvalue The new value to set the option to</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function update_option($option, $newvalue)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      return update_site_option($option, $newvalue);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Have to hook into add_option and replace with network wide alternate</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @param string $option The name of the option to update</span>&nbsp;</div></li><li><div><span class="comment">   * @param mixed $value The new value to set the option to</span>&nbsp;</div></li><li><div><span class="comment">   * @param null $deprecated Deprecated parameter</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $autoload Whether or not to autoload the option, it's a string because WP is special</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function add_option($option, $value = '', $deprecated = '', $autoload = 'yes')&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      return add_site_option($option, $value);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Have to hook into delete_option and replace with network wide alternate</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @param string $option The name of the option to delete</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function delete_option($option)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      return delete_site_option($option);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Makes sure the current user can manage options to proceed</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function security()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      <span class="comment">//If the user can not manage options we will die on them</span>&nbsp;</div></li><li><div>      if(!current_user_can($this-&gt;access_level))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          wp_die(__('Insufficient privileges to proceed.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Upgrades input options array, sets to $this-&gt;opt</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @param array $opts</span>&nbsp;</div></li><li><div><span class="comment">   * @param string $version the version of the passed in options</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function opts_upgrade($opts, $version)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      global $wp_post_types;&nbsp;</div></li><li><div>      <span class="comment">//If our version is not the same as in the db, time to update</span>&nbsp;</div></li><li><div>      if(version_compare($version, $this-&gt;version, '&lt;'))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          <span class="comment">//Upgrading to 3.8.1</span>&nbsp;</div></li><li><div>          if(version_compare($version, '3.8.1', '&lt;'))&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              $opts['post_page_root'] = get_option('page_on_front');&nbsp;</div></li><li><div>              $opts['post_post_root'] = get_option('page_for_posts');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment">//Upgrading to 4.0</span>&nbsp;</div></li><li><div>          if(version_compare($version, '4.0.0', '&lt;'))&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              <span class="comment">//Only migrate if we haven't migrated yet</span>&nbsp;</div></li><li><div>              if(isset($opts['current_item_linked']))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  <span class="comment">//Loop through the old options, migrate some of them</span>&nbsp;</div></li><li><div>                  foreach($opts as $option =&gt; $value)&nbsp;</div></li><li><div>                  {&nbsp;</div></li><li><div>                      <span class="comment">//Handle all of our boolean options first, they're real easy, just add a 'b'</span>&nbsp;</div></li><li><div>                      if(strpos($option, 'display') &gt; 0 || $option == 'current_item_linked')&nbsp;</div></li><li><div>                      {&nbsp;</div></li><li><div>                          $this-&gt;breadcrumb_trail-&gt;opt['b' . $option] = $value;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      <span class="comment">//Handle migration of anchor templates to the templates</span>&nbsp;</div></li><li><div>                      else if(strpos($option, 'anchor') &gt; 0)&nbsp;</div></li><li><div>                      {&nbsp;</div></li><li><div>                          $parts = explode('_', $option);&nbsp;</div></li><li><div>                          <span class="comment">//Do excess slash removal sanitation</span>&nbsp;</div></li><li><div>                          $this-&gt;breadcrumb_trail-&gt;opt['H' . $parts[0] . '_template'] = $value . '%htitle%&lt;/a&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      <span class="comment">//Handle our abs integers</span>&nbsp;</div></li><li><div>                      else if($option == 'max_title_length' || $option == 'post_post_root' || $option == 'post_page_root')&nbsp;</div></li><li><div>                      {&nbsp;</div></li><li><div>                          $this-&gt;breadcrumb_trail-&gt;opt['a' . $option] = $value;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      <span class="comment">//Now everything else, minus prefix and suffix</span>&nbsp;</div></li><li><div>                      else if(strpos($option, 'prefix') === false && strpos($option, 'suffix') === false)&nbsp;</div></li><li><div>                      {&nbsp;</div></li><li><div>                          $this-&gt;breadcrumb_trail-&gt;opt['S' . $option] = $value;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              <span class="comment">//Add in the new settings for CPTs introduced in 4.0</span>&nbsp;</div></li><li><div>              foreach($wp_post_types as $post_type)&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  <span class="comment"><span class="comment">//We only want custom post types</span></span>&nbsp;</div></li><li><div>                  if(!$post_type-&gt;_builtin)&nbsp;</div></li><li><div>                  {&nbsp;</div></li><li><div>                      <span class="comment">//Add in the archive_display option</span>&nbsp;</div></li><li><div>                      $this-&gt;breadcrumb_trail-&gt;opt['bpost_' . $post_type-&gt;name . '_archive_display'] = $post_type-&gt;has_archive;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $opts = $this-&gt;breadcrumb_trail-&gt;opt;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if(version_compare($version, '4.0.1', '&lt;'))&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              if(isset($opts['Hcurrent_item_template_no_anchor']))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  unset($opts['Hcurrent_item_template_no_anchor']);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if(isset($opts['Hcurrent_item_template']))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  unset($opts['Hcurrent_item_template']);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment">//Upgrading to 4.3.0</span>&nbsp;</div></li><li><div>          if(version_compare($version, '4.3.0', '&lt;'))&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              <span class="comment">//Removed home_title</span>&nbsp;</div></li><li><div>              if(isset($opts['Shome_title']))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  unset($opts['Shome_title']);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              <span class="comment">//Removed mainsite_title</span>&nbsp;</div></li><li><div>              if(isset($opts['Smainsite_title']))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  unset($opts['Smainsite_title']);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment">//Upgrading to 5.1.0</span>&nbsp;</div></li><li><div>          if(version_compare($version, '5.1.0', '&lt;'))&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              global $wp_taxonomies;&nbsp;</div></li><li><div>              foreach($wp_taxonomies as $taxonomy)&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  <span class="comment">//If we have the old options style for it, update</span>&nbsp;</div></li><li><div>                  if($taxonomy-&gt;name !== 'post_format' && isset($opts['H' . $taxonomy-&gt;name . '_template']))&nbsp;</div></li><li><div>                  {&nbsp;</div></li><li><div>                      <span class="comment">//Migrate to the new setting name</span>&nbsp;</div></li><li><div>                      $opts['Htax_' . $taxonomy-&gt;name . '_template'] = $opts['H' . $taxonomy-&gt;name . '_template'];&nbsp;</div></li><li><div>                      $opts['Htax_' . $taxonomy-&gt;name . '_template_no_anchor'] = $opts['H' . $taxonomy-&gt;name . '_template_no_anchor'];&nbsp;</div></li><li><div>                      <span class="comment">//Clean up old settings</span>&nbsp;</div></li><li><div>                      unset($opts['H' . $taxonomy-&gt;name . '_template']);&nbsp;</div></li><li><div>                      unset($opts['H' . $taxonomy-&gt;name . '_template_no_anchor']);&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">//Add custom post types</span></span>&nbsp;</div></li><li><div>          breadcrumb_navxt::find_posttypes($opts);&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">//Add custom taxonomy types</span></span>&nbsp;</div></li><li><div>          breadcrumb_navxt::find_taxonomies($opts);&nbsp;</div></li><li><div>          <span class="comment">//Set the max title length to 20 if we are not limiting the title and the length was 0</span>&nbsp;</div></li><li><div>          if(!$opts['blimit_title'] && $opts['amax_title_length'] == 0)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              $opts['amax_title_length'] = 20;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">//Save the passed in opts to the object's option array</span>&nbsp;</div></li><li><div>      $this-&gt;opt = $opts;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  function opts_update_prebk(&$opts)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//Add custom post types</span></span>&nbsp;</div></li><li><div>      breadcrumb_navxt::find_posttypes($this-&gt;opt);&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//Add custom taxonomy types</span></span>&nbsp;</div></li><li><div>      breadcrumb_navxt::find_taxonomies($this-&gt;opt);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * help action hook function</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @return string</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function help()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      $screen = get_current_screen();&nbsp;</div></li><li><div>      <span class="comment">//Exit early if the add_help_tab function doesn't exist</span>&nbsp;</div></li><li><div>      if(!method_exists($screen, 'add_help_tab'))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">//Add contextual help on current screen</span>&nbsp;</div></li><li><div>      if($screen-&gt;id == 'settings_page_' . $this-&gt;identifier)&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          $general_tab = '&lt;p&gt;' . __('Tips for the settings are located below select options.', 'breadcrumb-navxt') .&nbsp;</div></li><li><div>              '&lt;/p&gt;&lt;h5&gt;' . __('Resources', 'breadcrumb-navxt') . '&lt;/h5&gt;&lt;ul&gt;&lt;li&gt;' .&nbsp;</div></li><li><div>              sprintf(__(&quot;%sTutorials and How Tos%s: There are several guides, tutorials, and how tos available on the author's website.&quot;, 'breadcrumb-navxt'), '&lt;a title=&quot;' . __('Go to the Breadcrumb NavXT tag archive.', 'breadcrumb-navxt') . '&quot; href=&quot;http:<span class="comment">//mtekk.us/archives/tag/breadcrumb-navxt&quot;&gt;', '&lt;/a&gt;') . '&lt;/li&gt;&lt;li&gt;' .</span>&nbsp;</div></li><li><div>              sprintf(__('%sOnline Documentation%s: Check out the documentation for more indepth technical information.', 'breadcrumb-navxt'), '&lt;a title=&quot;' . __('Go to the Breadcrumb NavXT online documentation', 'breadcrumb-navxt') . '&quot; href=&quot;http:<span class="comment">//mtekk.us/code/breadcrumb-navxt/breadcrumb-navxt-doc/&quot;&gt;', '&lt;/a&gt;') . '&lt;/li&gt;&lt;li&gt;' .</span>&nbsp;</div></li><li><div>              sprintf(__('%sReport a Bug%s: If you think you have found a bug, please include your WordPress version and details on how to reproduce the bug.', 'breadcrumb-navxt'), '&lt;a title=&quot;' . __('Go to the Breadcrumb NavXT support post for your version.', 'breadcrumb-navxt') . '&quot; href=&quot;http:<span class="comment">//mtekk.us/archives/wordpress/plugins-wordpress/breadcrumb-navxt-' . $this-&gt;version . '/#respond&quot;&gt;', '&lt;/a&gt;') . '&lt;/li&gt;&lt;/ul&gt;' . </span>&nbsp;</div></li><li><div>              '&lt;h5&gt;' . __('Giving Back', 'breadcrumb-navxt') . '&lt;/h5&gt;&lt;ul&gt;&lt;li&gt;' .&nbsp;</div></li><li><div>              sprintf(__('%sDonate%s: Love Breadcrumb NavXT and want to help development? Consider buying the author a beer.', 'breadcrumb-navxt'), '&lt;a title=&quot;' . __('Go to PayPal to give a donation to Breadcrumb NavXT.', 'breadcrumb-navxt') . '&quot; href=&quot;https:<span class="comment">//www.paypal.com/cgi-bin/webscr?cmd=_donations&business=FD5XEU783BR8U&lc=US&item_name=Breadcrumb%20NavXT%20Donation&currency_code=USD&bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHosted&quot;&gt;', '&lt;/a&gt;') . '&lt;/li&gt;&lt;li&gt;' .</span>&nbsp;</div></li><li><div>              sprintf(__('%sTranslate%s: Is your language not available? Contact John Havlik to get translating.', 'breadcrumb-navxt'), '&lt;a title=&quot;' . __('Go to the Breadcrumb NavXT translation project.', 'breadcrumb-navxt') . '&quot; href=&quot;http:<span class="comment">//translate.mtekk.us/projects/breadcrumb-navxt&quot;&gt;', '&lt;/a&gt;') . '&lt;/li&gt;&lt;/ul&gt;';</span>&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          $screen-&gt;add_help_tab(&nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>              'id' =&gt; $this-&gt;identifier . '-base', &nbsp;</div></li><li><div>              'title' =&gt; __('General', 'breadcrumb-navxt'), &nbsp;</div></li><li><div>              'content' =&gt; $general_tab&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>          $quickstart_tab = '&lt;p&gt;' . __('For the settings on this page to take effect, you must either use the included Breadcrumb NavXT widget, or place either of the code sections below into your theme.', 'breadcrumb-navxt') .&nbsp;</div></li><li><div>              '&lt;/p&gt;&lt;h5&gt;' . __('Breadcrumb trail with separators', 'breadcrumb-navxt') . '&lt;/h5&gt;&lt;pre&gt;&lt;code&gt;&lt;div class=&quot;breadcrumbs&quot;&gt;' . &quot;&nbsp;</div></li><li><div>  &lt;?php if(function_exists('bcn_display'))&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      bcn_display();&nbsp;</div></li><li><div>  }?&gt;&nbsp;</div></li><li><div>&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&quot; .&nbsp;</div></li><li><div>              '&lt;h5&gt;' . __('Breadcrumb trail in list form', 'breadcrumb-navxt').'&lt;/h5&gt;&lt;pre&gt;&lt;code&gt;&lt;ol class=&quot;breadcrumbs&quot;&gt;'.&quot;&nbsp;</div></li><li><div>  &lt;?php if(function_exists('bcn_display_list'))&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      bcn_display_list();&nbsp;</div></li><li><div>  }?&gt;&nbsp;</div></li><li><div>&lt;/ol&gt;&lt;/code&gt;&lt;/pre&gt;&quot;;&nbsp;</div></li><li><div>          $screen-&gt;add_help_tab(&nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>              'id' =&gt; $this-&gt;identifier . '-quick-start', &nbsp;</div></li><li><div>              'title' =&gt; __('Quick Start', 'breadcrumb-navxt'), &nbsp;</div></li><li><div>              'content' =&gt; $quickstart_tab&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>          $styling_tab = '&lt;p&gt;' . __('Using the code from the Quick Start section above, the following CSS can be used as base for styling your breadcrumb trail.', 'breadcrumb-navxt') . '&lt;/p&gt;' .&nbsp;</div></li><li><div>              '&lt;pre&gt;&lt;code&gt;.breadcrumbs&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  font-size: 1.1em;&nbsp;</div></li><li><div>  color: #fff;&nbsp;</div></li><li><div>  margin: 30px 0 0 10px;&nbsp;</div></li><li><div>  position: relative;&nbsp;</div></li><li><div>  float: left;&nbsp;</div></li><li><div>}&lt;/code&gt;&lt;/pre&gt;';&nbsp;</div></li><li><div>          $screen-&gt;add_help_tab(&nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>              'id' =&gt; $this-&gt;identifier . '-styling', &nbsp;</div></li><li><div>              'title' =&gt; __('Styling', 'breadcrumb-navxt'), &nbsp;</div></li><li><div>              'content' =&gt; $styling_tab&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>          $screen-&gt;add_help_tab(&nbsp;</div></li><li><div>              array(&nbsp;</div></li><li><div>              'id' =&gt; $this-&gt;identifier . '-import-export-reset', &nbsp;</div></li><li><div>              'title' =&gt; __('Import/Export/Reset', 'breadcrumb-navxt'), &nbsp;</div></li><li><div>              'content' =&gt; $this-&gt;import_form()&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * enqueue's the tab style sheet on the settings page</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function admin_styles()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      wp_enqueue_style('mtekk_adminkit_tabs');&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * enqueue's the tab js and translation js on the settings page</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function admin_scripts()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      <span class="comment">//Enqueue ui-tabs</span>&nbsp;</div></li><li><div>      wp_enqueue_script('jquery-ui-tabs');&nbsp;</div></li><li><div>      <span class="comment">//Enqueue the admin tabs javascript</span>&nbsp;</div></li><li><div>      wp_enqueue_script('mtekk_adminkit_tabs');&nbsp;</div></li><li><div>      <span class="comment">//Load the translations for the tabs</span>&nbsp;</div></li><li><div>      wp_localize_script('mtekk_adminkit_tabs', 'objectL10n', array(&nbsp;</div></li><li><div>          'mtad_uid' =&gt; 'bcn_admin', &nbsp;</div></li><li><div>          'mtad_import' =&gt; __('Import', 'breadcrumb-navxt'), &nbsp;</div></li><li><div>          'mtad_export' =&gt; __('Export', 'breadcrumb-navxt'), &nbsp;</div></li><li><div>          'mtad_reset' =&gt; __('Reset', 'breadcrumb-navxt'), &nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * A message function that checks for the BCN_SETTINGS_* define statement</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function multisite_settings_warn()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      if(defined('MULTISITE') && MULTISITE)&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          if(defined('BCN_SETTINGS_USE_LOCAL') && BCN_SETTINGS_USE_LOCAL)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              $this-&gt;message['updated fade'][] = __('Warning: Individual site settings will override any settings set in this page.', 'breadcrumb-navxt');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          else if(defined('BCN_SETTINGS_USE_NETWORK') && BCN_SETTINGS_FAVOR_NETWORK)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          else if(defined('BCN_SETTINGS_FAVOR_LOCAL') && BCN_SETTINGS_FAVOR_LOCAL)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              $this-&gt;message['updated fade'][] = __('Warning: Individual site settings may override any settings set in this page.', 'breadcrumb-navxt');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          else if(defined('BCN_SETTINGS_FAVOR_NETWORK') && BCN_SETTINGS_FAVOR_NETWORK)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              $this-&gt;message['updated fade'][] = __('Warning: Individual site settings may override any settings set in this page.', 'breadcrumb-navxt');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment">//Fall through if no settings mode was set</span>&nbsp;</div></li><li><div>          else&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              $this-&gt;message['updated fade'][] = __('Warning: No BCN_SETTINGS_* define statement found, defaulting to BCN_SETTINGS_FAVOR_NETWORK.', 'breadcrumb-navxt');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * The administrative page for Breadcrumb NavXT</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  function net_admin_page()&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      global $wp_taxonomies, $wp_post_types;&nbsp;</div></li><li><div>      $this-&gt;security();&nbsp;</div></li><li><div>      <span class="comment">//Do a check for multisite settings mode</span>&nbsp;</div></li><li><div>      $this-&gt;multisite_settings_warn();&nbsp;</div></li><li><div>      <span class="comment">//Display our messages</span>&nbsp;</div></li><li><div>      $this-&gt;messages();&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;div class=&quot;wrap&quot;&gt;&lt;div id=&quot;icon-options-general&quot; class=&quot;icon32&quot;&gt;&lt;/div&gt;&lt;h2&gt;&lt;?php _e('Breadcrumb NavXT Network Settings', 'breadcrumb-navxt'); ?&gt;&lt;/h2&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>      <span class="comment">//We exit after the version check if there is an action the user needs to take before saving settings</span>&nbsp;</div></li><li><div>      if(!$this-&gt;version_check(get_site_option($this-&gt;unique_prefix . '_version')))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;form action=&quot;&lt;?php echo $this-&gt;admin_url(); ?&gt;&quot; method=&quot;post&quot; id=&quot;bcn_admin-options&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php settings_fields('bcn_options');?&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;hasadmintabs&quot;&gt;&nbsp;</div></li><li><div>          &lt;fieldset id=&quot;general&quot; class=&quot;bcn_options&quot;&gt;&nbsp;</div></li><li><div>              &lt;h3 class=&quot;tab-title&quot; title=&quot;&lt;?php _e('A collection of settings most likely to be modified are located under this tab.', 'breadcrumb-navxt');?&gt;&quot;&gt;&lt;?php _e('General', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('General', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Breadcrumb Separator', 'breadcrumb-navxt'), 'hseparator', 'regular-text', false, __('Placed in between each breadcrumb.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                  &lt;tr valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;?php _e('Title Length', 'breadcrumb-navxt'); ?&gt;                        &nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;label&gt;&nbsp;</div></li><li><div>                              &lt;input name=&quot;bcn_options[blimit_title]&quot; type=&quot;checkbox&quot; id=&quot;blimit_title&quot; value=&quot;true&quot; &lt;?php checked(true, $this-&gt;opt['blimit_title']); ?&gt; /&gt;&nbsp;</div></li><li><div>                              &lt;?php _e('Limit the length of the breadcrumb title.', 'breadcrumb-navxt'); ?&gt;                &nbsp;</div></li><li><div>                          &lt;/label&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                          &lt;ul&gt;&nbsp;</div></li><li><div>                              &lt;li&gt;&nbsp;</div></li><li><div>                                  &lt;label for=&quot;amax_title_length&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php _e('Max Title Length: ', 'breadcrumb-navxt');?&gt;&nbsp;</div></li><li><div>                                      &lt;input type=&quot;number&quot; name=&quot;bcn_options[amax_title_length]&quot; id=&quot;amax_title_length&quot; min=&quot;1&quot; step=&quot;1&quot; value=&quot;&lt;?php echo esc_html($this-&gt;opt['amax_title_length'], ENT_COMPAT, 'UTF-8'); ?&gt;&quot; class=&quot;small-text&quot; /&gt;&nbsp;</div></li><li><div>                                  &lt;/label&gt;&nbsp;</div></li><li><div>                              &lt;/li&gt;&nbsp;</div></li><li><div>                          &lt;/ul&gt;                            &nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      do_action($this-&gt;unique_prefix . '_network_settings_general', $this-&gt;opt);&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Current Item', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_check(__('Link Current Item', 'breadcrumb-navxt'), 'bcurrent_item_linked', __('Yes', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_check(__('Paged Breadcrumb', 'breadcrumb-navxt'), 'bpaged_display', __('Include the paged breadcrumb in the breadcrumb trail.', 'breadcrumb-navxt'), false, __('Indicates that the user is on a page other than the first on paginated posts/pages.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Paged Template', 'breadcrumb-navxt'), 'Hpaged_template', 'large-text', false, __('The template for paged breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      do_action($this-&gt;unique_prefix . '_network_settings_current_item', $this-&gt;opt);&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Home Breadcrumb', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php &nbsp;</div></li><li><div>                      $this-&gt;input_check(__('Home Breadcrumb', 'breadcrumb-navxt'), 'bhome_display', __('Place the home breadcrumb in the trail.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Home Template', 'breadcrumb-navxt'), 'Hhome_template', 'large-text', false, __('The template for the home breadcrumb.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Home Template (Unlinked)', 'breadcrumb-navxt'), 'Hhome_template_no_anchor', 'large-text', false, __('The template for the home breadcrumb, used when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      do_action($this-&gt;unique_prefix . '_network_settings_home', $this-&gt;opt);&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Blog Breadcrumb', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_check(__('Blog Breadcrumb', 'breadcrumb-navxt'), 'bblog_display', __('Place the blog breadcrumb in the trail.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Blog Template', 'breadcrumb-navxt'), 'Hblog_template', 'large-text', false, __('The template for the blog breadcrumb, used only in static front page environments.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Blog Template (Unlinked)', 'breadcrumb-navxt'), 'Hblog_template_no_anchor', 'large-text', false , __('The template for the blog breadcrumb, used only in static front page environments and when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      do_action($this-&gt;unique_prefix . '_network_settings_blog', $this-&gt;opt);&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Mainsite Breadcrumb', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_check(__('Main Site Breadcrumb', 'breadcrumb-navxt'), 'bmainsite_display', __('Place the main site home breadcrumb in the trail in an multisite setup.', 'breadcrumb-navxt'), !is_multisite());&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Main Site Home Template', 'breadcrumb-navxt'), 'Hmainsite_template', 'large-text', false, __('The template for the main site home breadcrumb, used only in multisite environments.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Main Site Home Template (Unlinked)', 'breadcrumb-navxt'), 'Hmainsite_template_no_anchor', 'large-text', false, __('The template for the main site home breadcrumb, used only in multisite environments and when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      do_action($this-&gt;unique_prefix . '_network_settings_mainsite', $this-&gt;opt);&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;?php do_action($this-&gt;unique_prefix . '_after_network_settings_tab_general', $this-&gt;opt); ?&gt;&nbsp;</div></li><li><div>          &lt;/fieldset&gt;&nbsp;</div></li><li><div>          &lt;fieldset id=&quot;post&quot; class=&quot;bcn_options&quot;&gt;&nbsp;</div></li><li><div>              &lt;h3 class=&quot;tab-title&quot; title=&quot;&lt;?php _e('The settings for all post types (Posts, Pages, and Custom Post Types) are located under this tab.', 'breadcrumb-navxt');?&gt;&quot;&gt;&lt;?php _e('Post Types', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Posts', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Post Template', 'breadcrumb-navxt'), 'Hpost_post_template', 'large-text', false, __('The template for post breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Post Template (Unlinked)', 'breadcrumb-navxt'), 'Hpost_post_template_no_anchor', 'large-text', false, __('The template for post breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_check(__('Post Hierarchy Display', 'breadcrumb-navxt'), 'bpost_post_taxonomy_display', __('Show the taxonomy leading to a post in the breadcrumb trail.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                  &lt;tr valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;?php _e('Post Hierarchy', 'breadcrumb-navxt'); ?&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                              $this-&gt;input_radio('Spost_post_taxonomy_type', 'category', __('Categories'));&nbsp;</div></li><li><div>                              $this-&gt;input_radio('Spost_post_taxonomy_type', 'date', __('Dates', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                              $this-&gt;input_radio('Spost_post_taxonomy_type', 'post_tag', __('Tags'));&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment">//We use the value 'page' but really, this will follow the parent post hierarchy</span></span>&nbsp;</div></li><li><div>                              $this-&gt;input_radio('Spost_post_taxonomy_type', 'page', __('Post Parent', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment"><span class="comment">//Loop through all of the taxonomies in the array</span></span></span>&nbsp;</div></li><li><div>                              foreach($wp_taxonomies as $taxonomy)&nbsp;</div></li><li><div>                              {&nbsp;</div></li><li><div>                                  <span class="comment"><span class="comment"><span class="comment">//Check for non-public taxonomies</span></span></span>&nbsp;</div></li><li><div>                                  if(!apply_filters('bcn_show_tax_private', $taxonomy-&gt;public, $taxonomy-&gt;name))&nbsp;</div></li><li><div>                                  {&nbsp;</div></li><li><div>                                      continue;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  <span class="comment"><span class="comment"><span class="comment">//We only want custom taxonomies</span></span></span>&nbsp;</div></li><li><div>                                  if(($taxonomy-&gt;object_type == 'post' || is_array($taxonomy-&gt;object_type) && in_array('post', $taxonomy-&gt;object_type)) && !$taxonomy-&gt;_builtin)&nbsp;</div></li><li><div>                                  {&nbsp;</div></li><li><div>                                      $this-&gt;input_radio('Spost_post_taxonomy_type', $taxonomy-&gt;name, mb_convert_case($taxonomy-&gt;label, MB_CASE_TITLE, 'UTF-8'));&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;p class=&quot;description&quot;&gt;&lt;?php _e('The hierarchy which the breadcrumb trail will show. Note that the &quot;Post Parent&quot; option may require an additional plugin to behave as expected since this is a non-hierarchical post type.', 'breadcrumb-navxt'); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Pages', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Page Template', 'breadcrumb-navxt'), 'Hpost_page_template', 'large-text', false, __('The template for page breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Page Template (Unlinked)', 'breadcrumb-navxt'), 'Hpost_page_template_no_anchor', 'large-text', false, __('The template for page breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Attachments', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Attachment Template', 'breadcrumb-navxt'), 'Hpost_attachment_template', 'large-text', false, __('The template for attachment breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Attachment Template (Unlinked)', 'breadcrumb-navxt'), 'Hpost_attachment_template_no_anchor', 'large-text', false, __('The template for attachment breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          <span class="comment">//Loop through all of the post types in the array</span>&nbsp;</div></li><li><div>          foreach($wp_post_types as $post_type)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              <span class="comment">//Check for non-public CPTs</span>&nbsp;</div></li><li><div>              if(!apply_filters('bcn_show_cpt_private', $post_type-&gt;public, $post_type-&gt;name))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">//We only want custom post types</span></span>&nbsp;</div></li><li><div>              if(!$post_type-&gt;_builtin)&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  $singular_name_lc = mb_strtolower($post_type-&gt;labels-&gt;singular_name, 'UTF-8');&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php echo $post_type-&gt;labels-&gt;singular_name; ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(sprintf(__('%s Template', 'breadcrumb-navxt'), $post_type-&gt;labels-&gt;singular_name), 'Hpost_' . $post_type-&gt;name . '_template', 'large-text', false, sprintf(__('The template for %s breadcrumbs.', 'breadcrumb-navxt'), $singular_name_lc));&nbsp;</div></li><li><div>                      $this-&gt;input_text(sprintf(__('%s Template (Unlinked)', 'breadcrumb-navxt'), $post_type-&gt;labels-&gt;singular_name), 'Hpost_' . $post_type-&gt;name . '_template_no_anchor', 'large-text', false, sprintf(__('The template for %s breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'), $singular_name_lc));&nbsp;</div></li><li><div>                      $optid = $this-&gt;get_valid_id('apost_' . $post_type-&gt;name . '_root');&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                  &lt;tr valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;&lt;?php echo $optid;?&gt;&quot;&gt;&lt;?php printf(__('%s Root Page', 'breadcrumb-navxt'), $post_type-&gt;labels-&gt;singular_name);?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;?php wp_dropdown_pages(array('name' =&gt; $this-&gt;unique_prefix . '_options[apost_' . $post_type-&gt;name . '_root]', 'id' =&gt; $optid, 'echo' =&gt; 1, 'show_option_none' =&gt; __( '&mdash; Select &mdash;' ), 'option_none_value' =&gt; '0', 'selected' =&gt; $this-&gt;opt['apost_' . $post_type-&gt;name . '_root']));?&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_check(sprintf(__('%s Archive Display', 'breadcrumb-navxt'), $post_type-&gt;labels-&gt;singular_name), 'bpost_' . $post_type-&gt;name . '_archive_display', sprintf(__('Show the breadcrumb for the %s post type archives in the breadcrumb trail.', 'breadcrumb-navxt'), $singular_name_lc), !$post_type-&gt;has_archive);&nbsp;</div></li><li><div>                      $this-&gt;input_check(sprintf(__('%s Hierarchy Display', 'breadcrumb-navxt'), $post_type-&gt;labels-&gt;singular_name), 'bpost_' . $post_type-&gt;name . '_taxonomy_display', sprintf(__('Show the taxonomy leading to a %s in the breadcrumb trail.', 'breadcrumb-navxt'), $singular_name_lc));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                  &lt;tr valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;?php printf(__('%s Hierarchy', 'breadcrumb-navxt'), $post_type-&gt;labels-&gt;singular_name); ?&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment">//We use the value 'page' but really, this will follow the parent post hierarchy</span></span>&nbsp;</div></li><li><div>                              $this-&gt;input_radio('Spost_' . $post_type-&gt;name . '_taxonomy_type', 'page', __('Post Parent', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment"><span class="comment">//Loop through all of the taxonomies in the array</span></span></span>&nbsp;</div></li><li><div>                              foreach($wp_taxonomies as $taxonomy)&nbsp;</div></li><li><div>                              {&nbsp;</div></li><li><div>                                  <span class="comment"><span class="comment"><span class="comment">//Check for non-public taxonomies</span></span></span>&nbsp;</div></li><li><div>                                  if(!apply_filters('bcn_show_tax_private', $taxonomy-&gt;public, $taxonomy-&gt;name))&nbsp;</div></li><li><div>                                  {&nbsp;</div></li><li><div>                                      continue;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  <span class="comment"><span class="comment"><span class="comment">//We only want custom taxonomies</span></span></span>&nbsp;</div></li><li><div>                                  if($taxonomy-&gt;object_type == $post_type-&gt;name || in_array($post_type-&gt;name, $taxonomy-&gt;object_type))&nbsp;</div></li><li><div>                                  {&nbsp;</div></li><li><div>                                      $this-&gt;input_radio('Spost_' . $post_type-&gt;name . '_taxonomy_type', $taxonomy-&gt;name, $taxonomy-&gt;labels-&gt;singular_name);&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;p class=&quot;description&quot;&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                          if($post_type-&gt;hierarchical)&nbsp;</div></li><li><div>                          {&nbsp;</div></li><li><div>                              _e('The hierarchy which the breadcrumb trail will show.', 'breadcrumb-navxt'); &nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          else&nbsp;</div></li><li><div>                          {&nbsp;</div></li><li><div>                              _e('The hierarchy which the breadcrumb trail will show. Note that the &quot;Post Parent&quot; option may require an additional plugin to behave as expected since this is a non-hierarchical post type.', 'breadcrumb-navxt');&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;/p&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          do_action($this-&gt;unique_prefix . '_after_network_settings_tab_post', $this-&gt;opt);&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>          &lt;/fieldset&gt;&nbsp;</div></li><li><div>          &lt;fieldset id=&quot;tax&quot; class=&quot;bcn_options alttab&quot;&gt;&nbsp;</div></li><li><div>              &lt;h3 class=&quot;tab-title&quot; title=&quot;&lt;?php _e('The settings for all taxonomies (including Categories, Tags, and custom taxonomies) are located under this tab.', 'breadcrumb-navxt');?&gt;&quot;&gt;&lt;?php _e('Taxonomies', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Categories', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Category Template', 'breadcrumb-navxt'), 'Htax_category_template', 'large-text', false, __('The template for category breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Category Template (Unlinked)', 'breadcrumb-navxt'), 'Htax_category_template_no_anchor', 'large-text', false, __('The template for category breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Tags', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Tag Template', 'breadcrumb-navxt'), 'Htax_post_tag_template', 'large-text', false, __('The template for tag breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Tag Template (Unlinked)', 'breadcrumb-navxt'), 'Htax_post_tag_template_no_anchor', 'large-text', false, __('The template for tag breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Post Formats', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Post Format Template', 'breadcrumb-navxt'), 'Hpost_format_template', 'large-text', false, __('The template for post format breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Post Format Template (Unlinked)', 'breadcrumb-navxt'), 'Hpost_format_template_no_anchor', 'large-text', false, __('The template for post_format breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">//Loop through all of the taxonomies in the array</span></span></span>&nbsp;</div></li><li><div>          foreach($wp_taxonomies as $taxonomy)&nbsp;</div></li><li><div>          {&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">//Check for non-public taxonomies</span></span></span>&nbsp;</div></li><li><div>              if(!apply_filters('bcn_show_tax_private', $taxonomy-&gt;public, $taxonomy-&gt;name))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  continue;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">//We only want custom taxonomies</span></span></span>&nbsp;</div></li><li><div>              if(!$taxonomy-&gt;_builtin)&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  $label_lc = mb_strtolower($taxonomy-&gt;label, 'UTF-8');&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php echo mb_convert_case($taxonomy-&gt;label, MB_CASE_TITLE, 'UTF-8'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(sprintf(__('%s Template', 'breadcrumb-navxt'), $taxonomy-&gt;labels-&gt;singular_name), 'Htax_' . $taxonomy-&gt;name . '_template', 'large-text', false, sprintf(__('The template for %s breadcrumbs.', 'breadcrumb-navxt'), $label_lc));&nbsp;</div></li><li><div>                      $this-&gt;input_text(sprintf(__('%s Template (Unlinked)', 'breadcrumb-navxt'), $taxonomy-&gt;labels-&gt;singular_name), 'Htax_' . $taxonomy-&gt;name . '_template_no_anchor', 'large-text', false, sprintf(__('The template for %s breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'), $label_lc));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          do_action($this-&gt;unique_prefix . '_after_network_settings_tab_taxonomy', $this-&gt;opt); ?&gt;&nbsp;</div></li><li><div>          &lt;/fieldset&gt;&nbsp;</div></li><li><div>          &lt;fieldset id=&quot;miscellaneous&quot; class=&quot;bcn_options&quot;&gt;&nbsp;</div></li><li><div>              &lt;h3 class=&quot;tab-title&quot; title=&quot;&lt;?php _e('The settings for author and date archives, searches, and 404 pages are located under this tab.', 'breadcrumb-navxt');?&gt;&quot;&gt;&lt;?php _e('Miscellaneous', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Author Archives', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Author Template', 'breadcrumb-navxt'), 'Hauthor_template', 'large-text', false, __('The template for author breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Author Template (Unlinked)', 'breadcrumb-navxt'), 'Hauthor_template_no_anchor', 'large-text', false, __('The template for author breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_select(__('Author Display Format', 'breadcrumb-navxt'), 'Sauthor_name', array(&quot;display_name&quot;, &quot;nickname&quot;, &quot;first_name&quot;, &quot;last_name&quot;), false, __('display_name uses the name specified in &quot;Display name publicly as&quot; under the user profile the others correspond to options in the user profile.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e('Miscellaneous', 'breadcrumb-navxt'); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Date Template', 'breadcrumb-navxt'), 'Hdate_template', 'large-text', false, __('The template for date breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Date Template (Unlinked)', 'breadcrumb-navxt'), 'Hdate_template_no_anchor', 'large-text', false, __('The template for date breadcrumbs, used only when the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Search Template', 'breadcrumb-navxt'), 'Hsearch_template', 'large-text', false, __('The anchor template for search breadcrumbs, used only when the search results span several pages.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('Search Template (Unlinked)', 'breadcrumb-navxt'), 'Hsearch_template_no_anchor', 'large-text', false, __('The anchor template for search breadcrumbs, used only when the search results span several pages and the breadcrumb is not linked.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('404 Title', 'breadcrumb-navxt'), 'S404_title', 'regular-text');&nbsp;</div></li><li><div>                      $this-&gt;input_text(__('404 Template', 'breadcrumb-navxt'), 'H404_template', 'large-text', false, __('The template for 404 breadcrumbs.', 'breadcrumb-navxt'));&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &lt;?php do_action($this-&gt;unique_prefix . '_after_network_settings_tab_miscellaneous', $this-&gt;opt); ?&gt;&nbsp;</div></li><li><div>          &lt;/fieldset&gt;&nbsp;</div></li><li><div>          &lt;?php do_action($this-&gt;unique_prefix . '_after_network_settings_tabs', $this-&gt;opt); ?&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;p class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; class=&quot;button-primary&quot; name=&quot;bcn_admin_options&quot; value=&quot;&lt;?php esc_attr_e('Save Changes') ?&gt;&quot; /&gt;&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/form&gt;&nbsp;</div></li><li><div>      &lt;?php &nbsp;</div></li><li><div>      <span class="comment">//Need to add a separate menu thing for this</span>&nbsp;</div></li><li><div>      $this-&gt;import_form(); ?&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Breadcrumb NavXT 5.0 Migration Compatibility Layer DO NOT ACTIVATE</li><li><span></span>5.1.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>