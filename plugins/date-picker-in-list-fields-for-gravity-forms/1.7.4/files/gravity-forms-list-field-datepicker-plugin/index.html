<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="1.7.4" data-slug="date-picker-in-list-fields-for-gravity-forms" data-type="file" data-id="76520"><head xmlns="http://www.w3.org/1999/xhtml"><title> gravity-forms-list-field-datepicker-plugin | file | Date Picker In List Fields For Gravity Forms | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, date-picker-in-list-fields-for-gravity-forms, 1.7.4" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=b17e10b6b4c0c6569bbc36077cea2a8c' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/gravity-forms-list-field-datepicker-plugin/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fgravity-forms-list-field-datepicker-plugin%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fgravity-forms-list-field-datepicker-plugin%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-date-picker-in-list-fields-for-gravity-forms-1.7.4-file-gravity-forms-list-field-datepicker-plugin","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="gravity-forms-list-field-datepicker-plugin" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to date-picker-in-list-fields-fo&hellip;." href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/" class="plugin"><span property="name">date-picker-in-list-fields-fo&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 1.7.4." href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/" class="H_VERSION"><span property="name">1.7.4</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">gravity-forms-list-field-date&hellip;</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="12"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/all/" title="All">All <span class="count badge">12</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="10"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/hooks/" title="Hooks">Hooks <span class="count badge">10</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="10"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/filters/" title="Filters">Filters <span class="count badge">10</span></a></li><li class="" data-id="class" data-count="2"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/classes/" title="Classes">Classes <span class="count badge">2</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="0"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/date-picker-in-list-fields-for-gravity-forms/1.7.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/gravity-forms-list-field-datepicker-plugin.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">Plugin Name: Date Picker in List Fields for Gravity Forms</span>&nbsp;</div></li><li><div><span class="comment">Description: Gives the option of adding a date picker to a list field column</span>&nbsp;</div></li><li><div><span class="comment">Version: 1.7.4</span>&nbsp;</div></li><li><div><span class="comment">Author: Adrian Gordon</span>&nbsp;</div></li><li><div><span class="comment">Author URI: http://www.itsupportguides.com </span>&nbsp;</div></li><li><div><span class="comment">License: GPL2</span>&nbsp;</div></li><li><div><span class="comment">Text Domain: gravity-forms-list-field-date-picker</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">------------------------------------------------------------------------</span>&nbsp;</div></li><li><div><span class="comment">Copyright 2015 Adrian Gordon</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">This program is free software; you can redistribute it and/or modify</span>&nbsp;</div></li><li><div><span class="comment">it under the terms of the GNU General Public License as published by</span>&nbsp;</div></li><li><div><span class="comment">the Free Software Foundation; either version 2 of the License, or</span>&nbsp;</div></li><li><div><span class="comment">(at your option) any later version.</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">This program is distributed in the hope that it will be useful, </span>&nbsp;</div></li><li><div><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>&nbsp;</div></li><li><div><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>&nbsp;</div></li><li><div><span class="comment">GNU General Public License for more details.</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">You should have received a copy of the GNU General Public License</span>&nbsp;</div></li><li><div><span class="comment">along with this program; if not, write to the Free Software</span>&nbsp;</div></li><li><div><span class="comment">Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! defined( 'ABSPATH' ) ) {&nbsp;</div></li><li><div>  die();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>load_plugin_textdomain( 'gravity-forms-list-field-date-picker', false, dirname( plugin_basename( __FILE__ ) ) . '/lang' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'admin_notices', array( 'ITSG_GF_List_Field_Date_Picker', 'admin_warnings' ), 20 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( !class_exists( 'ITSG_GF_List_Field_Date_Picker' ) ) {&nbsp;</div></li><li><div>  class ITSG_GF_List_Field_Date_Picker&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      private static $name = 'Date Picker in List Fields for Gravity Forms';&nbsp;</div></li><li><div>      private static $slug = 'gravity-forms-list-field-date-picker';&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Construct the plugin object</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>       function __construct() {&nbsp;</div></li><li><div>          <span class="comment">// register plugin functions through 'gform_loaded' - </span>&nbsp;</div></li><li><div>          <span class="comment">// this delays the registration until Gravity Forms has loaded, ensuring it does not run before Gravity Forms is available.</span>&nbsp;</div></li><li><div>          add_action( 'gform_loaded', array( &$this, 'register_actions' ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Register plugin functions</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function register_actions() {&nbsp;</div></li><li><div>          if ( ( self::is_gravityforms_installed() ) ) {&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              <span class="comment">// addon framework</span>&nbsp;</div></li><li><div>              require_once( plugin_dir_path( __FILE__ ).'gravity-forms-list-field-datepicker-addon.php' );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              <span class="comment">// start the plugin</span>&nbsp;</div></li><li><div>              add_filter( 'gform_column_input_content', array( &$this, 'change_column_content' ), 10, 6 );&nbsp;</div></li><li><div>              add_action( 'gform_editor_js', array( &$this, 'editor_js' ) );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              add_action( 'gform_field_appearance_settings', array( &$this, 'field_datepicker_settings' ) , 10, 2 );&nbsp;</div></li><li><div>              add_filter( 'gform_tooltips', array( &$this, 'field_datepicker_tooltip' ) );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              add_filter( 'gform_validation', array( &$this, 'validate_datepicker_fields' ) );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              <span class="comment">// patch to allow JS and CSS to load when loading forms through wp-ajax requests</span>&nbsp;</div></li><li><div>              add_action( 'gform_enqueue_scripts', array( &$this, 'datepicker_js' ), 90, 2 );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * BEGIN: patch to allow JS and CSS to load when loading forms through wp-ajax requests</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Enqueue JavaScript to footer</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      public function datepicker_js( $form, $is_ajax ) {&nbsp;</div></li><li><div>          if ( $this-&gt;requires_scripts( $form, $is_ajax ) ) {&nbsp;</div></li><li><div>              $min = defined( 'SCRIPT_DEBUG' ) && SCRIPT_DEBUG || isset( $_GET['gform_debug'] ) ? '' : '.min';&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              wp_enqueue_script( 'gform_datepicker_init' );&nbsp;</div></li><li><div>              wp_enqueue_style( 'gforms_datepicker_css', GFCommon::get_base_url() . &quot;/css/datepicker{$min}.css&quot;, null, GFCommon::$version );&nbsp;</div></li><li><div>              wp_enqueue_style( 'itsg_listdatepicker_css', plugins_url( &quot;/css/listdatepicker-css{$min}.css&quot;, __FILE__ ) );&nbsp;</div></li><li><div>              wp_register_script( 'itsg_listdatepicker_js', plugins_url( &quot;/js/listdatepicker-script{$min}.js&quot;, __FILE__ ), array( 'jquery' ) );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              <span class="comment"><span class="comment">// Localize the script with new data</span></span>&nbsp;</div></li><li><div>              $this-&gt;localize_scripts( $form, $is_ajax );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } <span class="comment">// END datepicker_js</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      public function requires_scripts( $form, $is_ajax ) {&nbsp;</div></li><li><div>          if ( is_admin() && defined( 'DOING_AJAX' ) && DOING_AJAX && ! GFCommon::is_form_editor() && is_array( $form ) ) {&nbsp;</div></li><li><div>              foreach ( $form['fields'] as $field ) {&nbsp;</div></li><li><div>                  if ( 'list' == $field-&gt;type ) {&nbsp;</div></li><li><div>                      $has_columns = is_array( $field-&gt;choices );&nbsp;</div></li><li><div>                      if ( $has_columns ) {&nbsp;</div></li><li><div>                          foreach( $field['choices'] as $choice ) {&nbsp;</div></li><li><div>                              if ( true == rgar( $choice, 'isDatePicker' ) )  {&nbsp;</div></li><li><div>                                  return true;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } else if ( true == $field-&gt;itsg_list_field_datepicker ) {&nbsp;</div></li><li><div>                          return true;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      } <span class="comment">// END requires_scripts</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      function localize_scripts( $form, $is_ajax ) {&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Localize the script with new data</span></span>&nbsp;</div></li><li><div>          $form_id = $form['id'];&nbsp;</div></li><li><div>          $default_datepicker_date = apply_filters( 'itsg_default_datepicker_date', '' );&nbsp;</div></li><li><div>          $datepicker_fields = array();&nbsp;</div></li><li><div>          $is_entry_detail = GFCommon::is_entry_detail();&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          if ( is_array( $form['fields'] ) ) {&nbsp;</div></li><li><div>              foreach ( $form['fields'] as $field ) {&nbsp;</div></li><li><div>                  if ( 'list' == $field-&gt;type ) {&nbsp;</div></li><li><div>                      $form_id = $form['id'];&nbsp;</div></li><li><div>                      $field_id = $field['id'];&nbsp;</div></li><li><div>                      $has_columns = is_array( $field-&gt;choices );&nbsp;</div></li><li><div>                      if ( $has_columns ) {&nbsp;</div></li><li><div>                          foreach( $field['choices'] as $key=&gt;$choice ) {&nbsp;</div></li><li><div>                              if ( true == rgar( $choice, 'isDatePicker' ) )  {&nbsp;</div></li><li><div>                                  $column_number = $key + 1;&nbsp;</div></li><li><div>                                  $datepicker_default_format = strlen( $default_datepicker_date) &gt; 0 ? $default_datepicker_date : rgar( $choice, 'isDatePickerDefaultDate' );&nbsp;</div></li><li><div>                                  if ( strlen( $datepicker_default_format ) &gt; 0 ) {&nbsp;</div></li><li><div>                                      $datepicker_fields[ $field_id ][ $column_number ]['setDate'] = $datepicker_default_format;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } elseif ( true == $field-&gt;itsg_list_field_datepicker ) {&nbsp;</div></li><li><div>                          $datepicker_default_format = strlen( $default_datepicker_date) &gt; 0 ? $default_datepicker_date : rgar( $field, 'itsg_list_field_datepicker_default_date' );&nbsp;</div></li><li><div>                          if ( strlen( $datepicker_default_format ) &gt; 0 ) {&nbsp;</div></li><li><div>                              $datepicker_fields[ $field_id ][1]['setDate'] = $datepicker_default_format;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">// get Ajax Upload options</span>&nbsp;</div></li><li><div>          $datepicker_fields = apply_filters( 'itsg_datepicker_fields', $datepicker_fields, $form_id );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          $settings_array = array(&nbsp;</div></li><li><div>                  'gf_base_url' =&gt; esc_js( GFCommon::get_base_url() ), &nbsp;</div></li><li><div>                  'datepicker_fields' =&gt; $datepicker_fields, &nbsp;</div></li><li><div>                  'form_id' =&gt; $form_id, &nbsp;</div></li><li><div>                  'is_entry_detail' =&gt; $is_entry_detail ? $is_entry_detail : 0, &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          wp_localize_script( 'itsg_listdatepicker_js', 'datepicker_settings', $settings_array );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">// Enqueued script with localized data.</span>&nbsp;</div></li><li><div>          wp_enqueue_script( 'itsg_listdatepicker_js' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      } <span class="comment">// END localize_scripts</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * END: patch to allow JS and CSS to load when loading forms through wp-ajax requests</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>   &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Handles custom validation for datepicker enabled fields</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function validate_datepicker_fields( $validation_result ) {&nbsp;</div></li><li><div>          $form = $validation_result['form'];&nbsp;</div></li><li><div>          if ( self::list_has_datepicker_field( $form ) ) {&nbsp;</div></li><li><div>              $current_page = rgpost( 'gform_source_page_number_' . $form['id'] ) ? rgpost( 'gform_source_page_number_' . $form['id'] ) : 1;&nbsp;</div></li><li><div>              foreach( $form['fields'] as &$field )  {&nbsp;</div></li><li><div>                  $field_page = $field-&gt;pageNumber;&nbsp;</div></li><li><div>                  $is_hidden = RGFormsModel::is_field_hidden( $form, $field, array() );&nbsp;</div></li><li><div>                  if ( $field_page != $current_page || $is_hidden ) {&nbsp;</div></li><li><div>                      continue;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $has_columns = is_array( $field['choices'] );&nbsp;</div></li><li><div>                  if ( $has_columns ) {&nbsp;</div></li><li><div>                      $number_of_columns = sizeof( $field['choices'] );&nbsp;</div></li><li><div>                      $column_number = 0;&nbsp;</div></li><li><div>                      $value = rgpost( &quot;input_{$field['id']}&quot; );&nbsp;</div></li><li><div>                      if ( is_array( $value ) ) {&nbsp;</div></li><li><div>                          foreach( $value as $key =&gt; $column_value ) {&nbsp;</div></li><li><div>                              if ( true == rgar( $field['choices'][ $column_number ], 'isDatePicker' ) )  {&nbsp;</div></li><li><div>                                  if ( apply_filters( 'itsg_list_field_datepicker_disable_validation', false, $form['id'], $field['id'], $column_number + 1 ) ) {&nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  $default_format = apply_filters( 'itsg_list_field_datepicker_default_format', 'mdy', $form['id'], $field['id'], $column_number + 1 );&nbsp;</div></li><li><div>                                  $date_format = '' !== rgar( $field['choices'][ $column_number ], 'isDatePickerFormat' ) ?  $field['choices'][ $column_number ]['isDatePickerFormat'] : $default_format;&nbsp;</div></li><li><div>                                  $value = $column_value;&nbsp;</div></li><li><div>                                  if ( ! empty( $value ) ) {&nbsp;</div></li><li><div>                                      $date = GFCommon::parse_date( $value, $date_format );&nbsp;</div></li><li><div>                                      if ( empty( $date ) || ! $this-&gt;checkdate( $date['month'], $date['day'], $date['year'] ) ) {&nbsp;</div></li><li><div>                                          $validation_result['is_valid'] = false; <span class="comment"><span class="comment">// set the form validation to false</span></span>&nbsp;</div></li><li><div>                                          $field-&gt;failed_validation = true;&nbsp;</div></li><li><div>                                          $format_name = '';&nbsp;</div></li><li><div>                                          switch ( $date_format ) {&nbsp;</div></li><li><div>                                              case 'mdy' :&nbsp;</div></li><li><div>                                                  $format_name = 'mm/dd/yyyy';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                              case 'dmy' :&nbsp;</div></li><li><div>                                                  $format_name = 'dd/mm/yyyy';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                              case 'dmy_dash' :&nbsp;</div></li><li><div>                                                  $format_name = 'dd-mm-yyyy';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                              case 'dmy_dot' :&nbsp;</div></li><li><div>                                                  $format_name = 'dd.mm.yyyy';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                              case 'ymd_slash' :&nbsp;</div></li><li><div>                                                  $format_name = 'yyyy/mm/dd';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                              case 'ymd_dash' :&nbsp;</div></li><li><div>                                                  $format_name = 'yyyy-mm-dd';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                              case 'ymd_dot' :&nbsp;</div></li><li><div>                                                  $format_name = 'yyyy.mm.dd';&nbsp;</div></li><li><div>                                                  break;&nbsp;</div></li><li><div>                                          }&nbsp;</div></li><li><div>                                          $message = sprintf( esc_html__( &quot;The column '%s' requires a valid date in %s format.&quot;, 'gravity-forms-list-field-date-picker' ), $field['choices'][ $column_number ]['text'], $format_name );&nbsp;</div></li><li><div>                                          $field-&gt;validation_message = $message;&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              if ( $column_number &gt;= ( $number_of_columns - 1 ) ) {&nbsp;</div></li><li><div>                                  $column_number = 0; <span class="comment"><span class="comment">// reset column number</span></span>&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  $column_number = $column_number + 1; <span class="comment"><span class="comment">// increment column number</span></span>&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  } elseif ( true == $field-&gt;itsg_list_field_datepicker ) {&nbsp;</div></li><li><div>                      $default_format = apply_filters( 'itsg_list_field_datepicker_default_format', 'mdy', $form['id'], $field['id'], 1 );&nbsp;</div></li><li><div>                      $date_format = '' !== $field-&gt;itsg_list_field_datepicker_format ?  $field['itsg_list_field_datepicker_format'] : $default_format;&nbsp;</div></li><li><div>                      $value = rgpost( &quot;input_{$field['id']}&quot; );&nbsp;</div></li><li><div>                      if ( is_array( $value ) ) {&nbsp;</div></li><li><div>                          foreach( $value as $key =&gt; $column_value ) {&nbsp;</div></li><li><div>                              $value = $column_value;&nbsp;</div></li><li><div>                              if ( ! empty( $value ) ) {&nbsp;</div></li><li><div>                                  $date = GFCommon::parse_date( $value, $date_format );&nbsp;</div></li><li><div>                                  if ( empty( $date ) || ! $this-&gt;checkdate( $date['month'], $date['day'], $date['year'] ) ) {&nbsp;</div></li><li><div>                                      $validation_result['is_valid'] = false; <span class="comment"><span class="comment">// set the form validation to false</span></span>&nbsp;</div></li><li><div>                                      $field-&gt;failed_validation = true;&nbsp;</div></li><li><div>                                      $format_name = '';&nbsp;</div></li><li><div>                                      switch ( $date_format ) {&nbsp;</div></li><li><div>                                          case 'mdy' :&nbsp;</div></li><li><div>                                              $format_name = 'mm/dd/yyyy';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                          case 'dmy' :&nbsp;</div></li><li><div>                                              $format_name = 'dd/mm/yyyy';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                          case 'dmy_dash' :&nbsp;</div></li><li><div>                                              $format_name = 'dd-mm-yyyy';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                          case 'dmy_dot' :&nbsp;</div></li><li><div>                                              $format_name = 'dd.mm.yyyy';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                          case 'ymd_slash' :&nbsp;</div></li><li><div>                                              $format_name = 'yyyy/mm/dd';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                          case 'ymd_dash' :&nbsp;</div></li><li><div>                                              $format_name = 'yyyy-mm-dd';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                          case 'ymd_dot' :&nbsp;</div></li><li><div>                                              $format_name = 'yyyy.mm.dd';&nbsp;</div></li><li><div>                                              break;&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>                                      $message = sprintf( esc_html__( 'Requires a valid date in %s format.', 'gravity-forms-list-field-date-picker' ), $format_name );&nbsp;</div></li><li><div>                                      $field-&gt;validation_message = $message;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment">//Assign modified $form object back to the validation result</span>&nbsp;</div></li><li><div>          $validation_result['form'] = $form;&nbsp;</div></li><li><div>          return $validation_result;&nbsp;</div></li><li><div>      } <span class="comment">// END validate_datepicker_fields</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      public function checkdate( $month, $day, $year ) {&nbsp;</div></li><li><div>          if ( empty( $month ) || ! is_numeric( $month ) || empty( $day ) || ! is_numeric( $day ) || empty( $year ) || ! is_numeric( $year ) || strlen( $year ) != 4 ) {&nbsp;</div></li><li><div>              return false;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return checkdate( $month, $day, $year );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Changes column field if 'date field' option is ticked. Adds 'datepicker' class.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function change_column_content( $input, $input_info, $field, $text, $value, $form_id ) {&nbsp;</div></li><li><div>          if ( GFCommon::is_form_editor() ) {&nbsp;</div></li><li><div>              $has_columns = is_array( $field['choices'] );&nbsp;</div></li><li><div>              if ( $has_columns ) {&nbsp;</div></li><li><div>                  foreach( $field['choices'] as $choice ) {&nbsp;</div></li><li><div>                      if ( $text == rgar( $choice, 'text' ) && true == rgar( $choice, 'isDatePicker' ) &&  'itsg_list_field_datepicker_icon_none' != rgar( $choice, 'isDatePickerIcon' ) ) {&nbsp;</div></li><li><div>                          $new_input = str_replace( &quot;&lt;input &quot;, &quot;&lt;input style='width:80%' &quot;, $input );&nbsp;</div></li><li><div>                          $new_input .=  '&lt;img style=&quot;display:inline&quot; id=&quot;gfield_input_datepicker_icon&quot; src=&quot;' . GFCommon::get_base_url() . '/images/calendar.png&quot;&gt;';&nbsp;</div></li><li><div>                          return $new_input;&nbsp;</div></li><li><div>                      } else if ( $text == rgar( $choice, 'text' ) ) {&nbsp;</div></li><li><div>                          return $input;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  if ( true == $field-&gt;itsg_list_field_datepicker && 'itsg_list_field_datepicker_icon_none' != $field-&gt;itsg_list_field_datepicker_icon ) {&nbsp;</div></li><li><div>                      $new_input = str_replace( &quot;&lt;input &quot;, &quot;&lt;input style='width:80%' &quot;, $input );&nbsp;</div></li><li><div>                      $new_input .=  '&lt;img style=&quot;display:inline&quot; id=&quot;gfield_input_datepicker_icon&quot; src=&quot;' . GFCommon::get_base_url() . '/images/calendar.png&quot;&gt;';&nbsp;</div></li><li><div>                      return $new_input;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  return $input;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $field_id = $field['id'];&nbsp;</div></li><li><div>              $column_number = 1;&nbsp;</div></li><li><div>              $has_columns = is_array( $field['choices'] );&nbsp;</div></li><li><div>              if ( $has_columns ) {&nbsp;</div></li><li><div>                  $number_of_columns = sizeof( $field['choices'] );&nbsp;</div></li><li><div>                  foreach( $field['choices'] as $choice ) {&nbsp;</div></li><li><div>                      if ( $text == rgar( $choice, 'text' )  && true == rgar( $choice, 'isDatePicker' ) ) {&nbsp;</div></li><li><div>                          $default_format = apply_filters( 'itsg_list_field_datepicker_default_format', 'mdy', $form_id, $field_id, $column_number );&nbsp;</div></li><li><div>                          $date_format = '' !== rgar( $choice, 'isDatePickerFormat' ) ? $choice['isDatePickerFormat'] : esc_html( $default_format );&nbsp;</div></li><li><div>                          $datepicker_class =  'itsg_list_field_datepicker_icon_none' == rgar( $choice, 'isDatePickerIcon' ) ? 'datepicker_no_icon datepicker' :'datepicker_with_icon datepicker';&nbsp;</div></li><li><div>                          $new_input = str_replace( &quot;&lt;input &quot;, &quot;&lt;input class='{$datepicker_class} {$date_format} ' &quot;, $input );&nbsp;</div></li><li><div>                          $new_input .=  &quot;&lt;input id='gforms_calendar_icon_input_{$form_id}_{$field_id}_{$column_number}' class='gform_hidden' type='hidden' value='&quot; . GFCommon::get_base_url() . &quot;/images/calendar.png'  /&gt;&quot;;&nbsp;</div></li><li><div>                          return $new_input;&nbsp;</div></li><li><div>                      } else if ( $text == rgar( $choice, 'text' ) ) {&nbsp;</div></li><li><div>                          return $input;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      if ( $column_number &gt;= ( $number_of_columns ) ) {&nbsp;</div></li><li><div>                          $column_number = 1; <span class="comment"><span class="comment">// reset column number</span></span>&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $column_number = $column_number + 1; <span class="comment"><span class="comment">// increment column number</span></span>&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  if ( true == $field-&gt;itsg_list_field_datepicker ) {&nbsp;</div></li><li><div>                      $default_format = apply_filters( 'itsg_list_field_datepicker_default_format', 'mdy', $form_id, $field_id, 1 );&nbsp;</div></li><li><div>                      $date_format = '' !== $field-&gt;itsg_list_field_datepicker_format ? $field['itsg_list_field_datepicker_format'] : esc_html( $default_format );&nbsp;</div></li><li><div>                      $datepicker_class =  'itsg_list_field_datepicker_icon_none' == $field-&gt;itsg_list_field_datepicker_icon ? 'datepicker_no_icon datepicker' :'datepicker_with_icon datepicker';&nbsp;</div></li><li><div>                      $new_input = str_replace( &quot;&lt;input &quot;, &quot;&lt;input class='{$datepicker_class} {$date_format} ' &quot;, $input );&nbsp;</div></li><li><div>                      $new_input .=  &quot;&lt;input id='gforms_calendar_icon_input_{$form_id}_{$field_id}_{$column_number}' class='gform_hidden' type='hidden' value='&quot; . GFCommon::get_base_url() . &quot;/images/calendar.png'  /&gt;&quot;;&nbsp;</div></li><li><div>                      return $new_input;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  return $input;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } <span class="comment">// change_column_content</span>&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * JavaScript used by form editor - Functions taken from Gravity Forms source and extended to handle the 'Date field' option</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function editor_js() {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;script&gt;&nbsp;</div></li><li><div>      <span class="comment">// ADD drop down options to list field in form editor - hooks into existing GetFieldChoices function.</span>&nbsp;</div></li><li><div>      (function (w) {&nbsp;</div></li><li><div>          var GetFieldChoicesOld = w.GetFieldChoices;&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          w.GetFieldChoices = function () {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              str = GetFieldChoicesOld.apply(this, [field]);&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              if ( typeof field.choices == 'undefined' ) {&nbsp;</div></li><li><div>                  return &quot;&quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              for( var i = 0; i &lt; field.choices.length; i++ ) {&nbsp;</div></li><li><div>                  var inputType = GetInputType( field );&nbsp;</div></li><li><div>                  var isDatePicker = ( typeof field.choices[i].isDatePicker !== 'undefined' && field.choices[i].isDatePicker ) ? 'checked' : '';&nbsp;</div></li><li><div>                  var value = ( typeof field.choices[i].value !== 'undefined' ) ? String( field.choices[i].value ) : field.choices[i].text;&nbsp;</div></li><li><div>                  var isDatePickerDefaultDate = typeof field.choices[i].isDatePickerDefaultDate !== 'undefined' ? field.choices[i].isDatePickerDefaultDate : &quot;&quot;;&nbsp;</div></li><li><div>                  if ( inputType == 'list' ) {&nbsp;</div></li><li><div>                      if (i == 0 ) {&nbsp;</div></li><li><div>                          str += &quot;&lt;p&gt;&lt;strong&gt;&lt;?php _e( 'Date Picker fields', 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/strong&gt;&lt;br&gt;&lt;?php _e( &quot;Place a tick next to the column name to make it a date picker field. Select the date format from the 'Date Format' options.&quot;, 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      str += &quot;&lt;div&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;input type='checkbox' name='choice_datepicker' id='&quot; + inputType + &quot;_choice_datepicker_&quot; + i + &quot;' &quot; + isDatePicker + &quot; onclick=\&quot;SetFieldChoiceDP( '&quot; + inputType + &quot;', &quot; + i + &quot;);itsg_gf_list_datepicker_function();\&quot; /&gt; &quot;;&nbsp;</div></li><li><div>                      str += &quot;    &lt;label class='inline' for='&quot;+ inputType + &quot;_choice_datepicker_&quot; + i + &quot;'&gt;&quot;+value+&quot; - &lt;?php _e( 'Make Date Picker', 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/label&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;div style='display:none; background: rgb(244, 244, 244) none repeat scroll 0px 0px; padding: 10px; border-bottom: 1px solid grey; margin: 10px 0;' class='itsg_datepicker'&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;label for='&quot; + inputType + &quot;_choice_datepickerformat_&quot; + i + &quot;'&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;?php _e( 'Date Format', 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/label&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;select class='choice_datepickerformat' id='&quot; + inputType + &quot;_choice_datepickerformat_&quot; + i + &quot;' onchange=\&quot;SetFieldChoiceDP( '&quot; + inputType + &quot;', &quot; + i + &quot;);\&quot; style='margin-bottom: 10px;' &gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='mdy'&gt;mm/dd/yyyy&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='dmy'&gt;dd/mm/yyyy&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='dmy_dash'&gt;dd-mm-yyyy&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='dmy_dot'&gt;dd.mm.yyyy&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='ymd_slash'&gt;yyyy/mm/dd&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='ymd_dash'&gt;yyyy-mm-dd&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;option value='ymd_dot'&gt;yyyy.mm.dd&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;/select&gt;&quot;;         &nbsp;</div></li><li><div>                      str += &quot;&lt;div class='datepickericon'&gt;&quot;;         &nbsp;</div></li><li><div>                      str += &quot;&lt;input style='margin: 8px;' id='&quot; + inputType + &quot;_choice_datepickericonnone_&quot; + i + &quot;' type='radio' onclick=\&quot;SetFieldChoiceDP( '&quot; + inputType + &quot;', &quot; + i + &quot;);\&quot; value='itsg_list_field_datepicker_icon_none' name='&quot; + inputType + &quot;_field_datepicker_icon_&quot; + i + &quot;'&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;label class='inline' for='&quot; + inputType + &quot;_choice_datepickericonnone_&quot; + i + &quot;'&gt; &lt;?php _e( 'No Icon', 'gravity-forms-list-field-date-picker' ); ?&gt; &lt;/label&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;input style='margin: 8px;' id='&quot; + inputType + &quot;_choice_datepickericoncalendar_&quot; + i + &quot;' type='radio' onclick=\&quot;SetFieldChoiceDP( '&quot; + inputType + &quot;', &quot; + i + &quot;);\&quot; value='itsg_list_field_datepicker_icon_calendar' name='&quot; + inputType + &quot;_field_datepicker_icon_&quot; + i + &quot;'&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;label class='inline' for='&quot; + inputType + &quot;_choice_datepickericoncalendar_&quot; + i + &quot;'&gt; &lt;?php _e( 'Calendar Icon', 'gravity-forms-list-field-date-picker' ); ?&gt; &lt;/label&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;br&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;label for='&quot; + inputType + '_choice_defaultdate_' + i + &quot;'&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;?php _e( 'Default Date', 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/label&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;input type='text' value=\&quot;&quot; + isDatePickerDefaultDate.replace(/&quot;/g, &quot;&quot;&quot; ) + &quot;\&quot; class='choice_datepickerdefaultdate' id='&quot; + inputType + '_choice_defaultdate_' + i + &quot;' onblur=\&quot;SetFieldChoiceDP( '&quot; + inputType + &quot;', &quot; + i + &quot; );\&quot;&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>                      str += &quot;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              jQuery( '.ginput_container_list img#gfield_input_datepicker_icon' ).css( 'display', 'inline'); <span class="comment"><span class="comment">// work around to ensure icon is displayed - GF is in the habit of hiding the icon</span></span>&nbsp;</div></li><li><div>              return str;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      })(window || {});&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      function SetFieldChoiceDP( inputType, index ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          var element = jQuery(&quot;#&quot; + inputType + &quot;_choice_selected_&quot; + index);&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          if ( 'list' == inputType ) {&nbsp;</div></li><li><div>              isDatePicker = jQuery( '#' + inputType + '_choice_datepicker_' + index ).is( ':checked' );&nbsp;</div></li><li><div>              isDatePickerFormat = jQuery( '#' + inputType + '_choice_datepickerformat_' + index ).val();&nbsp;</div></li><li><div>              isDatePickerIcon = jQuery( 'input:radio[name=' + inputType + '_field_datepicker_icon_' + index + ']:checked' ).val();&nbsp;</div></li><li><div>              isDatePickerDefaultDate = jQuery( '#' + inputType + '_choice_defaultdate_' + index ).val();&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              field = GetSelectedField();&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              field.choices[index].isDatePicker = isDatePicker;&nbsp;</div></li><li><div>              field.choices[index].isDatePickerFormat = isDatePickerFormat;&nbsp;</div></li><li><div>              field.choices[index].isDatePickerIcon = isDatePickerIcon;&nbsp;</div></li><li><div>              field.choices[index].isDatePickerDefaultDate = isDatePickerDefaultDate;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          LoadBulkChoices( field );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          UpdateFieldChoices( GetInputType( field ) );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          for( var i=0; i &lt; field.choices.length; i++ ) {&nbsp;</div></li><li><div>              isDatePicker = jQuery( '#' + inputType + '_choice_datepicker_' + i ).is( ':checked' );&nbsp;</div></li><li><div>              isDatePickerIcon = jQuery( 'input:radio[name=' + inputType + '_field_datepicker_icon_' + i + ']:checked' ).val();&nbsp;</div></li><li><div>              column = i + 1;&nbsp;</div></li><li><div>              if ( true == isDatePicker && 'itsg_list_field_datepicker_icon_none' != isDatePickerIcon ) {&nbsp;</div></li><li><div>                  calendar_input = '&lt;input type=&quot;text&quot; disabled=&quot;disabled&quot; style=&quot;width:80%&quot;&gt;&lt;img id=&quot;gfield_input_datepicker_icon&quot; src=&quot;&lt;?php echo GFCommon::get_base_url() ?&gt;/images/calendar.png&quot; style=&quot;display:inline&quot;&gt;';&nbsp;</div></li><li><div>                  jQuery( 'li#field_' + field.id + ' table.gfield_list_container tbody tr td:nth-child(' + column + ')' ).html( calendar_input );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          jQuery( '.ginput_container_list img#gfield_input_datepicker_icon' ).css( 'display', 'inline'); <span class="comment"><span class="comment">// work around to ensure icon is displayed - GF is in the habit of hiding the icon</span></span>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function itsg_gf_list_datepicker_function() {&nbsp;</div></li><li><div>          <span class="comment">// handles displaying the date format option for multi column lists</span>&nbsp;</div></li><li><div>          jQuery( '#field_columns input[name=&quot;choice_datepicker&quot;]' ).each( function() {&nbsp;</div></li><li><div>              if ( jQuery(this).is( ':checked' ) ) {&nbsp;</div></li><li><div>                  jQuery(this).parent( 'div' ).find( '.itsg_datepicker' ).show();&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  jQuery(this).parent( 'div' ).find( '.itsg_datepicker' ).hide();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">// handles displaying the date format option for single column lists</span>&nbsp;</div></li><li><div>          jQuery( '.ui-tabs-panel input#itsg_list_field_datepicker' ).each( function() {&nbsp;</div></li><li><div>              if (jQuery( this ).is( ':checked' ) ) {&nbsp;</div></li><li><div>                  jQuery( this ).parent( 'li' ).find( '#itsg_list_field_datepicker_options_div' ).show();&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  jQuery( this ).parent( 'li' ).find( '#itsg_list_field_datepicker_options_div' ).hide();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">// only display this option if a single column list field</span>&nbsp;</div></li><li><div>          jQuery( '#field_settings input[id=field_columns_enabled]:visible' ).each(function() {&nbsp;</div></li><li><div>              if (jQuery( this ).is( ':checked' ) ) {&nbsp;</div></li><li><div>                  jQuery( this ).closest( '#field_settings' ).find( '.itsg_list_field_datepicker' ).hide();&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  jQuery( this ).closest( '#field_settings' ).find( '.itsg_list_field_datepicker' ).show();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// set setting values</span>&nbsp;</div></li><li><div>          jQuery( '#field_settings input[id=field_columns_enabled]:visible' ).each(function() {&nbsp;</div></li><li><div>              if ( jQuery(this).is( ':checked' ) ) {&nbsp;</div></li><li><div>                  <span class="comment">// for multi-column list field</span>&nbsp;</div></li><li><div>                  jQuery(this).closest( '#field_settings' ).find( '.itsg_list_field_datepicker' ).hide();&nbsp;</div></li><li><div>                  jQuery( '#field_columns:visible select.choice_datepickerformat' ).each( function( index ) {&nbsp;</div></li><li><div>                      var format_value = ( typeof field.choices[index].isDatePickerFormat !== 'undefined' ) ? field.choices[index].isDatePickerFormat : '';&nbsp;</div></li><li><div>                      jQuery(this).val( format_value );&nbsp;</div></li><li><div>                      var icon_value = ( typeof field.choices[index].isDatePickerIcon !== 'undefined' ) ? field.choices[index].isDatePickerIcon : 'itsg_list_field_datepicker_icon_calendar';&nbsp;</div></li><li><div>                      jQuery( 'input:radio[name=&quot;list_field_datepicker_icon_' + index + '&quot;]' ).filter('[value=' + icon_value + ']' ).prop( 'checked', true );&nbsp;</div></li><li><div>                  });&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  <span class="comment">// for single-column list field</span>&nbsp;</div></li><li><div>                  jQuery(this).closest( '#field_settings' ).find( '.itsg_list_field_datepicker' ).show();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// trigger for when field is opened</span>&nbsp;</div></li><li><div>      jQuery( document ).on( 'click', 'ul.gform_fields', function() {&nbsp;</div></li><li><div>          itsg_gf_list_datepicker_function();&nbsp;</div></li><li><div>      });&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// trigger when 'Enable multiple columns' is ticked</span>&nbsp;</div></li><li><div>      jQuery( document ).on( 'change', '#field_settings input[id=field_columns_enabled], .ui-tabs-panel input#itsg_list_field_datepicker', function() {&nbsp;</div></li><li><div>          itsg_gf_list_datepicker_function();&nbsp;</div></li><li><div>      });&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// trigger for when column titles are updated</span>&nbsp;</div></li><li><div>      jQuery( document ).on( 'change', '#gfield_settings_columns_container #field_columns li', function() {&nbsp;</div></li><li><div>          InsertFieldChoice(0);&nbsp;</div></li><li><div>          DeleteFieldChoice(0);&nbsp;</div></li><li><div>          itsg_gf_list_datepicker_function();&nbsp;</div></li><li><div>      });&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// handle 'Enable datepicker' option in the Gravity forms editor</span>&nbsp;</div></li><li><div>      jQuery( document ).ready( function($) {&nbsp;</div></li><li><div>          <span class="comment">//adding setting to fields of type &quot;list&quot;</span>&nbsp;</div></li><li><div>          fieldSettings['list'] += ', .itsg_list_field_datepicker';&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          <span class="comment">//set field values when field loads        </span>&nbsp;</div></li><li><div>          jQuery( document ).bind( 'gform_load_field_settings', function( event, field, form ) {&nbsp;</div></li><li><div>              jQuery( '#itsg_list_field_datepicker' ).prop( 'checked', field['itsg_list_field_datepicker'] );&nbsp;</div></li><li><div>              jQuery( '#itsg_list_field_datepicker_format' ).val( field['itsg_list_field_datepicker_format'] );&nbsp;</div></li><li><div>              var icon_value = ( typeof field['itsg_list_field_datepicker_icon'] !== 'undefined' ) ? field['itsg_list_field_datepicker_icon'] : 'itsg_list_field_datepicker_icon_calendar';&nbsp;</div></li><li><div>              if ( '' != icon_value ) {&nbsp;</div></li><li><div>                  jQuery( 'input:radio[name=&quot;itsg_list_field_datepicker_icon&quot;]' ).filter('[value=' + icon_value + ']' ).prop('checked', true);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              jQuery( '#itsg_list_field_datepicker_default_date' ).val( field['itsg_list_field_datepicker_default_date'] );&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>      });&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>      } <span class="comment">// END editor_js</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">        * Adds custom setting for field</span>&nbsp;</div></li><li><div><span class="comment">        */</span>&nbsp;</div></li><li><div>      function field_datepicker_settings( $position, $form_id ) {      &nbsp;</div></li><li><div>          <span class="comment">// Create settings on position 50 (top position)</span>&nbsp;</div></li><li><div>          if ( 50 == $position ) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              &lt;li class=&quot;itsg_list_field_datepicker field_setting&quot;&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;checkbox&quot; id=&quot;itsg_list_field_datepicker&quot; onclick=&quot;SetFieldProperty( 'itsg_list_field_datepicker', this.checked);&quot;&gt;&nbsp;</div></li><li><div>                  &lt;label class=&quot;inline&quot; for=&quot;itsg_list_field_datepicker&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php _e( 'Enable datepicker', 'gravity-forms-list-field-date-picker' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;?php gform_tooltip( 'itsg_list_field_datepicker' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/label&gt;&nbsp;</div></li><li><div>                  &lt;div id=&quot;itsg_list_field_datepicker_options_div&quot; style=&quot;background: rgb(244, 244, 244) none repeat scroll 0px 0px; padding: 10px; border-bottom: 1px solid grey; margin-top: 10px;&quot; &gt;&nbsp;</div></li><li><div>                      &lt;p&gt;&lt;strong&gt;&lt;?php esc_attr_e( 'Configure Date Picker Field', 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/strong&gt;&nbsp;</div></li><li><div>                      &lt;br&gt;&nbsp;</div></li><li><div>                      &lt;?php esc_attr_e( &quot;Place a tick next to the column name to make it a date picker field. Select the date format from the 'Date Format' options.&quot;, 'gravity-forms-list-field-date-picker' ); ?&gt;&nbsp;</div></li><li><div>                      &lt;/p&gt;&nbsp;</div></li><li><div>                      &lt;label for=&quot;itsg_list_field_datepicker_format&quot; &gt;&lt;? _e( 'Date Format', 'gravity-forms-list-field-date-picker' ) ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;select onchange=&quot;SetFieldProperty( 'itsg_list_field_datepicker_format', this.value);&quot; id=&quot;itsg_list_field_datepicker_format&quot; class=&quot;itsg_list_field_datepicker_format&quot; style=&quot;margin-bottom: 10px;&quot;&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;mdy&quot;&gt;mm/dd/yyyy&lt;/option&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;dmy&quot;&gt;dd/mm/yyyy&lt;/option&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;dmy_dash&quot;&gt;dd-mm-yyyy&lt;/option&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;dmy_dot&quot;&gt;dd.mm.yyyy&lt;/option&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;ymd_slash&quot;&gt;yyyy/mm/dd&lt;/option&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;ymd_dash&quot;&gt;yyyy-mm-dd&lt;/option&gt;&nbsp;</div></li><li><div>                          &lt;option value=&quot;ymd_dot&quot;&gt;yyyy.mm.dd&lt;/option&gt;&nbsp;</div></li><li><div>                      &lt;/select&gt;&nbsp;</div></li><li><div>                      &lt;br&gt;&nbsp;</div></li><li><div>                      &lt;input style='margin: 8px 0;' id=&quot;itsg_list_field_datepicker_icon_none&quot; type=&quot;radio&quot; onclick=&quot;SetFieldProperty( 'itsg_list_field_datepicker_icon', this.value);&quot; value=&quot;itsg_list_field_datepicker_icon_none&quot; name=&quot;itsg_list_field_datepicker_icon&quot;&gt;&nbsp;</div></li><li><div>                      &lt;label class=&quot;inline&quot; for=&quot;itsg_list_field_datepicker_icon_none&quot; style=&quot;margin-bottom: 10px;&quot;&gt; &lt;?php _e( 'No Icon', 'gravity-forms-list-field-date-picker' ); ?&gt; &lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;input id=&quot;itsg_list_field_datepicker_icon_calendar&quot; type=&quot;radio&quot; onclick=&quot;SetFieldProperty( 'itsg_list_field_datepicker_icon', this.value);&quot; value=&quot;itsg_list_field_datepicker_icon_calendar&quot; name=&quot;itsg_list_field_datepicker_icon&quot;&gt;&nbsp;</div></li><li><div>                      &lt;label class=&quot;inline&quot; for=&quot;itsg_list_field_datepicker_icon_calendar&quot; style=&quot;margin-bottom: 10px;&quot;&gt; &lt;?php _e( 'Calendar Icon', 'gravity-forms-list-field-date-picker' ); ?&gt; &lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;label for=&quot;itsg_list_field_datepicker_default_date&quot; &gt;&lt;?php esc_attr_e( 'Default Date', 'gravity-forms-list-field-date-picker' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;input onchange=&quot;SetFieldProperty( 'itsg_list_field_datepicker_default_date', this.value);&quot; type=&quot;text&quot; id=&quot;itsg_list_field_datepicker_default_date&quot; style=&quot;margin-bottom: 10px;&quot; &gt;&nbsp;</div></li><li><div>                      &lt;br&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>              &lt;/li&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } <span class="comment">// END field_datepicker_settings</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Tooltip for for datepicker option</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      function field_datepicker_tooltip( $tooltips ) {&nbsp;</div></li><li><div>          $tooltips['itsg_list_field_datepicker'] = &quot;&lt;h6&gt;&quot;. __( 'Datepicker', 'gravity-forms-list-field-date-picker' ).&quot;&lt;/h6&gt;&quot;. __( 'Makes list field column a datepicker. Only applies to single column list fields.', 'gravity-forms-list-field-date-picker' );&nbsp;</div></li><li><div>          return $tooltips;&nbsp;</div></li><li><div>      } <span class="comment">// END field_datepicker_tooltip</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Warning message if Gravity Forms is installed and enabled</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      public static function admin_warnings() {&nbsp;</div></li><li><div>          if ( !self::is_gravityforms_installed() ) {&nbsp;</div></li><li><div>              printf(&nbsp;</div></li><li><div>                  '&lt;div class=&quot;error&quot;&gt;&lt;h3&gt;%s&lt;/h3&gt;&lt;p&gt;%s&lt;/p&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', &nbsp;</div></li><li><div>                      __( 'Warning', 'gravity-forms-list-field-date-picker' ), &nbsp;</div></li><li><div>                      sprintf ( __( 'The plugin %s requires Gravity Forms to be installed.', 'gravity-forms-list-field-date-picker' ), '&lt;strong&gt;'.self::$name.'&lt;/strong&gt;' ), &nbsp;</div></li><li><div>                      sprintf ( esc_html__( 'Please %sdownload the latest version of Gravity Forms%s and try again.', 'gravity-forms-list-field-date-picker' ), '&lt;a href=&quot;https:<span class="comment">//www.e-junkie.com/ecom/gb.php?cl=54585&c=ib&aff=299380&quot; target=&quot;_blank&quot;&gt;', '&lt;/a&gt;' )</span>&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } <span class="comment">// END admin_warnings</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Check if GF is installed</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      private static function is_gravityforms_installed() {&nbsp;</div></li><li><div>          if ( !function_exists( 'is_plugin_active' ) || !function_exists( 'is_plugin_active_for_network' ) ) {&nbsp;</div></li><li><div>              require_once( ABSPATH . '/wp-admin/includes/plugin.php' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( is_multisite() ) {&nbsp;</div></li><li><div>              return ( is_plugin_active_for_network( 'gravityforms/gravityforms.php' ) || is_plugin_active( 'gravityforms/gravityforms.php' ) );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              return is_plugin_active( 'gravityforms/gravityforms.php' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } <span class="comment">// END is_gravityforms_installed</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Check if list field has a date picker in the current form</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      public static function list_has_datepicker_field( $form ) {&nbsp;</div></li><li><div>          if ( is_array( $form['fields'] ) ) {&nbsp;</div></li><li><div>              foreach ( $form['fields'] as $field ) {&nbsp;</div></li><li><div>                  if ( 'list' == $field-&gt;type ) {&nbsp;</div></li><li><div>                      $has_columns = is_array( $field-&gt;choices );&nbsp;</div></li><li><div>                      if ( $has_columns ) {&nbsp;</div></li><li><div>                          foreach( $field['choices'] as $choice ) {&nbsp;</div></li><li><div>                              if ( true == rgar( $choice, 'isDatePicker' ) )  {&nbsp;</div></li><li><div>                                  return true;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } else if ( true == $field-&gt;itsg_list_field_datepicker ) {&nbsp;</div></li><li><div>                          return true;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      } <span class="comment">// END list_has_datepicker_field</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $ITSG_GF_List_Field_Date_Picker = new ITSG_GF_List_Field_Date_Picker();&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Date Picker in List Fields for Gravity Forms</li><li><span></span>1.7.4</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>