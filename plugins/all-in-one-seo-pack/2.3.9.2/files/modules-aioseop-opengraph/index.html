<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="2.3.9.2" data-slug="all-in-one-seo-pack" data-type="file" data-id="63518"><head xmlns="http://www.w3.org/1999/xhtml"><title> modules-aioseop-opengraph | file | All In One Seo Pack | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, all-in-one-seo-pack, 2.3.9.2" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=4b5f300088dc7da7822f175cb39657ed' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/modules-aioseop-opengraph/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fmodules-aioseop-opengraph%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fmodules-aioseop-opengraph%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-all-in-one-seo-pack-2.3.9.2-file-modules-aioseop-opengraph","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="modules-aioseop-opengraph" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to all-in-one-seo-pack." href="http://hookr.io/plugins/all-in-one-seo-pack/" class="plugin"><span property="name">all-in-one-seo-pack</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.3.9.2." href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/" class="H_VERSION"><span property="name">2.3.9.2</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">modules-aioseop-opengraph</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="218"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/all/" title="All">All <span class="count badge">218</span></a></li><li class="" data-id="new" data-count="6"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/new/" title="New">New <span class="count badge">6</span></a></li><li class="" data-id="hooks" data-count="108"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/hooks/" title="Hooks">Hooks <span class="count badge">108</span></a></li><li class="" data-id="action" data-count="19"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/actions/" title="Actions">Actions <span class="count badge">19</span></a></li><li class="" data-id="filter" data-count="89"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/filters/" title="Filters">Filters <span class="count badge">89</span></a></li><li class="" data-id="class" data-count="33"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/classes/" title="Classes">Classes <span class="count badge">33</span></a></li><li class="" data-id="constant" data-count="15"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/constants/" title="Constants">Constants <span class="count badge">15</span></a></li><li class="" data-id="function" data-count="62"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/functions/" title="Functions">Functions <span class="count badge">62</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/all-in-one-seo-pack/2.3.9.2/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/modules/aioseop_opengraph.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * @package All-in-One-SEO-Pack</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * The Opengraph class.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>if ( ! class_exists( 'All_in_One_SEO_Pack_Opengraph' ) ) {&nbsp;</div></li><li><div>  class All_in_One_SEO_Pack_Opengraph extends All_in_One_SEO_Pack_Module {&nbsp;</div></li><li><div>      var $fb_object_types;&nbsp;</div></li><li><div>      var $type;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function __construct() {&nbsp;</div></li><li><div>          $this-&gt;name = __( 'Social Meta', 'all-in-one-seo-pack' );    <span class="comment">// Human-readable name of the plugin</span>&nbsp;</div></li><li><div>          $this-&gt;prefix = 'aiosp_opengraph_';                        <span class="comment">// option prefix</span>&nbsp;</div></li><li><div>          $this-&gt;file = __FILE__;                                    <span class="comment">// the current file</span>&nbsp;</div></li><li><div>          $this-&gt;fb_object_types = Array(&nbsp;</div></li><li><div>              'Activities' =&gt; Array(&nbsp;</div></li><li><div>                  'activity' =&gt; __( 'Activity', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'sport' =&gt; __( 'Sport', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'Businesses' =&gt; Array(&nbsp;</div></li><li><div>                  'bar' =&gt; __( 'Bar', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'company' =&gt; __( 'Company', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'cafe' =&gt; __( 'Cafe', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'hotel' =&gt; __( 'Hotel', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'restaurant' =&gt; __( 'Restaurant', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'Groups' =&gt; Array(&nbsp;</div></li><li><div>                  'cause' =&gt; __( 'Cause', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'sports_league' =&gt; __( 'Sports League', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'sports_team' =&gt; __( 'Sports Team', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'Organizations' =&gt; Array(&nbsp;</div></li><li><div>                  'band' =&gt; __( 'Band', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'government' =&gt; __( 'Government', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'non_profit' =&gt; __( 'Non Profit', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'school' =&gt; __( 'School', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'university' =&gt; __( 'University', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'People' =&gt; Array(&nbsp;</div></li><li><div>                  'actor' =&gt; __( 'Actor', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'athlete' =&gt; __( 'Athlete', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'author' =&gt; __( 'Author', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'director' =&gt; __( 'Director', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'musician' =&gt; __( 'Musician', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'politician' =&gt; __( 'Politician', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'profile' =&gt; __( 'Profile', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'public_figure' =&gt; __( 'Public Figure', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'Places' =&gt; Array(&nbsp;</div></li><li><div>                  'city' =&gt; __( 'City', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'country' =&gt; __( 'Country', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'landmark' =&gt; __( 'Landmark', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'state_province' =&gt; __( 'State Province', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'Products and Entertainment' =&gt; Array(&nbsp;</div></li><li><div>                  'album' =&gt; __( 'Album', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'book' =&gt; __( 'Book', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'drink' =&gt; __( 'Drink', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'food' =&gt; __( 'Food', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'game' =&gt; __( 'Game', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'movie' =&gt; __( 'Movie', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'product' =&gt; __( 'Product', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'song' =&gt; __( 'Song', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'tv_show' =&gt; __( 'TV Show', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'episode' =&gt; __( 'Episode', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'Websites' =&gt; Array(&nbsp;</div></li><li><div>                  'article' =&gt; __( 'Article', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'blog' =&gt; __( 'Blog', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'website' =&gt; __( 'Website', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          parent::__construct();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $categories = Array(&nbsp;</div></li><li><div>              'blog' =&gt; __( 'Blog', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              'website' =&gt; __( 'Website', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              'article' =&gt; __( 'Article', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $this-&gt;help_text = Array(&nbsp;</div></li><li><div>              &quot;setmeta&quot; =&gt; __( &quot;Checking this box will use the Home Title and Home Description set in All in One SEO Pack, General Settings as the Open Graph title and description for your home page.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;key&quot; =&gt; __( &quot;Enter your Facebook Admin ID here. Information about how to get your Facebook Admin ID can be found at https:<span class="comment"><span class="comment">//developers.facebook.com/docs/platforminsights/domains&quot;, 'all-in-one-seo-pack' ), </span></span>&nbsp;</div></li><li><div>              &quot;appid&quot; =&gt; __( &quot;Enter your Facebook App ID here. Information about how to get your Facebook App ID can be found at https:<span class="comment"><span class="comment">//developers.facebook.com/docs/platforminsights/domains&quot;, 'all-in-one-seo-pack' ), </span></span>&nbsp;</div></li><li><div>              &quot;title_shortcodes&quot; =&gt; __( &quot;Run shortcodes that appear in social title meta tags.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;description_shortcodes&quot; =&gt; __( &quot;Run shortcodes that appear in social description meta tags.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;sitename&quot; =&gt; __( &quot;The Site Name is the name that is used to identify your website.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;hometitle&quot; =&gt; __( &quot;The Home Title is the Open Graph title for your home page.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;description&quot; =&gt; __( &quot;The Home Description is the Open Graph description for your home page.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;homeimage&quot; =&gt; __( &quot;The Home Image is the Open Graph image for your home page.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;hometag&quot; =&gt; __( &quot;The Home Tag allows you to add a list of keywords that best describe your home page content.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;generate_descriptions&quot; =&gt; __( &quot;Check this and your Open Graph descriptions will be auto-generated from your content.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;defimg&quot; =&gt; __( &quot;This option lets you choose which image will be displayed by default for the Open Graph image. You may override this on individual posts.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;fallback&quot; =&gt; __( &quot;This option lets you fall back to the default image if no image could be found above.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;dimg&quot; =&gt; __( &quot;This option sets a default image that can be used for the Open Graph image. You can upload an image, select an image from your Media Library or paste the URL of an image here.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;dimgwidth&quot; =&gt; __( &quot;This option lets you set a default width for your images, where unspecified.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;dimgheight&quot; =&gt; __( &quot;This option lets you set a default height for your images, where unspecified.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;meta_key&quot; =&gt; __( &quot;Enter the name of a custom field (or multiple field names separated by commas) to use that field to specify the Open Graph image on Pages or Posts.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;categories&quot; =&gt; __( &quot;Set the Open Graph type for your website as either a blog or a website.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;image&quot; =&gt; __( &quot;This option lets you select the Open Graph image that will be used for this Page or Post, overriding the default settings.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;customimg&quot; =&gt; __( &quot;This option lets you upload an image to use as the Open Graph image for this Page or Post.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;imagewidth&quot; =&gt; __( &quot;Enter the width for your Open Graph image in pixels (i.e. 600).&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;imageheight&quot; =&gt; __( &quot;Enter the height for your Open Graph image in pixels (i.e. 600).&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;video&quot; =&gt; __( &quot;This option lets you specify a link to the Open Graph video used on this Page or Post.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;videowidth&quot; =&gt; __( &quot;Enter the width for your Open Graph video in pixels (i.e. 600).&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;videoheight&quot; =&gt; __( &quot;Enter the height for your Open Graph video in pixels (i.e. 600).&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;defcard&quot; =&gt; __( &quot;Select the default type of Twitter card to display.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;setcard&quot; =&gt; __( &quot;Select the default type of Twitter card to display.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;twitter_site&quot; =&gt; __( &quot;Enter the Twitter username associated with your website here.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;twitter_creator&quot; =&gt; __( &quot;Allows your authors to be identified by their Twitter usernames as content creators on the Twitter cards for their posts.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;twitter_domain&quot; =&gt; __( &quot;Enter the name of your website here.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;customimg_twitter&quot; =&gt; __( &quot;This option lets you upload an image to use as the Twitter image for this Page or Post.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;gen_tags&quot; =&gt; __( &quot;Automatically generate article tags for Facebook type article when not provided.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;gen_keywords&quot; =&gt; __( &quot;Use keywords in generated article tags.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;gen_categories&quot; =&gt; __( &quot;Use catergories in generated article tags.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;gen_post_tags&quot; =&gt; __( &quot;Use post tags in generated article tags.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;types&quot; =&gt; __( &quot;Select which Post Types you want to use All in One SEO Pack to set Open Graph meta values for.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;title&quot; =&gt; __( &quot;This is the Open Graph title of this Page or Post.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;desc&quot; =&gt; __( &quot;This is the Open Graph description of this Page or Post.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;category&quot; =&gt; __( &quot;Select the Open Graph type that best describes the content of this Page or Post.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;facebook_debug&quot; =&gt; __( &quot;Press this button to have Facebook re-fetch and debug this page.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;section&quot; =&gt; __( &quot;This Open Graph meta allows you to add a general section name that best describes this content.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;tag&quot; =&gt; __( &quot;This Open Graph meta allows you to add a list of keywords that best describe this content.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;facebook_publisher&quot; =&gt; __( &quot;Link articles to the Facebook page associated with your website.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;facebook_author&quot; =&gt; __( &quot;Allows your authors to be identified by their Facebook pages as content authors on the Opengraph meta for their articles.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;person_or_org&quot; =&gt; __( &quot;Are the social profile links for your website for a person or an organization?&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;profile_links&quot; =&gt; __( &quot;Add URLs for your website's social profiles here (Facebook, Twitter, Google+, Instagram, LinkedIn), one per line.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>              &quot;social_name&quot; =&gt; __( &quot;Add the name of the person or organization who owns these profiles.&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $this-&gt;help_anchors = Array(&nbsp;</div></li><li><div>              'title_shortcodes' =&gt; '#run-shortcodes-in-title', &nbsp;</div></li><li><div>              'description_shortcodes' =&gt; '#run-shortcodes-in-description', &nbsp;</div></li><li><div>              'generate_descriptions' =&gt; '#auto-generate-og-descriptions', &nbsp;</div></li><li><div>              'setmeta' =&gt; '#use-aioseo-title-and-description', &nbsp;</div></li><li><div>              'sitename' =&gt; '#site-name', &nbsp;</div></li><li><div>              'hometitle' =&gt; '#home-title-and-description', &nbsp;</div></li><li><div>              'description' =&gt; '#home-title-and-description', &nbsp;</div></li><li><div>              'homeimage' =&gt; '#home-image', &nbsp;</div></li><li><div>              'hometag' =&gt; '#home-article-tags', &nbsp;</div></li><li><div>              'defimg' =&gt; '#select-og-image-source', &nbsp;</div></li><li><div>              'fallback' =&gt; '#use-default-if-no-image-found', &nbsp;</div></li><li><div>              'dimg' =&gt; '#default-og-image', &nbsp;</div></li><li><div>              'dimgwidth' =&gt; '#default-image-width', &nbsp;</div></li><li><div>              'dimgheight' =&gt; '#default-image-height', &nbsp;</div></li><li><div>              'meta_key' =&gt; '#use-custom-field-for-image', &nbsp;</div></li><li><div>              'profile_links' =&gt; '#social-profile-links', &nbsp;</div></li><li><div>              'person_or_org' =&gt; '#social-profile-links', &nbsp;</div></li><li><div>              'social_name' =&gt; '#social-profile-links', &nbsp;</div></li><li><div>              'key' =&gt; '#facebook-admin-id', &nbsp;</div></li><li><div>              'appid' =&gt; '#facebook-app-id', &nbsp;</div></li><li><div>              'categories' =&gt; '#facebook-object-type', &nbsp;</div></li><li><div>              'gen_tags' =&gt; '#automatically-generate-article-tags', &nbsp;</div></li><li><div>              'gen_keywords' =&gt; '#use-keywords-in-article-tags', &nbsp;</div></li><li><div>              'gen_categories' =&gt; '#use-categories-in-article-tags', &nbsp;</div></li><li><div>              'gen_post_tags' =&gt; '#use-post-tags-in-article-tags', &nbsp;</div></li><li><div>              'facebook_publisher' =&gt; '#show-facebook-publisher-on-articles', &nbsp;</div></li><li><div>              'facebook_author' =&gt; '#show-facebook-author-on-articles', &nbsp;</div></li><li><div>              'types' =&gt; '#enable-facebook-meta-for', &nbsp;</div></li><li><div>              'defcard' =&gt; '#default-twitter-card', &nbsp;</div></li><li><div>              'setcard' =&gt; '#default-twitter-card', &nbsp;</div></li><li><div>              'twitter_site' =&gt; '#twitter-site', &nbsp;</div></li><li><div>              'twitter_creator' =&gt; '#show-twitter-author', &nbsp;</div></li><li><div>              'twitter_domain' =&gt; '#twitter-domain', &nbsp;</div></li><li><div>              'scan_header' =&gt; '#scan-social-meta', &nbsp;</div></li><li><div>              'title' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#title', </span>&nbsp;</div></li><li><div>              'desc' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#description', </span>&nbsp;</div></li><li><div>              'image' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#image', </span>&nbsp;</div></li><li><div>              'customimg' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#custom-image', </span>&nbsp;</div></li><li><div>              'imagewidth' =&gt; 'https:<span class="comment"><span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#specify-image-width-height', </span></span>&nbsp;</div></li><li><div>              'imageheight' =&gt; 'https:<span class="comment"><span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#specify-image-width-height', </span></span>&nbsp;</div></li><li><div>              'video' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#custom-video', </span>&nbsp;</div></li><li><div>              'videowidth' =&gt; 'https:<span class="comment"><span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#specify-video-width-height', </span></span>&nbsp;</div></li><li><div>              'videoheight' =&gt; 'https:<span class="comment"><span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#specify-video-width-height', </span></span>&nbsp;</div></li><li><div>              'category' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#facebook-object-type', </span>&nbsp;</div></li><li><div>              'facebook_debug' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#facebook-debug', </span>&nbsp;</div></li><li><div>              'section' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#article-section', </span>&nbsp;</div></li><li><div>              'tag' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#article-tags', </span>&nbsp;</div></li><li><div>              'setcard' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#twitter-card-type', </span>&nbsp;</div></li><li><div>              'customimg_twitter' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/#custom-twitter-image', </span>&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $count_desc = __( &quot; characters. Open Graph allows up to a maximum of %s chars for the %s.&quot;, 'all-in-one-seo-pack' );&nbsp;</div></li><li><div>          $this-&gt;default_options = array(&nbsp;</div></li><li><div>              'scan_header' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Scan Header', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'custom', &nbsp;</div></li><li><div>                  'save' =&gt; true, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'setmeta' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Use AIOSEO Title and Description', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'checkbox', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'key' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Facebook Admin ID', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'appid' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Facebook App ID', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'title_shortcodes' =&gt; Array( 'name' =&gt; __( 'Run Shortcodes In Title', 'all-in-one-seo-pack' ) ), &nbsp;</div></li><li><div>              'description_shortcodes' =&gt; Array( 'name' =&gt; __( 'Run Shortcodes In Description', 'all-in-one-seo-pack' ) ), &nbsp;</div></li><li><div>              'sitename' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Site Name', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; get_bloginfo( 'name' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'hometitle' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Home Title', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'type' =&gt; 'textarea', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array(&nbsp;</div></li><li><div>                      'aiosp_opengraph_setmeta' =&gt; Array(&nbsp;</div></li><li><div>                          'lhs' =&gt; &quot;aiosp_opengraph_setmeta&quot;, &nbsp;</div></li><li><div>                          'op' =&gt; '!=', &nbsp;</div></li><li><div>                          'rhs' =&gt; 'on', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'description' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Home Description', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'type' =&gt; 'textarea', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array(&nbsp;</div></li><li><div>                      'aiosp_opengraph_setmeta' =&gt; Array(&nbsp;</div></li><li><div>                          'lhs' =&gt; &quot;aiosp_opengraph_setmeta&quot;, &nbsp;</div></li><li><div>                          'op' =&gt; '!=', &nbsp;</div></li><li><div>                          'rhs' =&gt; 'on', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'homeimage' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Home Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'image', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'hometag' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Home Article Tags', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aiosp_opengraph_categories' =&gt; 'article' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'generate_descriptions' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Autogenerate OG Descriptions', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; 1, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'defimg' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Select OG:Image Source', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'select', &nbsp;</div></li><li><div>                  'initial_options' =&gt; Array(&nbsp;</div></li><li><div>                      '' =&gt; __( 'Default Image' ), &nbsp;</div></li><li><div>                      'featured' =&gt; __( 'Featured Image' ), &nbsp;</div></li><li><div>                      'attach' =&gt; __( 'First Attached Image' ), &nbsp;</div></li><li><div>                      'content' =&gt; __( 'First Image In Content' ), &nbsp;</div></li><li><div>                      'custom' =&gt; __( 'Image From Custom Field' ), &nbsp;</div></li><li><div>                      'author' =&gt; __( 'Post Author Image' ), &nbsp;</div></li><li><div>                      'auto' =&gt; __( 'First Available Image' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'fallback' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Use Default If No Image Found', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'checkbox', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'dimg' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Default OG:Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; AIOSEOP_PLUGIN_IMAGES_URL . 'default-user-image.png', &nbsp;</div></li><li><div>                  'type' =&gt; 'image', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'dimgwidth' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Default Image Width', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'dimgheight' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Default Image Height', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'meta_key' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Use Custom Field For Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'categories' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Facebook Object Type', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'radio', &nbsp;</div></li><li><div>                  'initial_options' =&gt; $categories, &nbsp;</div></li><li><div>                  'default' =&gt; 'blog', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'image' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'radio', &nbsp;</div></li><li><div>                  'initial_options' =&gt; Array( 0 =&gt; '&lt;img style=&quot;width:50px;height:auto;display:inline-block;vertical-align:bottom;&quot; src=&quot;' . AIOSEOP_PLUGIN_IMAGES_URL . 'default-user-image.png' . '&quot;&gt;' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'customimg' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Custom Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'image', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'imagewidth' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Specify Image Width', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'imageheight' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Specify Image Height', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'video' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Custom Video', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'videowidth' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Specify Video Width', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array(&nbsp;</div></li><li><div>                      'aioseop_opengraph_settings_video' =&gt; Array(&nbsp;</div></li><li><div>                          'lhs' =&gt; &quot;aioseop_opengraph_settings_video&quot;, &nbsp;</div></li><li><div>                          'op' =&gt; '!=', &nbsp;</div></li><li><div>                          'rhs' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'videoheight' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Specify Video Height', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array(&nbsp;</div></li><li><div>                      'aioseop_opengraph_settings_video' =&gt; Array(&nbsp;</div></li><li><div>                          'lhs' =&gt; &quot;aioseop_opengraph_settings_video&quot;, &nbsp;</div></li><li><div>                          'op' =&gt; '!=', &nbsp;</div></li><li><div>                          'rhs' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'defcard' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Default Twitter Card', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'select', &nbsp;</div></li><li><div>                  'initial_options' =&gt; Array(&nbsp;</div></li><li><div>                      'summary' =&gt; __( 'Summary', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                      'summary_large_image' =&gt; __( 'Summary Large Image', 'all-in-one-seo-pack' )&nbsp;</div></li><li><div>                      <span class="comment"><span class="comment">/**, *******REMOVING THIS TWITTER CARD TYPE FROM SOCIAL META MODULE****** 'photo' =&gt; __( 'Photo', 'all-in-one-seo-pack' ) */</span></span>&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  'default' =&gt; 'summary', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'setcard' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Twitter Card Type', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'select', &nbsp;</div></li><li><div>                  'initial_options' =&gt; Array(&nbsp;</div></li><li><div>                      'summary_large_image' =&gt; __( 'Summary Large Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                      'summary' =&gt; __( 'Summary', 'all-in-one-seo-pack' )&nbsp;</div></li><li><div>                      <span class="comment"><span class="comment">/**, *******REMOVING THIS TWITTER CARD TYPE FROM SOCIAL META MODULE****** 'photo' =&gt; __( 'Photo', 'all-in-one-seo-pack' ) */</span></span>&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'twitter_site' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Twitter Site', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'twitter_creator' =&gt; Array( 'name' =&gt; __( 'Show Twitter Author', 'all-in-one-seo-pack' ) ), &nbsp;</div></li><li><div>              'twitter_domain' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Twitter Domain', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'customimg_twitter' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Custom Twitter Image', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'image', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'gen_tags' =&gt; Array( 'name' =&gt; __( 'Automatically Generate Article Tags', 'all-in-one-seo-pack' ) ), &nbsp;</div></li><li><div>              'gen_keywords' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Use Keywords In Article Tags', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; 'on', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aiosp_opengraph_gen_tags' =&gt; 'on' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'gen_categories' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Use Categories In Article Tags', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; 'on', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aiosp_opengraph_gen_tags' =&gt; 'on' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'gen_post_tags' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Use Post Tags In Article Tags', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; 'on', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aiosp_opengraph_gen_tags' =&gt; 'on' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'types' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Enable Facebook Meta for', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'multicheckbox', &nbsp;</div></li><li><div>                  'initial_options' =&gt; $this-&gt;get_post_type_titles( Array( '_builtin' =&gt; false ) ), &nbsp;</div></li><li><div>                  'default' =&gt; Array( 'post' =&gt; 'post', 'page' =&gt; 'page' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'title' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Title', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'size' =&gt; 95, &nbsp;</div></li><li><div>                  'count' =&gt; 1, &nbsp;</div></li><li><div>                  'count_desc' =&gt; $count_desc, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'desc' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Description', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'type' =&gt; 'textarea', &nbsp;</div></li><li><div>                  'cols' =&gt; 250, &nbsp;</div></li><li><div>                  'rows' =&gt; 4, &nbsp;</div></li><li><div>                  'count' =&gt; 1, &nbsp;</div></li><li><div>                  'count_desc' =&gt; $count_desc, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'category' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Facebook Object Type', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'select', &nbsp;</div></li><li><div>                  'style' =&gt; '', &nbsp;</div></li><li><div>                  'initial_options' =&gt; $this-&gt;fb_object_types, &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'facebook_debug' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Facebook Debug', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'html', &nbsp;</div></li><li><div>                  'save' =&gt; false, &nbsp;</div></li><li><div>                  'default' =&gt;&nbsp;</div></li><li><div>                      '&lt;script&gt;&nbsp;</div></li><li><div>                                                      jQuery(document).ready(function() {&nbsp;</div></li><li><div>                                                          var snippet = jQuery(&quot;#aioseop_snippet_link&quot;);&nbsp;</div></li><li><div>                                                          if ( !snippet ) {&nbsp;</div></li><li><div>                                                              jQuery( &quot;#aioseop_opengraph_settings_facebook_debug_wrapper&quot;).hide();&nbsp;</div></li><li><div>                                                          } else {&nbsp;</div></li><li><div>                                                              snippet = snippet.html();&nbsp;</div></li><li><div>                                                              jQuery(&quot;#aioseop_opengraph_settings_facebook_debug&quot;).attr( &quot;href&quot;, &quot;https:<span class="comment">//developers.facebook.com/tools/debug/og/object?q=&quot; + snippet );</span>&nbsp;</div></li><li><div>                                                          }&nbsp;</div></li><li><div>                                                      });&nbsp;</div></li><li><div>                                                  &lt;/script&gt;&nbsp;</div></li><li><div>                                                  &lt;a name=&quot;aioseop_opengraph_settings_facebook_debug&quot; id=&quot;aioseop_opengraph_settings_facebook_debug&quot; class=&quot;button-primary&quot; href=&quot;&quot; target=_blank&gt;' . __( 'Debug This Post', 'all-in-one-seo-pack' )&nbsp;</div></li><li><div>                      . '&lt;/a&gt;', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              'section' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Article Section', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aioseop_opengraph_settings_category' =&gt; 'article' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'tag' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Article Tags', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aioseop_opengraph_settings_category' =&gt; 'article' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'facebook_publisher' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Show Facebook Publisher on Articles', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; '', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'facebook_author' =&gt; Array( 'name' =&gt; __( 'Show Facebook Author on Articles', 'all-in-one-seo-pack' ) ), &nbsp;</div></li><li><div>              'profile_links' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Social Profile Links', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'textarea', &nbsp;</div></li><li><div>                  'cols' =&gt; 60, &nbsp;</div></li><li><div>                  'rows' =&gt; 5, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'person_or_org' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Person or Organization?', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'radio', &nbsp;</div></li><li><div>                  'initial_options' =&gt; Array(&nbsp;</div></li><li><div>                      'person' =&gt; __( 'Person', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                      'org' =&gt; __( 'Organization', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'social_name' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( &quot;Associated Name&quot;, 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'text', &nbsp;</div></li><li><div>                  'default' =&gt; &quot;&quot;, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// load initial options / set defaults</span>&nbsp;</div></li><li><div>          $this-&gt;update_options();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $display = Array();&nbsp;</div></li><li><div>          if ( isset( $this-&gt;options['aiosp_opengraph_types'] ) ) {&nbsp;</div></li><li><div>              $display = $this-&gt;options['aiosp_opengraph_types'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $this-&gt;locations = array(&nbsp;</div></li><li><div>              'opengraph' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; $this-&gt;name, &nbsp;</div></li><li><div>                  'prefix' =&gt; 'aiosp_', &nbsp;</div></li><li><div>                  'type' =&gt; 'settings', &nbsp;</div></li><li><div>                  'options' =&gt; Array(&nbsp;</div></li><li><div>                      'scan_header', &nbsp;</div></li><li><div>                      'setmeta', &nbsp;</div></li><li><div>                      'key', &nbsp;</div></li><li><div>                      'appid', &nbsp;</div></li><li><div>                      'sitename', &nbsp;</div></li><li><div>                      'title_shortcodes', &nbsp;</div></li><li><div>                      'description_shortcodes', &nbsp;</div></li><li><div>                      'hometitle', &nbsp;</div></li><li><div>                      'description', &nbsp;</div></li><li><div>                      'homeimage', &nbsp;</div></li><li><div>                      'hometag', &nbsp;</div></li><li><div>                      'generate_descriptions', &nbsp;</div></li><li><div>                      'defimg', &nbsp;</div></li><li><div>                      'fallback', &nbsp;</div></li><li><div>                      'dimg', &nbsp;</div></li><li><div>                      'dimgwidth', &nbsp;</div></li><li><div>                      'dimgheight', &nbsp;</div></li><li><div>                      'meta_key', &nbsp;</div></li><li><div>                      'categories', &nbsp;</div></li><li><div>                      'defcard', &nbsp;</div></li><li><div>                      'profile_links', &nbsp;</div></li><li><div>                      'person_or_org', &nbsp;</div></li><li><div>                      'social_name', &nbsp;</div></li><li><div>                      'twitter_site', &nbsp;</div></li><li><div>                      'twitter_creator', &nbsp;</div></li><li><div>                      'twitter_domain', &nbsp;</div></li><li><div>                      'gen_tags', &nbsp;</div></li><li><div>                      'gen_keywords', &nbsp;</div></li><li><div>                      'gen_categories', &nbsp;</div></li><li><div>                      'gen_post_tags', &nbsp;</div></li><li><div>                      'types', &nbsp;</div></li><li><div>                      'facebook_publisher', &nbsp;</div></li><li><div>                      'facebook_author', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'settings' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Social Settings', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'type' =&gt; 'metabox', &nbsp;</div></li><li><div>                  'help_link' =&gt; 'https:<span class="comment">//semperplugins.com/documentation/social-meta-settings-individual-pagepost-settings/', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array(&nbsp;</div></li><li><div>                      'title', &nbsp;</div></li><li><div>                      'desc', &nbsp;</div></li><li><div>                      'image', &nbsp;</div></li><li><div>                      'customimg', &nbsp;</div></li><li><div>                      'imagewidth', &nbsp;</div></li><li><div>                      'imageheight', &nbsp;</div></li><li><div>                      'video', &nbsp;</div></li><li><div>                      'videowidth', &nbsp;</div></li><li><div>                      'videoheight', &nbsp;</div></li><li><div>                      'category', &nbsp;</div></li><li><div>                      'facebook_debug', &nbsp;</div></li><li><div>                      'section', &nbsp;</div></li><li><div>                      'tag', &nbsp;</div></li><li><div>                      'setcard', &nbsp;</div></li><li><div>                      'customimg_twitter', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  'display' =&gt; $display, &nbsp;</div></li><li><div>                  'prefix' =&gt; 'aioseop_opengraph_', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $this-&gt;layout = Array(&nbsp;</div></li><li><div>              'default' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'General Settings', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array() <span class="comment">// this is set below, to the remaining options -- pdb</span>&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'home' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Home Page Settings', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/#use-aioseo-title-and-description', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array( 'setmeta', 'sitename', 'hometitle', 'description', 'homeimage', 'hometag' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'image' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Image Settings', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/#select-og-image-source', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array( 'defimg', 'fallback', 'dimg', 'dimgwidth', 'dimgheight', 'meta_key' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'links' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Social Profile Links', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/#social-profile-links', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array( 'profile_links', 'person_or_org', 'social_name' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'facebook' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Facebook Settings', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/#facebook-settings', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array(&nbsp;</div></li><li><div>                      'key', &nbsp;</div></li><li><div>                      'appid', &nbsp;</div></li><li><div>                      'types', &nbsp;</div></li><li><div>                      'gen_tags', &nbsp;</div></li><li><div>                      'gen_keywords', &nbsp;</div></li><li><div>                      'gen_categories', &nbsp;</div></li><li><div>                      'gen_post_tags', &nbsp;</div></li><li><div>                      'categories', &nbsp;</div></li><li><div>                      'facebook_publisher', &nbsp;</div></li><li><div>                      'facebook_author', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'twitter' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Twitter Settings', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/#default-twitter-card', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array( 'defcard', 'setcard', 'twitter_site', 'twitter_creator', 'twitter_domain' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'scan_meta' =&gt; Array(&nbsp;</div></li><li><div>                  'name' =&gt; __( 'Scan Social Meta', 'all-in-one-seo-pack' ), &nbsp;</div></li><li><div>                  'help_link' =&gt; 'http:<span class="comment">//semperplugins.com/documentation/social-meta-module/#scan_meta', </span>&nbsp;</div></li><li><div>                  'options' =&gt; Array( 'scan_header' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $other_options = Array();&nbsp;</div></li><li><div>          foreach ( $this-&gt;layout as $k =&gt; $v ) {&nbsp;</div></li><li><div>              $other_options = array_merge( $other_options, $v['options'] );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $this-&gt;layout['default']['options'] = array_diff( array_keys( $this-&gt;default_options ), $other_options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( is_admin() ) {&nbsp;</div></li><li><div>              add_action( 'admin_init', Array( $this, 'debug_post_types' ), 5 );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              add_action( 'wp', Array( $this, 'type_setup' ) );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! is_admin() || defined( 'DOING_AJAX' ) ) {&nbsp;</div></li><li><div>              $this-&gt;do_opengraph();&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Avoid having duplicate meta tags</span>&nbsp;</div></li><li><div>          add_filter( 'jetpack_enable_open_graph', '__return_false' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function settings_page_init() {&nbsp;</div></li><li><div>          add_filter( 'aiosp_output_option', Array( $this, 'display_custom_options' ), 10, 2 );&nbsp;</div></li><li><div>          $cat = $this-&gt;options[&quot;{$this-&gt;prefix}categories&quot;];&nbsp;</div></li><li><div>          if ( ! empty( $cat ) ) {&nbsp;</div></li><li><div>              if ( $cat == 'blog' ) {&nbsp;</div></li><li><div>                  $show_on_front = get_option( 'show_on_front' );&nbsp;</div></li><li><div>                  if ( ( $show_on_front == 'page' ) && ( get_option( 'page_on_front' ) ) ) {&nbsp;</div></li><li><div>                      $this-&gt;output_error( '&lt;p&gt;' . __( &quot;Static front page detected, suggested Facebook Object Type is 'website'.&quot;, 'all-in-one-seo-pack' ) . '&lt;/p&gt;' );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } elseif ( $cat == 'website' ) {&nbsp;</div></li><li><div>                  $show_on_front = get_option( 'show_on_front' );&nbsp;</div></li><li><div>                  if ( ( $show_on_front == 'posts' ) ) {&nbsp;</div></li><li><div>                      $this-&gt;output_error( '&lt;p&gt;' . __( &quot;Blog on front page detected, suggested Facebook Object Type is 'blog'.&quot;, 'all-in-one-seo-pack' ) . '&lt;/p&gt;' );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function filter_options( $options, $location ) {&nbsp;</div></li><li><div>          if ( $location == 'settings' ) {&nbsp;</div></li><li><div>              $prefix = $this-&gt;get_prefix( $location ) . $location . '_';&nbsp;</div></li><li><div>              list( $legacy, $images ) = $this-&gt;get_all_images( $options );&nbsp;</div></li><li><div>              if ( isset( $options ) && isset( $options[&quot;{$prefix}image&quot;] ) ) {&nbsp;</div></li><li><div>                  $thumbnail = $options[&quot;{$prefix}image&quot;];&nbsp;</div></li><li><div>                  if ( ctype_digit( (string) $thumbnail ) || ( $thumbnail == 'post' ) ) {&nbsp;</div></li><li><div>                      if ( $thumbnail == 'post' ) {&nbsp;</div></li><li><div>                          $thumbnail = $images['post1'];&nbsp;</div></li><li><div>                      } else if ( ! empty( $legacy[ $thumbnail ] ) ) {&nbsp;</div></li><li><div>                          $thumbnail = $legacy[ $thumbnail ];&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $options[&quot;{$prefix}image&quot;] = $thumbnail;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $options[ $prefix . 'image' ] ) ) {&nbsp;</div></li><li><div>                  $img = array_keys( $images );&nbsp;</div></li><li><div>                  if ( ! empty( $img ) && ! empty( $img[1] ) ) {&nbsp;</div></li><li><div>                      $options[ $prefix . 'image' ] = $img[1];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $options;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function filter_settings( $settings, $location, $current ) {&nbsp;</div></li><li><div>          if ( $location == 'opengraph' || $location == 'settings' ) {&nbsp;</div></li><li><div>              $prefix = $this-&gt;get_prefix( $location ) . $location . '_';&nbsp;</div></li><li><div>              if ( $location == 'opengraph' ) {&nbsp;</div></li><li><div>                  return $settings;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( $location == 'settings' ) {&nbsp;</div></li><li><div>                  list( $legacy, $settings[ $prefix . 'image' ]['initial_options'] ) = $this-&gt;get_all_images( $current );&nbsp;</div></li><li><div>                  $opts = Array( 'title', 'desc' );&nbsp;</div></li><li><div>                  $current_post_type = get_post_type();&nbsp;</div></li><li><div>                  if ( isset( $this-&gt;options[&quot;aiosp_opengraph_{$current_post_type}_fb_object_type&quot;] ) ) {&nbsp;</div></li><li><div>                      $flat_type_list = Array();&nbsp;</div></li><li><div>                      foreach ( $this-&gt;fb_object_types as $k =&gt; $v ) {&nbsp;</div></li><li><div>                          if ( is_array( $v ) ) {&nbsp;</div></li><li><div>                              $flat_type_list = array_merge( $flat_type_list, $v );&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                              $flat_type_list[ $k ] = $v;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      $settings[ $prefix . 'category' ]['initial_options'] = array_merge( Array(&nbsp;</div></li><li><div>                          $this-&gt;options[&quot;aiosp_opengraph_{$current_post_type}_fb_object_type&quot;] =&gt; __( 'Default ', 'all-in-one-seo-pack' ) . ' - '&nbsp;</div></li><li><div>                                                                                                   . $flat_type_list[ $this-&gt;options[&quot;aiosp_opengraph_{$current_post_type}_fb_object_type&quot;] ], &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                          $settings[ $prefix . 'category' ]['initial_options'] );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( isset( $this-&gt;options[&quot;aiosp_opengraph_defcard&quot;] ) ) {&nbsp;</div></li><li><div>                      $settings[ $prefix . 'setcard' ]['default'] = $this-&gt;options[&quot;aiosp_opengraph_defcard&quot;];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  global $aiosp;&nbsp;</div></li><li><div>                  $info = $aiosp-&gt;get_page_snippet_info();&nbsp;</div></li><li><div>                  extract( $info );&nbsp;</div></li><li><div>                  $settings[&quot;{$prefix}title&quot;]['placeholder'] = $title;&nbsp;</div></li><li><div>                  $settings[&quot;{$prefix}desc&quot;]['placeholder'] = $description;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( isset( $current[ $prefix . 'setmeta' ] ) && $current[ $prefix . 'setmeta' ] ) {&nbsp;</div></li><li><div>                  foreach ( $opts as $opt ) {&nbsp;</div></li><li><div>                      if ( isset( $settings[ $prefix . $opt ] ) ) {&nbsp;</div></li><li><div>                          $settings[ $prefix . $opt ]['type'] = 'hidden';&nbsp;</div></li><li><div>                          $settings[ $prefix . $opt ]['label'] = 'none';&nbsp;</div></li><li><div>                          $settings[ $prefix . $opt ]['help_text'] = '';&nbsp;</div></li><li><div>                          unset( $settings[ $prefix . $opt ]['count'] );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $settings;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function override_options( $options, $location, $settings ) {&nbsp;</div></li><li><div>          $opts = Array();&nbsp;</div></li><li><div>          foreach ( $settings as $k =&gt; $v ) {&nbsp;</div></li><li><div>              if ( $v['save'] ) {&nbsp;</div></li><li><div>                  $opts[ $k ] = $v['default'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          foreach ( $options as $k =&gt; $v ) {&nbsp;</div></li><li><div>              if ( $v === null ) {&nbsp;</div></li><li><div>                  unset( $options[ $k ] );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $options = wp_parse_args( $options, $opts );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $options;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function filter_metabox_options( $options, $location, $post_id ) {&nbsp;</div></li><li><div>          if ( $location == 'settings' ) {&nbsp;</div></li><li><div>              $prefix = $this-&gt;get_prefix( $location ) . $location;&nbsp;</div></li><li><div>              if ( ! empty( $options[ $prefix . '_customimg' ] ) ) {&nbsp;</div></li><li><div>                  $old_options = get_post_meta( $post_id, '_' . $prefix );&nbsp;</div></li><li><div>                  $prefix .= '_';&nbsp;</div></li><li><div>                  if ( empty( $old_options[ $prefix . 'customimg' ] ) || ( $old_options[ $prefix . 'customimg' ] != $options[ $prefix . 'customimg' ] ) ) {&nbsp;</div></li><li><div>                      $options[ $prefix . 'image' ] = $options[ $prefix . 'customimg' ];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $options;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Custom settings **/</span>&nbsp;</div></li><li><div>      function display_custom_options( $buf, $args ) {&nbsp;</div></li><li><div>          if ( $args['name'] == 'aiosp_opengraph_scan_header' ) {&nbsp;</div></li><li><div>              $buf .= '&lt;div class=&quot;aioseop aioseop_options aiosp_opengraph_settings&quot;&gt;&lt;div class=&quot;aioseop_wrapper aioseop_custom_type&quot; id=&quot;aiosp_opengraph_scan_header_wrapper&quot;&gt;&lt;div class=&quot;aioseop_input&quot; id=&quot;aiosp_opengraph_scan_header&quot; style=&quot;padding-left:20px;&quot;&gt;';&nbsp;</div></li><li><div>              $args['options']['type'] = 'submit';&nbsp;</div></li><li><div>              $args['attr'] = &quot; class='button-primary' &quot;;&nbsp;</div></li><li><div>              $args['value'] = $args['options']['default'] = __( 'Scan Now', 'all-in-one-seo-pack' );&nbsp;</div></li><li><div>              $buf .= __( 'Scan your site for duplicate social meta tags.', 'all-in-one-seo-pack' );&nbsp;</div></li><li><div>              $buf .= '&lt;br /&gt;&lt;br /&gt;' . $this-&gt;get_option_html( $args );&nbsp;</div></li><li><div>              $buf .= '&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $buf;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function add_attributes( $output ) { <span class="comment">// avoid having duplicate meta tags</span>&nbsp;</div></li><li><div>          $type = $this-&gt;type;&nbsp;</div></li><li><div>          if ( empty( $type ) ) {&nbsp;</div></li><li><div>              $type = 'website';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $schema_types = Array(&nbsp;</div></li><li><div>              'album' =&gt; 'MusicAlbum', &nbsp;</div></li><li><div>              'article' =&gt; 'Article', &nbsp;</div></li><li><div>              'bar' =&gt; 'BarOrPub', &nbsp;</div></li><li><div>              'blog' =&gt; 'Blog', &nbsp;</div></li><li><div>              'book' =&gt; 'Book', &nbsp;</div></li><li><div>              'cafe' =&gt; 'CafeOrCoffeeShop', &nbsp;</div></li><li><div>              'city' =&gt; 'City', &nbsp;</div></li><li><div>              'country' =&gt; 'Country', &nbsp;</div></li><li><div>              'episode' =&gt; 'Episode', &nbsp;</div></li><li><div>              'food' =&gt; 'FoodEvent', &nbsp;</div></li><li><div>              'game' =&gt; 'Game', &nbsp;</div></li><li><div>              'hotel' =&gt; 'Hotel', &nbsp;</div></li><li><div>              'landmark' =&gt; 'LandmarksOrHistoricalBuildings', &nbsp;</div></li><li><div>              'movie' =&gt; 'Movie', &nbsp;</div></li><li><div>              'product' =&gt; 'Product', &nbsp;</div></li><li><div>              'profile' =&gt; 'ProfilePage', &nbsp;</div></li><li><div>              'restaurant' =&gt; 'Restaurant', &nbsp;</div></li><li><div>              'school' =&gt; 'School', &nbsp;</div></li><li><div>              'sport' =&gt; 'SportsEvent', &nbsp;</div></li><li><div>              'website' =&gt; 'WebSite', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $schema_types[ $type ] ) ) {&nbsp;</div></li><li><div>              $type = $schema_types[ $type ];&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $type = 'WebSite';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $attributes = apply_filters( $this-&gt;prefix . 'attributes', Array(&nbsp;</div></li><li><div>              'itemscope', &nbsp;</div></li><li><div>              'itemtype=&quot;http:<span class="comment">//schema.org/' . ucfirst( $type ) . '&quot;', </span>&nbsp;</div></li><li><div>              'prefix=&quot;og: http:<span class="comment">//ogp.me/ns#&quot;', </span>&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          foreach ( $attributes as $attr ) {&nbsp;</div></li><li><div>              if ( strpos( $output, $attr ) === false ) {&nbsp;</div></li><li><div>                  $output .= &quot;\n\t$attr &quot;;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return $output;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function add_meta() {&nbsp;</div></li><li><div>          global $post, $aiosp, $aioseop_options, $wp_query;&nbsp;</div></li><li><div>          $metabox = $this-&gt;get_current_options( Array(), 'settings' );&nbsp;</div></li><li><div>          $key = $this-&gt;options['aiosp_opengraph_key'];&nbsp;</div></li><li><div>          $dimg = $this-&gt;options['aiosp_opengraph_dimg'];&nbsp;</div></li><li><div>          $current_post_type = get_post_type();&nbsp;</div></li><li><div>          $title = $description = $image = $video = '';&nbsp;</div></li><li><div>          $type = $this-&gt;type;&nbsp;</div></li><li><div>          $sitename = $this-&gt;options['aiosp_opengraph_sitename'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $appid = isset( $this-&gt;options['aiosp_opengraph_appid'] ) ? $this-&gt;options['aiosp_opengraph_appid'] : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $aioseop_options['aiosp_hide_paginated_descriptions'] ) ) {&nbsp;</div></li><li><div>              $first_page = false;&nbsp;</div></li><li><div>              if ( $aiosp-&gt;get_page_number() &lt; 2 ) {&nbsp;</div></li><li><div>                  $first_page = true;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $first_page = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $url = $aiosp-&gt;aiosp_mrt_get_url( $wp_query );&nbsp;</div></li><li><div>          $url = apply_filters( 'aioseop_canonical_url', $url );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $setmeta = $this-&gt;options['aiosp_opengraph_setmeta'];&nbsp;</div></li><li><div>          $social_links = '';&nbsp;</div></li><li><div>          if ( is_front_page() ) {&nbsp;</div></li><li><div>              $title = $this-&gt;options['aiosp_opengraph_hometitle'];&nbsp;</div></li><li><div>              if ( $first_page ) {&nbsp;</div></li><li><div>                  $description = $this-&gt;options['aiosp_opengraph_description'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( ! empty( $this-&gt;options['aiosp_opengraph_homeimage'] ) ) {&nbsp;</div></li><li><div>                  $thumbnail = $this-&gt;options['aiosp_opengraph_homeimage'];&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $thumbnail = $this-&gt;options['aiosp_opengraph_dimg'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">/** If Use AIOSEO Title and Desc Selected */</span>&nbsp;</div></li><li><div>              if ( $setmeta ) {&nbsp;</div></li><li><div>                  $title = $aiosp-&gt;wp_title();&nbsp;</div></li><li><div>                  if ( $first_page ) {&nbsp;</div></li><li><div>                      $description = $aiosp-&gt;get_aioseop_description( $post );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">/** Add some defaults */</span></span>&nbsp;</div></li><li><div>              if ( empty( $title ) ) {&nbsp;</div></li><li><div>                  $title = get_bloginfo( 'name' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $sitename ) ) {&nbsp;</div></li><li><div>                  $sitename = get_bloginfo( 'name' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( empty( $description ) && $first_page && ( ! empty( $this-&gt;options['aiosp_opengraph_generate_descriptions'] ) ) && ! empty( $post ) && ! empty( $post-&gt;post_content ) && ! post_password_required( $post ) ) {&nbsp;</div></li><li><div>                  $description = $aiosp-&gt;trim_excerpt_without_filters( $aiosp-&gt;internationalize( preg_replace( '/\s+/', ' ', $post-&gt;post_content ) ), 1000 );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( empty( $description ) && $first_page ) {&nbsp;</div></li><li><div>                  $description = get_bloginfo( 'description' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( $type == 'article' && ( ! empty( $this-&gt;options['aiosp_opengraph_hometag'] ) ) ) {&nbsp;</div></li><li><div>                  $tag = $this-&gt;options['aiosp_opengraph_hometag'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( ! empty( $this-&gt;options['aiosp_opengraph_profile_links'] ) ) {&nbsp;</div></li><li><div>                  $social_links = $this-&gt;options['aiosp_opengraph_profile_links'];&nbsp;</div></li><li><div>                  if ( ! empty( $this-&gt;options['aiosp_opengraph_social_name'] ) ) {&nbsp;</div></li><li><div>                      $social_name = $this-&gt;options['aiosp_opengraph_social_name'];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( $this-&gt;options['aiosp_opengraph_person_or_org'] == 'person' ) {&nbsp;</div></li><li><div>                      $social_type = &quot;Person&quot;;&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $social_type = &quot;Organization&quot;;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } elseif ( is_singular() && $this-&gt;option_isset( 'types' )&nbsp;</div></li><li><div>                     && is_array( $this-&gt;options['aiosp_opengraph_types'] )&nbsp;</div></li><li><div>                     && in_array( $current_post_type, $this-&gt;options['aiosp_opengraph_types'] )&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( $type == 'article' ) {&nbsp;</div></li><li><div>                  if ( ! empty( $metabox['aioseop_opengraph_settings_section'] ) ) {&nbsp;</div></li><li><div>                      $section = $metabox['aioseop_opengraph_settings_section'];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( ! empty( $metabox['aioseop_opengraph_settings_tag'] ) ) {&nbsp;</div></li><li><div>                      $tag = $metabox['aioseop_opengraph_settings_tag'];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( ! empty( $this-&gt;options['aiosp_opengraph_facebook_publisher'] ) ) {&nbsp;</div></li><li><div>                      $publisher = $this-&gt;options['aiosp_opengraph_facebook_publisher'];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( ! empty( $this-&gt;options['aiosp_opengraph_twitter_domain'] ) ) {&nbsp;</div></li><li><div>                  $domain = $this-&gt;options['aiosp_opengraph_twitter_domain'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( $type == 'article' && ! empty( $post ) ) {&nbsp;</div></li><li><div>                  if ( isset( $post-&gt;post_author ) && ! empty( $this-&gt;options['aiosp_opengraph_facebook_author'] ) ) {&nbsp;</div></li><li><div>                      $author = get_the_author_meta( 'facebook', $post-&gt;post_author );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if ( isset( $post-&gt;post_date ) ) {&nbsp;</div></li><li><div>                      $published_time = date( 'Y-m-d\TH:i:s\Z', mysql2date( 'U', $post-&gt;post_date ) );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if ( isset( $post-&gt;post_modified ) ) {&nbsp;</div></li><li><div>                      $modified_time = date( 'Y-m-d\TH:i:s\Z', mysql2date( 'U', $post-&gt;post_modified ) );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $image = $metabox['aioseop_opengraph_settings_image'];&nbsp;</div></li><li><div>              $video = $metabox['aioseop_opengraph_settings_video'];&nbsp;</div></li><li><div>              $title = $metabox['aioseop_opengraph_settings_title'];&nbsp;</div></li><li><div>              $description = $metabox['aioseop_opengraph_settings_desc'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">/** Add AIOSEO variables if Site Title and Desc from AIOSEOP not selected */</span>&nbsp;</div></li><li><div>              global $aiosp;&nbsp;</div></li><li><div>              if ( empty( $title ) ) {&nbsp;</div></li><li><div>                  $title = $aiosp-&gt;wp_title();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $description ) ) {&nbsp;</div></li><li><div>                  $description = trim( strip_tags( get_post_meta( $post-&gt;ID, &quot;_aioseop_description&quot;, true ) ) );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">/** Add some defaults */</span></span>&nbsp;</div></li><li><div>              if ( empty( $title ) ) {&nbsp;</div></li><li><div>                  $title = get_the_title();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $description ) && ( $this-&gt;options['aiosp_opengraph_generate_descriptions'] ) && ! post_password_required( $post ) ) {&nbsp;</div></li><li><div>                  $description = $post-&gt;post_content;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $type ) ) {&nbsp;</div></li><li><div>                  $type = 'article';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $type == 'article' ) {&nbsp;</div></li><li><div>              if ( ! empty( $this-&gt;options['aiosp_opengraph_gen_tags'] ) ) {&nbsp;</div></li><li><div>                  if ( ! empty( $this-&gt;options['aiosp_opengraph_gen_keywords'] ) ) {&nbsp;</div></li><li><div>                      $keywords = $aiosp-&gt;get_main_keywords();&nbsp;</div></li><li><div>                      $keywords = $this-&gt;apply_cf_fields( $keywords );&nbsp;</div></li><li><div>                      $keywords = apply_filters( 'aioseop_keywords', $keywords );&nbsp;</div></li><li><div>                      if ( ! empty( $keywords ) && ! empty( $tag ) ) {&nbsp;</div></li><li><div>                          $tag .= ', ' . $keywords;&nbsp;</div></li><li><div>                      } elseif ( empty( $tag ) ) {&nbsp;</div></li><li><div>                          $tag = $keywords;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $tag = $aiosp-&gt;keyword_string_to_list( $tag );&nbsp;</div></li><li><div>                  if ( ! empty( $this-&gt;options['aiosp_opengraph_gen_categories'] ) ) {&nbsp;</div></li><li><div>                      $tag = array_merge( $tag, $aiosp-&gt;get_all_categories( $post-&gt;ID ) );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( ! empty( $this-&gt;options['aiosp_opengraph_gen_post_tags'] ) ) {&nbsp;</div></li><li><div>                      $tag = array_merge( $tag, $aiosp-&gt;get_all_tags( $post-&gt;ID ) );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( ! empty( $tag ) ) {&nbsp;</div></li><li><div>                  $tag = $aiosp-&gt;clean_keyword_list( $tag );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $this-&gt;options['aiosp_opengraph_title_shortcodes'] ) ) {&nbsp;</div></li><li><div>              $title = do_shortcode( $title );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $description ) ) {&nbsp;</div></li><li><div>              $description = $aiosp-&gt;internationalize( preg_replace( '/\s+/', ' ', $description ) );&nbsp;</div></li><li><div>              if ( ! empty( $this-&gt;options['aiosp_opengraph_description_shortcodes'] ) ) {&nbsp;</div></li><li><div>                  $description = do_shortcode( $description );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $description = $aiosp-&gt;trim_excerpt_without_filters( $description, 1000 );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $title = $this-&gt;apply_cf_fields( $title );&nbsp;</div></li><li><div>          $description = $this-&gt;apply_cf_fields( $description );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/** Data Validation */</span>&nbsp;</div></li><li><div>          $title = strip_tags( esc_attr( $title ) );&nbsp;</div></li><li><div>          $sitename = strip_tags( esc_attr( $sitename ) );&nbsp;</div></li><li><div>          $description = strip_tags( esc_attr( $description ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( empty( $thumbnail ) && ! empty( $image ) ) {&nbsp;</div></li><li><div>              $thumbnail = $image;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/** Get the first image attachment on the post */</span>&nbsp;</div></li><li><div>          <span class="comment">// if( empty($thumbnail) ) $thumbnail = $this-&gt;get_the_image();</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/** Add user supplied default image */</span>&nbsp;</div></li><li><div>          if ( empty( $thumbnail ) ) {&nbsp;</div></li><li><div>              if ( empty( $this-&gt;options['aiosp_opengraph_defimg'] ) ) {&nbsp;</div></li><li><div>                  $thumbnail = $this-&gt;options['aiosp_opengraph_dimg'];&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  switch ( $this-&gt;options['aiosp_opengraph_defimg'] ) {&nbsp;</div></li><li><div>                      case 'featured'    :&nbsp;</div></li><li><div>                          $thumbnail = $this-&gt;get_the_image_by_post_thumbnail();&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      case 'attach'    :&nbsp;</div></li><li><div>                          $thumbnail = $this-&gt;get_the_image_by_attachment();&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      case 'content'    :&nbsp;</div></li><li><div>                          $thumbnail = $this-&gt;get_the_image_by_scan();&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      case 'custom'    :&nbsp;</div></li><li><div>                          $meta_key = $this-&gt;options['aiosp_opengraph_meta_key'];&nbsp;</div></li><li><div>                          if ( ! empty( $meta_key ) && ! empty( $post ) ) {&nbsp;</div></li><li><div>                              $meta_key = explode( ', ', $meta_key );&nbsp;</div></li><li><div>                              $thumbnail = $this-&gt;get_the_image_by_meta_key( Array(&nbsp;</div></li><li><div>                                  'post_id' =&gt; $post-&gt;ID, &nbsp;</div></li><li><div>                                  'meta_key' =&gt; $meta_key, &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      case 'auto'        :&nbsp;</div></li><li><div>                          $thumbnail = $this-&gt;get_the_image();&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      case 'author'    :&nbsp;</div></li><li><div>                          $thumbnail = $this-&gt;get_the_image_by_author();&nbsp;</div></li><li><div>                          break;&nbsp;</div></li><li><div>                      default            :&nbsp;</div></li><li><div>                          $thumbnail = $this-&gt;options['aiosp_opengraph_dimg'];&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ( empty( $thumbnail ) && ! empty( $this-&gt;options['aiosp_opengraph_fallback'] ) ) ) {&nbsp;</div></li><li><div>              $thumbnail = $this-&gt;options['aiosp_opengraph_dimg'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $thumbnail ) ) {&nbsp;</div></li><li><div>              $thumbnail = esc_url( $thumbnail );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $width = $height = '';&nbsp;</div></li><li><div>          if ( ! empty( $thumbnail ) ) {&nbsp;</div></li><li><div>              if ( ! empty( $metabox['aioseop_opengraph_settings_imagewidth'] ) ) {&nbsp;</div></li><li><div>                  $width = $metabox['aioseop_opengraph_settings_imagewidth'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( ! empty( $metabox['aioseop_opengraph_settings_imageheight'] ) ) {&nbsp;</div></li><li><div>                  $height = $metabox['aioseop_opengraph_settings_imageheight'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $width ) && ! empty( $this-&gt;options['aiosp_opengraph_dimgwidth'] ) ) {&nbsp;</div></li><li><div>                  $width = $this-&gt;options['aiosp_opengraph_dimgwidth'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $height ) && ! empty( $this-&gt;options['aiosp_opengraph_dimgheight'] ) ) {&nbsp;</div></li><li><div>                  $height = $this-&gt;options['aiosp_opengraph_dimgheight'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $video ) ) {&nbsp;</div></li><li><div>              if ( ! empty( $metabox['aioseop_opengraph_settings_videowidth'] ) ) {&nbsp;</div></li><li><div>                  $videowidth = $metabox['aioseop_opengraph_settings_videowidth'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( ! empty( $metabox['aioseop_opengraph_settings_videoheight'] ) ) {&nbsp;</div></li><li><div>                  $videoheight = $metabox['aioseop_opengraph_settings_videoheight'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $card = 'summary';&nbsp;</div></li><li><div>          if ( ! empty( $this-&gt;options['aiosp_opengraph_defcard'] ) ) {&nbsp;</div></li><li><div>              $card = $this-&gt;options['aiosp_opengraph_defcard'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $metabox['aioseop_opengraph_settings_setcard'] ) ) {&nbsp;</div></li><li><div>              $card = $metabox['aioseop_opengraph_settings_setcard'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">//support for changing legacy twitter cardtype-photo to summary large image</span>&nbsp;</div></li><li><div>          if ( $card == 'photo' ) {&nbsp;</div></li><li><div>              $card = 'summary_large_image';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $site = $domain = $creator = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $this-&gt;options['aiosp_opengraph_twitter_site'] ) ) {&nbsp;</div></li><li><div>              $site = $this-&gt;options['aiosp_opengraph_twitter_site'];&nbsp;</div></li><li><div>              $site = AIOSEOP_Opengraph_Public::prepare_twitter_username( $site );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $this-&gt;options['aiosp_opengraph_twitter_domain'] ) ) {&nbsp;</div></li><li><div>              $domain = $this-&gt;options['aiosp_opengraph_twitter_domain'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $post ) && isset( $post-&gt;post_author ) && ! empty( $this-&gt;options['aiosp_opengraph_twitter_creator'] ) ) {&nbsp;</div></li><li><div>              $creator = get_the_author_meta( 'twitter', $post-&gt;post_author );&nbsp;</div></li><li><div>              $creator = AIOSEOP_Opengraph_Public::prepare_twitter_username( $creator );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $twitter_thumbnail = $thumbnail; <span class="comment">// Default Twitter image if custom isn't set.</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( isset( $metabox['aioseop_opengraph_settings_customimg_twitter'] ) && ! empty( $metabox['aioseop_opengraph_settings_customimg_twitter'] ) ) {&nbsp;</div></li><li><div>              <span class="comment">// Set Twitter image from custom.</span>&nbsp;</div></li><li><div>              $twitter_thumbnail = $metabox['aioseop_opengraph_settings_customimg_twitter'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $meta = Array(&nbsp;</div></li><li><div>              'facebook' =&gt; Array(&nbsp;</div></li><li><div>                  'title' =&gt; 'og:title', &nbsp;</div></li><li><div>                  'type' =&gt; 'og:type', &nbsp;</div></li><li><div>                  'url' =&gt; 'og:url', &nbsp;</div></li><li><div>                  'thumbnail' =&gt; 'og:image', &nbsp;</div></li><li><div>                  'width' =&gt; 'og:image:width', &nbsp;</div></li><li><div>                  'height' =&gt; 'og:image:height', &nbsp;</div></li><li><div>                  'video' =&gt; 'og:video', &nbsp;</div></li><li><div>                  'videowidth' =&gt; 'og:video:width', &nbsp;</div></li><li><div>                  'videoheight' =&gt; 'og:video:height', &nbsp;</div></li><li><div>                  'sitename' =&gt; 'og:site_name', &nbsp;</div></li><li><div>                  'key' =&gt; 'fb:admins', &nbsp;</div></li><li><div>                  'appid' =&gt; 'fb:app_id', &nbsp;</div></li><li><div>                  'description' =&gt; 'og:description', &nbsp;</div></li><li><div>                  'section' =&gt; 'article:section', &nbsp;</div></li><li><div>                  'tag' =&gt; 'article:tag', &nbsp;</div></li><li><div>                  'publisher' =&gt; 'article:publisher', &nbsp;</div></li><li><div>                  'author' =&gt; 'article:author', &nbsp;</div></li><li><div>                  'published_time' =&gt; 'article:published_time', &nbsp;</div></li><li><div>                  'modified_time' =&gt; 'article:modified_time', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>              'twitter' =&gt; Array(&nbsp;</div></li><li><div>                  'card' =&gt; 'twitter:card', &nbsp;</div></li><li><div>                  'site' =&gt; 'twitter:site', &nbsp;</div></li><li><div>                  'creator' =&gt; 'twitter:creator', &nbsp;</div></li><li><div>                  'domain' =&gt; 'twitter:domain', &nbsp;</div></li><li><div>                  'title' =&gt; 'twitter:title', &nbsp;</div></li><li><div>                  'description' =&gt; 'twitter:description', &nbsp;</div></li><li><div>                  'twitter_thumbnail' =&gt; 'twitter:image', &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">//Only show if &quot;use schema.org markup is checked&quot;</span>&nbsp;</div></li><li><div>          if ( ! empty( $aioseop_options['aiosp_schema_markup'] ) ) {&nbsp;</div></li><li><div>              $meta['google+'] = Array( 'thumbnail' =&gt; 'image' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Add links to testing tools</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">          http://developers.facebook.com/tools/debug</span>&nbsp;</div></li><li><div><span class="comment">          https://dev.twitter.com/docs/cards/preview</span>&nbsp;</div></li><li><div><span class="comment">          http://www.google.com/webmasters/tools/richsnippets</span>&nbsp;</div></li><li><div><span class="comment">          */</span>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">          $meta = Array(</span>&nbsp;</div></li><li><div><span class="comment">              'facebook' =&gt; Array(</span>&nbsp;</div></li><li><div><span class="comment">                      'title' =&gt; 'og:title', </span>&nbsp;</div></li><li><div><span class="comment">                      'type' =&gt; 'og:type', </span>&nbsp;</div></li><li><div><span class="comment">                      'url' =&gt; 'og:url', </span>&nbsp;</div></li><li><div><span class="comment">                      'thumbnail' =&gt; 'og:image', </span>&nbsp;</div></li><li><div><span class="comment">                      'sitename' =&gt; 'og:site_name', </span>&nbsp;</div></li><li><div><span class="comment">                      'key' =&gt; 'fb:admins', </span>&nbsp;</div></li><li><div><span class="comment">                      'description' =&gt; 'og:description'</span>&nbsp;</div></li><li><div><span class="comment"> ), </span>&nbsp;</div></li><li><div><span class="comment">              'google+' =&gt; Array(</span>&nbsp;</div></li><li><div><span class="comment">                      'thumbnail' =&gt; 'image', </span>&nbsp;</div></li><li><div><span class="comment">                      'title' =&gt; 'name', </span>&nbsp;</div></li><li><div><span class="comment">                      'description' =&gt; 'description'</span>&nbsp;</div></li><li><div><span class="comment"> ), </span>&nbsp;</div></li><li><div><span class="comment">              'twitter' =&gt; Array(</span>&nbsp;</div></li><li><div><span class="comment">                      'card' =&gt; 'twitter:card', </span>&nbsp;</div></li><li><div><span class="comment">                      'url' =&gt; 'twitter:url', </span>&nbsp;</div></li><li><div><span class="comment">                      'title' =&gt; 'twitter:title', </span>&nbsp;</div></li><li><div><span class="comment">                      'description' =&gt; 'twitter:description', </span>&nbsp;</div></li><li><div><span class="comment">                      'thumbnail' =&gt; 'twitter:image'</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment"> )</span>&nbsp;</div></li><li><div><span class="comment"> );</span>&nbsp;</div></li><li><div><span class="comment">          */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $tags = Array(&nbsp;</div></li><li><div>              'facebook' =&gt; Array( 'name' =&gt; 'property', 'value' =&gt; 'content' ), &nbsp;</div></li><li><div>              'twitter' =&gt; Array( 'name' =&gt; 'name', 'value' =&gt; 'content' ), &nbsp;</div></li><li><div>              'google+' =&gt; Array( 'name' =&gt; 'itemprop', 'value' =&gt; 'content' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          foreach ( $meta as $t =&gt; $data ) {&nbsp;</div></li><li><div>              foreach ( $data as $k =&gt; $v ) {&nbsp;</div></li><li><div>                  if ( empty( $$k ) ) {&nbsp;</div></li><li><div>                      $$k = '';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  $filtered_value = $$k;&nbsp;</div></li><li><div>                  $filtered_value = apply_filters( $this-&gt;prefix . 'meta', $filtered_value, $t, $k );&nbsp;</div></li><li><div>                  if ( ! empty( $filtered_value ) ) {&nbsp;</div></li><li><div>                      if ( ! is_array( $filtered_value ) ) {&nbsp;</div></li><li><div>                          $filtered_value = Array( $filtered_value );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      foreach ( $filtered_value as $f ) {&nbsp;</div></li><li><div>                          echo '&lt;meta ' . $tags[ $t ]['name'] . '=&quot;' . $v . '&quot; ' . $tags[ $t ]['value'] . '=&quot;' . $f . '&quot; /&gt;' . &quot;\n&quot;;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $social_link_schema = '';&nbsp;</div></li><li><div>          if ( ! empty( $social_links ) ) {&nbsp;</div></li><li><div>              $home_url = esc_url( get_home_url() );&nbsp;</div></li><li><div>              $social_links = explode( &quot;\n&quot;, $social_links );&nbsp;</div></li><li><div>              foreach ( $social_links as $k =&gt; $v ) {&nbsp;</div></li><li><div>                  $v = trim( $v );&nbsp;</div></li><li><div>                  if ( empty( $v ) ) {&nbsp;</div></li><li><div>                      unset( $social_links[ $k ] );&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $v = esc_url( $v );&nbsp;</div></li><li><div>                      $social_links[ $k ] = $v;&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $social_links = join( '&quot;, &quot;', $social_links );&nbsp;</div></li><li><div>              $social_link_schema = &lt;&lt;&lt;END&nbsp;</div></li><li><div>&lt;script type=&quot;application/ld+json&quot;&gt;&nbsp;</div></li><li><div>{ &quot;@context&quot; : &quot;http:<span class="comment">//schema.org&quot;, </span>&nbsp;</div></li><li><div>&quot;@type&quot; : &quot;{$social_type}&quot;, &nbsp;</div></li><li><div>&quot;name&quot; : &quot;{$social_name}&quot;, &nbsp;</div></li><li><div>&quot;url&quot; : &quot;{$home_url}&quot;, &nbsp;</div></li><li><div>&quot;sameAs&quot; : [&quot;{$social_links}&quot;] &nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&lt;/script&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>END;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          echo apply_filters( 'aiosp_opengraph_social_link_schema', $social_link_schema );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function do_opengraph() {&nbsp;</div></li><li><div>          global $aioseop_options;&nbsp;</div></li><li><div>          if ( ! empty( $aioseop_options ) && ! empty( $aioseop_options['aiosp_schema_markup'] ) ) {&nbsp;</div></li><li><div>              add_filter( 'language_attributes', Array( $this, 'add_attributes' ) );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( ! defined( 'DOING_AJAX' ) ) {&nbsp;</div></li><li><div>              add_action( 'aioseop_modules_wp_head', Array( $this, 'add_meta' ), 5 );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function type_setup() {&nbsp;</div></li><li><div>          global $aiosp, $wp_query;&nbsp;</div></li><li><div>          $this-&gt;type = '';&nbsp;</div></li><li><div>          if ( $aiosp-&gt;is_static_front_page() ) {&nbsp;</div></li><li><div>              if ( ! empty( $this-&gt;options ) && ! empty( $this-&gt;options['aiosp_opengraph_categories'] ) ) {&nbsp;</div></li><li><div>                  $this-&gt;type = $this-&gt;options['aiosp_opengraph_categories'];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } elseif ( is_singular() && $this-&gt;option_isset( 'types' ) ) {&nbsp;</div></li><li><div>              $metabox = $this-&gt;get_current_options( Array(), 'settings' );&nbsp;</div></li><li><div>              $current_post_type = get_post_type();&nbsp;</div></li><li><div>              if ( ! empty( $metabox['aioseop_opengraph_settings_category'] ) ) {&nbsp;</div></li><li><div>                  $this-&gt;type = $metabox['aioseop_opengraph_settings_category'];&nbsp;</div></li><li><div>              } elseif ( isset( $this-&gt;options[&quot;aiosp_opengraph_{$current_post_type}_fb_object_type&quot;] ) ) {&nbsp;</div></li><li><div>                  $this-&gt;type = $this-&gt;options[&quot;aiosp_opengraph_{$current_post_type}_fb_object_type&quot;];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function debug_post_types() {&nbsp;</div></li><li><div>          add_filter( $this-&gt;prefix . 'display_settings', Array( $this, 'filter_settings' ), 10, 3 );&nbsp;</div></li><li><div>          add_filter( $this-&gt;prefix . 'override_options', Array( $this, 'override_options' ), 10, 3 );&nbsp;</div></li><li><div>          add_filter( $this-&gt;get_prefix( 'settings' ) . 'filter_metabox_options', Array(&nbsp;</div></li><li><div>              $this, &nbsp;</div></li><li><div>              'filter_metabox_options', &nbsp;</div></li><li><div> ), 10, 3 );&nbsp;</div></li><li><div>          $post_types = $this-&gt;get_post_type_titles();&nbsp;</div></li><li><div>          $rempost = array( 'revision' =&gt; 1, 'nav_menu_item' =&gt; 1 );&nbsp;</div></li><li><div>          $post_types = array_diff_key( $post_types, $rempost );&nbsp;</div></li><li><div>          $this-&gt;default_options['types']['initial_options'] = $post_types;&nbsp;</div></li><li><div>          foreach ( $post_types as $slug =&gt; $name ) {&nbsp;</div></li><li><div>              $field = $slug . '_fb_object_type';&nbsp;</div></li><li><div>              $this-&gt;default_options[ $field ]           = Array(&nbsp;</div></li><li><div>                  'name' =&gt; &quot;$name &quot; . __( 'Object Type', 'all-in-one-seo-pack' ) . &quot;&lt;br /&gt;($slug)&quot;, &nbsp;</div></li><li><div>                  'type' =&gt; 'select', &nbsp;</div></li><li><div>                  'style' =&gt; '', &nbsp;</div></li><li><div>                  'initial_options' =&gt; $this-&gt;fb_object_types, &nbsp;</div></li><li><div>                  'default' =&gt; 'article', &nbsp;</div></li><li><div>                  'condshow' =&gt; Array( 'aiosp_opengraph_types\[\]' =&gt; $slug ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              $this-&gt;help_text[ $field ]                 = __( 'Choose a default value that best describes the content of your post type.', 'all-in-one-seo-pack' );&nbsp;</div></li><li><div>              $this-&gt;help_anchors[ $field ]              = '#content-object-types';&nbsp;</div></li><li><div>              $this-&gt;locations['opengraph']['options'][] = $field;&nbsp;</div></li><li><div>              $this-&gt;layout['facebook']['options'][] = $field;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $this-&gt;setting_options();&nbsp;</div></li><li><div>          $this-&gt;add_help_text_links();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function get_all_images( $options = null, $p = null ) {&nbsp;</div></li><li><div>          static $img = Array();&nbsp;</div></li><li><div>          if ( ! is_array( $options ) ) {&nbsp;</div></li><li><div>              $options = Array();&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( ! empty( $this-&gt;options['aiosp_opengraph_meta_key'] ) ) {&nbsp;</div></li><li><div>              $options['meta_key'] = $this-&gt;options['aiosp_opengraph_meta_key'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( empty( $img ) ) {&nbsp;</div></li><li><div>              $size = apply_filters( 'post_thumbnail_size', 'large' );&nbsp;</div></li><li><div>              $default = $this-&gt;get_the_image_by_default();&nbsp;</div></li><li><div>              if ( ! empty( $default ) ) {&nbsp;</div></li><li><div>                  $img[ $default ] = 0;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $img = array_merge( $img, parent::get_all_images( $options, null ) );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $options ) && ! empty( $options['aioseop_opengraph_settings_customimg'] ) ) {&nbsp;</div></li><li><div>              $img[ $options['aioseop_opengraph_settings_customimg'] ] = 'customimg';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $options ) && ! empty( $options['aioseop_opengraph_settings_customimg'] ) ) {&nbsp;</div></li><li><div>              $img[ $options['aioseop_opengraph_settings_customimg'] ]         = 'customimg';&nbsp;</div></li><li><div>              $img[ $options['aioseop_opengraph_settings_customimg_twitter'] ] = 'customimg_twitter';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $author_img = $this-&gt;get_the_image_by_author( $p ) ) {&nbsp;</div></li><li><div>              $image[&quot;author&quot;] = $author_img;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $image = array_flip( $img );&nbsp;</div></li><li><div>          $images = Array();&nbsp;</div></li><li><div>          if ( ! empty( $image ) ) {&nbsp;</div></li><li><div>              foreach ( $image as $k =&gt; $v ) {&nbsp;</div></li><li><div>                  $images[ $v ] = '&lt;img height=150 src=&quot;' . $v . '&quot;&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return Array( $image, $images );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function get_the_image_by_author( $options = null, $p = null ) {&nbsp;</div></li><li><div>          if ( $p === null ) {&nbsp;</div></li><li><div>              global $post;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $post = $p;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( ! empty( $post ) && ! empty( $post-&gt;post_author ) ) {&nbsp;</div></li><li><div>              $matches = Array();&nbsp;</div></li><li><div>              $get_avatar = get_avatar( $post-&gt;post_author, 300 );&nbsp;</div></li><li><div>              if ( preg_match( &quot;/src='(.*?)'/i&quot;, $get_avatar, $matches ) ) {&nbsp;</div></li><li><div>                  return $matches[1];&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function get_the_image( $options = null, $p = null ) {&nbsp;</div></li><li><div>          $meta_key = $this-&gt;options['aiosp_opengraph_meta_key'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return parent::get_the_image( Array( 'meta_key' =&gt; $meta_key ), $p );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function get_the_image_by_default( $args = array() ) {&nbsp;</div></li><li><div>          return $this-&gt;options['aiosp_opengraph_dimg'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function settings_update() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>All In One SEO Pack</li><li><span></span>2.3.9.2</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>