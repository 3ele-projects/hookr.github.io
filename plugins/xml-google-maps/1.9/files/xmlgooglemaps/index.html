<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="1.9" data-slug="xml-google-maps" data-type="file" data-id="75023"><head xmlns="http://www.w3.org/1999/xhtml"><title> xmlgooglemaps | file | Xml Google Maps | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, xml-google-maps, 1.9" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=c8b0cf1e78f04fb9591f8f0da8dc17f5' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/xmlgooglemaps/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fxmlgooglemaps%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fxmlgooglemaps%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-xml-google-maps-1.9-file-xmlgooglemaps","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="xmlgooglemaps" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to xml-google-maps." href="http://hookr.io/plugins/xml-google-maps/" class="plugin"><span property="name">xml-google-maps</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 1.9." href="http://hookr.io/plugins/xml-google-maps/1.9/" class="H_VERSION"><span property="name">1.9</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/xml-google-maps/1.9/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">xmlgooglemaps</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="120"><a href="http://hookr.io/plugins/xml-google-maps/1.9/all/" title="All">All <span class="count badge">120</span></a></li><li class="" data-id="new" data-count="8"><a href="http://hookr.io/plugins/xml-google-maps/1.9/new/" title="New">New <span class="count badge">8</span></a></li><li class="" data-id="hooks" data-count="0"><a href="http://hookr.io/plugins/xml-google-maps/1.9/hooks/" title="Hooks">Hooks <span class="count badge">0</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/xml-google-maps/1.9/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="0"><a href="http://hookr.io/plugins/xml-google-maps/1.9/filters/" title="Filters">Filters <span class="count badge">0</span></a></li><li class="" data-id="class" data-count="9"><a href="http://hookr.io/plugins/xml-google-maps/1.9/classes/" title="Classes">Classes <span class="count badge">9</span></a></li><li class="" data-id="constant" data-count="92"><a href="http://hookr.io/plugins/xml-google-maps/1.9/constants/" title="Constants">Constants <span class="count badge">92</span></a></li><li class="" data-id="function" data-count="19"><a href="http://hookr.io/plugins/xml-google-maps/1.9/functions/" title="Functions">Functions <span class="count badge">19</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/xml-google-maps/1.9/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/xmlgooglemaps.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> Plugin Name: XML Google Maps</span>&nbsp;</div></li><li><div><span class="comment"> Plugin URI: http://www.matusz.ch/blog/projekte/xml-google-maps-wordpress-plugin/</span>&nbsp;</div></li><li><div><span class="comment"> Feed URI: http://www.matusz.ch/blog/tags/xml-google-maps-wp-plugin/feed/</span>&nbsp;</div></li><li><div><span class="comment"> Description: This plugin allows you to easily insert Google Map or Google Earth Plugin Maps into your blog. Supports KML, KMZ, GPX, geoRSS filelinks. Supports Dfeault, Satellite, Hybrid, Physical and Google Earth Plugin Maptypes</span>&nbsp;</div></li><li><div><span class="comment"> Version: 1.9</span>&nbsp;</div></li><li><div><span class="comment"> Author: Patrick Matusz</span>&nbsp;</div></li><li><div><span class="comment"> Author URI: http://www.matusz.ch/blog/</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>$wpdb-&gt;xmlgooglemapsdb = $table_prefix . 'xmlgooglemaps';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Defining Options</span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_uid&quot;, &quot;xmlgm_uid&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_uid_default&quot;, &quot;(none)&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_width&quot;, &quot;xmlgm_width&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_width_default&quot;, &quot;664&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_height&quot;, &quot;xmlgm_height&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_height_default&quot;, &quot;400&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_align&quot;, &quot;xmlgm_align&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_align_default&quot;, &quot;left&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_urldisplaymode&quot;, &quot;xmlgm_urldisplaymode&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_urldisplaymode_default&quot;, &quot;title&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_viewstyle&quot;, &quot;xmlgm_viewstyle&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_viewstyle_default&quot;, &quot;G_NORMAL_MAP&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_panzoomcontrol&quot;, &quot;xmlgm_panzoomcontrol&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_panzoomcontrol_default&quot;, &quot;large&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_overviewmap&quot;, &quot;xmlgm_overviewmap&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_overviewmap_default&quot;, &quot;hide&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_scalecontrol&quot;, &quot;xmlgm_scalecontrol&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_scalecontrol_default&quot;, &quot;hide&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_maptypecontrol&quot;, &quot;xmlgm_maptypecontrol&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_maptypecontrol_default&quot;, &quot;show&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_mapnorm&quot;, &quot;xmlgm_mapnorm&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_mapnorm_default&quot;, &quot;show&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_maphyb&quot;, &quot;xmlgm_maphyb&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_maphyb_default&quot;, &quot;show&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_mapsat&quot;, &quot;xmlgm_mapsat&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_mapsat_default&quot;, &quot;show&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_mapphy&quot;, &quot;xmlgm_mapphy&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_mapphy_default&quot;, &quot;hide&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_mapearth&quot;, &quot;xmlgm_mapearth&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_mapearth_default&quot;, &quot;hide&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_dragging&quot;, &quot;xmlgm_dragging&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_dragging_default&quot;, &quot;enabled&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_doubleClickZoom&quot;, &quot;xmlgm_doubleClickZoom&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_doubleClickZoom_default&quot;, &quot;enabled&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_continuousZoom&quot;, &quot;xmlgm_continuousZoom&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_continuousZoom_default&quot;, &quot;enabled&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_googleBar&quot;, &quot;xmlgm_googleBar&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_googleBar_default&quot;, &quot;disabled&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_scrollWheelZoom&quot;, &quot;xmlgm_scrollWheelZoom&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_scrollWheelZoom_default&quot;, &quot;enabled&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_elevationmeasurement&quot;, &quot;xmlgm_elevationmeasurement&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_elevationmeasurement_default&quot;, &quot;metric&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_speedscale&quot;, &quot;xmlgm_speedscale&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_speedscale_default&quot;, &quot;level2&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment"><span class="comment">//KML Parsing</span></span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_kmlparsing&quot;, &quot;xmlgm_kmlparsing&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_kmlparsing_default&quot;, &quot;enabled&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment"><span class="comment">//GPX</span> Options</span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_linecolor&quot;, &quot;xmlgm_linecolor&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_linecolor_default&quot;, &quot;#0000FF&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_linewidth&quot;, &quot;xmlgm_linewidth&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_linewidth_default&quot;, &quot;5&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_lineopacity&quot;, &quot;xmlgm_lineopacity&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_lineopacity_default&quot;, &quot;50&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_gpxview&quot;, &quot;xmlgm_gpxview&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_gpxview_default&quot;, &quot;all&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_gpxcssstyle&quot;, &quot;xmlgm_gpxcssstyle&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_gpxcssstyle_default&quot;, &quot;font-family: Verdana, Arial, Sans-Serif;&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_gpxdirectopenwplink&quot;, &quot;xmlgm_gpxdirectopenwplink&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_gpxdirectopenwplink_default&quot;, &quot;dblclick&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Elevation Options</span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_elevationheight&quot;, &quot;xmlgm_elevationheight&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_elevationheight_default&quot;, &quot;200&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_elevlinecolor&quot;, &quot;xmlgm_elevlinecolor&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_elevlinecolor_default&quot;, &quot;#0000FF&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_elevationchart&quot;, &quot;xmlgm_elevationchart&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_elevationchart_default&quot;, &quot;show&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_elelinewidth&quot;, &quot;xmlgm_elelinewidth&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_elelinewidth_default&quot;, &quot;5&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_elevationtitle&quot;, &quot;xmlgm_elevationtitle&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_elevationtitle_default&quot;, &quot;Elevation Profile&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Speed Options</span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_speedheight&quot;, &quot;xmlgm_speedheight&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_speedheight_default&quot;, &quot;200&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_speedlinecolor&quot;, &quot;xmlgm_speedlinecolor&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_speedlinecolor_default&quot;, &quot;#0000FF&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_speedchart&quot;, &quot;xmlgm_speedchart&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_speedchart_default&quot;, &quot;hide&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_speedlinewidth&quot;, &quot;xmlgm_speedlinewidth&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_speedlinewidth_default&quot;, &quot;5&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_speedcharttitle&quot;, &quot;xmlgm_speedcharttitle&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_speedcharttitle_default&quot;, &quot;Speed Profile&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Check Point Options</span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_checkpointmapmarkercolor&quot;, &quot;xmlgm_checkpointmapmarkercolor&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_checkpointmapmarkercolor_default&quot;, &quot;red&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_checkpointtable&quot;, &quot;xmlgm_checkpointtable&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_checkpointtable_default&quot;, &quot;hide&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_checkpointinterval&quot;, &quot;xmlgm_checkpointinterval&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_checkpointinterval_default&quot;, &quot;0&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Templates</span>&nbsp;</div></li><li><div>define(&quot;key_xmlgm_checkpointtabletempl&quot;, &quot;xmlgm_checkpointtabletempl&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_checkpointtabletempl_default&quot;, &quot;&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_checkpointtablerowtempl&quot;, &quot;xmlgm_checkpointtablerowtempl&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_checkpointtablerowtempl_default&quot;, &quot;&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_gpxmarkertempl&quot;, &quot;xmlgm_gpxmarkertempl&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_gpxmarkertempl_default&quot;, &quot;&quot;, true);&nbsp;</div></li><li><div>define(&quot;key_xmlgm_nggmarkertempl&quot;, &quot;xmlgm_nggmarkertempl&quot;, true);&nbsp;</div></li><li><div>define(&quot;xmlgm_nggmarkertempl_default&quot;, &quot;&quot;, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_option(key_xmlgm_dragging, xmlgm_dragging_default, 'Enables/Disables Dragging on Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_doubleClickZoom, xmlgm_doubleClickZoom_default, 'Enables/Disables Double Click Zoom on Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_continuousZoom, xmlgm_continuousZoom_default, 'Enables/Disables Continuous Zoom on Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_googleBar, xmlgm_googleBar_default, 'Enables/Disables Google Bar on Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_scrollWheelZoom, xmlgm_scrollWheelZoom_default, 'Enables/Disables Scroll Wheel Zoom on Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_uid, xmlgm_uid_default, 'Your Google Maps API Key');&nbsp;</div></li><li><div>add_option(key_xmlgm_width, xmlgm_width_default, 'Width of your Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_height, xmlgm_height_default, 'Height of your Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_align, xmlgm_align_default, 'Align of your Google Map');&nbsp;</div></li><li><div>add_option(key_xmlgm_linecolor, xmlgm_linecolor_default, 'Default Line Color of Tracks and Routes');&nbsp;</div></li><li><div>add_option(key_xmlgm_urldisplaymode, xmlgm_urldisplaymode_default, 'Default display mode for URL');&nbsp;</div></li><li><div>add_option(key_xmlgm_viewstyle, xmlgm_viewstyle_default, 'Default style for MAP');&nbsp;</div></li><li><div>add_option(key_xmlgm_linewidth, xmlgm_linewidth_default, 'Default Line Width of Tracks and Routes');&nbsp;</div></li><li><div>add_option(key_xmlgm_lineopacity, xmlgm_lineopacity_default, 'Default Line Opacity of Tracks and Routes');&nbsp;</div></li><li><div>add_option(key_xmlgm_gpxview, xmlgm_gpxview_default, 'Default GPX View Mode');&nbsp;</div></li><li><div>add_option(key_xmlgm_panzoomcontrol, xmlgm_panzoomcontrol_default, 'Pan/Zoom Control');&nbsp;</div></li><li><div>add_option(key_xmlgm_overviewmap, xmlgm_overviewmap_default, 'Overview Map Control');&nbsp;</div></li><li><div>add_option(key_xmlgm_scalecontrol, xmlgm_scalecontrol_default, 'Scale Control');&nbsp;</div></li><li><div>add_option(key_xmlgm_maptypecontrol, xmlgm_maptypecontrol_default, 'Map Type Control');&nbsp;</div></li><li><div>add_option(key_xmlgm_elevlinecolor, xmlgm_elevlinecolor_default, 'Elevation Chart Line Color');&nbsp;</div></li><li><div>add_option(key_xmlgm_elevationchart, xmlgm_elevationchart_default, 'Visibility of Elevation Chart');&nbsp;</div></li><li><div>add_option(key_xmlgm_elelinewidth, xmlgm_elelinewidth_default, 'Elevation Chart Line Width');&nbsp;</div></li><li><div>add_option(key_xmlgm_elevationheight, xmlgm_elevationheight_default, 'Height of Elevation Chart');&nbsp;</div></li><li><div>add_option(key_xmlgm_elevationmeasurement, xmlgm_elevationmeasurement_default, 'Measurement type everything');&nbsp;</div></li><li><div>add_option(key_xmlgm_gpxcssstyle, xmlgm_gpxcssstyle_default, 'GPX Waypoint CSS Style of Title and Description');&nbsp;</div></li><li><div>add_option(key_xmlgm_mapnorm, xmlgm_mapnorm_default, 'Shows/Hides Normal Map Button if Map Type Control is shown');&nbsp;</div></li><li><div>add_option(key_xmlgm_mapsat, xmlgm_mapsat_default, 'Shows/Hides Satellite Map Button if Map Type Control is shown');&nbsp;</div></li><li><div>add_option(key_xmlgm_maphyb, xmlgm_maphyb_default, 'Shows/Hides Hybrid Map Button if Map Type Control is shown');&nbsp;</div></li><li><div>add_option(key_xmlgm_mapphy, xmlgm_mapphy_default, 'Shows/Hides Physical Map Button if Map Type Control is shown');&nbsp;</div></li><li><div>add_option(key_xmlgm_mapearth, xmlgm_mapearth_default, 'Shows/Hides Google Earth Map Button if Map Type Control is shown');&nbsp;</div></li><li><div>add_option(key_xmlgm_speedlinecolor, xmlgm_speedlinecolor_default, 'Speed Chart Line Color');&nbsp;</div></li><li><div>add_option(key_xmlgm_speedchart, xmlgm_speedchart_default, 'Visibility of Speed Chart');&nbsp;</div></li><li><div>add_option(key_xmlgm_speedlinewidth, xmlgm_speedlinewidth_default, 'Speed Chart Line Width');&nbsp;</div></li><li><div>add_option(key_xmlgm_speedheight, xmlgm_speedheight_default, 'Height of Speed Chart');&nbsp;</div></li><li><div>add_option(key_xmlgm_speedscale, xmlgm_speedscale_default, 'Speed Scale');&nbsp;</div></li><li><div>add_option(key_xmlgm_elevationtitle, xmlgm_elevationtitle_default, 'Title of Elevation Chart');&nbsp;</div></li><li><div>add_option(key_xmlgm_speedcharttitle, xmlgm_speedcharttitle_default, 'Title of Speed Chart');&nbsp;</div></li><li><div>add_option(key_xmlgm_checkpointmapmarkercolor, xmlgm_checkpointmapmarkercolor_default, 'Checkpoint Marker Color on map');&nbsp;</div></li><li><div>add_option(key_xmlgm_checkpointtable, xmlgm_checkpointtable_default, 'Shows/Hides a checkpoint table');&nbsp;</div></li><li><div>add_option(key_xmlgm_checkpointinterval, xmlgm_checkpointinterval_default, 'Defines the default Checkpoint Interval (0=hide)');&nbsp;</div></li><li><div>add_option(key_xmlgm_checkpointtablerowtempl, xmlgm_checkpointtablerowtempl_default, 'HTML Template for the Checkpoint Table Row');&nbsp;</div></li><li><div>add_option(key_xmlgm_checkpointtabletempl, xmlgm_checkpointtabletempl_default, 'HTML Template for the Checkpoint Table');&nbsp;</div></li><li><div>add_option(key_xmlgm_kmlparsing, xmlgm_kmlparsing_default, 'Enables/Disables KML parsing for correct view!');&nbsp;</div></li><li><div>add_option(key_xmlgm_gpxmarkertempl, xmlgm_gpxmarkertempl_default, 'HTML Template for the GPX Marker');&nbsp;</div></li><li><div>add_option(key_xmlgm_nggmarkertempl, xmlgm_nggmarkertempl_default, 'HTML Template for the NextGen Gallery Marker');&nbsp;</div></li><li><div>add_option(key_xmlgm_gpxdirectopenwplink, xmlgm_gpxdirectopenwplink_default, 'If this option is set to click or doubleclick, this effect on marker will open the link in the GPX Waypoint Element!');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Actions & Filters</span>&nbsp;</div></li><li><div>add_filter('the_content', 'xmlgooglemaps_converter', 2);&nbsp;</div></li><li><div>add_filter('upload_mimes', 'xmlgooglemaps_mimes');&nbsp;</div></li><li><div>add_action('admin_menu', 'add_xmlgm_option_page');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Add Option Page</span>&nbsp;</div></li><li><div>function add_xmlgm_option_page() {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>  add_options_page('XML Google Maps Options', 'XML Google Maps', 8, basename(__FILE__), 'xmlgm_options_page');&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_converter($content) {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  require_once(dirname(__FILE__).'/xmlgooglemaps_helper.php');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  dbinstall();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//$content = str_replace(&quot;\n&quot;, &quot;####nnnn####&quot;, $content);</span>&nbsp;</div></li><li><div>  <span class="comment">//$content = str_replace(&quot;\r&quot;, &quot;####rrrr####&quot;, $content);</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//GPX</span>&nbsp;</div></li><li><div>  $content = xmlgooglemaps_converter_gpx($content);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//KMX</span>&nbsp;</div></li><li><div>  $content = xmlgooglemaps_converter_kmx($content);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Google Maps Meine Karten: http://maps.google.com/maps/ms?ie=UTF8&hl=de&msa=0&output=nl&msid=102758581694521177745.00000111d56d20b14f816</span>&nbsp;</div></li><li><div>  $content = xmlgooglemaps_converter_GoogleMaps($content);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Picasa Maps</span>&nbsp;</div></li><li><div>  $content = xmlgooglemaps_converter_Picasa($content);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//XML Google Maps Parts</span>&nbsp;</div></li><li><div>  $content = xmlgooglemaps_converter_myxmlgm($content);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">//$content = str_replace(&quot;####nnnn####&quot;, &quot;\n&quot;, $content);</span>&nbsp;</div></li><li><div>  <span class="comment">//$content = str_replace(&quot;####rrrr####&quot;, &quot;\r&quot;, $content);</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_mimes($mimes) {&nbsp;</div></li><li><div>  $mime_types = array ('gpx' =&gt; 'application/gpx', 'kml' =&gt; 'application/vnd.google-earth.kml+xml', 'kmz' =&gt; 'application/vnd.google-earth.kmz+xml');&nbsp;</div></li><li><div>  return array_merge($mimes, $mime_types);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function dbinstall() {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>  if (!gmxml_tableexists($wpdb-&gt;xmlgooglemapsdb)) {&nbsp;</div></li><li><div>      $create_sql = &quot;CREATE TABLE $wpdb-&gt;xmlgooglemapsdb (&quot;.&nbsp;</div></li><li><div>              &quot;xml_id INT(11) NOT NULL auto_increment, &quot;.&nbsp;</div></li><li><div>              &quot;xml_path TEXT NOT NULL , &quot;.&nbsp;</div></li><li><div>              &quot;xml_path_resolved TEXT NOT NULL , &quot;.&nbsp;</div></li><li><div>              &quot;PRIMARY KEY (xml_id))&quot;;&nbsp;</div></li><li><div>      $wpdb-&gt;query($create_sql);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  if (!gmxml_columnexists($wpdb-&gt;xmlgooglemapsdb, &quot;xml_varstring&quot;)) {&nbsp;</div></li><li><div>      $column_sql = &quot;ALTER TABLE $wpdb-&gt;xmlgooglemapsdb ADD COLUMN xml_varstring TEXT NOT NULL;&quot;;&nbsp;</div></li><li><div>      $wpdb-&gt;query($column_sql);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_converter_Picasa($content) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  preg_match_all('/\&lt;a(.*?)href=[&quot;\'](http:\/\/picasaweb\.google\.[a-z\.]*\/data\/feed\/base\/user\/[a-zA-Z0-9\/:\-\., _?&=;]*?)[&quot;\'](.*?)\&gt;(.*?)\&lt;\/a\&gt;/i', $content, $found);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  for ($i=0; $i&lt; count($found[0]);$i++) {&nbsp;</div></li><li><div>      $file = $found[2][$i];&nbsp;</div></li><li><div>      $file = str_replace(&quot;&amp;&quot;, &quot;&&quot;, $file);&nbsp;</div></li><li><div>      $file_resolved = $file;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $displayurl = $found[0][$i];&nbsp;</div></li><li><div>      $urlstring = $found[4][$i];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $iurlstring = stripos($urlstring, &quot;[&quot;);&nbsp;</div></li><li><div>      if ($iurlstring !== false) {&nbsp;</div></li><li><div>          $jurlstring = stripos($urlstring, &quot;]&quot;, $iurlstring);&nbsp;</div></li><li><div>          $iurlstring += 1;&nbsp;</div></li><li><div>          $varstring = substr($urlstring, $iurlstring, $jurlstring-$iurlstring);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $varstring = &quot;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $params = new xml_gm_params();&nbsp;</div></li><li><div>      $params-&gt;setParams($varstring);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $displayurl = getDisplayURL($params-&gt;urlDisplayMode, $displayurl, $varstring);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (strtolower($params-&gt;urlDisplayMode) == &quot;nomap&quot;) {&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], $displayurl, $content);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $mygooglemapid = getid($file, $file_resolved, $varstring);&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], '&lt;div style=&quot;text-align: '.$params-&gt;align.';&quot;&gt;&lt;iframe src=&quot;'.get_option('siteurl').'/wp-content/plugins/xml-google-maps/xmlgooglemaps_show.php?mygooglemapid='.$mygooglemapid.'&quot; style=&quot;border: 0px; width: '.$params-&gt;width.'px; height: '.$params-&gt;height.'px;&quot; name=&quot;Google_My_Map&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;'.$displayurl, $content);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_converter_GoogleMaps($content) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  preg_match_all('/\&lt;a(.*?)href=[&quot;\'](http:\/\/maps\.google\.[a-z\.]*\/maps\/ms[a-zA-Z0-9\/:\-\., _?&=;]*?)[&quot;\'](.*?)\&gt;(.*?)\&lt;\/a\&gt;/i', $content, $found);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  for ($i=0; $i&lt; count($found[0]);$i++) {&nbsp;</div></li><li><div>      $file = $found[2][$i];&nbsp;</div></li><li><div>      $file = str_replace(&quot;&amp;&quot;, &quot;&&quot;, $file);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (stripos(strtolower($file), &quot;msid=&quot;) !== false) {&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          if (stripos(strtolower($file), &quot;output=&quot;) === false) {&nbsp;</div></li><li><div>              $file .= &quot;&output=nl&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $file_resolved = $file;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          $displayurl = $found[0][$i];&nbsp;</div></li><li><div>          $urlstring = $found[4][$i];&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          $iurlstring = stripos($urlstring, &quot;[&quot;);&nbsp;</div></li><li><div>          if ($iurlstring !== false) {&nbsp;</div></li><li><div>              $jurlstring = stripos($urlstring, &quot;]&quot;, $iurlstring);&nbsp;</div></li><li><div>              $iurlstring += 1;&nbsp;</div></li><li><div>              $varstring = substr($urlstring, $iurlstring, $jurlstring-$iurlstring);&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $varstring = &quot;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          $params = new xml_gm_params();&nbsp;</div></li><li><div>          $params-&gt;setParams($varstring);&nbsp;</div></li><li><div>          $displayurl = getDisplayURL($params-&gt;urlDisplayMode, $displayurl, $varstring);&nbsp;</div></li><li><div>          if (strtolower($params-&gt;urlDisplayMode) == &quot;nomap&quot;) {&nbsp;</div></li><li><div>              $content = str_replace($found[0][$i], $displayurl, $content);&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $mygooglemapid = getid($file, $file_resolved, $varstring);&nbsp;</div></li><li><div>              $content = str_replace($found[0][$i], '&lt;div style=&quot;text-align: '.$params-&gt;align.';&quot;&gt;&lt;iframe src=&quot;'.get_option('siteurl').'/wp-content/plugins/xml-google-maps/xmlgooglemaps_show.php?mygooglemapid='.$mygooglemapid.'&quot; style=&quot;border: 0px; width: '.$params-&gt;width.'px; height: '.$params-&gt;height.'px;&quot; name=&quot;Google_My_Map&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;'.$displayurl, $content);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], '&lt;p style=&quot;color: red;&quot;&gt;&lt;b&gt;Error in displaying map:&lt;/b&gt;&lt;br /&gt;I think your link to the My Google Maps is not correct. Please have a look at the following image:&lt;br /&gt;&lt;img src=&quot;'.get_option('siteurl').'/wp-content/plugins/xml-google-maps/help01.jpg&quot; /&gt;&lt;br /&gt;You have to save your Google Map first!&lt;/p&gt;'.$displayurl, $content);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_converter_kmx($content) {&nbsp;</div></li><li><div>  preg_match_all('/\&lt;a(.*?)href=[&quot;\']([a-zA-Z0-9\/:\-\._]*?.km[lz])[&quot;\'](.*?)\&gt;(.*?)\&lt;\/a\&gt;/i', $content, $found);&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>  for ($i=0; $i&lt; count($found[0]);$i++) {&nbsp;</div></li><li><div>      $file = $found[2][$i];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $plugins=get_option('active_plugins');&nbsp;</div></li><li><div>      $pluginpath= &quot;&quot;;&nbsp;</div></li><li><div>      for ($j=0; $j&lt;count($plugins); $j++) {&nbsp;</div></li><li><div>          if (stripos($plugins[$j], &quot;xmlgooglemaps.php&quot;) &gt; 0) {&nbsp;</div></li><li><div>              $pluginpath = dirname(PLUGINDIR.&quot;/&quot;.$plugins[$j]);&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $surl = get_option('siteurl');&nbsp;</div></li><li><div>      $spath = preg_replace('|/'.$pluginpath.'.*|i', '', dirname(__FILE__));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $file_resolved = $file;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (stripos($file, $surl)==0) {&nbsp;</div></li><li><div>          $newres = str_replace($surl, $spath, $file);&nbsp;</div></li><li><div>          if (file_exists($newres)) {&nbsp;</div></li><li><div>              $file_resolved = $newres;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $displayurl = $found[0][$i];&nbsp;</div></li><li><div>      $urlstring = $found[4][$i];&nbsp;</div></li><li><div>      $iurlstring = stripos($urlstring, &quot;[&quot;);&nbsp;</div></li><li><div>      if ($iurlstring !== false) {&nbsp;</div></li><li><div>          $jurlstring = stripos($urlstring, &quot;]&quot;, $iurlstring);&nbsp;</div></li><li><div>          $iurlstring += 1;&nbsp;</div></li><li><div>          $varstring = substr($urlstring, $iurlstring, $jurlstring-$iurlstring);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $varstring = &quot;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $params = new xml_gm_params();&nbsp;</div></li><li><div>      $params-&gt;setParams($varstring);&nbsp;</div></li><li><div>      $displayurl = getDisplayURL($params-&gt;urlDisplayMode, $displayurl, $varstring);&nbsp;</div></li><li><div>      if (strtolower($params-&gt;urlDisplayMode) == &quot;nomap&quot;) {&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], $displayurl, $content);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $kmlid = getid($file, $file_resolved, $varstring);&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], '&lt;div style=&quot;text-align: '.$params-&gt;align.';&quot;&gt;&lt;iframe src=&quot;'.get_option('siteurl').'/wp-content/plugins/xml-google-maps/xmlgooglemaps_show.php?kmlid='.$kmlid.'&quot; style=&quot;border: 0px; width: '.$params-&gt;width.'px; height: '.$params-&gt;height.'px;&quot; name=&quot;Google_KML_Maps&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;'.$displayurl, $content);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_converter_myxmlgm($content) {&nbsp;</div></li><li><div>  preg_match_all('/\[xmlgm(.*?)\]/i', $content, $found);&nbsp;</div></li><li><div>  for ($i=0; $i&lt; count($found[0]);$i++) {&nbsp;</div></li><li><div>      $varstring = str_replace(&quot;[xmlgm&quot;, &quot;&quot;, $found[0][$i]);&nbsp;</div></li><li><div>      $varstring = str_replace(&quot;]&quot;, &quot;&quot;, $varstring);&nbsp;</div></li><li><div>      $varstring = trim($varstring);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Support added for any other GeoXML [xmlgm {url} parameter]</span>&nbsp;</div></li><li><div>      $pathi = stripos($varstring, &quot;{&quot;);&nbsp;</div></li><li><div>      $pathj = stripos($varstring, &quot;}&quot;);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (($pathi !== false) && ($pathj !== false)) {&nbsp;</div></li><li><div>          $path = trim(substr($varstring, $pathi+1, $pathj-$pathi-1));&nbsp;</div></li><li><div>          $varstring = trim(substr($varstring, 0, $pathi).substr($varstring, $pathj+1));&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $params = new xml_gm_params();&nbsp;</div></li><li><div>      $params-&gt;setParams($varstring);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if (strtolower($params-&gt;urlDisplayMode) != &quot;nomap&quot;) {&nbsp;</div></li><li><div>          $myid = getid($path, $path, $varstring);&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], '&lt;div style=&quot;text-align: '.$params-&gt;align.';&quot;&gt;&lt;iframe src=&quot;'.get_option('siteurl').'/wp-content/plugins/xml-google-maps/xmlgooglemaps_show.php?myid='.$myid.'&quot; style=&quot;border: 0px; width: '.$params-&gt;width.'px; height: '.$params-&gt;height.'px;&quot; name=&quot;My_XML_Google_Maps&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;', $content);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function xmlgooglemaps_converter_gpx($content) {&nbsp;</div></li><li><div>  preg_match_all('/\&lt;a(.*?)href=[&quot;\']([a-zA-Z0-9\/:\-\._]*?.gpx)[&quot;\'](.*?)\&gt;(.*?)\&lt;\/a\&gt;/i', $content, $found);&nbsp;</div></li><li><div>  <span class="comment">//preg_match_all('/\&lt;a([^\&gt;]*?)href=[&quot;\']([a-zA-Z0-9\/:\-\._]*?.gpx)[&quot;\']([^\&gt;]*?)\&gt;(.*?)\&lt;\/a\&gt;/i', $content, $found);</span>&nbsp;</div></li><li><div>  <span class="comment">//    print(&quot;&lt;!-- &quot;);</span>&nbsp;</div></li><li><div>  <span class="comment">//    print_r($found);</span>&nbsp;</div></li><li><div>  <span class="comment">//    print(&quot; --&gt;&quot;);</span>&nbsp;</div></li><li><div>  for ($i=0; $i&lt; count($found[0]);$i++) {&nbsp;</div></li><li><div>      $file = $found[2][$i];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $plugins=get_option('active_plugins');&nbsp;</div></li><li><div>      $pluginpath= &quot;&quot;;&nbsp;</div></li><li><div>      for ($j=0; $j&lt;count($plugins); $j++) {&nbsp;</div></li><li><div>          if (stripos($plugins[$j], &quot;xmlgooglemaps.php&quot;) &gt; 0) {&nbsp;</div></li><li><div>              $pluginpath = dirname(PLUGINDIR.&quot;/&quot;.$plugins[$j]);&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $surl = get_option('siteurl');&nbsp;</div></li><li><div>      $spath = preg_replace('|/'.$pluginpath.'.*|i', '', dirname(__FILE__));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $file_resolved = $file;&nbsp;</div></li><li><div>      if (stripos($file, $surl)==0) {&nbsp;</div></li><li><div>          $newres = str_replace($surl, $spath, $file);&nbsp;</div></li><li><div>          if (file_exists($newres)) {&nbsp;</div></li><li><div>              $file_resolved = $newres;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $urlstring = $found[4][$i];&nbsp;</div></li><li><div>      $iurlstring = stripos($urlstring, &quot;[&quot;);&nbsp;</div></li><li><div>      $displayurl = $found[0][$i];&nbsp;</div></li><li><div>      if ($iurlstring !== false) {&nbsp;</div></li><li><div>          $jurlstring = stripos($urlstring, &quot;]&quot;, $iurlstring);&nbsp;</div></li><li><div>          $iurlstring += 1;&nbsp;</div></li><li><div>          $varstring = substr($urlstring, $iurlstring, $jurlstring-$iurlstring);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $varstring = &quot;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $params = new xml_gm_params();&nbsp;</div></li><li><div>      $params-&gt;setParams($varstring);&nbsp;</div></li><li><div>      $displayurl = getDisplayURL($params-&gt;urlDisplayMode, $displayurl, $varstring);&nbsp;</div></li><li><div>      if (strtolower($params-&gt;urlDisplayMode) == &quot;nomap&quot;) {&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], $displayurl, $content);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $gpxid = getid($file, $file_resolved, $varstring);&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          <span class="comment">//Altitudes / Speed Charts</span>&nbsp;</div></li><li><div>          $altstring = &quot;&quot;;&nbsp;</div></li><li><div>          $speedstring = &quot;&quot;;&nbsp;</div></li><li><div>          $cptabstring = &quot;&quot;;&nbsp;</div></li><li><div>          if (($params-&gt;gpxElevationChart == &quot;show&quot;) || ($params-&gt;gpxSpeedChart == &quot;show&quot;) || ($params-&gt;gpxCheckpointTable == &quot;show&quot;) ) {&nbsp;</div></li><li><div>              require_once(dirname(__FILE__).'/xmlgooglemaps_gpxParser.php');&nbsp;</div></li><li><div>              require_once(dirname(__FILE__).'/xmlgooglemaps_googleChartsAPI.php');&nbsp;</div></li><li><div>              $gpxfile = new gpxParser();&nbsp;</div></li><li><div>              $gpxfile-&gt;parse($file_resolved);&nbsp;</div></li><li><div>              $gpxdata = $gpxfile-&gt;output;&nbsp;</div></li><li><div>              if (($params-&gt;gpxView == &quot;all&quot;) || ($params-&gt;gpxView == &quot;trk&quot;)) {&nbsp;</div></li><li><div>                  $trkmax = $gpxdata[&quot;trk_count&quot;];&nbsp;</div></li><li><div>                  $x_ele = array();&nbsp;</div></li><li><div>                  $y_ele = array();&nbsp;</div></li><li><div>                  $dist_speed = array();&nbsp;</div></li><li><div>                  $time_speed = array();&nbsp;</div></li><li><div>                  $ptcount = 0;&nbsp;</div></li><li><div>                  $dist = 0;&nbsp;</div></li><li><div>                  for ($trkcount=0;$trkcount&lt;$trkmax; $trkcount++) {&nbsp;</div></li><li><div>                      $trkptmax=$gpxdata[&quot;trk&quot;.$trkcount][&quot;trkpt_count&quot;];&nbsp;</div></li><li><div>                      for ($trkptcount=0;$trkptcount&lt;$trkptmax; $trkptcount++) {&nbsp;</div></li><li><div>                          $pt = $gpxdata[&quot;trk&quot;.$trkcount][&quot;trkpt&quot;.$trkptcount];&nbsp;</div></li><li><div>                          if ($ptcount==0) {&nbsp;</div></li><li><div>                              $lat1 = floatval($pt[&quot;lat&quot;]);&nbsp;</div></li><li><div>                              $lon1 = floatval($pt[&quot;lon&quot;]);&nbsp;</div></li><li><div>                              $time1 = myFunctions::xmlDate2DateTime($pt[&quot;time&quot;]);&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $lat2 = floatval($pt[&quot;lat&quot;]);&nbsp;</div></li><li><div>                          $lon2 = floatval($pt[&quot;lon&quot;]);&nbsp;</div></li><li><div>                          $time2 = myFunctions::xmlDate2DateTime($pt[&quot;time&quot;]);&nbsp;</div></li><li><div>                          $tmp = myFunctions::distBetween2PointsKM($lat1, $lon1, $lat2, $lon2);&nbsp;</div></li><li><div>                          if (!is_nan($tmp)) {&nbsp;</div></li><li><div>                              $dist += $tmp;&nbsp;</div></li><li><div>                              if (($tmp&gt;0) && ($time2-$time1&gt;0)) {&nbsp;</div></li><li><div>                                  $dist_speed[] = $tmp;&nbsp;</div></li><li><div>                                  $time_speed[] = $time2-$time1;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              switch ($params-&gt;measurement) {&nbsp;</div></li><li><div>                                  case &quot;imperial&quot;:&nbsp;</div></li><li><div>                                      $x_ele[] = $dist/1.609344;&nbsp;</div></li><li><div>                                      $y_ele[] = $pt[&quot;ele&quot;]/0.3048;                                        &nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  case &quot;nautic_imperial&quot;:&nbsp;</div></li><li><div>                                      $x_ele[] = $dist/1.852216;&nbsp;</div></li><li><div>                                      $y_ele[] = $pt[&quot;ele&quot;]/0.3048;                                        &nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  case &quot;nautic_metric&quot;:&nbsp;</div></li><li><div>                                      $x_ele[] = $dist/1.852216;&nbsp;</div></li><li><div>                                      $y_ele[] = $pt[&quot;ele&quot;];                                        &nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  case &quot;metric&quot;:&nbsp;</div></li><li><div>                                  default:&nbsp;</div></li><li><div>                                      $x_ele[] = $dist;&nbsp;</div></li><li><div>                                      $y_ele[] = $pt[&quot;ele&quot;];                                        &nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              $lat1 = $lat2;&nbsp;</div></li><li><div>                              $lon1 = $lon2;&nbsp;</div></li><li><div>                              $time1 = $time2;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $ptcount++;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ($dist&gt;0) {&nbsp;</div></li><li><div>                      if ($params-&gt;gpxElevationChart == &quot;show&quot;) {&nbsp;</div></li><li><div>                          $alt = new googleChartsApi_PMPro($x_ele, $y_ele);&nbsp;</div></li><li><div>                          $altstring .= '&lt;img style=&quot;text-align: '.$params-&gt;align.'; margin: 0px; padding: 0px; max-width: 100%;&quot; src=&quot;'.$alt-&gt;getEleUrl($params-&gt;width, $params-&gt;gpxElevationChartHeight, $params-&gt;gpxElevationLineColor, $params-&gt;gpxElevationLineWidth, $params-&gt;measurement, $params-&gt;gpxElevationChartTitle, $params-&gt;gpxCheckpointInterval).'&quot; /&gt;&lt;br /&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      if ($params-&gt;gpxSpeedChart == &quot;show&quot;) {&nbsp;</div></li><li><div>                          $newdist=0;&nbsp;</div></li><li><div>                          $newtime=0;&nbsp;</div></li><li><div>                          $newtotaldist=0;&nbsp;</div></li><li><div>                          $x_speed = array();&nbsp;</div></li><li><div>                          $y_speed = array();&nbsp;</div></li><li><div>                          for ($spi=0;$spi&lt;count($dist_speed); $spi++) {&nbsp;</div></li><li><div>                              $newdist += $dist_speed[$spi];&nbsp;</div></li><li><div>                              $newtotaldist += $dist_speed[$spi];&nbsp;</div></li><li><div>                              $newtime += $time_speed[$spi];&nbsp;</div></li><li><div>                              switch (strtolower($params-&gt;measurement.$params-&gt;speedscale)) {&nbsp;</div></li><li><div>                                  case &quot;imperiallevel2&quot;:&nbsp;</div></li><li><div>                                      $x_speed[] = $newtotaldist/1.609344;&nbsp;</div></li><li><div>                                      $y_speed[] = ($newdist/1.609344) / ($newtime/3600);&nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  case &quot;imperiallevel1&quot;:&nbsp;</div></li><li><div>                                      $x_speed[] = $newtotaldist/1.609344;&nbsp;</div></li><li><div>                                      $y_speed[] = ($newdist/0.3048) / ($newtime);&nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  case &quot;metriclevel1&quot;:&nbsp;</div></li><li><div>                                      $x_speed[] = $newtotaldist;&nbsp;</div></li><li><div>                                      $y_speed[] = ($newdist*1000) / ($newtime);&nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  case &quot;nautic_metriclevel1&quot;:&nbsp;</div></li><li><div>                                  case &quot;nautic_metriclevel2&quot;:&nbsp;</div></li><li><div>                                  case &quot;nautic_imperiallevel1&quot;:&nbsp;</div></li><li><div>                                  case &quot;nautic_imperiallevel2&quot;:                                        &nbsp;</div></li><li><div>                                      $x_speed[] = $newtotaldist/1.852216;&nbsp;</div></li><li><div>                                      $y_speed[] = ($newdist/1.852216) / ($newtime/3600);&nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                                  default:&nbsp;</div></li><li><div>                                  case &quot;metriclevel2&quot;:&nbsp;</div></li><li><div>                                      $x_speed[] = $newtotaldist;&nbsp;</div></li><li><div>                                      $y_speed[] = ($newdist) / ($newtime/3600);&nbsp;</div></li><li><div>                                      break;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              $newdist=0;&nbsp;</div></li><li><div>                              $newtime=0;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $sp = new googleChartsApi_PMPro($x_speed, $y_speed, 0);&nbsp;</div></li><li><div>                          $speedstring .= '&lt;img style=&quot;text-align: '.$params-&gt;align.'; margin: 0px; padding: 0px; max-width: 100%;&quot; src=&quot;'.$sp-&gt;getSpeedUrl($params-&gt;width, $params-&gt;gpxSpeedChartHeight, $params-&gt;gpxSpeedLineColor, $params-&gt;gpxSpeedLineWidth, $params-&gt;measurement, $params-&gt;speedscale, $params-&gt;gpxSpeedChartTitle, $params-&gt;gpxCheckpointInterval).'&quot; /&gt;&lt;br /&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      if ($params-&gt;gpxCheckpointTable == &quot;show&quot;) {&nbsp;</div></li><li><div>                          $cptabstring = $params-&gt;gpxCheckpointTableTemplate;&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%WIDTH%&quot;, $params-&gt;width, $cptabstring);&nbsp;</div></li><li><div>                          <span class="comment">//Vorbereiten des Masssystems</span>&nbsp;</div></li><li><div>                          switch ($params-&gt;measurement) {&nbsp;</div></li><li><div>                              case &quot;imperial&quot;:&nbsp;</div></li><li><div>                                  $divident = 1.609344;&nbsp;</div></li><li><div>                                  $measurement = &quot;mi&quot;;&nbsp;</div></li><li><div>                                  $divident2 = 0.3048;&nbsp;</div></li><li><div>                                  $measurement2 = &quot;ft&quot;;&nbsp;</div></li><li><div>                                  if ($params-&gt;speedscale == &quot;level1&quot;) {&nbsp;</div></li><li><div>                                      $scale = &quot;fps&quot;;&nbsp;</div></li><li><div>                                  } else {&nbsp;</div></li><li><div>                                      $scale = &quot;mph&quot;;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  break;&nbsp;</div></li><li><div>                              case &quot;nautic_metric&quot;:    &nbsp;</div></li><li><div>                                  $divident = 1.852216;&nbsp;</div></li><li><div>                                  $measurement = &quot;nm&quot;;&nbsp;</div></li><li><div>                                  $divident2 = 1;&nbsp;</div></li><li><div>                                  $measurement2 = &quot;m&quot;;&nbsp;</div></li><li><div>                                  $scale = &quot;kn&quot;;&nbsp;</div></li><li><div>                                  break;&nbsp;</div></li><li><div>                              case &quot;nautic_imperial&quot;:    &nbsp;</div></li><li><div>                                  $divident = 1.852216;&nbsp;</div></li><li><div>                                  $measurement = &quot;nm&quot;;&nbsp;</div></li><li><div>                                  $divident2 = 0.3048;&nbsp;</div></li><li><div>                                  $measurement2 = &quot;ft&quot;;&nbsp;</div></li><li><div>                                  $scale = &quot;kn&quot;;&nbsp;</div></li><li><div>                                  break;&nbsp;</div></li><li><div>                              default:&nbsp;</div></li><li><div>                                  $divident = 1;&nbsp;</div></li><li><div>                                  $measurement = &quot;km&quot;;&nbsp;</div></li><li><div>                                  $divident2 = 1;&nbsp;</div></li><li><div>                                  $measurement2 = &quot;m&quot;;&nbsp;</div></li><li><div>                                  if ($params-&gt;speedscale == &quot;level1&quot;) {&nbsp;</div></li><li><div>                                      $scale = &quot;m/s&quot;;&nbsp;</div></li><li><div>                                  } else {&nbsp;</div></li><li><div>                                      $scale = &quot;km/s&quot;;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  break;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          <span class="comment">//Initialisierung</span>&nbsp;</div></li><li><div>                          $trkmax = $gpxdata[&quot;trk_count&quot;];&nbsp;</div></li><li><div>                          $nextcheckpointnumber=1;                            &nbsp;</div></li><li><div>                          $dist = 0;&nbsp;</div></li><li><div>                          $lastdist=0;&nbsp;</div></li><li><div>                          $totaltime = 0;&nbsp;</div></li><li><div>                          $lasttotaltime=0;&nbsp;</div></li><li><div>                          $movingtime = 0;                            &nbsp;</div></li><li><div>                          $lastmovingtime = 0;                                            &nbsp;</div></li><li><div>                          $lastpt = &quot;&quot;;&nbsp;</div></li><li><div>                          $maxpartspeed = 0;&nbsp;</div></li><li><div>                          $maxspeed = 0;&nbsp;</div></li><li><div>                          $partclimbup = 0;&nbsp;</div></li><li><div>                          $climbup = 0;&nbsp;</div></li><li><div>                          $partclimbdown = 0;&nbsp;</div></li><li><div>                          $climbdown = 0;&nbsp;</div></li><li><div>                          $checkpointnumber = 1;&nbsp;</div></li><li><div>                          <span class="comment">//Trackpunkte durchgehen</span>&nbsp;</div></li><li><div>                          for ($trkcount=0;$trkcount&lt;$trkmax; $trkcount++) {&nbsp;</div></li><li><div>                              $trkptmax=$gpxdata[&quot;trk&quot;.$trkcount][&quot;trkpt_count&quot;];&nbsp;</div></li><li><div>                              for ($trkptcount=0;$trkptcount&lt;$trkptmax; $trkptcount+=$params-&gt;gpxInterval) {&nbsp;</div></li><li><div>                                  $pt = $gpxdata[&quot;trk&quot;.$trkcount][&quot;trkpt&quot;.$trkptcount];&nbsp;</div></li><li><div>                                  if (($params-&gt;gpxCheckpointInterval&gt;0)) {&nbsp;</div></li><li><div>                                      if (($trkcount &gt; 0) || ($trkptcount&gt;0)) {&nbsp;</div></li><li><div>                                          <span class="comment">//2. - n-1. Punkt</span>&nbsp;</div></li><li><div>                                          $deltatime = myFunctions::xmlDate2DateTime($pt[&quot;time&quot;])-myFunctions::xmlDate2DateTime($lastpt[&quot;time&quot;]);&nbsp;</div></li><li><div>                                          $deltadist = myFunctions::distBetween2PointsKM(floatval($lastpt[&quot;lat&quot;]), floatval($lastpt[&quot;lon&quot;]), floatval($pt[&quot;lat&quot;]), floatval($pt[&quot;lon&quot;]));&nbsp;</div></li><li><div>                                          <span class="comment">//Zeit und Distanz (Durchschnittsgeschwindigkeit)</span>&nbsp;</div></li><li><div>                                          $totaltime += $deltatime;&nbsp;</div></li><li><div>                                          $dist += $deltadist;&nbsp;</div></li><li><div>                                          <span class="comment">//Zeit (nur falls eine Distanz zur*ckgelegt wurde)</span>&nbsp;</div></li><li><div>                                          if ($deltadist!=0) {&nbsp;</div></li><li><div>                                              $movingtime += $deltatime;&nbsp;</div></li><li><div>                                          }&nbsp;</div></li><li><div>                                          <span class="comment">//Max Speed</span>&nbsp;</div></li><li><div>                                          $maxpartspeed = max(myFunctions::getSpeed($params-&gt;measurement, $params-&gt;speedscale, $deltadist, $deltatime), $maxpartspeed);&nbsp;</div></li><li><div>                                          $maxspeed = max($maxpartspeed, $maxspeed);&nbsp;</div></li><li><div>                                          <span class="comment">//H*henmeter</span>&nbsp;</div></li><li><div>                                          $elediff = (intval($pt[&quot;ele&quot;])-intval($lastpt[&quot;ele&quot;]))/ $divident2;&nbsp;</div></li><li><div>                                          if ($elediff&gt;0) {&nbsp;</div></li><li><div>                                              $climbup += $elediff;&nbsp;</div></li><li><div>                                              $partclimbup += $elediff;&nbsp;</div></li><li><div>                                          } else {&nbsp;</div></li><li><div>                                              $climbdown -= $elediff;&nbsp;</div></li><li><div>                                              $partclimbdown -= $elediff;&nbsp;</div></li><li><div>                                          }&nbsp;</div></li><li><div>                                          if ($dist/$divident&gt;$nextcheckpointnumber*$params-&gt;gpxCheckpointInterval) {&nbsp;</div></li><li><div>                                              $cpadd=&quot;&quot;;&nbsp;</div></li><li><div>                                              $cptabstringrow = $params-&gt;gpxCheckpointTableRowTemplate;&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%MARKERIMAGEURL%&quot; , get_option('siteurl').'/wp-content/plugins/xml-google-maps/mm_20_'.$params-&gt;gpxCheckpointMarkerColor.$cpadd.'.png', $cptabstringrow);&nbsp;</div></li><li><div>                                              &nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%DISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, $dist/$divident).' '.$measurement, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTDISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, ($dist-$lastdist)/$divident).' '.$measurement, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%TIME%&quot; , myFunctions::seconds2Text($totaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTTIME%&quot; , myFunctions::seconds2Text($totaltime-$lasttotaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%MOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTMOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime-$lastmovingtime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%SPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $totaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist-$lastdist, $totaltime-$lasttotaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%MOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $movingtime), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTMOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist-$lastdist, $movingtime-$lastmovingtime), $cptabstringrow);                                                &nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%MAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxspeed), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTMAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxpartspeed), $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%CHECKPOINTNUMBER%&quot; , $checkpointnumber++, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%CLIMBUP%&quot; , round($climbup, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%CLIMBDOWN%&quot; , round($climbdown, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTCLIMBUP%&quot; , round($partclimbup, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstringrow = str_replace(&quot;%PARTCLIMBDOWN%&quot; , round($partclimbdown, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                                              $cptabstring = str_replace(&quot;%ROW%&quot;, $cptabstringrow.&quot;%ROW%&quot;, $cptabstring);&nbsp;</div></li><li><div>                                              $nextcheckpointnumber = floor(($dist/$divident) / $params-&gt;gpxCheckpointInterval) + 1;&nbsp;</div></li><li><div>                                              $lastdist = $dist;&nbsp;</div></li><li><div>                                              $lasttotaltime = $totaltime;&nbsp;</div></li><li><div>                                              $lastmovingtime = $movingtime;&nbsp;</div></li><li><div>                                              $maxpartspeed = 0;&nbsp;</div></li><li><div>                                              $partclimbdown = 0;&nbsp;</div></li><li><div>                                              $partclimbup = 0;&nbsp;</div></li><li><div>                                          }&nbsp;</div></li><li><div>                                      } else {&nbsp;</div></li><li><div>                                          <span class="comment">//1. Punkt</span>&nbsp;</div></li><li><div>                                          $cpadd=&quot;_s&quot;;&nbsp;</div></li><li><div>                                          $cptabstringrow = $params-&gt;gpxCheckpointTableRowTemplate;&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%MARKERIMAGEURL%&quot; , get_option('siteurl').'/wp-content/plugins/xml-google-maps/mm_20_'.$params-&gt;gpxCheckpointMarkerColor.$cpadd.'.png', $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%DISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, $dist/$divident).' '.$measurement, $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTDISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, ($dist-$lastdist)/$divident).' '.$measurement, $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%TIME%&quot; , myFunctions::seconds2Text($totaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTTIME%&quot; , myFunctions::seconds2Text($totaltime-$lasttotaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%MOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTMOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime-$lastmovingtime), $cptabstringrow);                                            &nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%SPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $totaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist-$lastdist, $totaltime-$lasttotaltime), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%MOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $movingtime), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTMOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist-$lastdist, $movingtime-$lastmovingtime), $cptabstringrow);                                                                                            &nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%MAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxspeed), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTMAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxpartspeed), $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%CHECKPOINTNUMBER%&quot; , $checkpointnumber++, $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%CLIMBUP%&quot; , '-', $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%CLIMBDOWN%&quot; , '-', $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTCLIMBUP%&quot; , '-', $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstringrow = str_replace(&quot;%PARTCLIMBDOWN%&quot; , '-', $cptabstringrow);&nbsp;</div></li><li><div>                                          $cptabstring = str_replace(&quot;%ROW%&quot;, $cptabstringrow.&quot;%ROW%&quot;, $cptabstring);&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  $lastpt = $pt;&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          if (($params-&gt;gpxCheckpointInterval&gt;0)) {&nbsp;</div></li><li><div>                              <span class="comment">//Letzter Punkt, falls noch notwendig!</span>&nbsp;</div></li><li><div>                              $cpadd=&quot;_e&quot;;&nbsp;</div></li><li><div>                              $cptabstringrow = $params-&gt;gpxCheckpointTableRowTemplate;&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%MARKERIMAGEURL%&quot; , get_option('siteurl').'/wp-content/plugins/xml-google-maps/mm_20_'.$params-&gt;gpxCheckpointMarkerColor.$cpadd.'.png', $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%DISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, $dist/$divident).' '.$measurement, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTDISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, ($dist-$lastdist)/$divident).' '.$measurement, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%TIME%&quot; , myFunctions::seconds2Text($totaltime), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTTIME%&quot; , myFunctions::seconds2Text($totaltime-$lasttotaltime), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%MOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTMOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime-$lastmovingtime), $cptabstringrow);                                                                &nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%SPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $totaltime), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist-$lastdist, $totaltime-$lasttotaltime), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%MOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $movingtime), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTMOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist-$lastdist, $movingtime-$lastmovingtime), $cptabstringrow);                                &nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%MAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxspeed), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTMAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxpartspeed), $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%CHECKPOINTNUMBER%&quot; , $checkpointnumber++, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%CLIMBUP%&quot; , round($climbup, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%CLIMBDOWN%&quot; , round($climbdown, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTCLIMBUP%&quot; , round($partclimbup, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstringrow = str_replace(&quot;%PARTCLIMBDOWN%&quot; , round($partclimbdown, 0).' '.$measurement2, $cptabstringrow);&nbsp;</div></li><li><div>                              $cptabstring = str_replace(&quot;%ROW%&quot;, $cptabstringrow.&quot;%ROW%&quot;, $cptabstring);&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          <span class="comment">//Endbehandlung</span>&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%DISTANCE%&quot; , sprintf(&quot;%01.3f&quot;, $dist/$divident).' '.$measurement, $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%TIME%&quot; , myFunctions::seconds2Text($totaltime), $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%MOVINGTIME%&quot; , myFunctions::seconds2Text($movingtime), $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%SPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $totaltime), $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%MOVINGSPEED%&quot; , myFunctions::getSpeedString($params-&gt;measurement, $params-&gt;speedscale, $dist, $movingtime), $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%MAXSPEED%&quot; , myFunctions::getSpeedString2($params-&gt;measurement, $params-&gt;speedscale, $maxspeed), $cptabstring);                            &nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%CLIMBUP%&quot; , round($climbup, 0).' '.$measurement2, $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%CLIMBDOWN%&quot; , round($climbdown, 0).' '.$measurement2, $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%PARTCLIMBUP%&quot; , round($partclimbup, 0).' '.$measurement2, $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = str_replace(&quot;%PARTCLIMBDOWN%&quot; , round($partclimbdown, 0).' '.$measurement2, $cptabstring);&nbsp;</div></li><li><div>                          $cptabstring = $cptabstring = str_replace(&quot;%ROW%&quot;, &quot;&quot;, $cptabstring);;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $repstring = '&lt;div style=&quot;text-align: '.$params-&gt;align.';&quot;&gt;';&nbsp;</div></li><li><div>          $repstring .= '&lt;iframe src=&quot;'.get_option('siteurl').'/wp-content/plugins/xml-google-maps/xmlgooglemaps_show.php?gpxid='.$gpxid.'&quot; style=&quot;border: 0px; width: '.$params-&gt;width.'px; height: '.$params-&gt;height.'px;&quot; name=&quot;Google_Gpx_Maps&quot; frameborder=&quot;0&quot;&gt;';&nbsp;</div></li><li><div>          $repstring .= '&lt;/iframe&gt;&lt;/div&gt;'.$altstring.$speedstring.$cptabstring.$displayurl.'';&nbsp;</div></li><li><div>          $content = str_replace($found[0][$i], $repstring, $content);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $content;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function gmxml_tableexists($tablename) {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>  foreach ($wpdb-&gt;get_col(&quot;SHOW TABLES&quot;, 0) as $table ) {&nbsp;</div></li><li><div>      if ($table == $tablename) {&nbsp;</div></li><li><div>          return true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return false;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function gmxml_columnexists($tablename, $columnname) {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>  foreach ($wpdb-&gt;get_col(&quot;DESC $tablename&quot;, 0) as $column ) {&nbsp;</div></li><li><div>      if ($column == $columnname) {&nbsp;</div></li><li><div>          return true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return false;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function getid($path, $resolvedpath, $varstring) {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>  <span class="comment">// Check IP From IP Logging Database</span>&nbsp;</div></li><li><div>  $ret = $wpdb-&gt;get_var(&quot;SELECT xml_id FROM $wpdb-&gt;xmlgooglemapsdb WHERE xml_path = '$path' AND xml_path_resolved = '$resolvedpath' AND xml_varstring = '$varstring'&quot;);&nbsp;</div></li><li><div>  if ($ret == 0) {&nbsp;</div></li><li><div>      $wpdb-&gt;query(&quot;INSERT INTO $wpdb-&gt;xmlgooglemapsdb (xml_path, xml_path_resolved, xml_varstring) VALUES ('$path', '$resolvedpath', '$varstring')&quot;);&nbsp;</div></li><li><div>      $ret = getid($path, $resolvedpath, $varstring);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return intval($ret);&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">//Optiona Page</span>&nbsp;</div></li><li><div>function xmlgm_options_page() {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>  require_once(dirname(__FILE__).'/xmlgooglemaps_helper.php');&nbsp;</div></li><li><div>  <span class="comment">// If we are a postback, store the options</span>&nbsp;</div></li><li><div>  if (isset($_POST['info_update'])) {&nbsp;</div></li><li><div>      check_admin_referer();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Google Maps API</span>&nbsp;</div></li><li><div>      $xmlgm_uid = $_POST[key_xmlgm_uid];&nbsp;</div></li><li><div>      if ($xmlgm_uid == '')&nbsp;</div></li><li><div>      $xmlgm_uid = xmlgm_uid_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_uid, $xmlgm_uid);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Width</span>&nbsp;</div></li><li><div>      $xmlgm_width = intval($_POST[key_xmlgm_width]);&nbsp;</div></li><li><div>      if ($xmlgm_width == 0)&nbsp;</div></li><li><div>      $xmlgm_width = xmlgm_width_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_width, $xmlgm_width);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Height</span>&nbsp;</div></li><li><div>      $xmlgm_height = intval($_POST[key_xmlgm_height]);&nbsp;</div></li><li><div>      if ($xmlgm_height == 0)&nbsp;</div></li><li><div>      $xmlgm_height = xmlgm_height_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_height, $xmlgm_height);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// IFrame Align</span>&nbsp;</div></li><li><div>      $xmlgm_align = $_POST[key_xmlgm_align];&nbsp;</div></li><li><div>      if ($xmlgm_align == '')&nbsp;</div></li><li><div>      $xmlgm_align = xmlgm_align_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_align, $xmlgm_align);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Line Color</span>&nbsp;</div></li><li><div>      $xmlgm_linecolor = myFunctions::colorName2Hex($_POST[key_xmlgm_linecolor]);&nbsp;</div></li><li><div>      if ($xmlgm_linecolor == '')&nbsp;</div></li><li><div>      $xmlgm_linecolor = xmlgm_linecolor_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_linecolor, $xmlgm_linecolor);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Elevation Line Color</span>&nbsp;</div></li><li><div>      $xmlgm_elelinecolor = myFunctions::colorName2Hex($_POST[key_xmlgm_elevlinecolor]);&nbsp;</div></li><li><div>      if ($xmlgm_elelinecolor == '')&nbsp;</div></li><li><div>      $xmlgm_elelinecolor = xmlgm_elevlinecolor_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_elevlinecolor, $xmlgm_elelinecolor);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Elevation Chart Visibility</span>&nbsp;</div></li><li><div>      $xmlgm_elevationchart = $_POST[key_xmlgm_elevationchart];&nbsp;</div></li><li><div>      if ($xmlgm_elevationchart == '')&nbsp;</div></li><li><div>      $xmlgm_elevationchart = xmlgm_elevationchart_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_elevationchart, $xmlgm_elevationchart);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Elevation Line Width</span>&nbsp;</div></li><li><div>      $xmlgm_elelinewidth = intval($_POST[key_xmlgm_elelinewidth]);&nbsp;</div></li><li><div>      if ($xmlgm_elelinewidth == 0)&nbsp;</div></li><li><div>      $xmlgm_elelinewidth = xmlgm_elelinewidth_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_elelinewidth, $xmlgm_elelinewidth);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Speed Line Color</span>&nbsp;</div></li><li><div>      $xmlgm_speedlinecolor = myFunctions::colorName2Hex($_POST[key_xmlgm_speedlinecolor]);&nbsp;</div></li><li><div>      if ($xmlgm_speedlinecolor == '')&nbsp;</div></li><li><div>      $xmlgm_speedlinecolor = xmlgm_speedlinecolor_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_speedlinecolor, $xmlgm_speedlinecolor);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Speed Chart Visibility</span>&nbsp;</div></li><li><div>      $xmlgm_speedchart = $_POST[key_xmlgm_speedchart];&nbsp;</div></li><li><div>      if ($xmlgm_speedchart == '')&nbsp;</div></li><li><div>      $xmlgm_speedchart = xmlgm_speedchart_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_speedchart, $xmlgm_speedchart);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Speed Line Width</span>&nbsp;</div></li><li><div>      $xmlgm_speedlinewidth = intval($_POST[key_xmlgm_speedlinewidth]);&nbsp;</div></li><li><div>      if ($xmlgm_speedlinewidth == 0)&nbsp;</div></li><li><div>      $xmlgm_speedlinewidth = xmlgm_speedlinewidth_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_speedlinewidth, $xmlgm_speedlinewidth);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// URL Display Mode</span>&nbsp;</div></li><li><div>      $xmlgm_urldisplaymode = $_POST[key_xmlgm_urldisplaymode];&nbsp;</div></li><li><div>      if ($xmlgm_urldisplaymode == '')&nbsp;</div></li><li><div>      $xmlgm_urldisplaymode = xmlgm_urldisplaymode_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_urldisplaymode, $xmlgm_urldisplaymode);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Map View Style</span>&nbsp;</div></li><li><div>      $xmlgm_viewstyle = $_POST[key_xmlgm_viewstyle];&nbsp;</div></li><li><div>      if ($xmlgm_viewstyle == '')&nbsp;</div></li><li><div>      $xmlgm_viewstyle = xmlgm_viewstyle_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_viewstyle, $xmlgm_viewstyle);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Line Width</span>&nbsp;</div></li><li><div>      $xmlgm_linewidth = intval($_POST[key_xmlgm_linewidth]);&nbsp;</div></li><li><div>      if ($xmlgm_linewidth == 0)&nbsp;</div></li><li><div>      $xmlgm_linewidth = xmlgm_linewidth_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_linewidth, $xmlgm_linewidth);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//Elevation Height</span></span>&nbsp;</div></li><li><div>      $xmlgm_eleheight = intval($_POST[key_xmlgm_elevationheight]);&nbsp;</div></li><li><div>      if ($xmlgm_eleheight == 0)&nbsp;</div></li><li><div>      $xmlgm_eleheight = xmlgm_elevationheight_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_elevationheight, $xmlgm_eleheight);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//Elevation Height</span></span>&nbsp;</div></li><li><div>      $xmlgm_speedheight = intval($_POST[key_xmlgm_speedheight]);&nbsp;</div></li><li><div>      if ($xmlgm_speedheight == 0)&nbsp;</div></li><li><div>      $xmlgm_speedheight = xmlgm_speedheight_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_speedheight, $xmlgm_speedheight);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Line Opacity</span>&nbsp;</div></li><li><div>      $xmlgm_lineopacity = intval($_POST[key_xmlgm_lineopacity]);&nbsp;</div></li><li><div>      if (($xmlgm_lineopacity &lt; 0) || ($xmlgm_lineopacity &gt; 100))&nbsp;</div></li><li><div>      $xmlgm_lineopacity = xmlgm_lineopacity_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_lineopacity, $xmlgm_lineopacity);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//GPX</span> View Style&nbsp;</div></li><li><div>      $xmlgm_gpxview = $_POST[key_xmlgm_gpxview];&nbsp;</div></li><li><div>      if ($xmlgm_gpxview == '')&nbsp;</div></li><li><div>      $xmlgm_gpxview = xmlgm_gpxview_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_gpxview, $xmlgm_gpxview);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Pan/Zoom Control</span>&nbsp;</div></li><li><div>      $xmlgm_panzoomcontrol = $_POST[key_xmlgm_panzoomcontrol];&nbsp;</div></li><li><div>      if ($xmlgm_panzoomcontrol == '')&nbsp;</div></li><li><div>      $xmlgm_panzoomcontrol = xmlgm_panzoomcontrol_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_panzoomcontrol, $xmlgm_panzoomcontrol);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Overview Map Control</span>&nbsp;</div></li><li><div>      $xmlgm_overviewmap = $_POST[key_xmlgm_overviewmap];&nbsp;</div></li><li><div>      if ($xmlgm_overviewmap == '')&nbsp;</div></li><li><div>      $xmlgm_overviewmap = xmlgm_overviewmap_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_overviewmap, $xmlgm_overviewmap);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Scale Control</span>&nbsp;</div></li><li><div>      $xmlgm_scalecontrol = $_POST[key_xmlgm_scalecontrol];&nbsp;</div></li><li><div>      if ($xmlgm_scalecontrol == '')&nbsp;</div></li><li><div>      $xmlgm_scalecontrol = xmlgm_scalecontrol_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_scalecontrol, $xmlgm_scalecontrol);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Map Type Control</span>&nbsp;</div></li><li><div>      $xmlgm_maptypecontrol = $_POST[key_xmlgm_maptypecontrol];&nbsp;</div></li><li><div>      if ($xmlgm_maptypecontrol == '')&nbsp;</div></li><li><div>      $xmlgm_maptypecontrol = xmlgm_maptypecontrol_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_maptypecontrol, $xmlgm_maptypecontrol);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Measurement Type</span>&nbsp;</div></li><li><div>      $xmlgm_elevationmeasurement = $_POST[key_xmlgm_elevationmeasurement];&nbsp;</div></li><li><div>      if ($xmlgm_elevationmeasurement == '')&nbsp;</div></li><li><div>      $xmlgm_elevationmeasurement = xmlgm_elevationmeasurement_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_elevationmeasurement, $xmlgm_elevationmeasurement);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Speed Scale</span>&nbsp;</div></li><li><div>      $xmlgm_speedscale = $_POST[key_xmlgm_speedscale];&nbsp;</div></li><li><div>      if ($xmlgm_speedscale == '')&nbsp;</div></li><li><div>      $xmlgm_speedscale = xmlgm_speedscale_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_speedscale, $xmlgm_speedscale);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//GPX</span> Waypoint CSS Style&nbsp;</div></li><li><div>      $xmlgm_gpxcssstyle = $_POST[key_xmlgm_gpxcssstyle];&nbsp;</div></li><li><div>      if ($xmlgm_gpxcssstyle == '')&nbsp;</div></li><li><div>      $xmlgm_gpxcssstyle = xmlgm_gpxcssstyle_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_gpxcssstyle, $xmlgm_gpxcssstyle);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//GPX</span> Direct Open Waypoint Link&nbsp;</div></li><li><div>      $xmlgm_gpxdirectopenwplink = $_POST[key_xmlgm_gpxdirectopenwplink];&nbsp;</div></li><li><div>      if ($xmlgm_gpxdirectopenwplink == '')&nbsp;</div></li><li><div>      $xmlgm_gpxdirectopenwplink = xmlgm_gpxdirectopenwplink_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_gpxdirectopenwplink, $xmlgm_gpxdirectopenwplink);&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">//Map Button Normal</span>&nbsp;</div></li><li><div>      $xmlgm_mapnorm = $_POST[key_xmlgm_mapnorm];&nbsp;</div></li><li><div>      if ($xmlgm_mapnorm == '')&nbsp;</div></li><li><div>      $xmlgm_mapnorm = xmlgm_mapnorm_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_mapnorm, $xmlgm_mapnorm);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Map Satellite Normal</span>&nbsp;</div></li><li><div>      $xmlgm_mapsat = $_POST[key_xmlgm_mapsat];&nbsp;</div></li><li><div>      if ($xmlgm_mapsat == '')&nbsp;</div></li><li><div>      $xmlgm_mapsat = xmlgm_mapsat_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_mapsat, $xmlgm_mapsat);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Map Hybrid Normal</span>&nbsp;</div></li><li><div>      $xmlgm_maphyb = $_POST[key_xmlgm_maphyb];&nbsp;</div></li><li><div>      if ($xmlgm_maphyb == '')&nbsp;</div></li><li><div>      $xmlgm_maphyb = xmlgm_maphyb_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_maphyb, $xmlgm_maphyb);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Map Physical Normal</span>&nbsp;</div></li><li><div>      $xmlgm_mapphy = $_POST[key_xmlgm_mapphy];&nbsp;</div></li><li><div>      if ($xmlgm_mapphy == '')&nbsp;</div></li><li><div>      $xmlgm_mapphy = xmlgm_mapphy_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_mapphy, $xmlgm_mapphy);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Map Google Earth  Plugin</span>&nbsp;</div></li><li><div>      $xmlgm_mapearth = $_POST[key_xmlgm_mapearth];&nbsp;</div></li><li><div>      if ($xmlgm_mapearth == '')&nbsp;</div></li><li><div>      $xmlgm_mapearth = xmlgm_mapearth_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_mapearth, $xmlgm_mapearth);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Dragging</span>&nbsp;</div></li><li><div>      $xmlgm_dragging = $_POST[key_xmlgm_dragging];&nbsp;</div></li><li><div>      if ($xmlgm_dragging == '')&nbsp;</div></li><li><div>      $xmlgm_dragging = xmlgm_dragging_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_dragging, $xmlgm_dragging);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Double Click Zoom</span>&nbsp;</div></li><li><div>      $xmlgm_doubleclickzoom = $_POST[key_xmlgm_doubleClickZoom];&nbsp;</div></li><li><div>      if ($xmlgm_doubleclickzoom == '')&nbsp;</div></li><li><div>      $xmlgm_doubleclickzoom = xmlgm_doubleClickZoom_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_doubleClickZoom, $xmlgm_doubleclickzoom);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Continuous Zoom</span>&nbsp;</div></li><li><div>      $xmlgm_continuouszoom = $_POST[key_xmlgm_continuousZoom];&nbsp;</div></li><li><div>      if ($xmlgm_continuouszoom == '')&nbsp;</div></li><li><div>      $xmlgm_continuouszoom = xmlgm_continuousZoom_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_continuousZoom, $xmlgm_continuouszoom);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Google Bar</span>&nbsp;</div></li><li><div>      $xmlgm_googlebar = $_POST[key_xmlgm_googleBar];&nbsp;</div></li><li><div>      if ($xmlgm_googlebar == '')&nbsp;</div></li><li><div>      $xmlgm_googlebar = xmlgm_googleBar_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_googleBar, $xmlgm_googlebar);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Scroll Wheel Zoom</span>&nbsp;</div></li><li><div>      $xmlgm_scrollwheelzoom = $_POST[key_xmlgm_scrollWheelZoom];&nbsp;</div></li><li><div>      if ($xmlgm_scrollwheelzoom == '')&nbsp;</div></li><li><div>      $xmlgm_scrollwheelzoom = xmlgm_scrollWheelZoom_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_scrollWheelZoom, $xmlgm_scrollwheelzoom);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Elevation Chart Title</span>&nbsp;</div></li><li><div>      update_option(key_xmlgm_elevationtitle, $_POST[key_xmlgm_elevationtitle]);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Speed Chart Title</span>&nbsp;</div></li><li><div>      update_option(key_xmlgm_speedcharttitle, $_POST[key_xmlgm_speedcharttitle]);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Checkpoint Marker Color</span>&nbsp;</div></li><li><div>      $xmlgm_cpcol = $_POST[key_xmlgm_checkpointmapmarkercolor];&nbsp;</div></li><li><div>      if ($xmlgm_cpcol == '')&nbsp;</div></li><li><div>      $xmlgm_cpcol = xmlgm_checkpointmapmarkercolor_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_checkpointmapmarkercolor, $xmlgm_cpcol);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Checkpoint Table</span>&nbsp;</div></li><li><div>      $xmlgm_cptable = $_POST[key_xmlgm_checkpointtable];&nbsp;</div></li><li><div>      if ($xmlgm_cptable == '')&nbsp;</div></li><li><div>      $xmlgm_cptable = xmlgm_checkpointtable_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_checkpointtable, $xmlgm_cptable);&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">//Checkpoint Interval</span>&nbsp;</div></li><li><div>      $xmlgm_cpint = floatval($_POST[key_xmlgm_checkpointinterval]);&nbsp;</div></li><li><div>      update_option(key_xmlgm_checkpointinterval, $xmlgm_cpint);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Checkpoint Table</span> Template&nbsp;</div></li><li><div>      $xmlgm_cptabletempl = $_POST[key_xmlgm_checkpointtabletempl];&nbsp;</div></li><li><div>      if ($xmlgm_cptabletempl == '') {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultcptable.template&quot;;&nbsp;</div></li><li><div>          $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>          $xmlgm_cptabletempl = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>          fclose ($handle);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $xmlgm_cptabletempl = str_replace('\&quot;', '&quot;', $xmlgm_cptabletempl);&nbsp;</div></li><li><div>          $xmlgm_cptabletempl = str_replace(&quot;\'&quot;, &quot;'&quot;, $xmlgm_cptabletempl);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      update_option(key_xmlgm_checkpointtabletempl, $xmlgm_cptabletempl);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Checkpoint Table</span> Row Template&nbsp;</div></li><li><div>      $xmlgm_cptablerowtempl = $_POST[key_xmlgm_checkpointtablerowtempl];&nbsp;</div></li><li><div>      if ($xmlgm_cptablerowtempl == '') {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultcptablerow.template&quot;;&nbsp;</div></li><li><div>          $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>          $xmlgm_cptablerowtempl = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>          fclose ($handle);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $xmlgm_cptablerowtempl = str_replace('\&quot;', '&quot;', $xmlgm_cptablerowtempl);&nbsp;</div></li><li><div>          $xmlgm_cptablerowtempl = str_replace(&quot;\'&quot;, &quot;'&quot;, $xmlgm_cptablerowtempl);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      update_option(key_xmlgm_checkpointtablerowtempl, $xmlgm_cptablerowtempl);&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">//GPX</span> Marker Template&nbsp;</div></li><li><div>      $xmlgm_gpxmartempl = $_POST[key_xmlgm_gpxmarkertempl];&nbsp;</div></li><li><div>      if ($xmlgm_gpxmartempl == '') {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultgpxmarker.template&quot;;&nbsp;</div></li><li><div>          $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>          $xmlgm_gpxmartempl = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>          fclose ($handle);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $xmlgm_gpxmartempl = str_replace('\&quot;', '&quot;', $xmlgm_gpxmartempl);&nbsp;</div></li><li><div>          $xmlgm_gpxmartempl = str_replace(&quot;\'&quot;, &quot;'&quot;, $xmlgm_gpxmartempl);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      update_option(key_xmlgm_gpxmarkertempl, $xmlgm_gpxmartempl);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//NGG Marker Template</span>&nbsp;</div></li><li><div>      $xmlgm_nggmartempl = $_POST[key_xmlgm_nggmarkertempl];&nbsp;</div></li><li><div>      if ($xmlgm_nggmartempl == '') {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultnggmarker.template&quot;;&nbsp;</div></li><li><div>          $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>          $xmlgm_nggmartempl = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>          fclose ($handle);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $xmlgm_nggmartempl = str_replace('\&quot;', '&quot;', $xmlgm_nggmartempl);&nbsp;</div></li><li><div>          $xmlgm_nggmartempl = str_replace(&quot;\'&quot;, &quot;'&quot;, $xmlgm_nggmartempl);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      update_option(key_xmlgm_nggmarkertempl, $xmlgm_nggmartempl);        &nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment"><span class="comment">//KML Parsing</span></span>&nbsp;</div></li><li><div>      $xmlgm_kmlparsing = $_POST[key_xmlgm_kmlparsing];&nbsp;</div></li><li><div>      if ($xmlgm_kmlparsing == '')&nbsp;</div></li><li><div>          $xmlgm_kmlparsing = xmlgm_kmlparsing_default;&nbsp;</div></li><li><div>      update_option(key_xmlgm_kmlparsing, $xmlgm_kmlparsing);&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// Give an updated message</span>&nbsp;</div></li><li><div>      echo &quot;&lt;div class='updated'&gt;&lt;p&gt;&lt;strong&gt;XML Google Maps options updated&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      <span class="comment">//Default Werte setzen</span>&nbsp;</div></li><li><div>      if (strlen(get_option(key_xmlgm_checkpointtabletempl))==0) {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultcptable.template&quot;;&nbsp;</div></li><li><div>          if (file_exists($filename)) {&nbsp;</div></li><li><div>              $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>              $tmp = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>              fclose ($handle);&nbsp;</div></li><li><div>              update_option(key_xmlgm_checkpointtabletempl, $tmp);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (strlen(get_option(key_xmlgm_checkpointtablerowtempl))==0) {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultcptablerow.template&quot;;&nbsp;</div></li><li><div>          if (file_exists($filename)) {&nbsp;</div></li><li><div>              $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>              $tmp = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>              fclose ($handle);&nbsp;</div></li><li><div>              update_option(key_xmlgm_checkpointtablerowtempl, $tmp);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (strlen(get_option(key_xmlgm_gpxmarkertempl))==0) {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultgpxmarker.template&quot;;&nbsp;</div></li><li><div>          if (file_exists($filename)) {&nbsp;</div></li><li><div>              $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>              $tmp = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>              fclose ($handle);&nbsp;</div></li><li><div>              update_option(key_xmlgm_gpxmarkertempl, $tmp);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }    &nbsp;</div></li><li><div>      if (strlen(get_option(key_xmlgm_nggmarkertempl))==0) {&nbsp;</div></li><li><div>          $filename = dirname(__FILE__).&quot;/defaultnggmarker.template&quot;;&nbsp;</div></li><li><div>          if (file_exists($filename)) {&nbsp;</div></li><li><div>              $handle = fopen ($filename, &quot;r&quot;);&nbsp;</div></li><li><div>              $tmp = fread ($handle, filesize ($filename));&nbsp;</div></li><li><div>              fclose ($handle);&nbsp;</div></li><li><div>              update_option(key_xmlgm_nggmarkertempl, $tmp);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }                &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $navigation .= '&lt;td  rowspan=&quot;100%&quot; width=&quot;15%&quot; valign=&quot;top&quot;&gt;';&nbsp;</div></li><li><div>  $navigation .= '&lt;div style=&quot;text-align: right;&quot;&gt;&lt;p&gt;&lt;b&gt;Navigation:&lt;/b&gt;&lt;br /&gt;&lt;a href=&quot;#basic&quot;&gt;Basic Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#control&quot;&gt;Control Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#maptype&quot;&gt;Map Type Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#mapbehaviour&quot;&gt;Map Behaviour Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#gpx&quot;&gt;GPX Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#elev&quot;&gt;Elevation Chart Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#speedchart&quot;&gt;Speed Chart Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#checkpoint&quot;&gt;Checkpoint Options&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#templ&quot;&gt;Templates&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  $navigation .= '&lt;div style=&quot;text-align: right;&quot;&gt;&lt;input class=&quot;button&quot; type=&quot;submit&quot; name=&quot;info_update&quot; value=&quot;Save Changes&quot; /&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  $navigation .= '&lt;/td&gt;';&nbsp;</div></li><li><div>  <span class="comment">//TIPPS</span>&nbsp;</div></li><li><div>  $ngg = new nggFunctions();&nbsp;</div></li><li><div>  $tipps = array();&nbsp;</div></li><li><div>  $tipps[] = &quot;What about a &lt;a href='http:<span class="comment">//www.matusz.ch/donate_xmlgooglemapswpplugin.htm' target='_blank'&gt;donation&lt;/a&gt;! I spent a lot of time in developing this plugin. &lt;a href='http://www.matusz.ch/donate_xmlgooglemapswpplugin.htm' target='_blank'&gt;Donate now&lt;/a&gt;!&quot;;</span>&nbsp;</div></li><li><div>  $tipps[] = &quot;What about a &lt;a href='http:<span class="comment">//www.matusz.ch/donate_xmlgooglemapswpplugin.htm' target='_blank'&gt;donation&lt;/a&gt;! I spent a lot of time in developing this plugin. &lt;a href='http://www.matusz.ch/donate_xmlgooglemapswpplugin.htm' target='_blank'&gt;Donate now&lt;/a&gt;!&quot;;</span>    &nbsp;</div></li><li><div>  if ($ngg-&gt;isNggInstalled()) {&nbsp;</div></li><li><div>      $tipps[] = &quot;This plugin reads the gps position information out of your &lt;b&gt;NextGEN Gallery&lt;/b&gt; Plugin images. Use ngg_gallery=&lt;gallerid&gt; to show the whole geotagged Gallery on your map or use ngg_picture=&lt;picture id&gt; to show a single picture!&quot;;&nbsp;</div></li><li><div>      $tipps[] = &quot;Did you know that the &lt;b&gt;NextGEN&lt;/b&gt; Parameters can be used more than once to show multiple galleries or pictures? [xmlgml ngg_gallery=1; ngg_gallery=2] will show the first and second gallery images on the map!&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $tipps[] = &quot;This plugin can handle &lt;b&gt;&lt;a href='http:<span class="comment">//www.umapper.com' target='_blank'&gt;umapper.com&lt;/a&gt;&lt;/b&gt; KML links. Try this [xmlgm {&lt;link to the umapper kml file&gt;}] or &lt;a href=&apos;http://www.umapper.com/download/maps/kml/xxx.kml&apos&gt;Testmap&lt;/a&gt;!&quot;;</span>&nbsp;</div></li><li><div>  $tipps[] = &quot;There are a lot of &lt;b&gt;samples&lt;/b&gt; how to use this plugin. Have a look at the &lt;a href='http:<span class="comment">//www.matusz.ch/blog/projekte/xml-google-maps-wordpress-plugin-en/samples/' target='_blank'&gt;English&lt;/a&gt; or &lt;a href='http://www.matusz.ch/blog/projekte/xml-google-maps-wordpress-plugin/beispiele/' target='_blank'&gt;German&lt;/a&gt; Sample Page!&quot;;</span>&nbsp;</div></li><li><div>  $tipps[] = &quot;Did you know that a &lt;b&gt;GeoRSS&lt;/b&gt; Feed can be converted into a map with this plugin? Try this [xmlgm {&lt;link to the georss feed&gt;}]!&quot;;&nbsp;</div></li><li><div>  $tipps[] = &quot;Try the &lt;b&gt;Google Earth Browser Plugin&lt;/b&gt; in the Google Maps API - this rocks! Set the Default Map Type &apos;Google Earth Plugin&apos;!&quot;;&nbsp;</div></li><li><div>  $tipps[] = &quot;Have a look at the Checkpoint Table feature if you're using a GPX file. This feature will extract additional data out of your GPX tracks (Average Speed, Moving Speed, Max Speed, Climbing up, Climbing down, Distances, Moving Time, Time)!&quot;;    &nbsp;</div></li><li><div>  $tipps[] = &quot;This plugin supports metric, imperial and nautical measurement types!&quot;;&nbsp;</div></li><li><div>  $tipps[] = &quot;Did the your KML maps won't show at the correct location or without the right zoomlevel? Try to change the KML Parsing parameter!&quot;;&nbsp;</div></li><li><div>  $tipps[] = &quot;Check the &lt;a href='#templ'&gt;templates&lt;/a&gt; options section! Define the look and feel of your GPX or NextGen Gallery markers!&quot;;&nbsp;</div></li><li><div>  $tipps[] = &quot;Did you ever doubleclicked on a GPX Waypoint Marker that has a Link Element? Yes, this plugin will directly open the specified URL in a new window! You want to open the URL by one click or disable this function, no problem: simply set the specific option or parameter to the specific value!&quot;;&nbsp;</div></li><li><div>  if (count($tipps)&gt;0) {&nbsp;</div></li><li><div>      $tip =    &quot;&lt;table class='form-table' cellspacing='2' cellpadding='5' width='100%'&gt;&lt;tr&gt;&lt;td width='55px'&gt;&lt;img src='&quot;.get_option('siteurl').&quot;/wp-content/plugins/xml-google-maps/tipp48.png'&gt;&lt;/td&gt;&lt;td&gt;&quot;.$tipps[rand(0, count($tipps)-1)].&quot;&lt;/td&gt;&lt;td width='55px'&gt;&lt;img src='&quot;.get_option('siteurl').&quot;/wp-content/plugins/xml-google-maps/tipp48.png'&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">// Output the options page</span>&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>&lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>      &lt;!--&nbsp;</div></li><li><div>          var enabling = function() {&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_viewstyle; ?&gt;.value==&quot;G_NORMAL_MAP&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapnorm; ?&gt;.value = &quot;show&quot;;&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapnorm; ?&gt;.disabled = true;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                   document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapnorm; ?&gt;.disabled = (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maptypecontrol; ?&gt;.value == &quot;hide&quot;);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_viewstyle; ?&gt;.value==&quot;G_HYBRID_MAP&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maphyb; ?&gt;.value = &quot;show&quot;;&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maphyb; ?&gt;.disabled = true;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                   document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maphyb; ?&gt;.disabled = (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maptypecontrol; ?&gt;.value == &quot;hide&quot;);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_viewstyle; ?&gt;.value==&quot;G_PHYSICAL_MAP&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapphy; ?&gt;.value = &quot;show&quot;;&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapphy; ?&gt;.disabled = true;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                   document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapphy; ?&gt;.disabled = (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maptypecontrol; ?&gt;.value == &quot;hide&quot;);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_viewstyle; ?&gt;.value==&quot;G_SATELLITE_3D_MAP&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapearth; ?&gt;.value = &quot;show&quot;;&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapearth; ?&gt;.disabled = true;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                   document.forms['xmlgmform'].&lt;?php echo key_xmlgm_mapearth; ?&gt;.disabled = (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_maptypecontrol; ?&gt;.value == &quot;hide&quot;);&nbsp;</div></li><li><div>              }                    &nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_elevationmeasurement; ?&gt;.value == &quot;imperial&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[0].text = &quot;Foot per second (level1)&quot;                             &nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[1].text = &quot;Miles per hour (level2)&quot;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_elevationmeasurement; ?&gt;.value == &quot;metric&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[0].text = &quot;Metre per second (level1)&quot;                             &nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[1].text = &quot;Kilometre per hour (level2)&quot;                &nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_elevationmeasurement; ?&gt;.value == &quot;nautic_metric&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[0].text = &quot;Knots (level1)&quot;                             &nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[1].text = &quot;Knots (level2)&quot;                &nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if (document.forms['xmlgmform'].&lt;?php echo key_xmlgm_elevationmeasurement; ?&gt;.value == &quot;nautic_imperial&quot;) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[0].text = &quot;Knots (level1)&quot;                             &nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_speedscale; ?&gt;.options[1].text = &quot;Knots (level2)&quot;                &nbsp;</div></li><li><div>              }                &nbsp;</div></li><li><div>              document.forms['xmlgmform'].cpmarker.src = &quot;&lt;?php echo get_option('siteurl'); ?&gt;/wp-content/plugins/xml-google-maps/mm_20_&quot; + document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointmapmarkercolor; ?&gt;.value + &quot;.png&quot;;&nbsp;</div></li><li><div>              document.forms['xmlgmform'].cpmarker_start.src = &quot;&lt;?php echo get_option('siteurl'); ?&gt;/wp-content/plugins/xml-google-maps/mm_20_&quot; + document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointmapmarkercolor; ?&gt;.value + &quot;_s.png&quot;;&nbsp;</div></li><li><div>              document.forms['xmlgmform'].cpmarker_end.src = &quot;&lt;?php echo get_option('siteurl'); ?&gt;/wp-content/plugins/xml-google-maps/mm_20_&quot; + document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointmapmarkercolor; ?&gt;.value + &quot;_e.png&quot;;&nbsp;</div></li><li><div>              <span class="comment">//Validation of Checkpoint Table Parameter</span>&nbsp;</div></li><li><div>              var tmp = parseFloat(document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointinterval; ?&gt;.value);&nbsp;</div></li><li><div>              if (tmp &lt;= 0 || isNaN(tmp)) {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointtable; ?&gt;.value = &quot;hide&quot;;&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointtable; ?&gt;.disabled = true;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  document.forms['xmlgmform'].&lt;?php echo key_xmlgm_checkpointtable; ?&gt;.disabled = false;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      <span class="comment">//--&gt;</span>&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>&lt;form method=&quot;post&quot; name=&quot;xmlgmform&quot;&nbsp;</div></li><li><div>  action=&quot;options-general.php?page=xmlgooglemaps.php&quot;&gt;&nbsp;</div></li><li><div>&lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>&lt;h2&gt;XML Google Maps Options&lt;/h2&gt;&nbsp;</div></li><li><div>  &lt;?php echo $tip; ?&gt;&nbsp;</div></li><li><div>&lt;h3 style=&quot;clear: left;&quot;&gt;&lt;a name=&quot;basic&quot;&gt;&lt;/a&gt;Basic Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;First of all you have to get your own Google API Key from the&nbsp;</div></li><li><div>following page &lt;a href=&quot;http:<span class="comment">//code.google.com/apis/maps/signup.html&quot;</span>&nbsp;</div></li><li><div>  target=&quot;_blank&quot;&gt;http:<span class="comment">//code.google.com/apis/maps/signup.html&lt;/a&gt;. Then</span>&nbsp;</div></li><li><div>specify the width, height and align of the google maps plugin in your&nbsp;</div></li><li><div>posts.&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_uid; ?&gt;&quot;&gt;Your Google Maps API Key:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_uid.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_uid.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_uid).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter your Google Maps API Key in this&nbsp;</div></li><li><div>      box. You get your Google Maps API Key from &lt;a&nbsp;</div></li><li><div>          href=&quot;http:<span class="comment">//code.google.com/apis/maps/signup.html&quot;</span> target=&quot;_blank&quot;&gt;http://code.google.com/apis/maps/signup.html&lt;/a&gt;.&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_width; ?&gt;&quot;&gt;Width:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_width.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_width.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_width).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the width of your Map on your posts&nbsp;</div></li><li><div>      or pages (only numeric value allowed)&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_height; ?&gt;&quot;&gt;Height:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_height.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_height.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_height).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the height of your Map on your&nbsp;</div></li><li><div>      posts or pages (only numeric values allowed)&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_align; ?&gt;&quot;&gt;Google Map alignement:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_align.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_align.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_align))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;right&quot;: $selright = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;center&quot;: $selcenter = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selleft = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='left' $selleft&gt;Left (left)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='center' $selcenter&gt;Center (center)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='right' $selright&gt;Right (right)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Specifies the alignement of the map in&nbsp;</div></li><li><div>      your posts or pages&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_urldisplaymode; ?&gt;&quot;&gt;URL Display Mode:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_urldisplaymode.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_urldisplaymode.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_urldisplaymode))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;none&quot;: $selnoneud = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;showvars&quot;: $selvars = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;nomap&quot;: $selnomap = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $seldefault = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='title' $seldefault&gt;Map, URL Title without Parameters (title)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='none' $selnoneud&gt;Map only (none)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='showvars' $selvars&gt;Map, URL Title and Parameters (showvars)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='nomap' $selnomap&gt;URL Title without Paramaters and without Map (nomap)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Specifies how to tranform the added Link.&nbsp;</div></li><li><div>      If you want to completely remove it then select &apos;Map only&apos;.&nbsp;</div></li><li><div>      If you want to remove only the parameters, then select &apos;Map, URL&nbsp;</div></li><li><div>      Title without Parameters&apos;. Orelse if you want to show the whole&nbsp;</div></li><li><div>      link as you typed it in then select &apos;Map, URL Title and&nbsp;</div></li><li><div>      Parameters&apos;. If you wan't to disable the plugin by default, &nbsp;</div></li><li><div>      select &apos;URL Title without Paramaters and without Map&apos;!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_elevationmeasurement; ?&gt;&quot;&gt;Measurement Type:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select onchange='enabling();' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_elevationmeasurement.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_elevationmeasurement.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_elevationmeasurement))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;imperial&quot;: $selelemimp = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;nautic_metric&quot;: $selelemnaumet = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;nautic_imperial&quot;: $selelemnauimp = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selelemmet = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='imperial' $selelemimp&gt;Miles / Feet (imperial)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='metric' $selelemmet&gt;Kilometres / Metres (metric)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='nautic_metric' $selelemnaumet&gt;Nautical miles (Altitude: metres) (nautic_metric)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='nautic_imperial' $selelemnauimp&gt;Nautical miles (Altitude: feet) (nautic_imperial)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Measurement Type&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_speedscale; ?&gt;&quot;&gt;Speed Scale:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select onchange='enabling();' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_speedscale.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_speedscale.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_speedscale))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;level1&quot;: $selspeedl1 = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selspeedl2 = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='level1' $selspeedl1&gt;Level 1 (level2)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='level2' $selspeedl2&gt;Level 2 (level1)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Speed Scale&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_kmlparsing; ?&gt;&quot;&gt;KML Parsing:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_kmlparsing.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_kmlparsing.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_kmlparsing))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;disabled&quot;: $selkmlpdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selkmlpen = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='enabled' $selkmlpen&gt;Enabled (enabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $selkmlpdis&gt;Diabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enables/Disables parsing KML files. If this option is set to enabled, this plugin tries to parse the kml file for coordinates, set the center and zoomlevel to the perfect values. Parsing only works for KML links that ends with the file ending .kml, it won't work with the following notation [xmlgm {xyz.kml}]!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;    &nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;control&quot;&gt;&lt;/a&gt;Control Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Define the controls you want to display on your map&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_panzoomcontrol; ?&gt;&quot;&gt;Pan/Zoom Control:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_panzoomcontrol.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_panzoomcontrol.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_panzoomcontrol))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selnonepz = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;small&quot;: $selsmall = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;zoom&quot;: $selzoom = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $sellarge = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selnonepz&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='large' $sellarge&gt;Large (large)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='small' $selsmall&gt;Small (small)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='zoom' $selzoom&gt;Zoom only (zoom)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Specifies the display style of the&nbsp;</div></li><li><div>      Pan/Zoom Control&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_overviewmap; ?&gt;&quot;&gt;Overview Map Control:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_overviewmap.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_overviewmap.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_overviewmap))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;show&quot;: $selshowom = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selhideom = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhideom&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowom&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Shows/Hides the overview map in the&nbsp;</div></li><li><div>      bottom right corner&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_scalecontrol; ?&gt;&quot;&gt;Scale Control:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_scalecontrol.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_scalecontrol.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_scalecontrol))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;show&quot;: $selshowsc = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selhidesc = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidesc&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowsc&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Shows/Hides the scale ruler in the bottom&nbsp;</div></li><li><div>      left corner&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;maptype&quot;&gt;&lt;/a&gt;Map Type Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;This optionset helps you to define all Map Type Option. Even the Map&nbsp;</div></li><li><div>Type Control options you can change.&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_viewstyle; ?&gt;&quot;&gt;Default Map Type:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select onchange='enabling();' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_viewstyle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_viewstyle.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_viewstyle))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;G_SATELLITE_TYPE&quot;:&nbsp;</div></li><li><div>          case &quot;G_SATELLITE_MAP&quot;:&nbsp;</div></li><li><div>              $selsat = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;G_HYBRID_TYPE&quot;:&nbsp;</div></li><li><div>          case &quot;G_HYBRID_MAP&quot;:&nbsp;</div></li><li><div>              $selhyb = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;G_PHYSICAL_TYPE&quot;:&nbsp;</div></li><li><div>          case &quot;G_PHYSICAL_MAP&quot;:&nbsp;</div></li><li><div>              $selphy = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;G_SATELLITE_3D_TYPE&quot;:&nbsp;</div></li><li><div>          case &quot;G_SATELLITE_3D_MAP&quot;:&nbsp;</div></li><li><div>              $selearth = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default:&nbsp;</div></li><li><div>              $selmap = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='G_HYBRID_MAP' $selhyb&gt;Hybrid (G_HYBRID_MAP)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='G_SATELLITE_MAP' $selsat&gt;Satellite (G_SATELLITE_MAP)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='G_NORMAL_MAP' $selmap&gt;Map (G_NORMAL_MAP)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='G_PHYSICAL_MAP' $selphy&gt;Physical (G_PHYSICAL_MAP)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='G_SATELLITE_3D_MAP' $selearth&gt;Google Earth Plugin (G_SATELLITE_3D_MAP)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Default Map Display Style&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_maptypecontrol; ?&gt;&quot;&gt;Map Type Control:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select onchange='enabling();'&quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_maptypecontrol.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_maptypecontrol.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_maptypecontrol))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selhidemtc = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;hierarchical&quot;: $selhidemhier = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selshowmtc = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidemtc&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowmtc&gt;Visible Default (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hierarchical' $selhidemhier&gt;Visible Hierarchical Control (hierarchical)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Show/Hide Map Type Control&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_mapnorm; ?&gt;&quot;&gt;Normal Map Type Button:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_mapnorm.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_mapnorm.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_mapnorm))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selhidemapnorm = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selshowmapnorm = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidemapnorm&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowmapnorm&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Show/Hide Normal Map Type Button&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_mapsat; ?&gt;&quot;&gt;Satellite Map Type Button:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_mapsat.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_mapsat.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_mapsat))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selhidemapsat = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selshowmapsat = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidemapsat&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowmapsat&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Show/Hide Satellite Map Type Button&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_maphyb; ?&gt;&quot;&gt;Hybrid Map Type Button:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_maphyb.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_maphyb.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_maphyb))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selhidemaphyb = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selshowmaphyb = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidemaphyb&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowmaphyb&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Show/Hide Hybrid Map Type Button&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_mapphy; ?&gt;&quot;&gt;Physical Map Type Button:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_mapphy.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_mapphy.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_mapphy))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selhidemapphy = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selshowmapphy = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidemapphy&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowmapphy&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Show/Hide Physical Map Type Button&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_mapearth; ?&gt;&quot;&gt;Google Earth Plugin Map Type&nbsp;</div></li><li><div>      Button:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_mapearth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_mapearth.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_mapearth))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selhidemapearth = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selshowmapearth = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selhidemapearth&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selshowmapearth&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Show/Hide Google Earth Plugin Map Type&nbsp;</div></li><li><div>      Button&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;mapbehaviour&quot;&gt;&lt;/a&gt;Map Behaviour Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Customize the behaviour of the map (e.g. zoom behaviours).&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_dragging; ?&gt;&quot;&gt;Dragging:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_dragging.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_dragging.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_dragging))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;disabled&quot;: $seldraggingdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $seldraggingen = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $seldraggingdis&gt;Disabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='enabled' $seldraggingen&gt;Enabled (enabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enables/Disables the dragging of the map&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_doubleClickZoom; ?&gt;&quot;&gt;Double Click Zoom:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_doubleClickZoom.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_doubleClickZoom.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_doubleClickZoom))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;disabled&quot;: $seldczdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $seldczen = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $seldczdis&gt;Disabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='enabled' $seldczen&gt;Enabled (enabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enables/Disables double click to zoom in&nbsp;</div></li><li><div>      and out&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_continuousZoom; ?&gt;&quot;&gt;Continuous Zoom:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_continuousZoom.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_continuousZoom.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_continuousZoom))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;disabled&quot;: $selczdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selczen = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $selczdis&gt;Disabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='enabled' $selczen&gt;Enabled (enabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enables/Disables continuous smooth&nbsp;</div></li><li><div>      zooming for select browsers&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_scrollWheelZoom; ?&gt;&quot;&gt;Scroll Wheel Zoom:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_scrollWheelZoom.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_scrollWheelZoom.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_scrollWheelZoom))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;disabled&quot;: $selswzdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selswzen = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $selswzdis&gt;Disabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='enabled' $selswzen&gt;Enabled (enabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enables/Disables zooming using a mouse's&nbsp;</div></li><li><div>      scroll wheel&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_googleBar; ?&gt;&quot;&gt;Google Bar:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_googleBar.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_googleBar.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_googleBar))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;enabled&quot;: $selgben = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selgbdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $selgbdis&gt;Disabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='enabled' $selgben&gt;Enabled (enabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enables/Disables he GoogleBar, an&nbsp;</div></li><li><div>      integrated search control, to the map. When enabled, this control&nbsp;</div></li><li><div>      takes the place of the default Powered By Google logo.&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;gpx&quot;&gt;&lt;/a&gt;GPX Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Settings specific for GPX Files&lt;br /&gt;Have a look at the &lt;a href=&quot;#templ&quot;&gt;Templates&lt;/a&gt; Section, there you can set the look &amp; feel of your GPX Waypoint Markers!&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_linecolor; ?&gt;&quot;&gt;Line Color:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_linecolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_linecolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_linecolor).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line color of any Track&nbsp;</div></li><li><div>      or Route&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_linewidth; ?&gt;&quot;&gt;Line Width:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_linewidth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_linewidth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_linewidth).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line width of any Track&nbsp;</div></li><li><div>      or Route&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_lineopacity; ?&gt;&quot;&gt;Line Opacity:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_lineopacity.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_lineopacity.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_lineopacity).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line opacity (1-100) of&nbsp;</div></li><li><div>      any Track or Route&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_gpxview; ?&gt;&quot;&gt;GPX View Style:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_gpxview.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_gpxview.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_gpxview))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;wpt&quot;: $selwpt = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;rte&quot;: $selrte = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;trk&quot;: $seltrk = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selall = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='all' $selall&gt;Everything (all)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='wpt' $selwpt&gt;Waypoints (wpt)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='rte' $selrte&gt;Routes (rte)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='trk' $seltrk&gt;Tracks (trk)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Shows only the selected part of the GPX&nbsp;</div></li><li><div>      File.&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_gpxdirectopenwplink; ?&gt;&quot;&gt;GPX Direct Open Waypoint Link:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_gpxdirectopenwplink.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_gpxdirectopenwplink.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_gpxdirectopenwplink))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;disabled&quot;: $seldowpdis = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;click&quot;: $seldowpcli = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $seldowpdbl = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='dblclick' $seldowpdbl&gt;Doubleclick (dblclick)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='click' $seldowpcli&gt;Click (click)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='disabled' $seldowpdis&gt;Disabled (disabled)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;If a GPX Waypoint has a link-Element you can Doubleclick or Click the marker to directly open this link! If you want to disable this behaviour, set disabled!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_gpxcssstyle; ?&gt;&quot;&gt;Waypoint CSS Style:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_gpxcssstyle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_gpxcssstyle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_gpxcssstyle).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Define the GPX Waypoints Info Window CSS&nbsp;</div></li><li><div>      Style! Have a look at the &lt;a href=&quot;#templ&quot;&gt;Templates&lt;/a&gt; Section, it would be better to use these templates than this property!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;elev&quot;&gt;&lt;/a&gt;Elevation Chart Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Settings for the Elevation Chart (now supported by GPX Tracks only)&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_elevationchart; ?&gt;&quot;&gt;Elevation Chart:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_elevationchart.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_elevationchart.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_elevationchart))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;hide&quot;: $selelevhide = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selelevshow = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selelevhide&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selelevshow&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Visibility of evelation chart for GPX&nbsp;</div></li><li><div>      tracks&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_elevationtitle; ?&gt;&quot;&gt;Elevation Chart Title:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_elevationtitle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_elevationtitle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_elevationtitle).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the Elevation Chart Title (&lt;b&gt;do&nbsp;</div></li><li><div>      not use special chars&lt;/b&gt;)&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_elevationheight; ?&gt;&quot;&gt;Elevation Chart&nbsp;</div></li><li><div>      Height:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_elevationheight.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_elevationheight.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_elevationheight).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the height of the elevation chart!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_elevlinecolor; ?&gt;&quot;&gt;Elevation Chart Line&nbsp;</div></li><li><div>      Color:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_elevlinecolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_elevlinecolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_elevlinecolor).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line color of the&nbsp;</div></li><li><div>      elevation charts line!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_elelinewidth; ?&gt;&quot;&gt;Elevation Chart Line&nbsp;</div></li><li><div>      Width:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_elelinewidth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_elelinewidth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_elelinewidth).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line width of the&nbsp;</div></li><li><div>      elevation chart&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;speedchart&quot;&gt;&lt;/a&gt;Speed Chart Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Settings for the Speed Chart (now supported by GPX Tracks only)&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_speedchart; ?&gt;&quot;&gt;Speed Chart:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_speedchart.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_speedchart.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_speedchart))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;show&quot;: $selspeedshow = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default:  $selspeedhide = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selspeedhide&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selspeedshow&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Visibility of speed chart for GPX tracks&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_speedcharttitle; ?&gt;&quot;&gt;Speed Chart Title:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_speedcharttitle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_speedcharttitle.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_speedcharttitle).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the Speed Chart Title (&lt;b&gt;do not&nbsp;</div></li><li><div>      use special chars&lt;/b&gt;)&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_speedheight; ?&gt;&quot;&gt;Speed Chart Height:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_speedheight.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_speedheight.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_speedheight).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the height of the speed chart!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_speedlinecolor; ?&gt;&quot;&gt;Speed Chart Line Color:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_speedlinecolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_speedlinecolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_speedlinecolor).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line color of the speed&nbsp;</div></li><li><div>      charts line!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_speedlinewidth; ?&gt;&quot;&gt;Speed Chart Line Width:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_speedlinewidth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_speedlinewidth.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_speedlinewidth).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Enter the default line width of the speed&nbsp;</div></li><li><div>      chart&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;checkpoint&quot;&gt;&lt;/a&gt;Checkpoint Options&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Settings for the Checkpoints (now supported by GPX Tracks only). To&nbsp;</div></li><li><div>activate the checkpoint you have to set the&nbsp;</div></li><li><div>gpxcheckpointinterval-Parameter on every map. The&nbsp;</div></li><li><div>gpxcheckpointinterval-parameter defines the interval in km or mi between&nbsp;</div></li><li><div>every checkpoint!&lt;br /&gt;Have a look at the &lt;a href=&quot;#templ&quot;&gt;Templates&lt;/a&gt; section, there you can set the look &amp; feel of your Checkpoint Table!&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_checkpointmapmarkercolor; ?&gt;&quot;&gt;Checkpoint&nbsp;</div></li><li><div>      Map Marker Color:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select onchange='enabling();' &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_checkpointmapmarkercolor.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_checkpointmapmarkercolor.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_checkpointmapmarkercolor))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;red&quot;: $selcpmred = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;green&quot;: $selcpmgreen = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;yellow&quot;: $selcpmyellow = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          case &quot;blue&quot;: $selcpmblue = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selcpmred = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='red' $selcpmred&gt;Red (red)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='green' $selcpmgreen&gt;Green (green)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='yellow' $selcpmyellow&gt;Yellow (yellow)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='blue' $selcpmblue&gt;Blue (blue)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt; &lt;img id=&quot;cpmarker&quot; name=&quot;cpmarker&quot; src=&quot;&quot; /&gt; &lt;img&nbsp;</div></li><li><div>          id=&quot;cpmarker_start&quot; name=&quot;cpmarker_start&quot; src=&quot;&quot; /&gt; &lt;img&nbsp;</div></li><li><div>          id=&quot;cpmarker_end&quot; name=&quot;cpmarker_end&quot; src=&quot;&quot; /&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Define the Marker Color for the&nbsp;</div></li><li><div>      Checkpoint&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_checkpointinterval; ?&gt;&quot;&gt;Checkpoint&nbsp;</div></li><li><div>      Interval:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;input type='text' size='50' onchange='enabling();'&quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_checkpointinterval.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_checkpointinterval.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;value='&quot;.get_option(key_xmlgm_checkpointinterval).&quot;' /&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Set the checkpoint interval (0=disabled)!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_checkpointtable; ?&gt;&quot;&gt;Checkpoint Table:&lt;/label&gt;&nbsp;</div></li><li><div>      &lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;select &quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_checkpointtable.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_checkpointtable.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      switch (get_option(key_xmlgm_checkpointtable))&nbsp;</div></li><li><div>      {&nbsp;</div></li><li><div>          case &quot;show&quot;: $selcptabshow = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>          default: $selcptabhide = &quot;selected='selected'&quot;; break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo &quot;&lt;option value='hide' $selcptabhide&gt;Invisible (hide)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;option value='show' $selcptabshow&gt;Visible (show)&lt;/option&gt;&quot;;&nbsp;</div></li><li><div>      echo &quot;&lt;/select&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Visibility of checkpoint table&nbsp;</div></li><li><div>      (checkpointinterval has to be set to a value &gt;0)&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;    &nbsp;</div></li><li><div>  &lt;/table&gt;&nbsp;</div></li><li><div>&lt;h3&gt;&lt;a name=&quot;templ&quot;&gt;&lt;/a&gt;Templates&lt;/h3&gt;&nbsp;</div></li><li><div>&lt;p&gt;Define the look &amp; feel of your Checkpoint Table, GPX marker or NextGEN Gallery marker!&lt;/p&gt;&nbsp;</div></li><li><div>&lt;table class=&quot;form-table&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; width=&quot;100%&quot;&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_checkpointtabletempl; ?&gt;&quot;&gt;Checkpoint Table&nbsp;</div></li><li><div>      Template:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;textarea rows='15' cols='50' style='width: 100%;'&quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_checkpointtabletempl.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_checkpointtabletempl.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      echo get_option(key_xmlgm_checkpointtabletempl).&quot;&lt;/textarea&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Define your own table template. Use the&nbsp;</div></li><li><div>      following parameters for placeholders:&lt;br /&gt;&nbsp;</div></li><li><div>      %WIDTH% - Placeholder of the Width setting&lt;br /&gt;&nbsp;</div></li><li><div>      %ROW% - Row Template Placeholder&lt;br /&gt;&nbsp;</div></li><li><div>      %DISTANCE% - Distance of the track&lt;br /&gt;&nbsp;</div></li><li><div>      %TIME% - Time of the track&lt;br /&gt;&nbsp;</div></li><li><div>      %MOVINGTIME% - Time of the track (without breaks)&lt;br /&gt;&nbsp;</div></li><li><div>      %SPEED% - Average Speed of the track&lt;br /&gt;&nbsp;</div></li><li><div>      %MOVINGSPEED% - Average Speed of the track (without breaks)&lt;br /&gt;        &nbsp;</div></li><li><div>      %MAXSPEED% - Max Speed of the track&lt;br /&gt;&nbsp;</div></li><li><div>      %CLIMBUP% - Climb Up of the track&lt;br /&gt;&nbsp;</div></li><li><div>      %CLIMBDOWN% - Climb Down of the track&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;br /&gt;&nbsp;</div></li><li><div>      Delete the whole content to restore the default value!&lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/td&gt;&nbsp;</div></li><li><div>      &lt;?php echo $navigation; ?&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_checkpointtablerowtempl; ?&gt;&quot;&gt;Checkpoint&nbsp;</div></li><li><div>      Table Row Template:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;textarea rows='15' cols='50' style='width: 100%;'&quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_checkpointtablerowtempl.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_checkpointtablerowtempl.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      echo get_option(key_xmlgm_checkpointtablerowtempl).&quot;&lt;/textarea&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Define your own row template. Use the&nbsp;</div></li><li><div>      following parameters for placeholders:&lt;br /&gt;&nbsp;</div></li><li><div>      %MARKERIMAGEURL% - URL to the checkpoint Image &lt;br /&gt;&nbsp;</div></li><li><div>      %CHECKPOINTNUMBER% - Number of the Checkpoint &lt;br /&gt;&nbsp;</div></li><li><div>      %PARTDISTANCE% - Distance between checkpoints&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTTIME% - Timedifference between checkpoints&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTMOVINGTIME% - Timedifference between checkpoints (without breaks)&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTSPEED% - Average speed between checkpoints&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTMOVINGSPEED% - Average speed between checkpoints (without breaks)&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTMAXSPEED% - Max Speed between checkpoints&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTCLIMBUP% - Climb Up checkpoints&lt;br /&gt;&nbsp;</div></li><li><div>      %PARTCLIMBDOWN% - Climb Down checkpoints&lt;br /&gt;                &nbsp;</div></li><li><div>      %DISTANCE% - Distance from starting point&lt;br /&gt;&nbsp;</div></li><li><div>      %TIME% - Time from the starting point&lt;br /&gt;&nbsp;</div></li><li><div>      %MOVINGTIME% - Time from the starting point (without breaks)&lt;br /&gt;        &nbsp;</div></li><li><div>      %SPEED% - Average Speed from the starting point&lt;br /&gt;&nbsp;</div></li><li><div>      %MOVINGSPEED% - Average Speed from the starting point (without breaks)&lt;br /&gt;&nbsp;</div></li><li><div>      %MAXSPEED% - Max Speed from the starting point&lt;br /&gt;&nbsp;</div></li><li><div>      %CLIMBUP% - Climb Up from the starting point&lt;br /&gt;&nbsp;</div></li><li><div>      %CLIMBDOWN% - Climb Down from the starting point&lt;br /&gt;&nbsp;</div></li><li><div>      &lt;br /&gt;&nbsp;</div></li><li><div>      Delete the whole content to restore the default value!&lt;/p&gt;&lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;&nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_gpxmarkertempl; ?&gt;&quot;&gt;GPX Waypoint Marker Template:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;textarea rows='15' cols='50' style='width: 100%;'&quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_gpxmarkertempl.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_gpxmarkertempl.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      echo get_option(key_xmlgm_gpxmarkertempl).&quot;&lt;/textarea&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Define your own row template. Use the&nbsp;</div></li><li><div>      following parameters for placeholders:&lt;br /&gt;&nbsp;</div></li><li><div>      %DESCRIPTION% - DESC Tag of the GPX Waypoint &lt;br /&gt;&nbsp;</div></li><li><div>      %NAME% - NAME Tag of the GPX Waypoint &lt;br /&gt;&nbsp;</div></li><li><div>      %LINK% - Attribute HREF of the LINK Tag of the GPX Waypoint &lt;br /&gt;&nbsp;</div></li><li><div>      &lt;br /&gt;&nbsp;</div></li><li><div>      Delete the whole content to restore the default value!&lt;/p&gt;&lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;    &nbsp;</div></li><li><div>  &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;th valign=&quot;top&quot; style=&quot;padding-top: 10px;&quot; width=&quot;35%&quot;&gt;&lt;label&nbsp;</div></li><li><div>          for=&quot;&lt;?php echo key_xmlgm_nggmarkertempl; ?&gt;&quot;&gt;NextGEN Gallery Image Marker Template:&lt;/label&gt;&lt;/th&gt;&nbsp;</div></li><li><div>      &lt;td width=&quot;50%&quot;&gt;&lt;?php&nbsp;</div></li><li><div>      echo &quot;&lt;textarea rows='15' cols='50' style='width: 100%;'&quot;;&nbsp;</div></li><li><div>      echo &quot;name='&quot;.key_xmlgm_nggmarkertempl.&quot;' &quot;;&nbsp;</div></li><li><div>      echo &quot;id='&quot;.key_xmlgm_nggmarkertempl.&quot;'&gt;&quot;;&nbsp;</div></li><li><div>      echo get_option(key_xmlgm_nggmarkertempl).&quot;&lt;/textarea&gt;\n&quot;;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;p style=&quot;margin: 5px 10px;&quot;&gt;Define your own row template. Use the&nbsp;</div></li><li><div>      following parameters for placeholders:&lt;br /&gt;&nbsp;</div></li><li><div>      %FULLPATH% - Full Image Path &lt;br /&gt;&nbsp;</div></li><li><div>      %THUMBPATH% - Thumb Image Path &lt;br /&gt;&nbsp;</div></li><li><div>      %TITLE% - Title of the image &lt;br /&gt;&nbsp;</div></li><li><div>      %DESCRIPTION% - Description of the Image &lt;br /&gt;&nbsp;</div></li><li><div>      %CREATIONDATE% - Creation Date of the Image &lt;br /&gt;&nbsp;</div></li><li><div>      &lt;br /&gt;&nbsp;</div></li><li><div>      Delete the whole content to restore the default value!&lt;/p&gt;&lt;/td&gt;&nbsp;</div></li><li><div>  &lt;/tr&gt;        &nbsp;</div></li><li><div>&lt;/table&gt;&nbsp;</div></li><li><div>&lt;/div&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>      &lt;!--&nbsp;</div></li><li><div>          enabling();&nbsp;</div></li><li><div>      --&gt;&nbsp;</div></li><li><div>      &lt;/script&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function getDisplayURL($urldisplaymode, $displayurl, $varstring) {&nbsp;</div></li><li><div>  switch ($urldisplaymode) {&nbsp;</div></li><li><div>      case &quot;none&quot;:&nbsp;</div></li><li><div>          $displayurl = &quot;&quot;;&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case &quot;showvars&quot;:&nbsp;</div></li><li><div>          $displayurl = $displayurl;&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      case &quot;nomap&quot;:&nbsp;</div></li><li><div>          $displayurl = str_replace(&quot;[&quot;.$varstring.&quot;]&quot;, &quot;&quot;, $displayurl);&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>      default:&nbsp;</div></li><li><div>          $displayurl = str_replace(&quot;[&quot;.$varstring.&quot;]&quot;, &quot;&quot;, $displayurl);&nbsp;</div></li><li><div>          break;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $displayurl;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Not exististing Functions</span>&nbsp;</div></li><li><div>if(!function_exists(&quot;stripos&quot;))&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  function stripos($str, $needle)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>      return strpos(strtolower($str), strtolower($needle));&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>XML Google Maps</li><li><span></span>1.9</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>