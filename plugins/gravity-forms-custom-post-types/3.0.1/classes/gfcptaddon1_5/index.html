<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="3.0.1" data-slug="gravity-forms-custom-post-types" data-type="class" data-id="44111"><head xmlns="http://www.w3.org/1999/xhtml"><title> gfcptaddon1_5 | class | Gravity Forms Custom Post Types | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="GFCPTAddon1_5, class, plugin, gravity-forms-custom-post-types, 3.0.1" /><meta name="description" content="GFCPT Addon class targetting version 1.5 of Gravity Forms" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.25"}};!function(e,n,t){var a;function i(e){var t=n.createElement("canvas"),a=t.getContext&&t.getContext("2d"),i=String.fromCharCode;return!(!a||!a.fillText)&&(a.textBaseline="top",a.font="600 32px Arial","flag"===e?(a.fillText(i(55356,56806,55356,56826),0,0),3e3<t.toDataURL().length):"diversity"===e?(a.fillText(i(55356,57221),0,0),t=a.getImageData(16,16,1,1).data,a.fillText(i(55356,57221,55356,57343),0,0),(t=a.getImageData(16,16,1,1).data)[0],t[1],t[2],t[3],!0):("simple"===e?a.fillText(i(55357,56835),0,0):a.fillText(i(55356,57135),0,0),0!==a.getImageData(16,16,1,1).data[0]))}function o(e){var t=n.createElement("script");t.src=e,t.type="text/javascript",n.getElementsByTagName("head")[0].appendChild(t)}t.supports={simple:i("simple"),flag:i("flag"),unicode8:i("unicode8"),diversity:i("diversity")},t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.simple&&t.supports.flag&&t.supports.unicode8&&t.supports.diversity||(a=function(){t.readyCallback()},n.addEventListener?(n.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)):(e.attachEvent("onload",a),n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&t.readyCallback()})),(a=t.source||{}).concatemoji?o(a.concatemoji):a.wpemoji&&a.twemoji&&(o(a.twemoji),o(a.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=7913d45c8286a04a22dc7c5b1f2db337' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.25' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/gfcptaddon1_5/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fgfcptaddon1_5%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fgfcptaddon1_5%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-gravity-forms-custom-post-types-3.0.1-class-gfcptaddon1_5","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="gfcptaddon1_5" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to gravity-forms-custom-post-typ&hellip;." href="http://hookr.io/plugins/gravity-forms-custom-post-types/" class="plugin"><span property="name">gravity-forms-custom-post-typ&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.0.1." href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/" class="H_VERSION"><span property="name">3.0.1</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">gfcptaddon1_5</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="3"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/all/" title="All">All <span class="count badge">3</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/hooks/" title="Hooks">Hooks <span class="count badge">0</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/filters/" title="Filters">Filters <span class="count badge">0</span></a></li><li class="active" data-id="class" data-count="3"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/classes/" title="Classes">Classes <span class="count badge">3</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>GFCPTAddon1_5</strong></h1><p>GFCPT Addon class targetting version 1.5 of Gravity Forms.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/files/gfcptaddon-1-5/" class="file">/gfcptaddon_1-5.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="8" class="block" start="8"><li><div>class GFCPTAddon1_5 extends GFCPTAddonBase {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Override. Include a couple more hooks&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function init() {&nbsp;</div></li><li><div>        //hook up the defaults&nbsp;</div></li><li><div>        parent::init();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //then add these for 1.5...&nbsp;</div></li><li><div>        //add our advanced options to the form builder&nbsp;</div></li><li><div>        add_action('gform_field_advanced_settings', array(&$this, 'render_field_advanced_settings'), 10, 2);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //include javascript for the form builder&nbsp;</div></li><li><div>        add_action('gform_editor_js', array(&$this, 'render_editor_js'));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // filter to add a new tooltip&nbsp;</div></li><li><div>        add_filter('gform_tooltips', array(&$this, 'add_gf_tooltips'));&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Override. Gets the post type from our new field value&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function get_field_post_type( $field ) {&nbsp;</div></li><li><div>      if (array_key_exists('populatePostType', $field)) {&nbsp;</div></li><li><div>        return $field['populatePostType'];&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Override. Gets the taxonomy from our new field value&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function get_field_taxonomy( $field ) {&nbsp;</div></li><li><div>      if (array_key_exists('populateTaxonomy', $field)) {&nbsp;</div></li><li><div>        return $field['populateTaxonomy'];&nbsp;</div></li><li><div>      } else if (array_key_exists('saveToTaxonomy', $field)) {&nbsp;</div></li><li><div>        return $field['saveToTaxonomy'];&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Override. Gets the custom post type from the post title field value&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function get_form_post_type( $form ) {&nbsp;</div></li><li><div>        foreach ( $form['fields'] as $field ) {&nbsp;</div></li><li><div>            if ( $field['type'] == 'post_title' && $field['saveAsCPT'] )&nbsp;</div></li><li><div>                return $field['saveAsCPT'];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    function get_form_parent_post_id( $form ) {&nbsp;</div></li><li><div>        foreach ( $form['fields'] as $field ) {&nbsp;</div></li><li><div>            if ( $field['type'] == 'select' && $field['setParentPost'] ) {&nbsp;</div></li><li><div>                $parent_id = RGForms::post('input_'.$field['id']);&nbsp;</div></li><li><div>                return $parent_id;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return 0;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add tooltips for the new field values&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function add_gf_tooltips($tooltips) {&nbsp;</div></li><li><div>       $tooltips[&quot;form_field_populate_post_type&quot;] = &quot;&lt;h6&gt;Populate with a Post Type&lt;/h6&gt;Check this box to populate this field from a specific post type.&quot;;&nbsp;</div></li><li><div>       $tooltips[&quot;form_field_set_parent_post&quot;] = &quot;&lt;h6&gt;Try to set parent&lt;/h6&gt;If this is checked, and the form creates a post type, then the parent for the newly created post type will be set from the value of this field. Please note that this only works for heirarcical post typs e.g. pages&quot;;&nbsp;</div></li><li><div>       $tooltips[&quot;form_field_custom_taxonomy&quot;] = &quot;&lt;h6&gt;Populate with a Taxonomy&lt;/h6&gt;Check this box to populate this field from a custom taxonomy.&quot;;&nbsp;</div></li><li><div>       $tooltips[&quot;form_field_custom_post_type&quot;] = &quot;&lt;h6&gt;Save As Post Type&lt;/h6&gt;Check this box to save this form to a specific post type.&quot;;&nbsp;</div></li><li><div>       $tooltips[&quot;form_field_save_to_taxonomy&quot;] = &quot;&lt;h6&gt;Save To Taxonomy&lt;/h6&gt;Check this box to save this field to a specific custom taxonomy. Please note that the taxonomy must NOT be hierarchical.&quot;;&nbsp;</div></li><li><div>       $tooltips[&quot;form_field_tax_enhanced&quot;] = &quot;&lt;h6&gt;Enable Enhanced UI&lt;/h6&gt;By selecting this option, this field will be tranformed into a 'tag input' control which makes it more user-friendly for selecting existing and capturing new taxonomies.&quot;;&nbsp;</div></li><li><div>       return $tooltips;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add some advanced settings to the fields&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>     function render_field_advanced_settings($position, $form_id) {&nbsp;</div></li><li><div>        if($position == 50) {&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;li class=&quot;populate_with_taxonomy_field_setting field_setting&quot; style=&quot;display:list-item;&quot;&gt;&nbsp;</div></li><li><div>                &lt;input type=&quot;checkbox&quot; id=&quot;field_enable_populate_with_taxonomy&quot; /&gt;&nbsp;</div></li><li><div>                &lt;label for=&quot;field_enable_populate_with_taxonomy&quot; class=&quot;inline&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php _e(&quot;Populate with a Taxonomy&quot;, &quot;gravityforms&quot;); ?&gt;&nbsp;</div></li><li><div>                &lt;/label&gt;&nbsp;</div></li><li><div>                &lt;?php gform_tooltip(&quot;form_field_custom_taxonomy&quot;) ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                &lt;select id=&quot;field_populate_taxonomy&quot; onchange=&quot;SetFieldProperty('populateTaxonomy', jQuery(this).val());&quot; style=&quot;margin-top:10px; display:none;&quot;&gt;&nbsp;</div></li><li><div>                    &lt;option value=&quot;&quot; style=&quot;color:#999;&quot;&gt;Select a Taxonomy&lt;/option&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                $args=array(&nbsp;</div></li><li><div>                  'public' =&gt; true, &nbsp;</div></li><li><div>                  '_builtin' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                $taxonomies = get_taxonomies($args, 'objects');&nbsp;</div></li><li><div>                foreach($taxonomies as $taxonomy): ?&gt;&nbsp;</div></li><li><div>                    &lt;option value=&quot;&lt;?php echo $taxonomy-&gt;name; ?&gt;&quot;&gt;&lt;?php echo $taxonomy-&gt;label; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                &lt;?php endforeach; ?&gt;&nbsp;</div></li><li><div>                &lt;/select&gt;&nbsp;</div></li><li><div>            &lt;/li&gt;&nbsp;</div></li><li><div>            &lt;li class=&quot;populate_with_post_type_field_setting field_setting&quot; style=&quot;display:list-item;&quot;&gt;&nbsp;</div></li><li><div>                &lt;input type=&quot;checkbox&quot; class=&quot;toggle_setting&quot; id=&quot;field_enable_populate_with_post_type&quot; /&gt;&nbsp;</div></li><li><div>                &lt;label for=&quot;field_enable_populate_with_post_type&quot; class=&quot;inline&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php _e(&quot;Populate with a Post Type&quot;, &quot;gravityforms&quot;); ?&gt;&nbsp;</div></li><li><div>                &lt;/label&gt;&nbsp;</div></li><li><div>                &lt;?php gform_tooltip(&quot;form_field_populate_post_type&quot;) ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                &lt;div style=&quot;margin-top:10px; display:none;&quot;&gt;&nbsp;</div></li><li><div>                  &lt;select id=&quot;field_populate_post_type&quot; onchange=&quot;SetFieldProperty('populatePostType', jQuery(this).val());&quot;&gt;&nbsp;</div></li><li><div>                      &lt;option value=&quot;&quot; style=&quot;color:#999;&quot;&gt;Select a Post Type&lt;/option&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  $args=array(&nbsp;</div></li><li><div>                    'public' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                  $post_types = get_post_types($args, 'objects');&nbsp;</div></li><li><div>                  foreach($post_types as $post_type): ?&gt;&nbsp;</div></li><li><div>                      &lt;option value=&quot;&lt;?php echo $post_type-&gt;name; ?&gt;&quot;&gt;&lt;?php echo $post_type-&gt;label; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                  &lt;?php endforeach; ?&gt;&nbsp;</div></li><li><div>                  &lt;/select&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;checkbox&quot; class=&quot;check_parent&quot; onclick=&quot;SetFieldProperty('setParentPost', this.checked);&quot; id=&quot;field_set_parent_post&quot; /&gt;&nbsp;</div></li><li><div>                  &lt;label for=&quot;field_set_parent_post&quot; class=&quot;inline&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php _e(&quot;Try to set parent&quot;, &quot;gravityforms&quot;); ?&gt;&nbsp;</div></li><li><div>                  &lt;/label&gt;&nbsp;</div></li><li><div>                  &lt;?php gform_tooltip(&quot;form_field_set_parent_post&quot;) ?&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/li&gt;&nbsp;</div></li><li><div>            &lt;li class=&quot;custom_post_type_field_setting field_setting&quot; style=&quot;display:list-item;&quot;&gt;&nbsp;</div></li><li><div>                &lt;input type=&quot;checkbox&quot; id=&quot;field_enable_custom_post_type&quot; /&gt;&nbsp;</div></li><li><div>                &lt;label for=&quot;field_enable_custom_post_type&quot; class=&quot;inline&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php _e(&quot;Save As Post Type&quot;, &quot;gravityforms&quot;); ?&gt;&nbsp;</div></li><li><div>                &lt;/label&gt;&nbsp;</div></li><li><div>                &lt;?php gform_tooltip(&quot;form_field_custom_post_type&quot;) ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                &lt;select id=&quot;field_populate_custom_post_type&quot; onchange=&quot;SetFieldProperty('saveAsCPT', jQuery(this).val());&quot; style=&quot;margin-top:10px; display:none;&quot;&gt;&nbsp;</div></li><li><div>                    &lt;option value=&quot;&quot; style=&quot;color:#999;&quot;&gt;Select a Post Type&lt;/option&gt;&nbsp;</div></li><li><div>                &lt;?php&nbsp;</div></li><li><div>                $args=array(&nbsp;</div></li><li><div>                  'public' =&gt; true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                $post_types = get_post_types($args, 'objects');&nbsp;</div></li><li><div>                foreach($post_types as $post_type): ?&gt;&nbsp;</div></li><li><div>                    &lt;option value=&quot;&lt;?php echo $post_type-&gt;name; ?&gt;&quot;&gt;&lt;?php echo $post_type-&gt;label; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                &lt;?php endforeach; ?&gt;&nbsp;</div></li><li><div>                &lt;/select&gt;&nbsp;</div></li><li><div>            &lt;/li&gt;&nbsp;</div></li><li><div>            &lt;li class=&quot;save_to_taxonomy_field_setting field_setting&quot; style=&quot;display:list-item;&quot;&gt;&nbsp;</div></li><li><div>                &lt;input type=&quot;checkbox&quot; class=&quot;toggle_setting&quot; id=&quot;field_enable_save_to_taxonomy&quot; /&gt;&nbsp;</div></li><li><div>                &lt;label for=&quot;field_enable_save_to_taxonomy&quot; class=&quot;inline&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php _e(&quot;Save To Taxonomy&quot;, &quot;gravityforms&quot;); ?&gt;&nbsp;</div></li><li><div>                &lt;/label&gt;&nbsp;</div></li><li><div>                &lt;?php gform_tooltip(&quot;form_field_save_to_taxonomy&quot;) ?&gt;&nbsp;</div></li><li><div>                &lt;div style=&quot;margin-top:10px; display:none;&quot;&gt;&nbsp;</div></li><li><div>                  &lt;select id=&quot;field_save_to_taxonomy&quot; onchange=&quot;SetFieldProperty('saveToTaxonomy', jQuery(this).val());&quot;&gt;&nbsp;</div></li><li><div>                      &lt;option value=&quot;&quot; style=&quot;color:#999;&quot;&gt;Select a Taxonomy&lt;/option&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  $args=array(&nbsp;</div></li><li><div>                    'public' =&gt; true, &nbsp;</div></li><li><div>                    '_builtin' =&gt; false&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                  $taxonomies = get_taxonomies($args, 'objects');&nbsp;</div></li><li><div>                  foreach($taxonomies as $taxonomy):&nbsp;</div></li><li><div>                      if ($taxonomy-&gt;hierarchical === false) {?&gt;&nbsp;</div></li><li><div>                      &lt;option value=&quot;&lt;?php echo $taxonomy-&gt;name; ?&gt;&quot;&gt;&lt;?php echo $taxonomy-&gt;label; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                      &lt;?php } ?&gt;&nbsp;</div></li><li><div>                  &lt;?php endforeach; ?&gt;&nbsp;</div></li><li><div>                  &lt;/select&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;checkbox&quot; class=&quot;check_tax_enhanced&quot; onclick=&quot;SetFieldProperty('taxonomyEnhanced', this.checked);&quot; id=&quot;field_tax_enhanced&quot; /&gt;&nbsp;</div></li><li><div>                  &lt;label for=&quot;field_tax_enhanced&quot; class=&quot;inline&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php _e(&quot;Enable enhanced UI&quot;, &quot;gravityforms&quot;); ?&gt;&nbsp;</div></li><li><div>                  &lt;/label&gt;&nbsp;</div></li><li><div>                  &lt;?php gform_tooltip(&quot;form_field_tax_enhanced&quot;) ?&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/li&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * render some custom JS to get the settings to work&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function render_editor_js() {&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;script type='text/javascript'&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery(document).bind(&quot;gform_load_field_settings&quot;, function(event, field, form) {&nbsp;</div></li><li><div>                //only show taxonomy for selects and radios&nbsp;</div></li><li><div>                var valid_types = new Array('select', 'radio', 'checkbox', 'multiselect');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                //alert(field['type']);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if(jQuery.inArray(field['type'], valid_types) != -1) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    var $taxonomy_setting_container = jQuery(&quot;.populate_with_taxonomy_field_setting&quot;);&nbsp;</div></li><li><div>                    //show the setting container!&nbsp;</div></li><li><div>                    $taxonomy_setting_container.show();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    //get the saved taxonomy&nbsp;</div></li><li><div>                    var populateTaxonomy = (typeof field['populateTaxonomy'] != 'undefined' && field['populateTaxonomy'] != '') ? field['populateTaxonomy'] : false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if (populateTaxonomy != false) {&nbsp;</div></li><li><div>                        //check the checkbox if previously checked&nbsp;</div></li><li><div>                        $taxonomy_setting_container.find(&quot;input:checkbox&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);&nbsp;</div></li><li><div>                        //set the select and show&nbsp;</div></li><li><div>                        $taxonomy_setting_container.find(&quot;select&quot;).val(populateTaxonomy).show();&nbsp;</div></li><li><div>                    } else {&nbsp;</div></li><li><div>                        $taxonomy_setting_container.find(&quot;input:checkbox&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                        $taxonomy_setting_container.find(&quot;select&quot;).val('').hide();&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if (field['type'] == 'select') {&nbsp;</div></li><li><div>                      var $populate_post_type_container = jQuery(&quot;.populate_with_post_type_field_setting&quot;);&nbsp;</div></li><li><div>                      $populate_post_type_container.show();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      //get the saved post type&nbsp;</div></li><li><div>                      var populatePostType = (typeof field['populatePostType'] != 'undefined' && field['populatePostType'] != '') ? field['populatePostType'] : false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      if (populatePostType != false) {&nbsp;</div></li><li><div>                          //check the checkbox if previously checked&nbsp;</div></li><li><div>                          $populate_post_type_container.find(&quot;input.toggle_setting&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);&nbsp;</div></li><li><div>                          //set the select&nbsp;</div></li><li><div>                          $populate_post_type_container.find(&quot;select&quot;).val(populatePostType);&nbsp;</div></li><li><div>                          //show the div&nbsp;</div></li><li><div>                          $populate_post_type_container.find(&quot;div&quot;).show();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          //get the saved check for setting the parent post&nbsp;</div></li><li><div>                          var setParent = (typeof field['setParentPost'] != 'undefined' && field['setParentPost'] != '') ? field['setParentPost'] : false;&nbsp;</div></li><li><div>                          if (setParent != false) {&nbsp;</div></li><li><div>                            $populate_post_type_container.find(&quot;.check_parent&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                            $populate_post_type_container.find(&quot;.check_parent&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $taxonomy_setting_container.find(&quot;input.toggle_setting&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                          $taxonomy_setting_container.find(&quot;select&quot;).val('');&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                } else if (field['type'] == 'post_title') {&nbsp;</div></li><li><div>                    var $cpt_setting_container = jQuery(&quot;.custom_post_type_field_setting&quot;);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $cpt_setting_container.show();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    var saveAsCPT = (typeof field['saveAsCPT'] != 'undefined' && field['saveAsCPT'] != '') ? field['saveAsCPT'] : false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if (saveAsCPT != false) {&nbsp;</div></li><li><div>                        //check the checkbox if previously checked&nbsp;</div></li><li><div>                        $cpt_setting_container.find(&quot;input:checkbox&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);&nbsp;</div></li><li><div>                        //set the select and show&nbsp;</div></li><li><div>                        $cpt_setting_container.find(&quot;select&quot;).val(saveAsCPT).show();&nbsp;</div></li><li><div>                    } else {&nbsp;</div></li><li><div>                        $cpt_setting_container.find(&quot;input:checkbox&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                        $cpt_setting_container.find(&quot;select&quot;).val('').hide();&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                } else if (field['type'] == 'text') {&nbsp;</div></li><li><div>                    var $tax_setting_container = jQuery('.save_to_taxonomy_field_setting');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $tax_setting_container.show();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    var saveToTax = (typeof field['saveToTaxonomy'] != 'undefined' && field['saveToTaxonomy'] != '') ? field['saveToTaxonomy'] : false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    if (saveToTax != false) {&nbsp;</div></li><li><div>                        //check the checkbox if previously checked&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;input.toggle_setting&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);&nbsp;</div></li><li><div>                        //set the select&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;select&quot;).val(saveToTax);&nbsp;</div></li><li><div>                        //show the div&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;div&quot;).show();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        //get the saved check for using enhanced UI&nbsp;</div></li><li><div>                        var useEnhancedUI = (typeof field['taxonomyEnhanced'] != 'undefined' && field['taxonomyEnhanced'] != '') ? field['taxonomyEnhanced'] : false;&nbsp;</div></li><li><div>                        if (useEnhancedUI != false) {&nbsp;</div></li><li><div>                          $tax_setting_container.find(&quot;.check_tax_enhanced&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);&nbsp;</div></li><li><div>                        } else {&nbsp;</div></li><li><div>                          $tax_setting_container.find(&quot;.check_tax_enhanced&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    } else {&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;input.toggle_setting&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;div&quot;).hide();&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;.check_tax_enhanced&quot;).removeAttr(&quot;checked&quot;);&nbsp;</div></li><li><div>                        $tax_setting_container.find(&quot;select&quot;).val('');&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery(&quot;.populate_with_taxonomy_field_setting input:checkbox&quot;).click(function() {&nbsp;</div></li><li><div>                var checked = jQuery(this).is(&quot;:checked&quot;);&nbsp;</div></li><li><div>                var $select = jQuery(this).parent(&quot;.populate_with_taxonomy_field_setting:first&quot;).find(&quot;select&quot;);&nbsp;</div></li><li><div>                if(checked) {&nbsp;</div></li><li><div>                    $select.slideDown();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    //uncheck post type&nbsp;</div></li><li><div>                    var $pt_container = jQuery(this).parents(&quot;ul:first&quot;).find(&quot;.populate_with_post_type_field_setting:first&quot;);&nbsp;</div></li><li><div>                    var $pt_check = $pt_container.find(&quot;input.toggle_setting&quot;);&nbsp;</div></li><li><div>                    var $pt_div = $pt_container.find(&quot;div&quot;);&nbsp;</div></li><li><div>                    if ($pt_check.is(&quot;:checked&quot;)) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      SetFieldProperty('populatePostType', '');&nbsp;</div></li><li><div>                      $pt_div.slideUp();&nbsp;</div></li><li><div>                      $pt_check.removeAttr('checked');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    SetFieldProperty('populateTaxonomy', '');&nbsp;</div></li><li><div>                    $select.slideUp();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery(&quot;.custom_post_type_field_setting input:checkbox&quot;).click(function() {&nbsp;</div></li><li><div>                var checked = jQuery(this).is(&quot;:checked&quot;);&nbsp;</div></li><li><div>                var $select = jQuery(this).parent(&quot;.custom_post_type_field_setting:first&quot;).find(&quot;select&quot;);&nbsp;</div></li><li><div>                if(checked) {&nbsp;</div></li><li><div>                    $select.slideDown();&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    SetFieldProperty('saveAsCPT', '');&nbsp;</div></li><li><div>                    $select.slideUp();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery(&quot;.populate_with_post_type_field_setting .toggle_setting&quot;).click(function() {&nbsp;</div></li><li><div>                var checked = jQuery(this).is(&quot;:checked&quot;);&nbsp;</div></li><li><div>                var $div = jQuery(this).parent(&quot;.populate_with_post_type_field_setting:first&quot;).find(&quot;div&quot;);&nbsp;</div></li><li><div>                if(checked) {&nbsp;</div></li><li><div>                    $div.slideDown();&nbsp;</div></li><li><div>                    //uncheck taxonomy&nbsp;</div></li><li><div>                    var $tax_container = jQuery(this).parents(&quot;ul:first&quot;).find(&quot;.populate_with_taxonomy_field_setting:first&quot;);&nbsp;</div></li><li><div>                    var $tax_check = $tax_container.find(&quot;input:checkbox&quot;);&nbsp;</div></li><li><div>                    var $tax_select = $tax_container.find(&quot;select&quot;);&nbsp;</div></li><li><div>                    if ($tax_check.is(&quot;:checked&quot;)) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      SetFieldProperty('populateTaxonomy', '');&nbsp;</div></li><li><div>                      $tax_select.slideUp();&nbsp;</div></li><li><div>                      $tax_check.removeAttr('checked');&nbsp;</div></li><li><div>                      &nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    SetFieldProperty('populatePostType', '');&nbsp;</div></li><li><div>                    $div.slideUp();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            jQuery(&quot;.save_to_taxonomy_field_setting .toggle_setting&quot;).click(function() {&nbsp;</div></li><li><div>                var checked = jQuery(this).is(&quot;:checked&quot;);&nbsp;</div></li><li><div>                var $div = jQuery(this).parent(&quot;.save_to_taxonomy_field_setting:first&quot;).find(&quot;div&quot;);&nbsp;</div></li><li><div>                if(checked) {&nbsp;</div></li><li><div>                    $div.slideDown();&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    SetFieldProperty('saveToTaxonomy', '');&nbsp;</div></li><li><div>                    $div.slideUp();&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;/script&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.0</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3.0.1/classes/gfcptaddon1_5/" class="active">3.0.1</a></li><li><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/3/classes/gfcptaddon1_5/" class="">3</a></li><li><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/2.1/classes/gfcptaddon1_5/" class="">2.1</a></li><li><a href="http://hookr.io/plugins/gravity-forms-custom-post-types/2.0/classes/gfcptaddon1_5/" class="">2.0</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>GFCPTAddon1_5</li><li><span></span>Gravity Forms + Custom Post Types</li><li><span></span>3.0.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2021 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>