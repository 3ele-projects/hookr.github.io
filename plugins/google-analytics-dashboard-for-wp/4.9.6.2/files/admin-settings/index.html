<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="4.9.6.2" data-slug="google-analytics-dashboard-for-wp" data-type="file" data-id="7356"><head xmlns="http://www.w3.org/1999/xhtml"><title> admin-settings | file | Google Analytics Dashboard For Wp | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, google-analytics-dashboard-for-wp, 4.9.6.2" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=17e4da6f38f395b23e6eb1fefeb6e4c7' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/admin-settings/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fadmin-settings%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fadmin-settings%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-google-analytics-dashboard-for-wp-4.9.6.2-file-admin-settings","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="admin-settings" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to google-analytics-dashboard-fo&hellip;." href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/" class="plugin"><span property="name">google-analytics-dashboard-fo&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.9.6.2." href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/" class="H_VERSION"><span property="name">4.9.6.2</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">admin-settings</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="196"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/all/" title="All">All <span class="count badge">196</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="9"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/hooks/" title="Hooks">Hooks <span class="count badge">9</span></a></li><li class="" data-id="action" data-count="1"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/actions/" title="Actions">Actions <span class="count badge">1</span></a></li><li class="" data-id="filter" data-count="8"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/filters/" title="Filters">Filters <span class="count badge">8</span></a></li><li class="" data-id="class" data-count="181"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/classes/" title="Classes">Classes <span class="count badge">181</span></a></li><li class="" data-id="constant" data-count="4"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/constants/" title="Constants">Constants <span class="count badge">4</span></a></li><li class="" data-id="function" data-count="2"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/functions/" title="Functions">Functions <span class="count badge">2</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/google-analytics-dashboard-for-wp/4.9.6.2/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/admin/settings.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Author: Alin Marcu</span>&nbsp;</div></li><li><div><span class="comment"> * Author URI: https://deconf.com</span>&nbsp;</div></li><li><div><span class="comment"> * Copyright 2013 Alin Marcu</span>&nbsp;</div></li><li><div><span class="comment"> * License: GPLv2 or later</span>&nbsp;</div></li><li><div><span class="comment"> * License URI: http://www.gnu.org/licenses/gpl-2.0.html</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Exit if accessed directly</span>&nbsp;</div></li><li><div>if ( ! defined( 'ABSPATH' ) )&nbsp;</div></li><li><div>  exit();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>final class GADWP_Settings {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  private static function update_options( $who ) {&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>      $network_settings = false;&nbsp;</div></li><li><div>      $options = $gadwp-&gt;config-&gt;options; <span class="comment">// Get current options</span>&nbsp;</div></li><li><div>      if ( isset( $_POST['options']['ga_dash_hidden'] ) && isset( $_POST['options'] ) && ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) && $who != 'Reset' ) {&nbsp;</div></li><li><div>          $new_options = $_POST['options'];&nbsp;</div></li><li><div>          if ( $who == 'tracking' ) {&nbsp;</div></li><li><div>              $options['ga_dash_anonim'] = 0;&nbsp;</div></li><li><div>              $options['ga_event_tracking'] = 0;&nbsp;</div></li><li><div>              $options['ga_enhanced_links'] = 0;&nbsp;</div></li><li><div>              $options['ga_dash_remarketing'] = 0;&nbsp;</div></li><li><div>              $options['ga_dash_adsense'] = 0;&nbsp;</div></li><li><div>              $options['ga_event_bouncerate'] = 0;&nbsp;</div></li><li><div>              $options['ga_crossdomain_tracking'] = 0;&nbsp;</div></li><li><div>              $options['ga_aff_tracking'] = 0;&nbsp;</div></li><li><div>              $options['ga_hash_tracking'] = 0;&nbsp;</div></li><li><div>              if ( isset( $_POST['options']['ga_tracking_code'] ) ) {&nbsp;</div></li><li><div>                  $new_options['ga_tracking_code'] = trim( $new_options['ga_tracking_code'], &quot;\t&quot; );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( empty( $new_options['ga_track_exclude'] ) ) {&nbsp;</div></li><li><div>                  $new_options['ga_track_exclude'] = array();&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else if ( $who == 'backend' ) {&nbsp;</div></li><li><div>              $options['switch_profile'] = 0;&nbsp;</div></li><li><div>              $options['backend_item_reports'] = 0;&nbsp;</div></li><li><div>              $options['dashboard_widget'] = 0;&nbsp;</div></li><li><div>              if ( empty( $new_options['ga_dash_access_back'] ) ) {&nbsp;</div></li><li><div>                  $new_options['ga_dash_access_back'][] = 'administrator';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else if ( $who == 'frontend' ) {&nbsp;</div></li><li><div>              $options['frontend_item_reports'] = 0;&nbsp;</div></li><li><div>              if ( empty( $new_options['ga_dash_access_front'] ) ) {&nbsp;</div></li><li><div>                  $new_options['ga_dash_access_front'][] = 'administrator';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else if ( $who == 'general' ) {&nbsp;</div></li><li><div>              $options['ga_dash_userapi'] = 0;&nbsp;</div></li><li><div>              if ( ! is_multisite() ) {&nbsp;</div></li><li><div>                  $options['automatic_updates_minorversion'] = 0;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else if ( $who == 'network' ) {&nbsp;</div></li><li><div>              $options['ga_dash_userapi'] = 0;&nbsp;</div></li><li><div>              $options['ga_dash_network'] = 0;&nbsp;</div></li><li><div>              $options['ga_dash_excludesa'] = 0;&nbsp;</div></li><li><div>              $options['automatic_updates_minorversion'] = 0;&nbsp;</div></li><li><div>              $network_settings = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $options = array_merge( $options, $new_options );&nbsp;</div></li><li><div>          $gadwp-&gt;config-&gt;options = $options;&nbsp;</div></li><li><div>          $gadwp-&gt;config-&gt;set_plugin_options( $network_settings );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $options;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  private static function navigation_tabs( $tabs ) {&nbsp;</div></li><li><div>      echo '&lt;h2 class=&quot;nav-tab-wrapper&quot;&gt;';&nbsp;</div></li><li><div>      foreach ( $tabs as $tab =&gt; $name ) {&nbsp;</div></li><li><div>          echo &quot;&lt;a class='nav-tab' id='tab-$tab' href='#top#gadwp-$tab'&gt;$name&lt;/a&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo '&lt;/h2&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function frontend_settings() {&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>      if ( ! current_user_can( 'manage_options' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $options = self::update_options( 'frontend' );&nbsp;</div></li><li><div>      if ( isset( $_POST['options']['ga_dash_hidden'] ) ) {&nbsp;</div></li><li><div>          $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Settings saved.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          if ( ! ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] || ! $gadwp-&gt;config-&gt;options['ga_dash_token'] ) {&nbsp;</div></li><li><div>          $message = sprintf( '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', sprintf( __( 'Something went wrong, check %1$s or %2$s.', 'google-analytics-dashboard-for-wp' ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_errors_debugging', false ), __( 'Errors & Debug', 'google-analytics-dashboard-for-wp' ) ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_settings', false ), __( 'authorize the plugin', 'google-analytics-dashboard-for-wp' ) ) ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&lt;form name=&quot;ga_dash_form&quot; method=&quot;post&quot; action=&quot;&lt;?php echo esc_url($_SERVER['REQUEST_URI']); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>  &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Google Analytics Frontend Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;hr&gt;&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;div id=&quot;poststuff&quot; class=&quot;gadwp&quot;&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;post-body&quot; class=&quot;metabox-holder columns-2&quot;&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;post-body-content&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;settings-wrapper&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php if (isset($message)) echo $message; ?&gt;&nbsp;</div></li><li><div>                      &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Permissions&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td class=&quot;roles gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_dash_access_front&quot;&gt;&lt;?php _e(&quot;Show stats to:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;td class=&quot;gadwp-settings-roles&quot;&gt;&nbsp;</div></li><li><div>                                     &lt;?php&nbsp;</div></li><li><div>      if ( ! isset( $wp_roles ) ) {&nbsp;</div></li><li><div>          $wp_roles = new WP_Roles();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $i = 0;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                              &lt;table&gt;&nbsp;</div></li><li><div>                                      &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>      foreach ( $wp_roles-&gt;role_names as $role =&gt; $name ) {&nbsp;</div></li><li><div>          if ( $role != 'subscriber' ) {&nbsp;</div></li><li><div>              $i++;&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              &lt;td&gt;&lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_access_front][]&quot; value=&quot;&lt;?php echo $role; ?&gt;&quot; &lt;?php if (in_array($role, $options['ga_dash_access_front']) || $role=='administrator') echo 'checked=&quot;checked&quot;'; if ($role=='administrator') echo 'disabled=&quot;disabled&quot;';?&gt; /&gt;&lt;?php echo $name; ?&gt;&nbsp;</div></li><li><div>                &lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                          &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $i % 4 == 0 ) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                      &lt;/tr&gt;&nbsp;</div></li><li><div>                                      &lt;tr&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                                  &lt;/table&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;input type=&quot;checkbox&quot; name=&quot;options[frontend_item_reports]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;frontend_item_reports&quot; &lt;?php checked( $options['frontend_item_reports'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;frontend_item_reports&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;/label&gt;&nbsp;</div></li><li><div>                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;enable web page reports on frontend&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Submit&quot; class=&quot;button button-primary&quot; value=&quot;&lt;?php _e('Save Changes', 'google-analytics-dashboard-for-wp' ) ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php wp_nonce_field('gadash_form', 'gadash_security');?&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>      self::output_sidebar();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function backend_settings() {&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>      if ( ! current_user_can( 'manage_options' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $options = self::update_options( 'backend' );&nbsp;</div></li><li><div>      if ( isset( $_POST['options']['ga_dash_hidden'] ) ) {&nbsp;</div></li><li><div>          $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Settings saved.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          if ( ! ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] || ! $gadwp-&gt;config-&gt;options['ga_dash_token'] ) {&nbsp;</div></li><li><div>          $message = sprintf( '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', sprintf( __( 'Something went wrong, check %1$s or %2$s.', 'google-analytics-dashboard-for-wp' ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_errors_debugging', false ), __( 'Errors & Debug', 'google-analytics-dashboard-for-wp' ) ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_settings', false ), __( 'authorize the plugin', 'google-analytics-dashboard-for-wp' ) ) ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&lt;form name=&quot;ga_dash_form&quot; method=&quot;post&quot; action=&quot;&lt;?php echo esc_url($_SERVER['REQUEST_URI']); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Google Analytics Backend Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;hr&gt;&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;div id=&quot;poststuff&quot; class=&quot;gadwp&quot;&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;post-body&quot; class=&quot;metabox-holder columns-2&quot;&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;post-body-content&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;settings-wrapper&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php if (isset($message)) echo $message; ?&gt;&nbsp;</div></li><li><div>                      &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Permissions&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td class=&quot;roles gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_dash_access_back&quot;&gt;&lt;?php _e(&quot;Show stats to:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;td class=&quot;gadwp-settings-roles&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;?php&nbsp;</div></li><li><div>      if ( ! isset( $wp_roles ) ) {&nbsp;</div></li><li><div>          $wp_roles = new WP_Roles();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $i = 0;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                                  &lt;table&gt;&nbsp;</div></li><li><div>                                      &lt;tr&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      foreach ( $wp_roles-&gt;role_names as $role =&gt; $name ) {&nbsp;</div></li><li><div>          if ( $role != 'subscriber' ) {&nbsp;</div></li><li><div>              $i++;&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                          &lt;td&gt;&lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_access_back][]&quot; value=&quot;&lt;?php echo $role; ?&gt;&quot; &lt;?php if (in_array($role, $options['ga_dash_access_back']) || $role=='administrator') echo 'checked=&quot;checked&quot;'; if ($role=='administrator') echo 'disabled=&quot;disabled&quot;';?&gt; /&gt;&nbsp;</div></li><li><div>                                              &lt;?php echo $name; ?&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $i % 4 == 0 ) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                      &lt;/tr&gt;&nbsp;</div></li><li><div>                                      &lt;tr&gt;&nbsp;</div></li><li><div>                                          &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                                  &lt;/table&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;input type=&quot;checkbox&quot; name=&quot;options[switch_profile]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;switch_profile&quot; &lt;?php checked( $options['switch_profile'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;switch_profile&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;/label&gt;&nbsp;</div></li><li><div>                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php _e ( &quot;enable Switch View functionality&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;input type=&quot;checkbox&quot; name=&quot;options[backend_item_reports]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;backend_item_reports&quot; &lt;?php checked( $options['backend_item_reports'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;backend_item_reports&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;/label&gt;&nbsp;</div></li><li><div>                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php _e ( &quot;enable reports on Posts List and Pages List&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;input type=&quot;checkbox&quot; name=&quot;options[dashboard_widget]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;dashboard_widget&quot; &lt;?php checked( $options['dashboard_widget'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;dashboard_widget&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;/label&gt;&nbsp;</div></li><li><div>                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php _e ( &quot;enable the main Dashboard Widget&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Real-Time Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt; &lt;?php _e(&quot;Maximum number of pages to display on real-time tab:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&nbsp;</div></li><li><div>                                  &lt;input type=&quot;number&quot; name=&quot;options[ga_realtime_pages]&quot; id=&quot;ga_realtime_pages&quot; value=&quot;&lt;?php echo (int)$options['ga_realtime_pages']; ?&gt;&quot; size=&quot;3&quot;&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Location Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;?php echo __(&quot;Target Geo Map to country:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&nbsp;</div></li><li><div>                                  &lt;input type=&quot;text&quot; style=&quot;text-align: center;&quot; name=&quot;options[ga_target_geomap]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_target_geomap']); ?&gt;&quot; size=&quot;3&quot;&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;?php echo __(&quot;Maps API Key:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&nbsp;</div></li><li><div>                                  &lt;input type=&quot;text&quot; style=&quot;text-align: center;&quot; name=&quot;options[maps_api_key]&quot; value=&quot;&lt;?php echo esc_attr($options['maps_api_key']); ?&gt;&quot; size=&quot;50&quot;&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;404 Errors Report&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;?php echo __(&quot;404 Page Title contains:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&nbsp;</div></li><li><div>                                  &lt;input type=&quot;text&quot; style=&quot;text-align: center;&quot; name=&quot;options[pagetitle_404]&quot; value=&quot;&lt;?php echo esc_attr($options['pagetitle_404']); ?&gt;&quot; size=&quot;20&quot;&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Submit&quot; class=&quot;button button-primary&quot; value=&quot;&lt;?php _e('Save Changes', 'google-analytics-dashboard-for-wp' ) ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php wp_nonce_field('gadash_form', 'gadash_security'); ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>      self::output_sidebar();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function tracking_settings() {&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! current_user_can( 'manage_options' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $options = self::update_options( 'tracking' );&nbsp;</div></li><li><div>      if ( isset( $_POST['options']['ga_dash_hidden'] ) ) {&nbsp;</div></li><li><div>          $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Settings saved.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          if ( ! ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] ) {&nbsp;</div></li><li><div>          $message = sprintf( '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', sprintf( __( 'Something went wrong, check %1$s or %2$s.', 'google-analytics-dashboard-for-wp' ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_errors_debugging', false ), __( 'Errors & Debug', 'google-analytics-dashboard-for-wp' ) ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_settings', false ), __( 'authorize the plugin', 'google-analytics-dashboard-for-wp' ) ) ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( ! $options['ga_dash_tracking'] ) {&nbsp;</div></li><li><div>          $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;The tracking component is disabled. You should set &lt;strong&gt;Tracking Options&lt;/strong&gt; to &lt;strong&gt;Enabled&lt;/strong&gt;&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;.&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&lt;form name=&quot;ga_dash_form&quot; method=&quot;post&quot; action=&quot;&lt;?php  esc_url($_SERVER['REQUEST_URI']); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Google Analytics Tracking Code&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;div id=&quot;poststuff&quot; class=&quot;gadwp&quot;&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;post-body&quot; class=&quot;metabox-holder columns-2&quot;&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;post-body-content&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;settings-wrapper&quot;&gt;&nbsp;</div></li><li><div>                  &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>      $tabs = array( 'basic' =&gt; __( &quot;Basic Settings&quot;, 'google-analytics-dashboard-for-wp' ), 'events' =&gt; __( &quot;Events Tracking&quot;, 'google-analytics-dashboard-for-wp' ), 'custom' =&gt; __( &quot;Custom Definitions&quot;, 'google-analytics-dashboard-for-wp' ), 'exclude' =&gt; __( &quot;Exclude Tracking&quot;, 'google-analytics-dashboard-for-wp' ), 'advanced' =&gt; __( &quot;Advanced Settings&quot;, 'google-analytics-dashboard-for-wp' ) );&nbsp;</div></li><li><div>      self::navigation_tabs( $tabs );&nbsp;</div></li><li><div>      if ( isset( $message ) )&nbsp;</div></li><li><div>          echo $message;&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;gadwp-basic&quot;&gt;&nbsp;</div></li><li><div>                          &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Tracking Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_dash_tracking&quot;&gt;&lt;?php _e(&quot;Tracking Options:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_dash_tracking&quot; name=&quot;options[ga_dash_tracking]&quot; onchange=&quot;this.form.submit()&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;option value=&quot;0&quot; &lt;?php selected( $options['ga_dash_tracking'], 0 ); ?&gt;&gt;&lt;?php _e(&quot;Disabled&quot;, 'google-analytics-dashboard-for-wp');?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                          &lt;option value=&quot;1&quot; &lt;?php selected( $options['ga_dash_tracking'], 1 ); ?&gt;&gt;&lt;?php _e(&quot;Enabled&quot;, 'google-analytics-dashboard-for-wp');?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                  &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;?php if ($options['ga_dash_tracking']) {?&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&nbsp;</div></li><li><div>                                      &lt;?php $profile_info = GADWP_Tools::get_selected_profile($gadwp-&gt;config-&gt;options['ga_dash_profile_list'], $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail']); ?&gt;&nbsp;</div></li><li><div>                                      &lt;?php echo '&lt;pre&gt;' . __(&quot;View Name:&quot;, 'google-analytics-dashboard-for-wp') . &quot;\t&quot; . esc_html($profile_info[0]) . &quot;&lt;br /&gt;&quot; . __(&quot;Tracking ID:&quot;, 'google-analytics-dashboard-for-wp') . &quot;\t&quot; . esc_html($profile_info[2]) . &quot;&lt;br /&gt;&quot; . __(&quot;Default URL:&quot;, 'google-analytics-dashboard-for-wp') . &quot;\t&quot; . esc_html($profile_info[3]) . &quot;&lt;br /&gt;&quot; . __(&quot;Time Zone:&quot;, 'google-analytics-dashboard-for-wp') . &quot;\t&quot; . esc_html($profile_info[5]) . '&lt;/pre&gt;';?&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;?php }?&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Basic Tracking&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_dash_tracking_type&quot;&gt;&lt;?php _e(&quot;Tracking Type:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_dash_tracking_type&quot; name=&quot;options[ga_dash_tracking_type]&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;option value=&quot;classic&quot; &lt;?php selected( $options['ga_dash_tracking_type'], 'classic' ); ?&gt;&gt;&lt;?php _e(&quot;Classic Analytics&quot;, 'google-analytics-dashboard-for-wp');?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                          &lt;option value=&quot;universal&quot; &lt;?php selected( $options['ga_dash_tracking_type'], 'universal' ); ?&gt;&gt;&lt;?php _e(&quot;Universal Analytics&quot;, 'google-analytics-dashboard-for-wp');?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                  &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_anonim]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_dash_anonim&quot; &lt;?php checked( $options['ga_dash_anonim'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_dash_anonim&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;anonymize IPs while tracking&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_remarketing]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_dash_remarketing&quot; &lt;?php checked( $options['ga_dash_remarketing'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_dash_remarketing&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;enable remarketing, demographics and interests reports&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;gadwp-events&quot;&gt;&nbsp;</div></li><li><div>                          &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Events Tracking&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_event_tracking]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_event_tracking&quot; &lt;?php checked( $options['ga_event_tracking'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_event_tracking&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;track downloads, mailto and outbound links&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_event_downloads&quot;&gt;&lt;?php _e(&quot;Downloads Regex:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_event_downloads&quot; name=&quot;options[ga_event_downloads]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_event_downloads']); ?&gt;&quot; size=&quot;50&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_aff_tracking]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_aff_tracking&quot; &lt;?php checked( $options['ga_aff_tracking'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_aff_tracking&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;track affiliate links matching this regex&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_event_affiliates&quot;&gt;&lt;?php _e(&quot;Affiliates Regex:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_event_affiliates&quot; name=&quot;options[ga_event_affiliates]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_event_affiliates']); ?&gt;&quot; size=&quot;50&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_hash_tracking]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_hash_tracking&quot; &lt;?php checked( $options['ga_hash_tracking'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_hash_tracking&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;track fragment identifiers, hashmarks (#) in URI links&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;gadwp-custom&quot;&gt;&nbsp;</div></li><li><div>                          &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Custom Definitions&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_author_dimindex&quot;&gt;&lt;?php _e(&quot;Authors:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_author_dimindex&quot; name=&quot;options[ga_author_dimindex]&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php for ($i=0;$i&lt;21;$i++) {?&gt;&nbsp;</div></li><li><div>                                      &lt;option value=&quot;&lt;?php echo $i;?&gt;&quot; &lt;?php selected( $options['ga_author_dimindex'], $i ); ?&gt;&gt;&lt;?php echo $i==0?'Disabled':'dimension '.$i; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                      &lt;?php }?&gt;&nbsp;</div></li><li><div>                              &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_pubyear_dimindex&quot;&gt;&lt;?php _e(&quot;Publication Year:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_pubyear_dimindex&quot; name=&quot;options[ga_pubyear_dimindex]&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php for ($i=0;$i&lt;21;$i++) {?&gt;&nbsp;</div></li><li><div>                                      &lt;option value=&quot;&lt;?php echo $i;?&gt;&quot; &lt;?php selected( $options['ga_pubyear_dimindex'], $i ); ?&gt;&gt;&lt;?php echo $i==0?'Disabled':'dimension '.$i; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                      &lt;?php }?&gt;&nbsp;</div></li><li><div>                              &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_pubyearmonth_dimindex&quot;&gt;&lt;?php _e(&quot;Publication Month:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_pubyearmonth_dimindex&quot; name=&quot;options[ga_pubyearmonth_dimindex]&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php for ($i=0;$i&lt;21;$i++) {?&gt;&nbsp;</div></li><li><div>                                      &lt;option value=&quot;&lt;?php echo $i;?&gt;&quot; &lt;?php selected( $options['ga_pubyearmonth_dimindex'], $i ); ?&gt;&gt;&lt;?php echo $i==0?'Disabled':'dimension '.$i; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                      &lt;?php }?&gt;&nbsp;</div></li><li><div>                              &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_category_dimindex&quot;&gt;&lt;?php _e(&quot;Categories:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_category_dimindex&quot; name=&quot;options[ga_category_dimindex]&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php for ($i=0;$i&lt;21;$i++) {?&gt;&nbsp;</div></li><li><div>                                      &lt;option value=&quot;&lt;?php echo $i;?&gt;&quot; &lt;?php selected( $options['ga_category_dimindex'], $i ); ?&gt;&gt;&lt;?php echo $i==0?'Disabled':'dimension '.$i; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                      &lt;?php }?&gt;&nbsp;</div></li><li><div>                              &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_user_dimindex&quot;&gt;&lt;?php _e(&quot;User Type:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_user_dimindex&quot; name=&quot;options[ga_user_dimindex]&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php for ($i=0;$i&lt;21;$i++) {?&gt;&nbsp;</div></li><li><div>                                      &lt;option value=&quot;&lt;?php echo $i;?&gt;&quot; &lt;?php selected( $options['ga_user_dimindex'], $i ); ?&gt;&gt;&lt;?php echo $i==0?'Disabled':'dimension '.$i; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                      &lt;?php }?&gt;&nbsp;</div></li><li><div>                              &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_tag_dimindex&quot;&gt;&lt;?php _e(&quot;Tags:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;select id=&quot;ga_tag_dimindex&quot; name=&quot;options[ga_tag_dimindex]&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;?php for ($i=0;$i&lt;21;$i++) {?&gt;&nbsp;</div></li><li><div>                                  &lt;option value=&quot;&lt;?php echo $i;?&gt;&quot; &lt;?php selected( $options['ga_tag_dimindex'], $i ); ?&gt;&gt;&lt;?php echo $i==0?'Disabled':'dimension '.$i; ?&gt;&lt;/option&gt;&nbsp;</div></li><li><div>                                  &lt;?php }?&gt;&nbsp;</div></li><li><div>                          &lt;/select&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;gadwp-advanced&quot;&gt;&nbsp;</div></li><li><div>                          &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Advanced Tracking&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_speed_samplerate&quot;&gt;&lt;?php _e(&quot;Page Speed SR:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;number&quot; id=&quot;ga_speed_samplerate&quot; name=&quot;options[ga_speed_samplerate]&quot; value=&quot;&lt;?php echo (int)($options['ga_speed_samplerate']); ?&gt;&quot; max=&quot;100&quot; min=&quot;1&quot;&gt; %&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_event_bouncerate]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_event_bouncerate&quot; &lt;?php checked( $options['ga_event_bouncerate'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_event_bouncerate&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;exclude events from bounce-rate calculation&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_enhanced_links]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_enhanced_links&quot; &lt;?php checked( $options['ga_enhanced_links'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_enhanced_links&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;enable enhanced link attribution&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_adsense]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_dash_adsense&quot; &lt;?php checked( $options['ga_dash_adsense'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_dash_adsense&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;enable AdSense account linking&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Cross-domain Tracking&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_crossdomain_tracking]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_crossdomain_tracking&quot; &lt;?php checked( $options['ga_crossdomain_tracking'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_crossdomain_tracking&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;enable cross domain tracking&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_crossdomain_list&quot;&gt;&lt;?php _e(&quot;Cross Domains:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_crossdomain_list&quot; name=&quot;options[ga_crossdomain_list]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_crossdomain_list']); ?&gt;&quot; size=&quot;50&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Cookie Customization&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_cookiedomain&quot;&gt;&lt;?php _e(&quot;Cookie Domain:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_cookiedomain&quot; name=&quot;options[ga_cookiedomain]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_cookiedomain']); ?&gt;&quot; size=&quot;50&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_cookiename&quot;&gt;&lt;?php _e(&quot;Cookie Name:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_cookiename&quot; name=&quot;options[ga_cookiename]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_cookiename']); ?&gt;&quot; size=&quot;50&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_cookieexpires&quot;&gt;&lt;?php _e(&quot;Cookie Expires:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_cookieexpires&quot; name=&quot;options[ga_cookieexpires]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_cookieexpires']); ?&gt;&quot; size=&quot;10&quot;&gt; seconds&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;gadwp-exclude&quot;&gt;&nbsp;</div></li><li><div>                          &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Exclude Tracking&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;roles gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_track_exclude&quot;&gt;&lt;?php _e(&quot;Exclude tracking for:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;td class=&quot;gadwp-settings-roles&quot;&gt;&nbsp;</div></li><li><div>                                     &lt;?php&nbsp;</div></li><li><div>      if ( ! isset( $wp_roles ) ) {&nbsp;</div></li><li><div>          $wp_roles = new WP_Roles();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $i = 0;&nbsp;</div></li><li><div>      ?&gt;        &lt;table&gt;&nbsp;</div></li><li><div>                                          &lt;tr&gt;&nbsp;</div></li><li><div>                                  &lt;?php&nbsp;</div></li><li><div>      foreach ( $wp_roles-&gt;role_names as $role =&gt; $name ) {&nbsp;</div></li><li><div>          $i++;&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>                                          &lt;td&gt;&lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_track_exclude][]&quot; value=&quot;&lt;?php echo $role; ?&gt;&quot; &lt;?php if (in_array($role, $options['ga_track_exclude'])) echo 'checked=&quot;checked&quot;'; ?&gt; /&gt;&nbsp;</div></li><li><div>                                              &lt;?php echo $name; ?&gt;&nbsp;</div></li><li><div>                                          &lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                      &lt;?php&nbsp;</div></li><li><div>          if ( $i % 4 == 0 ) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                           &lt;/tr&gt;&nbsp;</div></li><li><div>                                          &lt;tr&gt;&nbsp;</div></li><li><div>                                          &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                                      &lt;/table&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot; class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Submit&quot; class=&quot;button button-primary&quot; value=&quot;&lt;?php _e('Save Changes', 'google-analytics-dashboard-for-wp' ) ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php wp_nonce_field('gadash_form', 'gadash_security'); ?&gt;&nbsp;</div></li><li><div>&lt;/form&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>      self::output_sidebar();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function errors_debugging() {&nbsp;</div></li><li><div>      global $wp_version;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! current_user_can( 'manage_options' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $anonim = $gadwp-&gt;config-&gt;options;&nbsp;</div></li><li><div>      $anonim['wp_version'] = $wp_version;&nbsp;</div></li><li><div>      $anonim['gadwp_version'] = GADWP_CURRENT_VERSION;&nbsp;</div></li><li><div>      if ( $anonim['ga_dash_token'] ) {&nbsp;</div></li><li><div>          $anonim['ga_dash_token'] = 'HIDDEN';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $anonim['ga_dash_clientid'] ) {&nbsp;</div></li><li><div>          $anonim['ga_dash_clientid'] = 'HIDDEN';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( $anonim['ga_dash_clientsecret'] ) {&nbsp;</div></li><li><div>          $anonim['ga_dash_clientsecret'] = 'HIDDEN';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $options = self::update_options( 'frontend' );&nbsp;</div></li><li><div>      if ( ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] || ! $gadwp-&gt;config-&gt;options['ga_dash_token'] ) {&nbsp;</div></li><li><div>          $message = sprintf( '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', sprintf( __( 'Something went wrong, check %1$s or %2$s.', 'google-analytics-dashboard-for-wp' ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_errors_debugging', false ), __( 'Errors & Debug', 'google-analytics-dashboard-for-wp' ) ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_settings', false ), __( 'authorize the plugin', 'google-analytics-dashboard-for-wp' ) ) ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>&lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>      &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Google Analytics Errors & Debugging&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>&lt;div id=&quot;poststuff&quot; class=&quot;gadwp&quot;&gt;&nbsp;</div></li><li><div>  &lt;div id=&quot;post-body&quot; class=&quot;metabox-holder columns-2&quot;&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;post-body-content&quot;&gt;&nbsp;</div></li><li><div>          &lt;div class=&quot;settings-wrapper&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php if (isset($message)) echo $message; ?&gt;&nbsp;</div></li><li><div>                      &lt;?php&nbsp;</div></li><li><div>      $tabs = array( 'errors' =&gt; __( &quot;Errors & Details&quot;, 'google-analytics-dashboard-for-wp' ), 'config' =&gt; __( &quot;Plugin Settings&quot;, 'google-analytics-dashboard-for-wp' ) );&nbsp;</div></li><li><div>      self::navigation_tabs( $tabs );&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;gadwp-errors&quot;&gt;&nbsp;</div></li><li><div>                      &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td&gt;&nbsp;</div></li><li><div>                                  &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Last Error detected&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td&gt;&nbsp;</div></li><li><div>                                  &lt;?php&nbsp;</div></li><li><div>      $errors = print_r( GADWP_Tools::get_cache( 'last_error' ), true ) ? esc_html( print_r( GADWP_Tools::get_cache( 'last_error' ), true ) ) : __( &quot;None&quot;, 'google-analytics-dashboard-for-wp' );&nbsp;</div></li><li><div>      echo '&lt;pre class=&quot;gadwp-settings-logdata&quot;&gt;Last Error: ';&nbsp;</div></li><li><div>      echo $errors;&nbsp;</div></li><li><div>      ?&gt;&lt;/pre&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Error Details&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td&gt;&nbsp;</div></li><li><div>                                  &lt;?php&nbsp;</div></li><li><div>      echo '&lt;pre class=&quot;gadwp-settings-logdata&quot;&gt;Error Details: ';&nbsp;</div></li><li><div>      $error_details = print_r( GADWP_Tools::get_cache( 'gapi_errors' ), true ) ? &quot;\n&quot; . esc_html( print_r( GADWP_Tools::get_cache( 'last_error' ), true ) ) : __( &quot;None&quot;, 'google-analytics-dashboard-for-wp' );&nbsp;</div></li><li><div>      echo $error_details;&nbsp;</div></li><li><div>      ?&gt;&lt;/pre&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                                  &lt;hr&gt;&nbsp;</div></li><li><div>                              &lt;/td&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;div id=&quot;gadwp-config&quot;&gt;&nbsp;</div></li><li><div>                      &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Plugin Configuration&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                              &lt;td&gt;&lt;pre class=&quot;gadwp-settings-logdata&quot;&gt;&lt;?php echo esc_html(print_r($anonim, true));?&gt;&lt;/pre&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                                  &lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                          &lt;/tr&gt;&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>      self::output_sidebar();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function general_settings() {&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $wp_version;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! current_user_can( 'manage_options' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $options = self::update_options( 'general' );&nbsp;</div></li><li><div>      printf( '&lt;div id=&quot;gapi-warning&quot; class=&quot;updated&quot;&gt;&lt;p&gt;%1$s &lt;a href=&quot;https:<span class="comment">//deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=general_screen&utm_campaign=gadwp&quot;&gt;%2$s&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;', __( 'Loading the required libraries. If this results in a blank screen or a fatal error, try this solution:', 'google-analytics-dashboard-for-wp' ), __( 'Library conflicts between WordPress plugins', 'google-analytics-dashboard-for-wp' ) );</span>&nbsp;</div></li><li><div>      if ( null === $gadwp-&gt;gapi_controller ) {&nbsp;</div></li><li><div>          $gadwp-&gt;gapi_controller = new GADWP_GAPI_Controller();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      echo '&lt;script type=&quot;text/javascript&quot;&gt;jQuery(&quot;#gapi-warning&quot;).hide()&lt;/script&gt;';&nbsp;</div></li><li><div>      if ( isset( $_POST['ga_dash_code'] ) ) {&nbsp;</div></li><li><div>          if ( ! stripos( 'x' . $_POST['ga_dash_code'], 'UA-', 1 ) == 1 ) {&nbsp;</div></li><li><div>              try {&nbsp;</div></li><li><div>                  $gadwp-&gt;gapi_controller-&gt;client-&gt;authenticate( $_POST['ga_dash_code'] );&nbsp;</div></li><li><div>                  $gadwp-&gt;config-&gt;options['ga_dash_token'] = $gadwp-&gt;gapi_controller-&gt;client-&gt;getAccessToken();&nbsp;</div></li><li><div>                  $gadwp-&gt;config-&gt;options['automatic_updates_minorversion'] = 1;&nbsp;</div></li><li><div>                  $gadwp-&gt;config-&gt;set_plugin_options();&nbsp;</div></li><li><div>                  $options = self::update_options( 'general' );&nbsp;</div></li><li><div>                  $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Plugin authorization succeeded.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>                  GADWP_Tools::delete_cache( 'gapi_errors' );&nbsp;</div></li><li><div>                  GADWP_Tools::delete_cache( 'last_error' );&nbsp;</div></li><li><div>                  if ( $gadwp-&gt;config-&gt;options['ga_dash_token'] && $gadwp-&gt;gapi_controller-&gt;client-&gt;getAccessToken() ) {&nbsp;</div></li><li><div>                      if ( ! empty( $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] ) ) {&nbsp;</div></li><li><div>                          $profiles = $gadwp-&gt;config-&gt;options['ga_dash_profile_list'];&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $profiles = $gadwp-&gt;gapi_controller-&gt;refresh_profiles();&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      if ( $profiles ) {&nbsp;</div></li><li><div>                          $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] = $profiles;&nbsp;</div></li><li><div>                          if ( ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] ) {&nbsp;</div></li><li><div>                              $profile = GADWP_Tools::guess_default_domain( $profiles );&nbsp;</div></li><li><div>                              $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] = $profile;&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment"><span class="comment">// $gadwp-&gt;config-&gt;options['ga_dash_tableid'] = $profile;</span></span></span>&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $gadwp-&gt;config-&gt;set_plugin_options();&nbsp;</div></li><li><div>                          $options = self::update_options( 'general' );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } catch ( Google_IO_Exception $e ) {&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'last_error', date( 'Y-m-d H:i:s' ) . ': ' . esc_html( $e ), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  return false;&nbsp;</div></li><li><div>              } catch ( Google_Service_Exception $e ) {&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'last_error', date( 'Y-m-d H:i:s' ) . ': ' . esc_html( &quot;(&quot; . $e-&gt;getCode() . &quot;) &quot; . $e-&gt;getMessage() ), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'gapi_errors', $e-&gt;getErrors(), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  return $e-&gt;getCode();&nbsp;</div></li><li><div>              } catch ( Exception $e ) {&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'last_error', date( 'Y-m-d H:i:s' ) . ': ' . esc_html( $e ) . &quot;\nResponseHttpCode:&quot; . $e-&gt;getCode(), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  $gadwp-&gt;gapi_controller-&gt;reset_token( false );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;The access code is &lt;strong&gt;NOT&lt;/strong&gt; your &lt;strong&gt;Tracking ID&lt;/strong&gt; (UA-XXXXX-X). Try again, and use the red link to get your access code&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;.&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Clear'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              GADWP_Tools::clear_cache();&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Cleared Cache.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Reset'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              $gadwp-&gt;gapi_controller-&gt;reset_token( true );&nbsp;</div></li><li><div>              GADWP_Tools::clear_cache();&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Token Reseted and Revoked.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              $options = self::update_options( 'Reset' );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Reset_Err'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              GADWP_Tools::delete_cache( 'last_error' );&nbsp;</div></li><li><div>              GADWP_Tools::delete_cache( 'gapi_errors' );&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;All errors reseted.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['options']['ga_dash_hidden'] ) && ! isset( $_POST['Clear'] ) && ! isset( $_POST['Reset'] ) && ! isset( $_POST['Reset_Err'] ) ) {&nbsp;</div></li><li><div>          $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Settings saved.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          if ( ! ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Hide'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;All other domains/properties were removed.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              $lock_profile = GADWP_Tools::get_selected_profile( $gadwp-&gt;config-&gt;options['ga_dash_profile_list'], $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] );&nbsp;</div></li><li><div>              $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] = array( $lock_profile );&nbsp;</div></li><li><div>              $options = self::update_options( 'general' );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>  &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Google Analytics Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&nbsp;</div></li><li><div>                  &lt;hr&gt;&nbsp;</div></li><li><div>                  &lt;/div&gt;&nbsp;</div></li><li><div>                  &lt;div id=&quot;poststuff&quot; class=&quot;gadwp&quot;&gt;&nbsp;</div></li><li><div>                      &lt;div id=&quot;post-body&quot; class=&quot;metabox-holder columns-2&quot;&gt;&nbsp;</div></li><li><div>                          &lt;div id=&quot;post-body-content&quot;&gt;&nbsp;</div></li><li><div>                              &lt;div class=&quot;settings-wrapper&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>      if ( $gadwp-&gt;gapi_controller-&gt;gapi_errors_handler() || GADWP_Tools::get_cache( 'last_error' ) ) {&nbsp;</div></li><li><div>          $message = sprintf( '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', sprintf( __( 'Something went wrong, check %1$s or %2$s.', 'google-analytics-dashboard-for-wp' ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_errors_debugging', false ), __( 'Errors & Debug', 'google-analytics-dashboard-for-wp' ) ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_settings', false ), __( 'authorize the plugin', 'google-analytics-dashboard-for-wp' ) ) ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Authorize'] ) ) {&nbsp;</div></li><li><div>          GADWP_Tools::clear_cache();&nbsp;</div></li><li><div>          $gadwp-&gt;gapi_controller-&gt;token_request();&nbsp;</div></li><li><div>          echo &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Use the red link (see below) to generate and get your access code!&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          if ( isset( $message ) ) {&nbsp;</div></li><li><div>              echo $message;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>                  &lt;form name=&quot;ga_dash_form&quot; method=&quot;post&quot; action=&quot;&lt;?php echo esc_url($_SERVER['REQUEST_URI']); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php wp_nonce_field('gadash_form', 'gadash_security'); ?&gt;&nbsp;</div></li><li><div>                      &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Plugin Authorization&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;;?&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-info&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;?php printf(__('You should watch the %1$s and read this %2$s before proceeding to authorization. This plugin requires a properly configured Google Analytics account!', 'google-analytics-dashboard-for-wp'), sprintf('&lt;a href=&quot;%1$s&quot; target=&quot;_blank&quot;&gt;%2$s&lt;/a&gt;', 'https:<span class="comment"><span class="comment">//deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=top_video&utm_campaign=gadwp', __(&quot;video&quot;, 'google-analytics-dashboard-for-wp')), sprintf('&lt;a href=&quot;%1$s&quot; target=&quot;_blank&quot;&gt;%2$s&lt;/a&gt;', 'https://deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=top_tutorial&utm_campaign=gadwp', __(&quot;tutorial&quot;, 'google-analytics-dashboard-for-wp')));?&gt;</span></span>&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                                &lt;?php if (! $options['ga_dash_token'] || $options['ga_dash_userapi']) {?&gt;&nbsp;</div></li><li><div>                                                &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-info&quot;&gt;&lt;input name=&quot;options[ga_dash_userapi]&quot; type=&quot;checkbox&quot; id=&quot;ga_dash_userapi&quot; value=&quot;1&quot; &lt;?php checked( $options['ga_dash_userapi'], 1 ); ?&gt; onchange=&quot;this.form.submit()&quot; &lt;?php echo ($options['ga_dash_network'])?'disabled=&quot;disabled&quot;':''; ?&gt; /&gt;&lt;?php echo &quot; &quot;.__(&quot;use your own API Project credentials&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&nbsp;</div></li><li><div>                                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                                &lt;?php } if ($options['ga_dash_userapi']) { ?&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;options[ga_dash_clientid]&quot;&gt;&lt;?php _e(&quot;Client ID:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;options[ga_dash_clientid]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_dash_clientid']); ?&gt;&quot; size=&quot;40&quot; required=&quot;required&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;options[ga_dash_clientsecret]&quot;&gt;&lt;?php _e(&quot;Client Secret:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;options[ga_dash_clientsecret]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_dash_clientsecret']); ?&gt;&quot; size=&quot;40&quot; required=&quot;required&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;?php wp_nonce_field('gadash_form', 'gadash_security'); ?&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                      &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $options['ga_dash_token'] ) {&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Reset&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Clear Authorization&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; &lt;?php echo $options['ga_dash_network']?'disabled=&quot;disabled&quot;':''; ?&gt; /&gt; &lt;input type=&quot;submit&quot; name=&quot;Clear&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Clear Cache&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt; &lt;input type=&quot;submit&quot; name=&quot;Reset_Err&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Reset Errors&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;General Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_dash_tableid_jail&quot;&gt;&lt;?php _e(&quot;Select View:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&lt;select id=&quot;ga_dash_tableid_jail&quot; &lt;?php disabled(empty($options['ga_dash_profile_list']) || 1 == count($options['ga_dash_profile_list']), true); ?&gt; name=&quot;options[ga_dash_tableid_jail]&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;?php&nbsp;</div></li><li><div>              if ( ! empty( $options['ga_dash_profile_list'] ) ) {&nbsp;</div></li><li><div>                  foreach ( $options['ga_dash_profile_list'] as $items ) {&nbsp;</div></li><li><div>                      if ( $items[3] ) {&nbsp;</div></li><li><div>                          echo '&lt;option value=&quot;' . esc_attr( $items[1] ) . '&quot; ' . selected( $items[1], $options['ga_dash_tableid_jail'], false );&nbsp;</div></li><li><div>                          echo ' title=&quot;' . __( &quot;View Name:&quot;, 'google-analytics-dashboard-for-wp' ) . ' ' . esc_attr( $items[0] ) . '&quot;&gt;' . esc_html( GADWP_Tools::strip_protocol( $items[3] ) ) . ' &#8658; ' . esc_attr( $items[0] ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  echo '&lt;option value=&quot;&quot;&gt;' . __( &quot;Property not found&quot;, 'google-analytics-dashboard-for-wp' ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                                              &lt;/select&gt;&nbsp;</div></li><li><div>                                                              &lt;?php&nbsp;</div></li><li><div>              if ( count( $options['ga_dash_profile_list'] ) &gt; 1 ) {&nbsp;</div></li><li><div>                  ?&gt;&nbsp;&lt;input type=&quot;submit&quot; name=&quot;Hide&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Lock Selection&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt;&lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                                   &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>              if ( $options['ga_dash_tableid_jail'] ) {&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                          &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&lt;?php&nbsp;</div></li><li><div>                  $profile_info = GADWP_Tools::get_selected_profile( $gadwp-&gt;config-&gt;options['ga_dash_profile_list'], $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] );&nbsp;</div></li><li><div>                  echo '&lt;pre&gt;' . __( &quot;View Name:&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;\t&quot; . esc_html( $profile_info[0] ) . &quot;&lt;br /&gt;&quot; . __( &quot;Tracking ID:&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;\t&quot; . esc_html( $profile_info[2] ) . &quot;&lt;br /&gt;&quot; . __( &quot;Default URL:&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;\t&quot; . esc_html( $profile_info[3] ) . &quot;&lt;br /&gt;&quot; . __( &quot;Time Zone:&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;\t&quot; . esc_html( $profile_info[5] ) . '&lt;/pre&gt;';&nbsp;</div></li><li><div>                  ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>                                               &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;ga_dash_style&quot;&gt;&lt;?php _e(&quot;Theme Color:&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;ga_dash_style&quot; class=&quot;ga_dash_style&quot; name=&quot;options[ga_dash_style]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_dash_style']); ?&gt;&quot; size=&quot;10&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;?php if ( !is_multisite()) {?&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Automatic Updates&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                                          &lt;input type=&quot;checkbox&quot; name=&quot;options[automatic_updates_minorversion]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;automatic_updates_minorversion&quot; &lt;?php checked( $options['automatic_updates_minorversion'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;automatic_updates_minorversion&quot;&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                          &lt;/label&gt;&nbsp;</div></li><li><div>                                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                                      &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__( &quot;automatic updates for minor versions (security and maintenance releases only)&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;?php }?&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot; class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Submit&quot; class=&quot;button button-primary&quot; value=&quot;&lt;?php _e('Save Changes', 'google-analytics-dashboard-for-wp' ) ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>      &lt;?php } else {?&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Authorize&quot; class=&quot;button button-secondary&quot; id=&quot;authorize&quot; value=&quot;&lt;?php _e( &quot;Authorize Plugin&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; &lt;?php echo $options['ga_dash_network']?'disabled=&quot;disabled&quot;':''; ?&gt; /&gt; &lt;input type=&quot;submit&quot; name=&quot;Clear&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Clear Cache&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                          &lt;/table&gt;&nbsp;</div></li><li><div>                                      &lt;/form&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>              self::output_sidebar();&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>                  &lt;/table&gt;&nbsp;</div></li><li><div>                                      &lt;/form&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      self::output_sidebar();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  <span class="comment">// Network Settings</span>&nbsp;</div></li><li><div>  public static function general_settings_network() {&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>      global $wp_version;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! current_user_can( 'manage_network_options' ) ) {&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $options = self::update_options( 'network' );&nbsp;</div></li><li><div>      <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">       * Include GAPI</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      echo '&lt;div id=&quot;gapi-warning&quot; class=&quot;updated&quot;&gt;&lt;p&gt;' . __( 'Loading the required libraries. If this results in a blank screen or a fatal error, try this solution:', 'google-analytics-dashboard-for-wp' ) . ' &lt;a href=&quot;https:<span class="comment">//deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=general_screen&utm_campaign=gadwp&quot;&gt;Library conflicts between WordPress plugins&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( null === $gadwp-&gt;gapi_controller ) {&nbsp;</div></li><li><div>          $gadwp-&gt;gapi_controller = new GADWP_GAPI_Controller();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      echo '&lt;script type=&quot;text/javascript&quot;&gt;jQuery(&quot;#gapi-warning&quot;).hide()&lt;/script&gt;';&nbsp;</div></li><li><div>      if ( isset( $_POST['ga_dash_code'] ) ) {&nbsp;</div></li><li><div>          if ( ! stripos( 'x' . $_POST['ga_dash_code'], 'UA-', 1 ) == 1 ) {&nbsp;</div></li><li><div>              try {&nbsp;</div></li><li><div>                  $gadwp-&gt;gapi_controller-&gt;client-&gt;authenticate( $_POST['ga_dash_code'] );&nbsp;</div></li><li><div>                  $gadwp-&gt;config-&gt;options['ga_dash_token'] = $gadwp-&gt;gapi_controller-&gt;client-&gt;getAccessToken();&nbsp;</div></li><li><div>                  $gadwp-&gt;config-&gt;options['automatic_updates_minorversion'] = 1;&nbsp;</div></li><li><div>                  $gadwp-&gt;config-&gt;set_plugin_options( true );&nbsp;</div></li><li><div>                  $options = self::update_options( 'network' );&nbsp;</div></li><li><div>                  $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Plugin authorization succeeded.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>                  if ( is_multisite() ) { <span class="comment">// Cleanup errors on the entire network</span>&nbsp;</div></li><li><div>                      foreach ( GADWP_Tools::get_sites( array( 'number' =&gt; apply_filters( 'gadwp_sites_limit', 100 ) ) ) as $blog ) {&nbsp;</div></li><li><div>                          switch_to_blog( $blog['blog_id'] );&nbsp;</div></li><li><div>                          GADWP_Tools::delete_cache( 'gapi_errors' );&nbsp;</div></li><li><div>                          restore_current_blog();&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      GADWP_Tools::delete_cache( 'gapi_errors' );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( $gadwp-&gt;config-&gt;options['ga_dash_token'] && $gadwp-&gt;gapi_controller-&gt;client-&gt;getAccessToken() ) {&nbsp;</div></li><li><div>                      if ( ! empty( $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] ) ) {&nbsp;</div></li><li><div>                          $profiles = $gadwp-&gt;config-&gt;options['ga_dash_profile_list'];&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $profiles = $gadwp-&gt;gapi_controller-&gt;refresh_profiles();&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      if ( $profiles ) {&nbsp;</div></li><li><div>                          $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] = $profiles;&nbsp;</div></li><li><div>                          if ( isset( $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] ) && ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] ) {&nbsp;</div></li><li><div>                              $profile = GADWP_Tools::guess_default_domain( $profiles );&nbsp;</div></li><li><div>                              $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] = $profile;&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment"><span class="comment">// $gadwp-&gt;config-&gt;options['ga_dash_tableid'] = $profile;</span></span></span>&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          $gadwp-&gt;config-&gt;set_plugin_options( true );&nbsp;</div></li><li><div>                          $options = self::update_options( 'network' );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              } catch ( Google_IO_Exception $e ) {&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'last_error', date( 'Y-m-d H:i:s' ) . ': ' . esc_html( $e ), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  return false;&nbsp;</div></li><li><div>              } catch ( Google_Service_Exception $e ) {&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'last_error', date( 'Y-m-d H:i:s' ) . ': ' . esc_html( &quot;(&quot; . $e-&gt;getCode() . &quot;) &quot; . $e-&gt;getMessage() ), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'gapi_errors', $e-&gt;getErrors(), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  return $e-&gt;getCode();&nbsp;</div></li><li><div>              } catch ( Exception $e ) {&nbsp;</div></li><li><div>                  GADWP_Tools::set_cache( 'last_error', date( 'Y-m-d H:i:s' ) . ': ' . esc_html( $e ) . &quot;\nResponseHttpCode:&quot; . $e-&gt;getCode(), $gadwp-&gt;gapi_controller-&gt;error_timeout );&nbsp;</div></li><li><div>                  $gadwp-&gt;gapi_controller-&gt;reset_token( false );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;The access code is &lt;strong&gt;NOT&lt;/strong&gt; your &lt;strong&gt;Tracking ID&lt;/strong&gt; (UA-XXXXX-X). Try again, and use the red link to get your access code&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;.&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Refresh'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] = array();&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Properties refreshed.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              $options = self::update_options( 'network' );&nbsp;</div></li><li><div>              if ( $gadwp-&gt;config-&gt;options['ga_dash_token'] && $gadwp-&gt;gapi_controller-&gt;client-&gt;getAccessToken() ) {&nbsp;</div></li><li><div>                  if ( ! empty( $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] ) ) {&nbsp;</div></li><li><div>                      $profiles = $gadwp-&gt;config-&gt;options['ga_dash_profile_list'];&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $profiles = $gadwp-&gt;gapi_controller-&gt;refresh_profiles();&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( $profiles ) {&nbsp;</div></li><li><div>                      $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] = $profiles;&nbsp;</div></li><li><div>                      if ( isset( $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] ) && ! $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] ) {&nbsp;</div></li><li><div>                          $profile = GADWP_Tools::guess_default_domain( $profiles );&nbsp;</div></li><li><div>                          $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] = $profile;&nbsp;</div></li><li><div>                          <span class="comment"><span class="comment"><span class="comment">// $gadwp-&gt;config-&gt;options['ga_dash_tableid'] = $profile;</span></span></span>&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      $gadwp-&gt;config-&gt;set_plugin_options( true );&nbsp;</div></li><li><div>                      $options = self::update_options( 'network' );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Clear'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              GADWP_Tools::clear_cache();&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Cleared Cache.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Reset'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              $gadwp-&gt;gapi_controller-&gt;reset_token( true );&nbsp;</div></li><li><div>              GADWP_Tools::clear_cache();&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Token Reseted and Revoked.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              $options = self::update_options( 'Reset' );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['options']['ga_dash_hidden'] ) && ! isset( $_POST['Clear'] ) && ! isset( $_POST['Reset'] ) && ! isset( $_POST['Refresh'] ) ) {&nbsp;</div></li><li><div>          $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Settings saved.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          if ( ! ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Hide'] ) ) {&nbsp;</div></li><li><div>          if ( isset( $_POST['gadash_security'] ) && wp_verify_nonce( $_POST['gadash_security'], 'gadash_form' ) ) {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;All other domains/properties were removed.&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>              $lock_profile = GADWP_Tools::get_selected_profile( $gadwp-&gt;config-&gt;options['ga_dash_profile_list'], $gadwp-&gt;config-&gt;options['ga_dash_tableid_jail'] );&nbsp;</div></li><li><div>              $gadwp-&gt;config-&gt;options['ga_dash_profile_list'] = array( $lock_profile );&nbsp;</div></li><li><div>              $options = self::update_options( 'network' );&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $message = &quot;&lt;div class='error'&gt;&lt;p&gt;&quot; . __( &quot;Cheating Huh?&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>  &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>      &lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Google Analytics Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;hr&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;div id=&quot;poststuff&quot; class=&quot;gadwp&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;div id=&quot;post-body&quot; class=&quot;metabox-holder columns-2&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;div id=&quot;post-body-content&quot;&gt;&nbsp;</div></li><li><div>                                                  &lt;div class=&quot;settings-wrapper&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php&nbsp;</div></li><li><div>      if ( $gadwp-&gt;gapi_controller-&gt;gapi_errors_handler() || GADWP_Tools::get_cache( 'last_error' ) ) {&nbsp;</div></li><li><div>          $message = sprintf( '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/div&gt;', sprintf( __( 'Something went wrong, check %1$s or %2$s.', 'google-analytics-dashboard-for-wp' ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_errors_debugging', false ), __( 'Errors & Debug', 'google-analytics-dashboard-for-wp' ) ), sprintf( '&lt;a href=&quot;%1$s&quot;&gt;%2$s&lt;/a&gt;', menu_page_url( 'gadash_settings', false ), __( 'authorize the plugin', 'google-analytics-dashboard-for-wp' ) ) ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( isset( $_POST['Authorize'] ) ) {&nbsp;</div></li><li><div>          GADWP_Tools::clear_cache();&nbsp;</div></li><li><div>          $gadwp-&gt;gapi_controller-&gt;token_request();&nbsp;</div></li><li><div>          echo &quot;&lt;div class='updated'&gt;&lt;p&gt;&quot; . __( &quot;Use the red link (see below) to generate and get your access code!&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/p&gt;&lt;/div&gt;&quot;;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          if ( isset( $message ) ) {&nbsp;</div></li><li><div>              echo $message;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>                      &lt;form name=&quot;ga_dash_form&quot; method=&quot;post&quot; action=&quot;&lt;?php echo esc_url($_SERVER['REQUEST_URI']); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                                                              &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                          &lt;?php wp_nonce_field('gadash_form', 'gadash_security'); ?&gt;&nbsp;</div></li><li><div>                          &lt;table class=&quot;gadwp-settings-options&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Network Setup&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                                                          &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                                                              &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_network]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_dash_network&quot; &lt;?php checked( $options['ga_dash_network'], 1); ?&gt; onchange=&quot;this.form.submit()&quot;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_dash_network&quot;&gt;&nbsp;</div></li><li><div>                                                                                  &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                                  &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                              &lt;/label&gt;&nbsp;</div></li><li><div>                                                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                                                          &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;use a single Google Analytics account for the entire network&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;?php if ($options['ga_dash_network']) {  <span class="comment"><span class="comment">//Network Mode check?&gt;</span></span>&nbsp;</div></li><li><div>                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Plugin Authorization&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-info&quot;&gt;&nbsp;</div></li><li><div>                                                                           &lt;?php printf(__('You should watch the %1$s and read this %2$s before proceeding to authorization. This plugin requires a properly configured Google Analytics account!', 'google-analytics-dashboard-for-wp'), sprintf('&lt;a href=&quot;%1$s&quot; target=&quot;_blank&quot;&gt;%2$s&lt;/a&gt;', 'https:<span class="comment"><span class="comment">//deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=top_video&utm_campaign=gadwp', __(&quot;video&quot;, 'google-analytics-dashboard-for-wp')), sprintf('&lt;a href=&quot;%1$s&quot; target=&quot;_blank&quot;&gt;%2$s&lt;/a&gt;', 'https://deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=top_tutorial&utm_campaign=gadwp', __(&quot;tutorial&quot;, 'google-analytics-dashboard-for-wp')));?&gt;</span></span>&nbsp;</div></li><li><div>                                                                       &lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>              if ( ! $options['ga_dash_token'] || $options['ga_dash_userapi'] ) {&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-info&quot;&gt;&lt;input name=&quot;options[ga_dash_userapi]&quot; type=&quot;checkbox&quot; id=&quot;ga_dash_userapi&quot; value=&quot;1&quot; &lt;?php checked( $options['ga_dash_userapi'], 1 ); ?&gt; onchange=&quot;this.form.submit()&quot; /&gt;&lt;?php echo &quot; &quot;.__(&quot;use your own API Project credentials&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&nbsp;</div></li><li><div>                                                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( $options['ga_dash_userapi'] ) {&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;options[ga_dash_clientid]&quot;&gt;&lt;?php _e(&quot;Client ID:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;options[ga_dash_clientid]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_dash_clientid']); ?&gt;&quot; size=&quot;40&quot; required=&quot;required&quot;&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td class=&quot;gadwp-settings-title&quot;&gt;&lt;label for=&quot;options[ga_dash_clientsecret]&quot;&gt;&lt;?php _e(&quot;Client Secret:&quot;, 'google-analytics-dashboard-for-wp'); ?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;options[ga_dash_clientsecret]&quot; value=&quot;&lt;?php echo esc_attr($options['ga_dash_clientsecret']); ?&gt;&quot; size=&quot;40&quot; required=&quot;required&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;options[ga_dash_hidden]&quot; value=&quot;Y&quot;&gt;&nbsp;</div></li><li><div>                                      &lt;?php wp_nonce_field('gadash_form', 'gadash_security'); ?&gt;&nbsp;</div></li><li><div>                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              if ( $options['ga_dash_token'] ) {&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                      &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Reset&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Clear Authorization&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt; &lt;input type=&quot;submit&quot; name=&quot;Clear&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Clear Cache&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt; &lt;input type=&quot;submit&quot; name=&quot;Refresh&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Refresh Properties&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Properties/Views Settings&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;?php&nbsp;</div></li><li><div>                  if ( isset( $options['ga_dash_tableid_network'] ) ) {&nbsp;</div></li><li><div>                      $options['ga_dash_tableid_network'] = json_decode( json_encode( $options['ga_dash_tableid_network'] ), false );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  foreach ( GADWP_Tools::get_sites( array( 'number' =&gt; apply_filters( 'gadwp_sites_limit', 100 ) ) ) as $blog ) {&nbsp;</div></li><li><div>                      ?&gt;&nbsp;</div></li><li><div>                                                                   &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td class=&quot;gadwp-settings-title-s&quot;&gt;&lt;label for=&quot;ga_dash_tableid_network&quot;&gt;&lt;?php echo '&lt;strong&gt;'.$blog['domain'].$blog['path'].'&lt;/strong&gt;: ';?&gt;&lt;/label&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                      &lt;td&gt;&lt;select id=&quot;ga_dash_tableid_network&quot; &lt;?php disabled(!empty($options['ga_dash_profile_list']), false);?&gt; name=&quot;options[ga_dash_tableid_network][&lt;?php echo $blog['blog_id'];?&gt;]&quot;&gt;&nbsp;</div></li><li><div>                                  &lt;?php&nbsp;</div></li><li><div>                      if ( ! empty( $options['ga_dash_profile_list'] ) ) {&nbsp;</div></li><li><div>                          foreach ( $options['ga_dash_profile_list'] as $items ) {&nbsp;</div></li><li><div>                              if ( $items[3] ) {&nbsp;</div></li><li><div>                                  $temp_id = $blog['blog_id'];&nbsp;</div></li><li><div>                                  echo '&lt;option value=&quot;' . esc_attr( $items[1] ) . '&quot; ' . selected( $items[1], isset( $options['ga_dash_tableid_network']-&gt;$temp_id ) ? $options['ga_dash_tableid_network']-&gt;$temp_id : '', false );&nbsp;</div></li><li><div>                                  echo ' title=&quot;' . __( &quot;View Name:&quot;, 'google-analytics-dashboard-for-wp' ) . ' ' . esc_attr( $items[0] ) . '&quot;&gt;' . esc_html( GADWP_Tools::strip_protocol( $items[3] ) ) . ' &#8658; ' . esc_attr( $items[0] ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          echo '&lt;option value=&quot;&quot;&gt;' . __( &quot;Property not found&quot;, 'google-analytics-dashboard-for-wp' ) . '&lt;/option&gt;';&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      ?&gt;&nbsp;</div></li><li><div>                                                                      &lt;/select&gt; &lt;br /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Automatic Updates&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                                                          &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                                                              &lt;input type=&quot;checkbox&quot; name=&quot;options[automatic_updates_minorversion]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;automatic_updates_minorversion&quot; &lt;?php checked( $options['automatic_updates_minorversion'], 1 ); ?&gt;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;automatic_updates_minorversion&quot;&gt;&nbsp;</div></li><li><div>                                                                                  &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                                  &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                              &lt;/label&gt;&nbsp;</div></li><li><div>                                                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                                                          &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__( &quot;automatic updates for minor versions (security and maintenance releases only)&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;?php echo &quot;&lt;h2&gt;&quot; . __( &quot;Exclude Tracking&quot;, 'google-analytics-dashboard-for-wp' ) . &quot;&lt;/h2&gt;&quot;; ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot; class=&quot;gadwp-settings-title&quot;&gt;&nbsp;</div></li><li><div>                                                                          &lt;div class=&quot;button-primary gadwp-settings-switchoo&quot;&gt;&nbsp;</div></li><li><div>                                                                              &lt;input type=&quot;checkbox&quot; name=&quot;options[ga_dash_excludesa]&quot; value=&quot;1&quot; class=&quot;gadwp-settings-switchoo-checkbox&quot; id=&quot;ga_dash_excludesa&quot;&lt;?php checked( $options['ga_dash_excludesa'], 1); ?&gt;&quot;&gt; &lt;label class=&quot;gadwp-settings-switchoo-label&quot; for=&quot;ga_dash_excludesa&quot;&gt;&nbsp;</div></li><li><div>                                                                                  &lt;div class=&quot;gadwp-settings-switchoo-inner&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                                  &lt;div class=&quot;gadwp-settings-switchoo-switch&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                              &lt;/label&gt;&nbsp;</div></li><li><div>                                                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                                                          &lt;div class=&quot;switch-desc&quot;&gt;&lt;?php echo &quot; &quot;.__(&quot;exclude Super Admin tracking for the entire network&quot;, 'google-analytics-dashboard-for-wp' );?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                                                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot; class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Submit&quot; class=&quot;button button-primary&quot; value=&quot;&lt;?php _e('Save Changes', 'google-analytics-dashboard-for-wp' ) ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;Authorize&quot; class=&quot;button button-secondary&quot; id=&quot;authorize&quot; value=&quot;&lt;?php _e( &quot;Authorize Plugin&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt; &lt;input type=&quot;submit&quot; name=&quot;Clear&quot; class=&quot;button button-secondary&quot; value=&quot;&lt;?php _e( &quot;Clear Cache&quot;, 'google-analytics-dashboard-for-wp' ); ?&gt;&quot; /&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                 &lt;?php }  <span class="comment"><span class="comment">//Network Mode check?&gt;</span></span>&nbsp;</div></li><li><div>                                                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                                                      &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                                              &lt;/table&gt;&nbsp;</div></li><li><div>                                                          &lt;/form&gt;&nbsp;</div></li><li><div>              &lt;?php&nbsp;</div></li><li><div>              self::output_sidebar();&nbsp;</div></li><li><div>              return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                                                          &lt;/form&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      self::output_sidebar();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function output_sidebar() {&nbsp;</div></li><li><div>      global $wp_version;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $gadwp = GADWP();&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>                                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;div id=&quot;postbox-container-1&quot; class=&quot;postbox-container&quot;&gt;&nbsp;</div></li><li><div>                                                  &lt;div class=&quot;meta-box-sortables&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;div class=&quot;postbox&quot;&gt;&nbsp;</div></li><li><div>                                                          &lt;h3&gt;&nbsp;</div></li><li><div>                                                              &lt;span&gt;&lt;?php _e(&quot;Setup Tutorial & Demo&quot;, 'google-analytics-dashboard-for-wp') ?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>                                                          &lt;/h3&gt;&nbsp;</div></li><li><div>                                                          &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                                                              &lt;a href=&quot;https:<span class="comment">//deconf.com/google-analytics-dashboard-wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=video&utm_campaign=gadwp&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;&lt;?php echo plugins_url( 'images/google-analytics-dashboard.png' , __FILE__ );?&gt;&quot; width=&quot;100%&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                                      &lt;div class=&quot;postbox&quot;&gt;&nbsp;</div></li><li><div>                                                          &lt;h3&gt;&nbsp;</div></li><li><div>                                                              &lt;span&gt;&lt;?php _e(&quot;Follow & Review&quot;, 'google-analytics-dashboard-for-wp')?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>                                                          &lt;/h3&gt;&nbsp;</div></li><li><div>                                                          &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-desc&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;div style=&quot;margin-left: -10px;&quot;&gt;&nbsp;</div></li><li><div>                                                                      &lt;div class=&quot;g-page&quot; data-width=&quot;273&quot; data-href=&quot;<span class="comment">//plus.google.com/+Deconfcom&quot; data-layout=&quot;landscape&quot; data-showtagline=&quot;false&quot; data-showcoverphoto=&quot;false&quot; data-rel=&quot;publisher&quot;&gt;&lt;/div&gt;</span>&nbsp;</div></li><li><div>                                                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                                                  &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>                                                                    (function() {&nbsp;</div></li><li><div>                                                                      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;&nbsp;</div></li><li><div>                                                                      po.src = 'https:<span class="comment">//apis.google.com/js/platform.js';</span>&nbsp;</div></li><li><div>                                                                      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);&nbsp;</div></li><li><div>                                                                    })();&nbsp;</div></li><li><div>                                                                  &lt;/script&gt;&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;br /&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-desc&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;a href=&quot;https:<span class="comment">//twitter.com/deconfcom&quot; class=&quot;twitter-follow-button&quot; data-show-count=&quot;false&quot; data-size=&quot;large&quot;&gt;Follow @deconfcom&lt;/a&gt;</span>&nbsp;</div></li><li><div>                                                                  &lt;script&gt;!function(d, s, id) {var js, fjs=d.getElementsByTagName(s)[0], p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)) {js=d.createElement(s);js.id=id;js.src=p+':<span class="comment">//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);}}(document, 'script', 'twitter-wjs');&lt;/script&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;br /&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-title&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;a href=&quot;http:<span class="comment">//wordpress.org/support/view/plugin-reviews/google-analytics-dashboard-for-wp#plugin-info&quot;&gt;&lt;img src=&quot;&lt;?php echo plugins_url( 'images/star.png' , __FILE__ ); ?&gt;&quot; /&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-desc&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;?php printf(__('Your feedback and review are both important, %s!', 'google-analytics-dashboard-for-wp'), sprintf('&lt;a href=&quot;http:<span class="comment">//wordpress.org/support/view/plugin-reviews/google-analytics-dashboard-for-wp#plugin-info&quot;&gt;%s&lt;/a&gt;', __('rate this plugin', 'google-analytics-dashboard-for-wp')));?&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                                      &lt;div class=&quot;postbox&quot;&gt;&nbsp;</div></li><li><div>                                                          &lt;h3&gt;&nbsp;</div></li><li><div>                                                              &lt;span&gt;&lt;?php _e(&quot;Further Reading&quot;, 'google-analytics-dashboard-for-wp')?&gt;&lt;/span&gt;&nbsp;</div></li><li><div>                                                          &lt;/h3&gt;&nbsp;</div></li><li><div>                                                          &lt;div class=&quot;inside&quot;&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-title&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;a href=&quot;https:<span class="comment">//deconf.com/clicky-web-analytics-review/?utm_source=gadwp_config&utm_medium=link&utm_content=clicky&utm_campaign=gadwp&quot;&gt;&lt;img src=&quot;&lt;?php echo plugins_url( 'images/clicky.png' , __FILE__ ); ?&gt;&quot; /&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-desc&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;?php printf(__('%s service with users tracking at IP level.', 'google-analytics-dashboard-for-wp'), sprintf('&lt;a href=&quot;https:<span class="comment">//deconf.com/clicky-web-analytics-review/?utm_source=gadwp_config&utm_medium=link&utm_content=clicky&utm_campaign=gadwp&quot;&gt;%s&lt;/a&gt;', __('Web Analytics', 'google-analytics-dashboard-for-wp')));?&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;br /&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-title&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;a href=&quot;https:<span class="comment">//deconf.com/move-website-https-ssl/?utm_source=gadwp_config&utm_medium=link&utm_content=ssl&utm_campaign=gadwp&quot;&gt;&lt;img src=&quot;&lt;?php echo plugins_url( 'images/ssl.png' , __FILE__ ); ?&gt;&quot; /&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-desc&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;?php printf(__('%s by moving your website to HTTPS/SSL.', 'google-analytics-dashboard-for-wp'), sprintf('&lt;a href=&quot;https:<span class="comment">//deconf.com/move-website-https-ssl/?utm_source=gadwp_config&utm_medium=link&utm_content=ssl&utm_campaign=gadwp&quot;&gt;%s&lt;/a&gt;', __('Improve search rankings', 'google-analytics-dashboard-for-wp')));?&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;br /&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-title&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;a href=&quot;https:<span class="comment">//deconf.com/wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=plugins&utm_campaign=gadwp&quot;&gt;&lt;img src=&quot;&lt;?php echo plugins_url( 'images/wp.png' , __FILE__ ); ?&gt;&quot; /&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                              &lt;div class=&quot;gadash-desc&quot;&gt;&nbsp;</div></li><li><div>                                                                  &lt;?php printf(__('Other %s written by the same author', 'google-analytics-dashboard-for-wp'), sprintf('&lt;a href=&quot;https:<span class="comment">//deconf.com/wordpress/?utm_source=gadwp_config&utm_medium=link&utm_content=plugins&utm_campaign=gadwp&quot;&gt;%s&lt;/a&gt;', __('WordPress Plugins', 'google-analytics-dashboard-for-wp')));?&gt;</span>&nbsp;</div></li><li><div>                                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                                      &lt;/div&gt;&nbsp;</div></li><li><div>                                                  &lt;/div&gt;&nbsp;</div></li><li><div>                                              &lt;/div&gt;&nbsp;</div></li><li><div>                                          &lt;/div&gt;&nbsp;</div></li><li><div>                                      &lt;/div&gt;&nbsp;</div></li><li><div>&lt;?php&nbsp;</div></li><li><div>      <span class="comment">//Dismiss the admin update notice</span>&nbsp;</div></li><li><div>      if ( version_compare( $wp_version, '4.2', '&lt;' ) && current_user_can('manage_options') ) {&nbsp;</div></li><li><div>          delete_option('gadwp_got_updated');&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Google Analytics Dashboard for WP</li><li><span></span>4.9.6.2</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>