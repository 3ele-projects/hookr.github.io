<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="3.0.9" data-slug="google-sitemap-by-bestwebsoft" data-type="file" data-id="39683"><head xmlns="http://www.w3.org/1999/xhtml"><title> bws-menu-deprecated | file | Google Sitemap By Bestwebsoft | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, google-sitemap-by-bestwebsoft, 3.0.9" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.17"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=6db5f06f2bd11658e45a4bc78ff3d75b' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.17' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/bws-menu-deprecated/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fbws-menu-deprecated%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fbws-menu-deprecated%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-google-sitemap-by-bestwebsoft-3.0.9-file-bws-menu-deprecated","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="bws-menu-deprecated" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to google-sitemap-by-bestwebsoft." href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/" class="plugin"><span property="name">google-sitemap-by-bestwebsoft</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.0.9." href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/" class="H_VERSION"><span property="name">3.0.9</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">bws-menu-deprecated</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="127"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/all/" title="All">All <span class="count badge">127</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="9"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/hooks/" title="Hooks">Hooks <span class="count badge">9</span></a></li><li class="" data-id="action" data-count="7"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/actions/" title="Actions">Actions <span class="count badge">7</span></a></li><li class="" data-id="filter" data-count="2"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/filters/" title="Filters">Filters <span class="count badge">2</span></a></li><li class="" data-id="class" data-count="70"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/classes/" title="Classes">Classes <span class="count badge">70</span></a></li><li class="" data-id="constant" data-count="2"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/constants/" title="Constants">Constants <span class="count badge">2</span></a></li><li class="" data-id="function" data-count="46"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/functions/" title="Functions">Functions <span class="count badge">46</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/google-sitemap-by-bestwebsoft/3.0.9/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/bws_menu/deprecated.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Deprecated functions for BestWebSoft plugins</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function check if plugin is compatible with current WP version - for old plugin version</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.7.4</span>&nbsp;</div></li><li><div><span class="comment">* @todo Remove function after 01.01.2018</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_wp_version_check' ) ) {&nbsp;</div></li><li><div>  function bws_wp_version_check( $plugin_basename, $plugin_info, $require_wp ) {&nbsp;</div></li><li><div>      global $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      if ( ! isset( $bstwbsftwppdtplgns_options ) )&nbsp;</div></li><li><div>          $bstwbsftwppdtplgns_options = ( function_exists( 'is_multisite' ) && is_multisite() ) ? get_site_option( 'bstwbsftwppdtplgns_options' ) : get_option( 'bstwbsftwppdtplgns_options' );&nbsp;</div></li><li><div>      if ( ! isset( $bstwbsftwppdtplgns_options['deprecated_function']['bws_wp_version_check'] ) ) {&nbsp;</div></li><li><div>          $bstwbsftwppdtplgns_options['deprecated_function']['bws_wp_version_check'] = array(&nbsp;</div></li><li><div>              'product-name' =&gt; $plugin_info['Name']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          if ( is_multisite() )&nbsp;</div></li><li><div>              update_site_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>          else&nbsp;</div></li><li><div>              update_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function add BWS Plugins page - for old plugin version</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.7.9</span>&nbsp;</div></li><li><div><span class="comment">* @todo Remove function after 01.01.2018</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_add_general_menu' ) ) {&nbsp;</div></li><li><div>  function bws_add_general_menu() {&nbsp;</div></li><li><div>      global $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      if ( ! isset( $bstwbsftwppdtplgns_options ) )&nbsp;</div></li><li><div>          $bstwbsftwppdtplgns_options = ( function_exists( 'is_multisite' ) && is_multisite() ) ? get_site_option( 'bstwbsftwppdtplgns_options' ) : get_option( 'bstwbsftwppdtplgns_options' );&nbsp;</div></li><li><div>      if ( ! isset( $bstwbsftwppdtplgns_options['deprecated_function']['bws_add_general_menu'] ) ) {&nbsp;</div></li><li><div>          $get_debug_backtrace = debug_backtrace();&nbsp;</div></li><li><div>          $file = ( ! empty( $get_debug_backtrace[0]['file'] ) ) ? $get_debug_backtrace[0]['file'] : '';&nbsp;</div></li><li><div>          $bstwbsftwppdtplgns_options['deprecated_function']['bws_add_general_menu'] = array(&nbsp;</div></li><li><div>              'file' =&gt; $file&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          if ( is_multisite() )&nbsp;</div></li><li><div>              update_site_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>          else&nbsp;</div></li><li><div>              update_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function display GO PRO tab - for old plugin version</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.7.6</span>&nbsp;</div></li><li><div><span class="comment">* @todo Remove function after 01.01.2018</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_go_pro_tab' ) ) {&nbsp;</div></li><li><div>  function bws_go_pro_tab( $plugin_info, $plugin_basename, $page, $pro_page, $bws_license_plugin, $link_slug, $link_key, $link_pn, $pro_plugin_is_activated = false, $trial_days_number = false ) {&nbsp;</div></li><li><div>      global $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      if ( ! isset( $bstwbsftwppdtplgns_options ) )&nbsp;</div></li><li><div>          $bstwbsftwppdtplgns_options = ( function_exists( 'is_multisite' ) && is_multisite() ) ? get_site_option( 'bstwbsftwppdtplgns_options' ) : get_option( 'bstwbsftwppdtplgns_options' );&nbsp;</div></li><li><div>      if ( ! isset( $bstwbsftwppdtplgns_options['deprecated_function']['bws_go_pro_tab'] ) ) {&nbsp;</div></li><li><div>          $bstwbsftwppdtplgns_options['deprecated_function']['bws_go_pro_tab'] = array(&nbsp;</div></li><li><div>              'product-name' =&gt; $plugin_info['Name']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          if ( is_multisite() )&nbsp;</div></li><li><div>              update_site_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>          else&nbsp;</div></li><li><div>              update_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function add BWS Plugins page</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @return void</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists ( 'bws_general_menu' ) ) {&nbsp;</div></li><li><div>  function bws_general_menu() {&nbsp;</div></li><li><div>      global $menu, $bws_general_menu_exist;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! $bws_general_menu_exist ) {&nbsp;</div></li><li><div>          <span class="comment">/** we check also menu exist in global array as in old plugins $bws_general_menu_exist variable not exist */</span>&nbsp;</div></li><li><div>          foreach ( $menu as $value_menu ) {&nbsp;</div></li><li><div>              if ( 'bws_panel' == $value_menu[2] ) {&nbsp;</div></li><li><div>                  $bws_general_menu_exist = true;&nbsp;</div></li><li><div>                  return;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          add_menu_page( 'BWS Panel', 'BWS Panel', 'manage_options', 'bws_panel', 'bws_add_menu_render', 'none', '1001' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          add_submenu_page( 'bws_panel', __( 'Plugins', 'bestwebsoft' ), __( 'Plugins', 'bestwebsoft' ), 'manage_options', 'bws_panel', 'bws_add_menu_render' );&nbsp;</div></li><li><div>          add_submenu_page( 'bws_panel', __( 'Themes', 'bestwebsoft' ), __( 'Themes', 'bestwebsoft' ), 'manage_options', 'bws_themes', 'bws_add_menu_render' );&nbsp;</div></li><li><div>          add_submenu_page( 'bws_panel', __( 'System Status', 'bestwebsoft' ), __( 'System Status', 'bestwebsoft' ), 'manage_options', 'bws_system_status', 'bws_add_menu_render' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $bws_general_menu_exist = true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function check license key for Pro plugins version</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_check_pro_license' ) ) {&nbsp;</div></li><li><div>  function bws_check_pro_license( $plugin_basename, $trial_plugin = false ) {&nbsp;</div></li><li><div>      global $wp_version, $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      $result = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( isset( $_POST['bws_license_submit'] ) && check_admin_referer( $plugin_basename, 'bws_license_nonce_name' ) ) {&nbsp;</div></li><li><div>          $license_key = isset( $_POST['bws_license_key'] ) ? stripslashes( esc_html( trim( $_POST['bws_license_key'] ) ) ) : '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( '' != $license_key ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              delete_transient( 'bws_plugins_update' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( ! function_exists( 'get_plugins' ) )&nbsp;</div></li><li><div>                  require_once( ABSPATH . 'wp-admin/includes/plugin.php' );&nbsp;</div></li><li><div>              $plugins_all = get_plugins();&nbsp;</div></li><li><div>              $current = get_site_transient( 'update_plugins' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( is_array( $plugins_all ) && !empty( $plugins_all ) && isset( $current ) && is_array( $current-&gt;response ) ) {&nbsp;</div></li><li><div>                  $to_send = array();&nbsp;</div></li><li><div>                  $to_send[&quot;plugins&quot;][ $plugin_basename ] = $plugins_all[ $plugin_basename ];&nbsp;</div></li><li><div>                  $to_send[&quot;plugins&quot;][ $plugin_basename ][&quot;bws_license_key&quot;] = $license_key;&nbsp;</div></li><li><div>                  $to_send[&quot;plugins&quot;][ $plugin_basename ][&quot;bws_illegal_client&quot;] = true;&nbsp;</div></li><li><div>                  $options = array(&nbsp;</div></li><li><div>                          'timeout' =&gt; ( ( defined('DOING_CRON') && DOING_CRON ) ? 30 : 3), &nbsp;</div></li><li><div>                          'body' =&gt; array( 'plugins' =&gt; serialize( $to_send ) ), &nbsp;</div></li><li><div>                          'user-agent' =&gt; 'WordPress/' . $wp_version . '; ' . get_bloginfo( 'url' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                  $raw_response = wp_remote_post( 'http:<span class="comment"><span class="comment">//bestwebsoft.com/wp-content/plugins/paid-products/plugins/update-check/1.0/', $options );</span></span>&nbsp;</div></li><li><div>                  if ( is_wp_error( $raw_response ) || 200 != wp_remote_retrieve_response_code( $raw_response ) ) {&nbsp;</div></li><li><div>                      $result['error'] = __( 'Something went wrong. Please try again later. If the error appears again, please contact us', 'bestwebsoft' ) . ' &lt;a href=https:<span class="comment"><span class="comment">//support.bestwebsoft.com&gt;BestWebSoft&lt;/a&gt;. ' . __( 'We are sorry for inconvenience.', 'bestwebsoft' );</span></span>&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $response = maybe_unserialize( wp_remote_retrieve_body( $raw_response ) );&nbsp;</div></li><li><div>                      if ( is_array( $response ) && !empty( $response ) ) {&nbsp;</div></li><li><div>                          foreach ( $response as $key =&gt; $value ) {&nbsp;</div></li><li><div>                              if ( &quot;wrong_license_key&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                  $result['error'] = __( 'Wrong license key.', 'bestwebsoft' );&nbsp;</div></li><li><div>                              } else if ( &quot;wrong_domain&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                  $result['error'] = __( 'This license key is bound to another site.', 'bestwebsoft' );&nbsp;</div></li><li><div>                              } else if ( &quot;time_out&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                  $result['message'] = __( 'This license key is valid, but Your license has expired. If you want to update our plugin in future, you should extend the license.', 'bestwebsoft' );&nbsp;</div></li><li><div>                              } elseif ( &quot;you_are_banned&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                  $result['error'] = __( &quot;Unfortunately, you have exceeded the number of available tries.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                              } elseif ( &quot;duplicate_domen_for_trial&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                  $result['error'] = __( &quot;Unfortunately, the Pro Trial licence was already installed to this domain. The Pro Trial license can be installed only once.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              if ( empty( $result['message'] ) && empty( $result['error'] ) ) {&nbsp;</div></li><li><div>                                  if ( isset( $value-&gt;trial ) )&nbsp;</div></li><li><div>                                      $result['message'] = __( 'The Pro Trial license key is valid.', 'bestwebsoft' );&nbsp;</div></li><li><div>                                  else&nbsp;</div></li><li><div>                                      $result['message'] = __( 'The license key is valid.', 'bestwebsoft' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                  if ( ! empty( $value-&gt;time_out ) )&nbsp;</div></li><li><div>                                      $result['message'] .= ' ' . __( 'Your license will expire on', 'bestwebsoft' ) . ' ' . $value-&gt;time_out . '.';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                  if ( isset( $value-&gt;trial ) && $trial_plugin != false )&nbsp;</div></li><li><div>                                      $result['message'] .= ' ' . sprintf( __( 'In order to continue using the plugin it is necessary to buy a %s license.', 'bestwebsoft' ), '&lt;a href=&quot;https:<span class="comment">//bestwebsoft.com/products/wordpress/plugins/' . $trial_plugin['link_slug'] . '/?k=' . $trial_plugin['link_key'] . '&pn=' . $trial_plugin['link_pn'] . '&v=' . $trial_plugin['plugin_info']['Version'] . '&wp_v=' . $wp_version . '&quot; target=&quot;_blank&quot; title=&quot;' . $trial_plugin['plugin_info']['Name'] . '&quot;&gt;Pro&lt;/a&gt;' );</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                  if ( isset( $value-&gt;trial ) ) {&nbsp;</div></li><li><div>                                      $bstwbsftwppdtplgns_options['trial'][ $plugin_basename ] = 1;&nbsp;</div></li><li><div>                                  } else {&nbsp;</div></li><li><div>                                      unset( $bstwbsftwppdtplgns_options['trial'][ $plugin_basename ] );&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                              if ( empty( $result['error'] ) ) {&nbsp;</div></li><li><div>                                  if ( isset( $value-&gt;nonprofit ) ) {&nbsp;</div></li><li><div>                                      $bstwbsftwppdtplgns_options['nonprofit'][ $plugin_basename ] = 1;&nbsp;</div></li><li><div>                                  } else {&nbsp;</div></li><li><div>                                      unset( $bstwbsftwppdtplgns_options['nonprofit'][ $plugin_basename ] );&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  &nbsp;</div></li><li><div>                                  if ( $bstwbsftwppdtplgns_options[ $plugin_basename ] != $license_key ) {&nbsp;</div></li><li><div>                                      $bstwbsftwppdtplgns_options[ $plugin_basename ] = $license_key;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                      $file = @fopen( dirname( dirname( __FILE__ ) ) . &quot;/license_key.txt&quot; , &quot;w+&quot; );&nbsp;</div></li><li><div>                                      if ( $file ) {&nbsp;</div></li><li><div>                                          @fwrite( $file, $license_key );&nbsp;</div></li><li><div>                                          @fclose( $file );&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>                                      $update_option = true;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                  if ( ! isset( $bstwbsftwppdtplgns_options['time_out'][ $plugin_basename ] ) || $bstwbsftwppdtplgns_options['time_out'][ $plugin_basename ] != $value-&gt;time_out ) {&nbsp;</div></li><li><div>                                      $bstwbsftwppdtplgns_options['time_out'][ $plugin_basename ] = $value-&gt;time_out;&nbsp;</div></li><li><div>                                      $update_option = true;&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                  if ( isset( $update_option ) ) {&nbsp;</div></li><li><div>                                      if ( is_multisite() )&nbsp;</div></li><li><div>                                          update_site_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>                                      else&nbsp;</div></li><li><div>                                          update_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $result['error'] = __( 'Something went wrong. Please try again later. If the error appears again, please contact us', 'bestwebsoft' ) . ' &lt;a href=https:<span class="comment"><span class="comment">//support.bestwebsoft.com&gt;BestWebSoft&lt;/a&gt;. ' . __( 'We are sorry for inconvenience.', 'bestwebsoft' );</span></span>&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $result['error'] = __( 'Please, enter your license key', 'bestwebsoft' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $result;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function display block for checking license key for Pro plugins version</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists ( 'bws_check_pro_license_form' ) ) {&nbsp;</div></li><li><div>  function bws_check_pro_license_form( $plugin_basename ) {&nbsp;</div></li><li><div>      global $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      $license_key = ( isset( $bstwbsftwppdtplgns_options[ $plugin_basename ] ) ) ? $bstwbsftwppdtplgns_options[ $plugin_basename ] : ''; ?&gt;&nbsp;</div></li><li><div>      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>      &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&lt;?php echo _e( 'If necessary, you can check if the license key is correct or reenter it in the field below. You can find your license key on your personal page - Client Area - on our website', 'bestwebsoft' ) . ' &lt;a href=&quot;https:<span class="comment">//bestwebsoft.com/client-area&quot;&gt;https://bestwebsoft.com/client-area&lt;/a&gt; ' . __( '(your username is the email address specified during the purchase). If necessary, please submit &quot;Lost your password?&quot; request.', 'bestwebsoft' ); ?&gt;&lt;/p&gt;</span>&nbsp;</div></li><li><div>          &lt;p&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;text&quot; maxlength=&quot;100&quot; name=&quot;bws_license_key&quot; value=&quot;&lt;?php echo $license_key; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;hidden&quot; name=&quot;bws_license_submit&quot; value=&quot;submit&quot; /&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;submit&quot; class=&quot;button&quot; value=&quot;&lt;?php _e( 'Check license key', 'bestwebsoft' ) ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>              &lt;?php wp_nonce_field( $plugin_basename, 'bws_license_nonce_name' ); ?&gt;&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/form&gt;&nbsp;</div></li><li><div>  &lt;?php }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function process submit on the `Go Pro` tab for TRIAL</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_go_pro_from_trial_tab' ) ) {&nbsp;</div></li><li><div>  function bws_go_pro_from_trial_tab( $plugin_info, $plugin_basename, $page, $link_slug, $link_key, $link_pn, $trial_license_is_set = true ) {&nbsp;</div></li><li><div>      global $wp_version, $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      $bws_license_key = ( isset( $_POST['bws_license_key'] ) ) ? stripslashes( esc_html( trim( $_POST['bws_license_key'] ) ) ) : &quot;&quot;;&nbsp;</div></li><li><div>      if ( $trial_license_is_set ) { ?&gt;&nbsp;</div></li><li><div>          &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&nbsp;</div></li><li><div>              &lt;p&gt;&nbsp;</div></li><li><div>                  &lt;?php echo sprintf( __( 'In order to continue using the plugin it is necessary to buy a %s license.', 'bestwebsoft' ), '&lt;a href=&quot;https:<span class="comment">//bestwebsoft.com/products/wordpress/plugins/' . $link_slug . '/?k=' . $link_key . '&amp;pn=' . $link_pn . '&amp;v=' . $plugin_info[&quot;Version&quot;] . '&amp;wp_v=' . $wp_version .'&quot; target=&quot;_blank&quot; title=&quot;' . $plugin_info[&quot;Name&quot;] . '&quot;&gt;Pro&lt;/a&gt;' ) . ' ';</span>&nbsp;</div></li><li><div>                  _e( 'After that, you can activate it by entering your license key.', 'bestwebsoft' ); ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                  &lt;span class=&quot;bws_info&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php _e( 'License key can be found in the', 'bestwebsoft' ); ?&gt;&nbsp;</div></li><li><div>                      &lt;a href=&quot;https:<span class="comment"><span class="comment">//bestwebsoft.com/wp-login.php&quot;&gt;Client Area&lt;/a&gt;</span></span>&nbsp;</div></li><li><div>                      &lt;?php _e( '(your username is the email address specified during the purchase).', 'bestwebsoft' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/span&gt;&nbsp;</div></li><li><div>              &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;?php if ( isset( $bstwbsftwppdtplgns_options['go_pro'][ $plugin_basename ]['count'] ) &&&nbsp;</div></li><li><div>                  '5' &lt; $bstwbsftwppdtplgns_options['go_pro'][ $plugin_basename ]['count'] &&&nbsp;</div></li><li><div>                  $bstwbsftwppdtplgns_options['go_pro'][ $plugin_basename ]['time'] &gt; ( time() - ( 24 * 60 * 60 ) ) ) { ?&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&nbsp;</div></li><li><div>                      &lt;input disabled=&quot;disabled&quot; type=&quot;text&quot; name=&quot;bws_license_key&quot; value=&quot;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input disabled=&quot;disabled&quot; type=&quot;submit&quot; class=&quot;button-primary&quot; value=&quot;&lt;?php _e( 'Activate', 'bestwebsoft' ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                  &lt;/p&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&lt;?php _e( &quot;Unfortunately, you have exceeded the number of available tries per day.&quot;, 'bestwebsoft' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>              &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;text&quot; maxlength=&quot;100&quot; name=&quot;bws_license_key&quot; value=&quot;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;bws_license_plugin&quot; value=&quot;&lt;?php echo $plugin_basename; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;bws_license_submit&quot; value=&quot;submit&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;submit&quot; class=&quot;button-primary&quot; value=&quot;&lt;?php _e( 'Activate', 'bestwebsoft' ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;?php wp_nonce_field( $plugin_basename, 'bws_license_nonce_name' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;?php } ?&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;&nbsp;</div></li><li><div>      &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>          &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>              window.setTimeout( function() {&nbsp;</div></li><li><div>                  window.location.href = 'admin.php?page=&lt;?php echo $page; ?&gt;';&nbsp;</div></li><li><div>              }, 5000 );&nbsp;</div></li><li><div>          &lt;/script&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&lt;?php _e( &quot;Congratulations! The Pro license of the plugin is activated successfully.&quot;, 'bestwebsoft' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&nbsp;</div></li><li><div>              &lt;?php _e( &quot;Please, go to&quot;, 'bestwebsoft' ); ?&gt; &lt;a href=&quot;admin.php?page=&lt;?php echo $page; ?&gt;&quot;&gt;&lt;?php _e( 'the setting page', 'bestwebsoft' ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>              (&lt;?php _e( &quot;You will be redirected automatically in 5 seconds.&quot;, 'bestwebsoft' ); ?&gt;)&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>      &lt;?php }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function process submit on the `Go Pro` tab</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_go_pro_tab_check' ) ) {&nbsp;</div></li><li><div>  function bws_go_pro_tab_check( $plugin_basename, $plugin_options_name = false, $is_network_option = false ) {&nbsp;</div></li><li><div>      global $wp_version, $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      $result = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $bws_license_key = ( isset( $_POST['bws_license_key'] ) ) ? stripslashes( esc_html( trim( $_POST['bws_license_key'] ) ) ) : &quot;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $plugin_options_name ) && isset( $_POST['bws_hide_premium_options_submit'] ) && check_admin_referer( $plugin_basename, 'bws_license_nonce_name' ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $plugin_options = ( $is_network_option ) ? get_site_option( $plugin_options_name ) : get_option( $plugin_options_name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( !empty( $plugin_options['hide_premium_options'] ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $key = array_search( get_current_user_id(), $plugin_options['hide_premium_options'] );&nbsp;</div></li><li><div>              if ( false !== $key ) {&nbsp;</div></li><li><div>                  unset( $plugin_options['hide_premium_options'][ $key ] );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( $is_network_option )&nbsp;</div></li><li><div>                  update_site_option( $plugin_options_name, $plugin_options );&nbsp;</div></li><li><div>              else&nbsp;</div></li><li><div>                  update_option( $plugin_options_name, $plugin_options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $result['message'] = __( 'Check premium options on the plugin settings page!', 'bestwebsoft' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( isset( $_POST['bws_license_submit'] ) && check_admin_referer( $plugin_basename, 'bws_license_nonce_name' ) ) {&nbsp;</div></li><li><div>          if ( '' != $bws_license_key ) {&nbsp;</div></li><li><div>              if ( strlen( $bws_license_key ) != 18 ) {&nbsp;</div></li><li><div>                  $result['error'] = __( &quot;Wrong license key&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $bws_license_plugin = stripslashes( esc_html( $_POST['bws_license_plugin'] ) );&nbsp;</div></li><li><div>                  if ( isset( $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['count'] ) && $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['time'] &gt; ( time() - (24 * 60 * 60) ) ) {&nbsp;</div></li><li><div>                      $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['count'] = $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['count'] + 1;&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['count'] = 1;&nbsp;</div></li><li><div>                      $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['time'] = time();&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  <span class="comment">/** download Pro */</span>&nbsp;</div></li><li><div>                  if ( ! function_exists( 'get_plugins' ) )&nbsp;</div></li><li><div>                      require_once( ABSPATH . 'wp-admin/includes/plugin.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $all_plugins = get_plugins();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if ( ! array_key_exists( $bws_license_plugin, $all_plugins ) ) {&nbsp;</div></li><li><div>                      $current = get_site_transient( 'update_plugins' );&nbsp;</div></li><li><div>                      if ( is_array( $all_plugins ) && !empty( $all_plugins ) && isset( $current ) && is_array( $current-&gt;response ) ) {&nbsp;</div></li><li><div>                          $to_send = array();&nbsp;</div></li><li><div>                          $to_send[&quot;plugins&quot;][ $bws_license_plugin ] = array();&nbsp;</div></li><li><div>                          $to_send[&quot;plugins&quot;][ $bws_license_plugin ][&quot;bws_license_key&quot;] = $bws_license_key;&nbsp;</div></li><li><div>                          $to_send[&quot;plugins&quot;][ $bws_license_plugin ][&quot;bws_illegal_client&quot;] = true;&nbsp;</div></li><li><div>                          $options = array(&nbsp;</div></li><li><div>                              'timeout' =&gt; ( ( defined( 'DOING_CRON' ) && DOING_CRON ) ? 30 : 3 ), &nbsp;</div></li><li><div>                              'body' =&gt; array( 'plugins' =&gt; serialize( $to_send ) ), &nbsp;</div></li><li><div>                              'user-agent' =&gt; 'WordPress/' . $wp_version . '; ' . get_bloginfo( 'url' ) );&nbsp;</div></li><li><div>                          $raw_response = wp_remote_post( 'http:<span class="comment"><span class="comment">//bestwebsoft.com/wp-content/plugins/paid-products/plugins/update-check/1.0/', $options );</span></span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                          if ( is_wp_error( $raw_response ) || 200 != wp_remote_retrieve_response_code( $raw_response ) ) {&nbsp;</div></li><li><div>                              $result['error'] = __( &quot;Something went wrong. Please try again later. If the error appears again, please contact us&quot;, 'bestwebsoft' ) . ' &lt;a href=&quot;https:<span class="comment">//support.bestwebsoft.com&quot;&gt;BestWebSoft&lt;/a&gt;. ' . __( &quot;We are sorry for inconvenience.&quot;, 'bestwebsoft' );</span>&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                              $response = maybe_unserialize( wp_remote_retrieve_body( $raw_response ) );&nbsp;</div></li><li><div>                              if ( is_array( $response ) && !empty( $response ) ) {&nbsp;</div></li><li><div>                                  foreach ( $response as $key =&gt; $value ) {&nbsp;</div></li><li><div>                                      if ( &quot;wrong_license_key&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                          $result['error'] = __( &quot;Wrong license key.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                      } elseif ( &quot;wrong_domain&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                          $result['error'] = __( &quot;This license key is bound to another site.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                      } elseif ( &quot;you_are_banned&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                          $result['error'] = __( &quot;Unfortunately, you have exceeded the number of available tries per day. Please, upload the plugin manually.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                      } elseif ( &quot;time_out&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                          $result['error'] = sprintf( __( &quot;Unfortunately, Your license has expired. To continue getting top-priority support and plugin updates, you should extend it in your %s&quot;, 'bestwebsoft' ), ' &lt;a href=&quot;https:<span class="comment">//bestwebsoft.com/client-area&quot;&gt;Client Area&lt;/a&gt;' );</span>&nbsp;</div></li><li><div>                                      } elseif ( &quot;duplicate_domen_for_trial&quot; == $value-&gt;package ) {&nbsp;</div></li><li><div>                                          $result['error'] = __( &quot;Unfortunately, the Pro licence was already installed to this domain. The Pro Trial license can be installed only once.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                                  if ( empty( $result['error'] ) ) {&nbsp;</div></li><li><div>                                      $bstwbsftwppdtplgns_options[ $bws_license_plugin ] = $bws_license_key;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                      $url = 'http:<span class="comment">//bestwebsoft.com/wp-content/plugins/paid-products/plugins/downloads/?bws_first_download=' . $bws_license_plugin . '&bws_license_key=' . $bws_license_key . '&download_from=5';</span>&nbsp;</div></li><li><div>                                      $uploadDir = wp_upload_dir();&nbsp;</div></li><li><div>                                      $zip_name = explode( '/', $bws_license_plugin );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                      if ( !function_exists( 'curl_init' ) ) {&nbsp;</div></li><li><div>                                          $received_content = file_get_contents( $url );&nbsp;</div></li><li><div>                                      } else {&nbsp;</div></li><li><div>                                          $ch = curl_init();&nbsp;</div></li><li><div>                                          curl_setopt( $ch, CURLOPT_URL, $url );&nbsp;</div></li><li><div>                                          curl_setopt( $ch, CURLOPT_RETURNTRANSFER, true );&nbsp;</div></li><li><div>                                          $received_content = curl_exec( $ch );&nbsp;</div></li><li><div>                                          curl_close( $ch );&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                      if ( ! $received_content ) {&nbsp;</div></li><li><div>                                          $result['error'] = __( &quot;Failed to download the zip archive. Please, upload the plugin manually&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                      } else {&nbsp;</div></li><li><div>                                          if ( is_writable( $uploadDir[&quot;path&quot;] ) ) {&nbsp;</div></li><li><div>                                              $file_put_contents = $uploadDir[&quot;path&quot;] . &quot;/&quot; . $zip_name[0] . &quot;.zip&quot;;&nbsp;</div></li><li><div>                                              if ( file_put_contents( $file_put_contents, $received_content ) ) {&nbsp;</div></li><li><div>                                                  @chmod( $file_put_contents, octdec( 755 ) );&nbsp;</div></li><li><div>                                                  if ( class_exists( 'ZipArchive' ) ) {&nbsp;</div></li><li><div>                                                      $zip = new ZipArchive();&nbsp;</div></li><li><div>                                                      if ( $zip-&gt;open( $file_put_contents ) === TRUE ) {&nbsp;</div></li><li><div>                                                          $zip-&gt;extractTo( WP_PLUGIN_DIR );&nbsp;</div></li><li><div>                                                          $zip-&gt;close();&nbsp;</div></li><li><div>                                                      } else {&nbsp;</div></li><li><div>                                                          $result['error'] = __( &quot;Failed to open the zip archive. Please, upload the plugin manually&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                                      }&nbsp;</div></li><li><div>                                                  } elseif ( class_exists( 'Phar' ) ) {&nbsp;</div></li><li><div>                                                      $phar = new PharData( $file_put_contents );&nbsp;</div></li><li><div>                                                      $phar-&gt;extractTo( WP_PLUGIN_DIR );&nbsp;</div></li><li><div>                                                  } else {&nbsp;</div></li><li><div>                                                      $result['error'] = __( &quot;Your server does not support either ZipArchive or Phar. Please, upload the plugin manually&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                                  }&nbsp;</div></li><li><div>                                                  @unlink( $file_put_contents );&nbsp;</div></li><li><div>                                              } else {&nbsp;</div></li><li><div>                                                  $result['error'] = __( &quot;Failed to download the zip archive. Please, upload the plugin manually&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                              }&nbsp;</div></li><li><div>                                          } else {&nbsp;</div></li><li><div>                                              $result['error'] = __( &quot;UploadDir is not writable. Please, upload the plugin manually&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                          }&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                      <span class="comment"><span class="comment">/** activate Pro */</span></span>&nbsp;</div></li><li><div>                                      if ( file_exists( WP_PLUGIN_DIR . '/' . $zip_name[0] ) ) {&nbsp;</div></li><li><div>                                          if ( is_multisite() && is_plugin_active_for_network( $plugin_basename ) ) {&nbsp;</div></li><li><div>                                              <span class="comment"><span class="comment">/** if multisite and free plugin is network activated */</span></span>&nbsp;</div></li><li><div>                                              $active_plugins = get_site_option( 'active_sitewide_plugins' );&nbsp;</div></li><li><div>                                              $active_plugins[ $bws_license_plugin ] = time();&nbsp;</div></li><li><div>                                              update_site_option( 'active_sitewide_plugins', $active_plugins );&nbsp;</div></li><li><div>                                          } else {&nbsp;</div></li><li><div>                                              <span class="comment"><span class="comment">/** activate on a single blog */</span></span>&nbsp;</div></li><li><div>                                              $active_plugins = get_option( 'active_plugins' );&nbsp;</div></li><li><div>                                              array_push( $active_plugins, $bws_license_plugin );&nbsp;</div></li><li><div>                                              update_option( 'active_plugins', $active_plugins );&nbsp;</div></li><li><div>                                          }&nbsp;</div></li><li><div>                                          $result['pro_plugin_is_activated'] = true;&nbsp;</div></li><li><div>                                      } elseif ( empty( $result['error'] ) ) {&nbsp;</div></li><li><div>                                          $result['error'] = __( &quot;Failed to download the zip archive. Please, upload the plugin manually&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                                      }&nbsp;</div></li><li><div>                                  }&nbsp;</div></li><li><div>                              } else {&nbsp;</div></li><li><div>                                  $result['error'] = __( &quot;Something went wrong. Try again later or upload the plugin manually. We are sorry for inconvenience.&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>                              }&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      $bstwbsftwppdtplgns_options[ $bws_license_plugin ] = $bws_license_key;&nbsp;</div></li><li><div>                      <span class="comment"><span class="comment">/** activate Pro */</span></span>&nbsp;</div></li><li><div>                      if ( ! is_plugin_active( $bws_license_plugin ) ) {&nbsp;</div></li><li><div>                          if ( is_multisite() && is_plugin_active_for_network( $plugin_basename ) ) {&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment">/** if multisite and free plugin is network activated */</span></span>&nbsp;</div></li><li><div>                              $network_wide = true;&nbsp;</div></li><li><div>                          } else {&nbsp;</div></li><li><div>                              <span class="comment"><span class="comment">/** activate on a single blog */</span></span>&nbsp;</div></li><li><div>                              $network_wide = false;&nbsp;</div></li><li><div>                          }&nbsp;</div></li><li><div>                          activate_plugin( $bws_license_plugin, NULL, $network_wide );&nbsp;</div></li><li><div>                          $result['pro_plugin_is_activated'] = true;&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  if ( is_multisite() )&nbsp;</div></li><li><div>                      update_site_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>                  else&nbsp;</div></li><li><div>                      update_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if ( ! empty( $result['pro_plugin_is_activated'] ) )&nbsp;</div></li><li><div>                      delete_transient( 'bws_plugins_update' );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $result['error'] = __( &quot;Please, enter Your license key&quot;, 'bestwebsoft' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $result;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function display block for restoring default product settings</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists ( 'bws_form_restore_default_settings' ) ) {&nbsp;</div></li><li><div>  function bws_form_restore_default_settings( $plugin_basename, $change_permission_attr = '' ) { ?&gt;&nbsp;</div></li><li><div>      &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&lt;?php _e( 'Restore all plugin settings to defaults', 'bestwebsoft' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&nbsp;</div></li><li><div>              &lt;input &lt;?php echo $change_permission_attr; ?&gt; type=&quot;submit&quot; class=&quot;button&quot; value=&quot;&lt;?php _e( 'Restore settings', 'bestwebsoft' ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>          &lt;input type=&quot;hidden&quot; name=&quot;bws_restore_default&quot; value=&quot;submit&quot; /&gt;&nbsp;</div></li><li><div>          &lt;?php wp_nonce_field( $plugin_basename, 'bws_settings_nonce_name' ); ?&gt;&nbsp;</div></li><li><div>      &lt;/form&gt;&nbsp;</div></li><li><div>  &lt;?php }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function display 'Custom code' tab</span>&nbsp;</div></li><li><div><span class="comment">*</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_custom_code_tab' ) ) {&nbsp;</div></li><li><div>  function bws_custom_code_tab() {&nbsp;</div></li><li><div>      if ( ! current_user_can( 'edit_plugins' ) )&nbsp;</div></li><li><div>          wp_die( __( 'You do not have sufficient permissions to edit plugins for this site.', 'bestwebsoft' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      global $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $message = $content = '';&nbsp;</div></li><li><div>      $is_css_active = $is_php_active = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $upload_dir = wp_upload_dir();&nbsp;</div></li><li><div>      $folder = $upload_dir['basedir'] . '/bws-custom-code';&nbsp;</div></li><li><div>      if ( ! $upload_dir[&quot;error&quot;] ) {&nbsp;</div></li><li><div>          if ( ! is_dir( $folder ) )&nbsp;</div></li><li><div>              wp_mkdir_p( $folder, 0755 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $index_file = $upload_dir['basedir'] . '/bws-custom-code/index.php';&nbsp;</div></li><li><div>          if ( ! file_exists( $index_file ) ) {&nbsp;</div></li><li><div>              if ( $f = fopen( $index_file, 'w+' ) )&nbsp;</div></li><li><div>                  fclose( $f );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $css_file = 'bws-custom-code.css';&nbsp;</div></li><li><div>      $real_css_file = $folder . '/' . $css_file;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $php_file = 'bws-custom-code.php';&nbsp;</div></li><li><div>      $real_php_file = $folder . '/' . $php_file;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $is_multisite = is_multisite();&nbsp;</div></li><li><div>      if ( $is_multisite )&nbsp;</div></li><li><div>          $blog_id = get_current_blog_id();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( isset( $_REQUEST['bws_update_custom_code'] ) && check_admin_referer( 'bws_update_' . $css_file ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/** CSS */</span>&nbsp;</div></li><li><div>          $newcontent_css = wp_unslash( $_POST['bws_newcontent_css'] );&nbsp;</div></li><li><div>          if ( ! empty( $newcontent_css ) && isset( $_REQUEST['bws_custom_css_active'] ) ) {&nbsp;</div></li><li><div>              if ( $is_multisite )&nbsp;</div></li><li><div>                  $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $css_file ] = $upload_dir['baseurl'] . '/bws-custom-code/' . $css_file;&nbsp;</div></li><li><div>              else&nbsp;</div></li><li><div>                  $bstwbsftwppdtplgns_options['custom_code'][ $css_file ] = $upload_dir['baseurl'] . '/bws-custom-code/' . $css_file;&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              if ( $is_multisite ) {&nbsp;</div></li><li><div>                  if ( isset( $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $css_file ] ) )&nbsp;</div></li><li><div>                      unset( $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $css_file ] );&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  if ( isset( $bstwbsftwppdtplgns_options['custom_code'][ $css_file ] ) )&nbsp;</div></li><li><div>                      unset( $bstwbsftwppdtplgns_options['custom_code'][ $css_file ] );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $f = fopen( $real_css_file, 'w+' ) ) {&nbsp;</div></li><li><div>              fwrite( $f, $newcontent_css );&nbsp;</div></li><li><div>              fclose( $f );&nbsp;</div></li><li><div>              $message .= sprintf( __( 'File %s edited successfully.', 'bestwebsoft' ), '&lt;i&gt;' . $css_file . '&lt;/i&gt;' ) . ' ';&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $error .= __( 'Not enough permissions to create or update the file', 'bestwebsoft' ) . ' ' . $real_css_file . '. ';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/** PHP */</span>&nbsp;</div></li><li><div>          $newcontent_php = wp_unslash( trim( $_POST['bws_newcontent_php'] ) );&nbsp;</div></li><li><div>          if ( file_exists( $index_file ) ) {&nbsp;</div></li><li><div>              if ( ! empty( $newcontent_php ) && isset( $_REQUEST['bws_custom_php_active'] ) ) {&nbsp;</div></li><li><div>                  if ( $is_multisite )&nbsp;</div></li><li><div>                      $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $php_file ] = $real_php_file;&nbsp;</div></li><li><div>                  else&nbsp;</div></li><li><div>                      $bstwbsftwppdtplgns_options['custom_code'][ $php_file ] = $real_php_file;&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  if ( $is_multisite ) {&nbsp;</div></li><li><div>                      if ( isset( $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $php_file ] ) )&nbsp;</div></li><li><div>                          unset( $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $php_file ] );&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      if ( isset( $bstwbsftwppdtplgns_options['custom_code'][ $php_file ] ) )&nbsp;</div></li><li><div>                          unset( $bstwbsftwppdtplgns_options['custom_code'][ $php_file ] );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( $f = fopen( $real_php_file, 'w+' ) ) {&nbsp;</div></li><li><div>                  $newcontent_php = $newcontent_php;&nbsp;</div></li><li><div>                  fwrite( $f, $newcontent_php );&nbsp;</div></li><li><div>                  fclose( $f );&nbsp;</div></li><li><div>                  $message .= sprintf( __( 'File %s edited successfully.', 'bestwebsoft' ), '&lt;i&gt;' . $php_file . '&lt;/i&gt;' );&nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  $error .= __( 'Not enough permissions to create or update the file', 'bestwebsoft' ) . ' ' . $real_php_file . '. ';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>              $error .= __( 'Not enough permissions to create the file', 'bestwebsoft' ) . ' ' . $index_file . '. ';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( ! empty( $error ) )&nbsp;</div></li><li><div>              $error .= ' &lt;a href=&quot;https:<span class="comment">//codex.wordpress.org/Changing_File_Permissions&quot; target=&quot;_blank&quot;&gt;' . __( 'Learn more', 'bestwebsoft' ) . '&lt;/a&gt;';</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $is_multisite )&nbsp;</div></li><li><div>              update_site_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>          else&nbsp;</div></li><li><div>              update_option( 'bstwbsftwppdtplgns_options', $bstwbsftwppdtplgns_options );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( file_exists( $real_css_file ) ) {&nbsp;</div></li><li><div>          update_recently_edited( $real_css_file );&nbsp;</div></li><li><div>          $content_css = esc_textarea( file_get_contents( $real_css_file ) );&nbsp;</div></li><li><div>          if ( ( $is_multisite && isset( $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $css_file ] ) ) ||&nbsp;</div></li><li><div>              ( ! $is_multisite && isset( $bstwbsftwppdtplgns_options['custom_code'][ $css_file ] ) ) ) {&nbsp;</div></li><li><div>              $is_css_active = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( file_exists( $real_php_file ) ) {&nbsp;</div></li><li><div>          update_recently_edited( $real_php_file );&nbsp;</div></li><li><div>          $content_php = esc_textarea( file_get_contents( $real_php_file ) );&nbsp;</div></li><li><div>          if ( ( $is_multisite && isset( $bstwbsftwppdtplgns_options['custom_code'][ $blog_id ][ $php_file ] ) ) ||&nbsp;</div></li><li><div>              ( ! $is_multisite && isset( $bstwbsftwppdtplgns_options['custom_code'][ $php_file ] ) ) ) {&nbsp;</div></li><li><div>              $is_php_active = true;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $content_php = &quot;&lt;?php&quot; . &quot;\n&quot; . &quot;if ( ! defined( 'ABSPATH' ) ) exit;&quot; . &quot;\n&quot; . &quot;if ( ! defined( 'BWS_GLOBAL' ) ) exit;&quot; . &quot;\n\n&quot; . &quot;<span class="comment">/* Start your code here */</span>&quot; . &quot;\n&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( ! empty( $message ) ) { ?&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;message&quot; class=&quot;below-h2 updated notice is-dismissible&quot;&gt;&lt;p&gt;&lt;?php echo $message; ?&gt;&lt;/p&gt;&lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php } ?&gt;&nbsp;</div></li><li><div>      &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>          &lt;?php foreach ( array( 'css', 'php' ) as $extension ) { ?&gt;&nbsp;</div></li><li><div>              &lt;p&gt;&nbsp;</div></li><li><div>                  &lt;?php if ( 'css' == $extension )&nbsp;</div></li><li><div>                      _e( 'These styles will be added to the header on all pages of your site.', 'bestwebsoft' );&nbsp;</div></li><li><div>                  else&nbsp;</div></li><li><div>                      printf( __( 'This PHP code will be hooked to the %s action and will be printed on front end only.', 'bestwebsoft' ), '&lt;a href=&quot;http:<span class="comment">//codex.wordpress.org/Plugin_API/Action_Reference/init&quot; target=&quot;_blank&quot;&gt;&lt;code&gt;init&lt;/code&gt;&lt;/a&gt;' ); ?&gt;</span>&nbsp;</div></li><li><div>              &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;p&gt;&lt;big&gt;&nbsp;</div></li><li><div>                  &lt;?php if ( ! file_exists( ${&quot;real_{$extension}_file&quot;} ) || ( is_writeable( ${&quot;real_{$extension}_file&quot;} ) ) ) {&nbsp;</div></li><li><div>                      echo __( 'Editing', 'bestwebsoft' ) . ' &lt;strong&gt;' . ${&quot;{$extension}_file&quot;} . '&lt;/strong&gt;';&nbsp;</div></li><li><div>                  } else {&nbsp;</div></li><li><div>                      echo __( 'Browsing', 'bestwebsoft' ) . ' &lt;strong&gt;' . ${&quot;{$extension}_file&quot;} . '&lt;/strong&gt;';&nbsp;</div></li><li><div>                  } ?&gt;&nbsp;</div></li><li><div>              &lt;/big&gt;&lt;/p&gt;&nbsp;</div></li><li><div>              &lt;p&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;bws_custom_&lt;?php echo $extension; ?&gt;_active&quot; value=&quot;1&quot; &lt;?php if ( ${&quot;is_{$extension}_active&quot;} ) echo &quot;checked&quot;; ?&gt; /&gt;    &lt;?php _e( 'Activate', 'bestwebsoft' ); ?&gt;&lt;/label&gt;&lt;/p&gt;&nbsp;</div></li><li><div>              &lt;textarea cols=&quot;70&quot; rows=&quot;25&quot; name=&quot;bws_newcontent_&lt;?php echo $extension; ?&gt;&quot; id=&quot;bws_newcontent_&lt;?php echo $extension; ?&gt;&quot;&gt;&lt;?php if ( isset( ${&quot;content_{$extension}&quot;} ) ) echo ${&quot;content_{$extension}&quot;}; ?&gt;&lt;/textarea&gt;&nbsp;</div></li><li><div>              &lt;p class=&quot;description&quot;&gt;&nbsp;</div></li><li><div>                  &lt;a href=&quot;&lt;?php echo ( 'css' == $extension ) ? 'https:<span class="comment">//developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_started' : 'http://php.net/' ?&gt;&quot; target=&quot;_blank&quot;&gt;</span>&nbsp;</div></li><li><div>                      &lt;?php printf( __( 'Learn more about %s', 'bestwebsoft' ), strtoupper( $extension ) ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/a&gt;&nbsp;</div></li><li><div>              &lt;/p&gt;&nbsp;</div></li><li><div>          &lt;?php }&nbsp;</div></li><li><div>          if ( ( ! file_exists( $real_css_file ) || is_writeable( $real_css_file ) ) && ( ! file_exists( $real_php_file ) || is_writeable( $real_php_file ) ) ) { ?&gt;&nbsp;</div></li><li><div>              &lt;p class=&quot;submit&quot;&gt;&nbsp;</div></li><li><div>                  &lt;input type=&quot;hidden&quot; name=&quot;bws_update_custom_code&quot; value=&quot;submit&quot; /&gt;&nbsp;</div></li><li><div>                  &lt;?php submit_button( __( 'Save Changes', 'bestwebsoft' ), 'primary', 'submit', false );&nbsp;</div></li><li><div>                  wp_nonce_field( 'bws_update_' . $css_file ); ?&gt;&nbsp;</div></li><li><div>              &lt;/p&gt;&nbsp;</div></li><li><div>          &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>              &lt;p&gt;&lt;em&gt;&lt;?php printf( __( 'You need to make this files writable before you can save your changes. See %s the Codex %s for more information.', 'bestwebsoft' ), &nbsp;</div></li><li><div>              '&lt;a href=&quot;https:<span class="comment">//codex.wordpress.org/Changing_File_Permissions&quot; target=&quot;_blank&quot;&gt;', </span>&nbsp;</div></li><li><div>              '&lt;/a&gt;' ); ?&gt;&lt;/em&gt;&lt;/p&gt;&nbsp;</div></li><li><div>          &lt;?php }    ?&gt;&nbsp;</div></li><li><div>      &lt;/form&gt;&nbsp;</div></li><li><div>  &lt;?php }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">* Function display GO PRO tab</span>&nbsp;</div></li><li><div><span class="comment">* @deprecated 1.9.8 (15.12.2016)</span>&nbsp;</div></li><li><div><span class="comment">* @todo add notice and remove functional after 01.01.2018. Remove function after 01.01.2019</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>if ( ! function_exists( 'bws_go_pro_tab_show' ) ) {&nbsp;</div></li><li><div>  function bws_go_pro_tab_show( $bws_hide_premium_options_check, $plugin_info, $plugin_basename, $page, $pro_page, $bws_license_plugin, $link_slug, $link_key, $link_pn, $pro_plugin_is_activated = false, $trial_days_number = false ) {&nbsp;</div></li><li><div>      global $wp_version, $bstwbsftwppdtplgns_options;&nbsp;</div></li><li><div>      $bws_license_key = ( isset( $_POST['bws_license_key'] ) ) ? stripslashes( esc_html( trim( $_POST['bws_license_key'] ) ) ) : &quot;&quot;;&nbsp;</div></li><li><div>      if ( $pro_plugin_is_activated ) { ?&gt;&nbsp;</div></li><li><div>          &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>              window.setTimeout( function() {&nbsp;</div></li><li><div>                  window.location.href = 'admin.php?page=&lt;?php echo $pro_page; ?&gt;';&nbsp;</div></li><li><div>              }, 5000 );&nbsp;</div></li><li><div>          &lt;/script&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&lt;?php _e( &quot;Congratulations! Pro version of the plugin is  installed and activated successfully.&quot;, 'bestwebsoft' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>          &lt;p&gt;&nbsp;</div></li><li><div>              &lt;?php _e( &quot;Please, go to&quot;, 'bestwebsoft' ); ?&gt; &lt;a href=&quot;admin.php?page=&lt;?php echo $pro_page; ?&gt;&quot;&gt;&lt;?php _e( 'the setting page', 'bestwebsoft' ); ?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>              (&lt;?php _e( &quot;You will be redirected automatically in 5 seconds.&quot;, 'bestwebsoft' ); ?&gt;)&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>      &lt;?php } else {&nbsp;</div></li><li><div>          if ( $bws_hide_premium_options_check ) { ?&gt;&nbsp;</div></li><li><div>              &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;bws_hide_premium_options_submit&quot; value=&quot;submit&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;submit&quot; class=&quot;button&quot; value=&quot;&lt;?php _e( 'Show Pro features', 'bestwebsoft' ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;?php wp_nonce_field( $plugin_basename, 'bws_license_nonce_name' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;/form&gt;&nbsp;</div></li><li><div>          &lt;?php } ?&gt;&nbsp;</div></li><li><div>          &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&nbsp;</div></li><li><div>              &lt;p&gt;&nbsp;</div></li><li><div>                  &lt;?php _e( 'Enter your license key to install and activate', 'bestwebsoft' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;a href=&quot;https:<span class="comment">//bestwebsoft.com/products/wordpress/plugins/&lt;?php echo $link_slug; ?&gt;/?k=&lt;?php echo $link_key; ?&gt;&amp;pn=&lt;?php echo $link_pn; ?&gt;&amp;v=&lt;?php echo $plugin_info[&quot;Version&quot;]; ?&gt;&amp;wp_v=&lt;?php echo $wp_version; ?&gt;&quot; target=&quot;_blank&quot; title=&quot;&lt;?php echo $plugin_info[&quot;Name&quot;]; ?&gt; Pro&quot;&gt;Pro&lt;/a&gt;</span>&nbsp;</div></li><li><div>                  &lt;?php _e( 'version of the plugin.', 'bestwebsoft' ); ?&gt;&lt;br /&gt;&nbsp;</div></li><li><div>                  &lt;span class=&quot;bws_info&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php _e( 'License key can be found in the', 'bestwebsoft' ); ?&gt;&nbsp;</div></li><li><div>                      &lt;a href=&quot;https:<span class="comment"><span class="comment">//bestwebsoft.com/wp-login.php&quot;&gt;Client Area&lt;/a&gt;</span></span>&nbsp;</div></li><li><div>                      &lt;?php _e( '(your username is the email address specified during the purchase).', 'bestwebsoft' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/span&gt;&nbsp;</div></li><li><div>              &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;?php if ( $trial_days_number !== false )&nbsp;</div></li><li><div>                  $trial_days_number = __( 'or', 'bestwebsoft' ) . ' &lt;a href=&quot;https:<span class="comment">//bestwebsoft.com/products/wordpress/plugins/' . $link_slug . '/trial/&quot; target=&quot;_blank&quot;&gt;' . sprintf( __( 'Start Your Free %s-Day Trial Now', 'bestwebsoft' ), $trial_days_number ) . '&lt;/a&gt;';</span>&nbsp;</div></li><li><div>              if ( isset( $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['count'] ) &&&nbsp;</div></li><li><div>                  '5' &lt; $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['count'] &&&nbsp;</div></li><li><div>                  $bstwbsftwppdtplgns_options['go_pro'][ $bws_license_plugin ]['time'] &gt; ( time() - ( 24 * 60 * 60 ) ) ) { ?&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&nbsp;</div></li><li><div>                      &lt;input disabled=&quot;disabled&quot; type=&quot;text&quot; name=&quot;bws_license_key&quot; value=&quot;&lt;?php echo $bws_license_key; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input disabled=&quot;disabled&quot; type=&quot;submit&quot; class=&quot;button-primary&quot; value=&quot;&lt;?php _e( 'Activate', 'bestwebsoft' ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;?php if ( $trial_days_number !== false ) echo $trial_days_number; ?&gt;&nbsp;</div></li><li><div>                  &lt;/p&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&lt;?php _e( &quot;Unfortunately, you have exceeded the number of available tries per day. Please, upload the plugin manually.&quot;, 'bestwebsoft' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>              &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>                  &lt;p&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;text&quot; maxlength=&quot;100&quot; name=&quot;bws_license_key&quot; value=&quot;&lt;?php echo $bws_license_key; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;bws_license_plugin&quot; value=&quot;&lt;?php echo $bws_license_plugin; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;hidden&quot; name=&quot;bws_license_submit&quot; value=&quot;submit&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;input type=&quot;submit&quot; class=&quot;button-primary&quot; value=&quot;&lt;?php _e( 'Activate', 'bestwebsoft' ); ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                      &lt;?php if ( $trial_days_number !== false ) echo $trial_days_number;&nbsp;</div></li><li><div>                      wp_nonce_field( $plugin_basename, 'bws_license_nonce_name' ); ?&gt;&nbsp;</div></li><li><div>                  &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;?php } ?&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;&nbsp;</div></li><li><div>      &lt;?php }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Google Sitemap by BestWebSoft</li><li><span></span>3.0.9</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>