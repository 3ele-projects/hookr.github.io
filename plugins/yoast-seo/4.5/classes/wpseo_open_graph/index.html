<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="4.5" data-slug="yoast-seo" data-type="class" data-id="14833"><head xmlns="http://www.w3.org/1999/xhtml"><title> wpseo_opengraph | class | Yoast Seo | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="WPSEO_OpenGraph, class, plugin, yoast-seo, 4.5" /><meta name="description" content="This code adds the OpenGraph output." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=c1d2caa340bd61100f21148611affcd6' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/wpseo_open_graph/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwpseo_open_graph%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwpseo_open_graph%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-yoast-seo-4.5-class-wpseo_open_graph","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wpseo_open_graph" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to yoast-seo." href="http://hookr.io/plugins/yoast-seo/" class="plugin"><span property="name">yoast-seo</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.5." href="http://hookr.io/plugins/yoast-seo/4.5/" class="H_VERSION"><span property="name">4.5</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/yoast-seo/4.5/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wpseo_open_graph</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="551"><a href="http://hookr.io/plugins/yoast-seo/4.5/all/" title="All">All <span class="count badge">551</span></a></li><li class="" data-id="new" data-count="31"><a href="http://hookr.io/plugins/yoast-seo/4.5/new/" title="New">New <span class="count badge">31</span></a></li><li class="" data-id="hooks" data-count="187"><a href="http://hookr.io/plugins/yoast-seo/4.5/hooks/" title="Hooks">Hooks <span class="count badge">187</span></a></li><li class="" data-id="action" data-count="44"><a href="http://hookr.io/plugins/yoast-seo/4.5/actions/" title="Actions">Actions <span class="count badge">44</span></a></li><li class="" data-id="filter" data-count="143"><a href="http://hookr.io/plugins/yoast-seo/4.5/filters/" title="Filters">Filters <span class="count badge">143</span></a></li><li class="active" data-id="class" data-count="249"><a href="http://hookr.io/plugins/yoast-seo/4.5/classes/" title="Classes">Classes <span class="count badge">249</span></a></li><li class="" data-id="constant" data-count="10"><a href="http://hookr.io/plugins/yoast-seo/4.5/constants/" title="Constants">Constants <span class="count badge">10</span></a></li><li class="" data-id="function" data-count="103"><a href="http://hookr.io/plugins/yoast-seo/4.5/functions/" title="Functions">Functions <span class="count badge">103</span></a></li><li class="" data-id="shortcode" data-count="2"><a href="http://hookr.io/plugins/yoast-seo/4.5/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">2</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>WPSEO_OpenGraph</strong></h1><p>This code adds the OpenGraph output.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/yoast-seo/4.5/files/frontend-class-opengraph/" class="file">/frontend/class-opengraph.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="9" class="block" start="9"><li><div>class WPSEO_OpenGraph {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var array $options Options for the OpenGraph Settings&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public $options = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Class constructor.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct() {&nbsp;</div></li><li><div>        $this-&gt;options = WPSEO_Options::get_option( 'wpseo_social' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $GLOBALS['fb_ver'] ) || class_exists( 'Facebook_Loader', false ) ) {&nbsp;</div></li><li><div>            add_filter( 'fb_meta_tags', array( $this, 'facebook_filter' ), 10, 1 );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            add_filter( 'language_attributes', array( $this, 'add_opengraph_namespace' ), 15 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'locale' ), 1 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'type' ), 5 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'og_title' ), 10 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'site_owner' ), 20 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'description' ), 11 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'url' ), 12 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'site_name' ), 13 );&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'website_facebook' ), 14 );&nbsp;</div></li><li><div>            if ( is_singular() && ! is_front_page() ) {&nbsp;</div></li><li><div>                add_action( 'wpseo_opengraph', array( $this, 'article_author_facebook' ), 15 );&nbsp;</div></li><li><div>                add_action( 'wpseo_opengraph', array( $this, 'tags' ), 16 );&nbsp;</div></li><li><div>                add_action( 'wpseo_opengraph', array( $this, 'category' ), 17 );&nbsp;</div></li><li><div>                add_action( 'wpseo_opengraph', array( $this, 'publish_date' ), 19 );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            add_action( 'wpseo_opengraph', array( $this, 'image' ), 30 );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        add_filter( 'jetpack_enable_open_graph', '__return_false' );&nbsp;</div></li><li><div>        add_action( 'wpseo_head', array( $this, 'opengraph' ), 30 );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Main OpenGraph output.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function opengraph() {&nbsp;</div></li><li><div>        wp_reset_query();&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Action: 'wpseo_opengraph' - Hook to add all Facebook OpenGraph output to so they're close together.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        do_action( 'wpseo_opengraph' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Internal function to output FB tags. This also adds an output filter to each bit of output based on the property.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $property Property attribute value.&nbsp;</div></li><li><div>     * @param string $content  Content attribute value.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function og_tag( $property, $content ) {&nbsp;</div></li><li><div>        $og_property = str_replace( ':', '_', $property );&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_og_' . $og_property - Allow developers to change the content of specific OG meta tags.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $content The content of the property&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $content = apply_filters( 'wpseo_og_' . $og_property, $content );&nbsp;</div></li><li><div>        if ( empty( $content ) ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        echo '&lt;meta property=&quot;', esc_attr( $property ), '&quot; content=&quot;', esc_attr( $content ), '&quot; /&gt;', &quot;\n&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Filter the Facebook plugins metadata&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param array $meta_tags the array to fix.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return array $meta_tags&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function facebook_filter( $meta_tags ) {&nbsp;</div></li><li><div>        $meta_tags['http://ogp.me/ns#type'] = $this-&gt;type( false );&nbsp;</div></li><li><div>        $meta_tags['http://ogp.me/ns#title'] = $this-&gt;og_title( false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Filter the locale too because the Facebook plugin locale code is not as good as ours.&nbsp;</div></li><li><div>        $meta_tags['http://ogp.me/ns#locale'] = $this-&gt;locale( false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $ogdesc = $this-&gt;description( false );&nbsp;</div></li><li><div>        if ( ! empty( $ogdesc ) ) {&nbsp;</div></li><li><div>            $meta_tags['http://ogp.me/ns#description'] = $ogdesc;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $meta_tags;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Filter for the namespace, adding the OpenGraph namespace.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/web/tutorials/scrumptious/open-graph-object/&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $input The input namespace string.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_opengraph_namespace( $input ) {&nbsp;</div></li><li><div>        $namespaces = array(&nbsp;</div></li><li><div>            'og: http://ogp.me/ns#', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        if ( $this-&gt;options['fbadminapp'] != 0 || ( is_array( $this-&gt;options['fb_admins'] ) && $this-&gt;options['fb_admins'] !== array() ) ) {&nbsp;</div></li><li><div>            $namespaces[] = 'fb: http://ogp.me/ns/fb#';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Allow for adding additional namespaces to the &lt;html&gt; prefix attributes.&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @since 3.9.0&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @param array $namespaces Currently registered namespaces which are to be&nbsp;</div></li><li><div>         *                          added to the prefix attribute.&nbsp;</div></li><li><div>         *                          Namespaces are strings and have the following syntax:&nbsp;</div></li><li><div>         *                          ns: http://url.to.namespace/definition&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $namespaces = apply_filters( 'wpseo_html_namespaces', $namespaces );&nbsp;</div></li><li><div>        $namespace_string = implode( ' ', array_unique( $namespaces ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( strpos( $input, ' prefix=' ) !== false ) {&nbsp;</div></li><li><div>            $regex = '`prefix=([\'&quot;])(.+?)\1`';&nbsp;</div></li><li><div>            $replace = 'prefix=&quot;$2 ' . $namespace_string . '&quot;';&nbsp;</div></li><li><div>            $input = preg_replace( $regex, $replace, $input );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $input .= ' prefix=&quot;' . $namespace_string . '&quot;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $input;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Outputs the authors FB page.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/blog/post/2013/06/19/platform-updates--new-open-graph-tags-for-media-publishers-and-more/&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function article_author_facebook() {&nbsp;</div></li><li><div>        if ( ! is_singular() ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_opengraph_author_facebook' - Allow developers to filter the Yoast SEO post authors facebook profile URL&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api bool|string $unsigned The Facebook author URL, return false to disable&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $facebook = apply_filters( 'wpseo_opengraph_author_facebook', get_the_author_meta( 'facebook', $GLOBALS['post']-&gt;post_author ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $facebook && ( is_string( $facebook ) && $facebook !== '' ) ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'article:author', $facebook );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Outputs the websites FB page.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/blog/post/2013/06/19/platform-updates--new-open-graph-tags-for-media-publishers-and-more/&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     * @return boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function website_facebook() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( 'article' === $this-&gt;type( false ) && ! empty( $this-&gt;options['facebook_site'] ) ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'article:publisher', $this-&gt;options['facebook_site'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Outputs the site owner&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     * @return boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function site_owner() {&nbsp;</div></li><li><div>        if ( isset( $this-&gt;options['fbadminapp'] ) && $this-&gt;options['fbadminapp'] != 0 ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'fb:app_id', $this-&gt;options['fbadminapp'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else if ( isset( $this-&gt;options['fb_admins'] ) && is_array( $this-&gt;options['fb_admins'] ) && $this-&gt;options['fb_admins'] !== array() ) {&nbsp;</div></li><li><div>            $adminstr = implode( ', ', array_keys( $this-&gt;options['fb_admins'] ) );&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * Filter: 'wpseo_opengraph_admin' - Allow developer to filter the fb:admins string put out by Yoast SEO&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @api string $adminstr The admin string&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            $adminstr = apply_filters( 'wpseo_opengraph_admin', $adminstr );&nbsp;</div></li><li><div>            if ( is_string( $adminstr ) && $adminstr !== '' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $admins = explode( ', ', $adminstr );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                foreach ( $admins as $admin_id ) {&nbsp;</div></li><li><div>                    $this-&gt;og_tag( 'fb:admins', $admin_id );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Outputs the SEO title as OpenGraph title.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param bool $echo Whether or not to echo the output.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string|boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function og_title( $echo = true ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $frontend = WPSEO_Frontend::get_instance();&nbsp;</div></li><li><div>        $is_posts_page = $frontend-&gt;is_posts_page();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_singular() || $is_posts_page ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $post_id = ( $is_posts_page ) ? get_option( 'page_for_posts' ) : get_the_ID();&nbsp;</div></li><li><div>            $post = get_post( $post_id );&nbsp;</div></li><li><div>            $title = WPSEO_Meta::get_value( 'opengraph-title', $post_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $title === '' ) {&nbsp;</div></li><li><div>                $title = $frontend-&gt;title( '' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                // Replace Yoast SEO Variables.&nbsp;</div></li><li><div>                $title = wpseo_replace_vars( $title, $post );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else if ( is_front_page() ) {&nbsp;</div></li><li><div>            $title = ( isset( $this-&gt;options['og_frontpage_title'] ) && $this-&gt;options['og_frontpage_title'] !== '' ) ? $this-&gt;options['og_frontpage_title'] : $frontend-&gt;title( '' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_category() || is_tax() || is_tag() ) {&nbsp;</div></li><li><div>            $title = WPSEO_Taxonomy_Meta::get_meta_without_term( 'opengraph-title' );&nbsp;</div></li><li><div>            if ( $title === '' ) {&nbsp;</div></li><li><div>                $title = $frontend-&gt;title( '' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                // Replace Yoast SEO Variables.&nbsp;</div></li><li><div>                $title = wpseo_replace_vars( $title, $GLOBALS['wp_query']-&gt;get_queried_object() );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            $title = $frontend-&gt;title( '' );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_opengraph_title' - Allow changing the title specifically for OpenGraph&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $unsigned The title string&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $title = trim( apply_filters( 'wpseo_opengraph_title', $title ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_string( $title ) && $title !== '' ) {&nbsp;</div></li><li><div>            if ( $echo !== false ) {&nbsp;</div></li><li><div>                $this-&gt;og_tag( 'og:title', $title );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                return true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $echo === false ) {&nbsp;</div></li><li><div>            return $title;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Outputs the canonical URL as OpenGraph URL, which consolidates likes and shares.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     * @return boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function url() {&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_opengraph_url' - Allow changing the OpenGraph URL&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $unsigned Canonical URL&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $url = apply_filters( 'wpseo_opengraph_url', WPSEO_Frontend::get_instance()-&gt;canonical( false ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_string( $url ) && $url !== '' ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:url', esc_url( $url ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the locale, doing some conversions to make sure the proper Facebook locale is outputted.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Last update/compare with FB list done on 2015-03-16 by Rarst&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see  http://www.facebook.com/translations/FacebookLocales.xml for the list of supported locales&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param bool $echo Whether to echo or return the locale.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string $locale&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function locale( $echo = true ) {&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_locale' - Allow changing the locale output&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $unsigned Locale string&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $locale = apply_filters( 'wpseo_locale', get_locale() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Catch some weird locales served out by WP that are not easily doubled up.&nbsp;</div></li><li><div>        $fix_locales = array(&nbsp;</div></li><li><div>            'ca' =&gt; 'ca_ES', &nbsp;</div></li><li><div>            'en' =&gt; 'en_US', &nbsp;</div></li><li><div>            'el' =&gt; 'el_GR', &nbsp;</div></li><li><div>            'et' =&gt; 'et_EE', &nbsp;</div></li><li><div>            'ja' =&gt; 'ja_JP', &nbsp;</div></li><li><div>            'sq' =&gt; 'sq_AL', &nbsp;</div></li><li><div>            'uk' =&gt; 'uk_UA', &nbsp;</div></li><li><div>            'vi' =&gt; 'vi_VN', &nbsp;</div></li><li><div>            'zh' =&gt; 'zh_CN', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $fix_locales[ $locale ] ) ) {&nbsp;</div></li><li><div>            $locale = $fix_locales[ $locale ];&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Convert locales like &quot;es&quot; to &quot;es_ES&quot;, in case that works for the given locale (sometimes it does).&nbsp;</div></li><li><div>        if ( strlen( $locale ) == 2 ) {&nbsp;</div></li><li><div>            $locale = strtolower( $locale ) . '_' . strtoupper( $locale );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // These are the locales FB supports.&nbsp;</div></li><li><div>        $fb_valid_fb_locales = array(&nbsp;</div></li><li><div>            'af_ZA', // Afrikaans.&nbsp;</div></li><li><div>            'ak_GH', // Akan.&nbsp;</div></li><li><div>            'am_ET', // Amharic.&nbsp;</div></li><li><div>            'ar_AR', // Arabic.&nbsp;</div></li><li><div>            'as_IN', // Assamese.&nbsp;</div></li><li><div>            'ay_BO', // Aymara.&nbsp;</div></li><li><div>            'az_AZ', // Azerbaijani.&nbsp;</div></li><li><div>            'be_BY', // Belarusian.&nbsp;</div></li><li><div>            'bg_BG', // Bulgarian.&nbsp;</div></li><li><div>            'bn_IN', // Bengali.&nbsp;</div></li><li><div>            'br_FR', // Breton.&nbsp;</div></li><li><div>            'bs_BA', // Bosnian.&nbsp;</div></li><li><div>            'ca_ES', // Catalan.&nbsp;</div></li><li><div>            'cb_IQ', // Sorani Kurdish.&nbsp;</div></li><li><div>            'ck_US', // Cherokee.&nbsp;</div></li><li><div>            'co_FR', // Corsican.&nbsp;</div></li><li><div>            'cs_CZ', // Czech.&nbsp;</div></li><li><div>            'cx_PH', // Cebuano.&nbsp;</div></li><li><div>            'cy_GB', // Welsh.&nbsp;</div></li><li><div>            'da_DK', // Danish.&nbsp;</div></li><li><div>            'de_DE', // German.&nbsp;</div></li><li><div>            'el_GR', // Greek.&nbsp;</div></li><li><div>            'en_GB', // English (UK).&nbsp;</div></li><li><div>            'en_IN', // English (India).&nbsp;</div></li><li><div>            'en_PI', // English (Pirate).&nbsp;</div></li><li><div>            'en_UD', // English (Upside Down).&nbsp;</div></li><li><div>            'en_US', // English (US).&nbsp;</div></li><li><div>            'eo_EO', // Esperanto.&nbsp;</div></li><li><div>            'es_CL', // Spanish (Chile).&nbsp;</div></li><li><div>            'es_CO', // Spanish (Colombia).&nbsp;</div></li><li><div>            'es_ES', // Spanish (Spain).&nbsp;</div></li><li><div>            'es_LA', // Spanish.&nbsp;</div></li><li><div>            'es_MX', // Spanish (Mexico).&nbsp;</div></li><li><div>            'es_VE', // Spanish (Venezuela).&nbsp;</div></li><li><div>            'et_EE', // Estonian.&nbsp;</div></li><li><div>            'eu_ES', // Basque.&nbsp;</div></li><li><div>            'fa_IR', // Persian.&nbsp;</div></li><li><div>            'fb_LT', // Leet Speak.&nbsp;</div></li><li><div>            'ff_NG', // Fulah.&nbsp;</div></li><li><div>            'fi_FI', // Finnish.&nbsp;</div></li><li><div>            'fo_FO', // Faroese.&nbsp;</div></li><li><div>            'fr_CA', // French (Canada).&nbsp;</div></li><li><div>            'fr_FR', // French (France).&nbsp;</div></li><li><div>            'fy_NL', // Frisian.&nbsp;</div></li><li><div>            'ga_IE', // Irish.&nbsp;</div></li><li><div>            'gl_ES', // Galician.&nbsp;</div></li><li><div>            'gn_PY', // Guarani.&nbsp;</div></li><li><div>            'gu_IN', // Gujarati.&nbsp;</div></li><li><div>            'gx_GR', // Classical Greek.&nbsp;</div></li><li><div>            'ha_NG', // Hausa.&nbsp;</div></li><li><div>            'he_IL', // Hebrew.&nbsp;</div></li><li><div>            'hi_IN', // Hindi.&nbsp;</div></li><li><div>            'hr_HR', // Croatian.&nbsp;</div></li><li><div>            'hu_HU', // Hungarian.&nbsp;</div></li><li><div>            'hy_AM', // Armenian.&nbsp;</div></li><li><div>            'id_ID', // Indonesian.&nbsp;</div></li><li><div>            'ig_NG', // Igbo.&nbsp;</div></li><li><div>            'is_IS', // Icelandic.&nbsp;</div></li><li><div>            'it_IT', // Italian.&nbsp;</div></li><li><div>            'ja_JP', // Japanese.&nbsp;</div></li><li><div>            'ja_KS', // Japanese (Kansai).&nbsp;</div></li><li><div>            'jv_ID', // Javanese.&nbsp;</div></li><li><div>            'ka_GE', // Georgian.&nbsp;</div></li><li><div>            'kk_KZ', // Kazakh.&nbsp;</div></li><li><div>            'km_KH', // Khmer.&nbsp;</div></li><li><div>            'kn_IN', // Kannada.&nbsp;</div></li><li><div>            'ko_KR', // Korean.&nbsp;</div></li><li><div>            'ku_TR', // Kurdish (Kurmanji).&nbsp;</div></li><li><div>            'ky_KG', // Kyrgyz.&nbsp;</div></li><li><div>            'la_VA', // Latin.&nbsp;</div></li><li><div>            'lg_UG', // Ganda.&nbsp;</div></li><li><div>            'li_NL', // Limburgish.&nbsp;</div></li><li><div>            'ln_CD', // Lingala.&nbsp;</div></li><li><div>            'lo_LA', // Lao.&nbsp;</div></li><li><div>            'lt_LT', // Lithuanian.&nbsp;</div></li><li><div>            'lv_LV', // Latvian.&nbsp;</div></li><li><div>            'mg_MG', // Malagasy.&nbsp;</div></li><li><div>            'mi_NZ', // Maori.&nbsp;</div></li><li><div>            'mk_MK', // Macedonian.&nbsp;</div></li><li><div>            'ml_IN', // Malayalam.&nbsp;</div></li><li><div>            'mn_MN', // Mongolian.&nbsp;</div></li><li><div>            'mr_IN', // Marathi.&nbsp;</div></li><li><div>            'ms_MY', // Malay.&nbsp;</div></li><li><div>            'mt_MT', // Maltese.&nbsp;</div></li><li><div>            'my_MM', // Burmese.&nbsp;</div></li><li><div>            'nb_NO', // Norwegian (bokmal).&nbsp;</div></li><li><div>            'nd_ZW', // Ndebele.&nbsp;</div></li><li><div>            'ne_NP', // Nepali.&nbsp;</div></li><li><div>            'nl_BE', // Dutch (Belgie).&nbsp;</div></li><li><div>            'nl_NL', // Dutch.&nbsp;</div></li><li><div>            'nn_NO', // Norwegian (nynorsk).&nbsp;</div></li><li><div>            'ny_MW', // Chewa.&nbsp;</div></li><li><div>            'or_IN', // Oriya.&nbsp;</div></li><li><div>            'pa_IN', // Punjabi.&nbsp;</div></li><li><div>            'pl_PL', // Polish.&nbsp;</div></li><li><div>            'ps_AF', // Pashto.&nbsp;</div></li><li><div>            'pt_BR', // Portuguese (Brazil).&nbsp;</div></li><li><div>            'pt_PT', // Portuguese (Portugal).&nbsp;</div></li><li><div>            'qu_PE', // Quechua.&nbsp;</div></li><li><div>            'rm_CH', // Romansh.&nbsp;</div></li><li><div>            'ro_RO', // Romanian.&nbsp;</div></li><li><div>            'ru_RU', // Russian.&nbsp;</div></li><li><div>            'rw_RW', // Kinyarwanda.&nbsp;</div></li><li><div>            'sa_IN', // Sanskrit.&nbsp;</div></li><li><div>            'sc_IT', // Sardinian.&nbsp;</div></li><li><div>            'se_NO', // Northern Sami.&nbsp;</div></li><li><div>            'si_LK', // Sinhala.&nbsp;</div></li><li><div>            'sk_SK', // Slovak.&nbsp;</div></li><li><div>            'sl_SI', // Slovenian.&nbsp;</div></li><li><div>            'sn_ZW', // Shona.&nbsp;</div></li><li><div>            'so_SO', // Somali.&nbsp;</div></li><li><div>            'sq_AL', // Albanian.&nbsp;</div></li><li><div>            'sr_RS', // Serbian.&nbsp;</div></li><li><div>            'sv_SE', // Swedish.&nbsp;</div></li><li><div>            'sw_KE', // Swahili.&nbsp;</div></li><li><div>            'sy_SY', // Syriac.&nbsp;</div></li><li><div>            'sz_PL', // Silesian.&nbsp;</div></li><li><div>            'ta_IN', // Tamil.&nbsp;</div></li><li><div>            'te_IN', // Telugu.&nbsp;</div></li><li><div>            'tg_TJ', // Tajik.&nbsp;</div></li><li><div>            'th_TH', // Thai.&nbsp;</div></li><li><div>            'tk_TM', // Turkmen.&nbsp;</div></li><li><div>            'tl_PH', // Filipino.&nbsp;</div></li><li><div>            'tl_ST', // Klingon.&nbsp;</div></li><li><div>            'tr_TR', // Turkish.&nbsp;</div></li><li><div>            'tt_RU', // Tatar.&nbsp;</div></li><li><div>            'tz_MA', // Tamazight.&nbsp;</div></li><li><div>            'uk_UA', // Ukrainian.&nbsp;</div></li><li><div>            'ur_PK', // Urdu.&nbsp;</div></li><li><div>            'uz_UZ', // Uzbek.&nbsp;</div></li><li><div>            'vi_VN', // Vietnamese.&nbsp;</div></li><li><div>            'wo_SN', // Wolof.&nbsp;</div></li><li><div>            'xh_ZA', // Xhosa.&nbsp;</div></li><li><div>            'yi_DE', // Yiddish.&nbsp;</div></li><li><div>            'yo_NG', // Yoruba.&nbsp;</div></li><li><div>            'zh_CN', // Simplified Chinese (China).&nbsp;</div></li><li><div>            'zh_HK', // Traditional Chinese (Hong Kong).&nbsp;</div></li><li><div>            'zh_TW', // Traditional Chinese (Taiwan).&nbsp;</div></li><li><div>            'zu_ZA', // Zulu.&nbsp;</div></li><li><div>            'zz_TR', // Zazaki.&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Check to see if the locale is a valid FB one, if not, use en_US as a fallback.&nbsp;</div></li><li><div>        if ( ! in_array( $locale, $fb_valid_fb_locales ) ) {&nbsp;</div></li><li><div>            $locale = strtolower( substr( $locale, 0, 2 ) ) . '_' . strtoupper( substr( $locale, 0, 2 ) );&nbsp;</div></li><li><div>            if ( ! in_array( $locale, $fb_valid_fb_locales ) ) {&nbsp;</div></li><li><div>                $locale = 'en_US';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $echo !== false ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:locale', $locale );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $locale;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the OpenGraph type.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param boolean $echo Whether to echo or return the type.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/object/&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string $type&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function type( $echo = true ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_front_page() || is_home() ) {&nbsp;</div></li><li><div>            $type = 'website';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        elseif ( is_singular() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // This'll usually only be changed by plugins right now.&nbsp;</div></li><li><div>            $type = WPSEO_Meta::get_value( 'og_type' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $type === '' ) {&nbsp;</div></li><li><div>                $type = 'article';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>            // We use &quot;object&quot; for archives etc. as article doesn't apply there.&nbsp;</div></li><li><div>            $type = 'object';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_opengraph_type' - Allow changing the OpenGraph type of the page&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $type The OpenGraph type string.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $type = apply_filters( 'wpseo_opengraph_type', $type );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_string( $type ) && $type !== '' ) {&nbsp;</div></li><li><div>            if ( $echo !== false ) {&nbsp;</div></li><li><div>                $this-&gt;og_tag( 'og:type', $type );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                return $type;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return '';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Create new WPSEO_OpenGraph_Image class and get the images to set the og:image&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string|boolean $image Optional image URL.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function image( $image = false ) {&nbsp;</div></li><li><div>        $opengraph_images = new WPSEO_OpenGraph_Image( $this-&gt;options, $image );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $opengraph_images-&gt;get_images() as $img ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:image', esc_url( $img ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $dimensions = $opengraph_images-&gt;get_dimensions();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $dimensions['width'] ) ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:image:width', absint( $dimensions['width'] ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! empty( $dimensions['height'] ) ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:image:height', absint( $dimensions['height'] ) );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Fallback method for plugins using image_output&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $image Image URL.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function image_output( $image ) {&nbsp;</div></li><li><div>        $this-&gt;image( $image );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the OpenGraph description, specific OG description first, if not, grab the meta description.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param bool $echo Whether to echo or return the description.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @return string $ogdesc&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function description( $echo = true ) {&nbsp;</div></li><li><div>        $ogdesc = '';&nbsp;</div></li><li><div>        $frontend = WPSEO_Frontend::get_instance();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_front_page() ) {&nbsp;</div></li><li><div>            if ( isset( $this-&gt;options['og_frontpage_desc'] ) && $this-&gt;options['og_frontpage_desc'] !== '' ) {&nbsp;</div></li><li><div>                $ogdesc = wpseo_replace_vars( $this-&gt;options['og_frontpage_desc'], null );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                $ogdesc = $frontend-&gt;metadesc( false );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $is_posts_page = $frontend-&gt;is_posts_page();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_singular() || $is_posts_page ) {&nbsp;</div></li><li><div>            $post_id = ( $is_posts_page ) ? get_option( 'page_for_posts' ) : get_the_ID();&nbsp;</div></li><li><div>            $post = get_post( $post_id );&nbsp;</div></li><li><div>            $ogdesc = WPSEO_Meta::get_value( 'opengraph-description', $post_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Replace Yoast SEO Variables.&nbsp;</div></li><li><div>            $ogdesc = wpseo_replace_vars( $ogdesc, $post );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Use metadesc if $ogdesc is empty.&nbsp;</div></li><li><div>            if ( $ogdesc === '' ) {&nbsp;</div></li><li><div>                $ogdesc = $frontend-&gt;metadesc( false );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Tag og:description is still blank so grab it from get_the_excerpt().&nbsp;</div></li><li><div>            if ( ! is_string( $ogdesc ) || ( is_string( $ogdesc ) && $ogdesc === '' ) ) {&nbsp;</div></li><li><div>                $ogdesc = str_replace( '[&hellip;]', '&hellip;', strip_tags( get_the_excerpt() ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_category() || is_tag() || is_tax() ) {&nbsp;</div></li><li><div>            $ogdesc = WPSEO_Taxonomy_Meta::get_meta_without_term( 'opengraph-description' );&nbsp;</div></li><li><div>            if ( $ogdesc === '' ) {&nbsp;</div></li><li><div>                $ogdesc = $frontend-&gt;metadesc( false );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $ogdesc === '' ) {&nbsp;</div></li><li><div>                $ogdesc = trim( strip_tags( term_description() ) );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ( $ogdesc === '' ) {&nbsp;</div></li><li><div>                $ogdesc = WPSEO_Taxonomy_Meta::get_meta_without_term( 'desc' );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Strip shortcodes if any.&nbsp;</div></li><li><div>        $ogdesc = strip_shortcodes( $ogdesc );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_opengraph_desc' - Allow changing the OpenGraph description&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $ogdesc The description string.&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $ogdesc = trim( apply_filters( 'wpseo_opengraph_desc', $ogdesc ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( is_string( $ogdesc ) && $ogdesc !== '' ) {&nbsp;</div></li><li><div>            if ( $echo !== false ) {&nbsp;</div></li><li><div>                $this-&gt;og_tag( 'og:description', $ogdesc );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $ogdesc;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the site name straight from the blog info.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function site_name() {&nbsp;</div></li><li><div>        /**&nbsp;</div></li><li><div>         * Filter: 'wpseo_opengraph_site_name' - Allow changing the OpenGraph site name&nbsp;</div></li><li><div>         *&nbsp;</div></li><li><div>         * @api string $unsigned Blog name string&nbsp;</div></li><li><div>         */&nbsp;</div></li><li><div>        $name = apply_filters( 'wpseo_opengraph_site_name', get_bloginfo( 'name' ) );&nbsp;</div></li><li><div>        if ( is_string( $name ) && $name !== '' ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:site_name', $name );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the article tags as article:tag tags.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     * @return boolean&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function tags() {&nbsp;</div></li><li><div>        if ( ! is_singular() ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $tags = get_the_tags();&nbsp;</div></li><li><div>        if ( ! is_wp_error( $tags ) && ( is_array( $tags ) && $tags !== array() ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            foreach ( $tags as $tag ) {&nbsp;</div></li><li><div>                $this-&gt;og_tag( 'article:tag', $tag-&gt;name );&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the article category as an article:section tag.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     * @return boolean;&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function category() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! is_singular() ) {&nbsp;</div></li><li><div>            return false;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $terms = get_the_category();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! is_wp_error( $terms ) && ( is_array( $terms ) && $terms !== array() ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // We can only show one section here, so we take the first one.&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'article:section', $terms[0]-&gt;name );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Output the article publish and last modification date&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link https://developers.facebook.com/docs/reference/opengraph/object-type/article/&nbsp;</div></li><li><div>     * @return boolean;&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function publish_date() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! is_singular( 'post' ) ) {&nbsp;</div></li><li><div>            /**&nbsp;</div></li><li><div>             * Filter: 'wpseo_opengraph_show_publish_date' - Allow showing publication date for other post types&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @api bool $unsigned Whether or not to show publish date&nbsp;</div></li><li><div>             *&nbsp;</div></li><li><div>             * @param string $post_type The current URL's post type.&nbsp;</div></li><li><div>             */&nbsp;</div></li><li><div>            if ( false === apply_filters( 'wpseo_opengraph_show_publish_date', false, get_post_type() ) ) {&nbsp;</div></li><li><div>                return false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $pub = get_the_date( DATE_W3C );&nbsp;</div></li><li><div>        $this-&gt;og_tag( 'article:published_time', $pub );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $mod = get_the_modified_date( DATE_W3C );&nbsp;</div></li><li><div>        if ( $mod != $pub ) {&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'article:modified_time', $mod );&nbsp;</div></li><li><div>            $this-&gt;og_tag( 'og:updated_time', $mod );&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>} /** End of class */&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 4.4</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/yoast-seo/4.7.1/classes/wpseo_open_graph/" class="">4.7.1</a></li><li><a href="http://hookr.io/plugins/yoast-seo/4.7/classes/wpseo_open_graph/" class="">4.7</a></li><li><a href="http://hookr.io/plugins/yoast-seo/4.6/classes/wpseo_open_graph/" class="">4.6</a></li><li><a href="http://hookr.io/plugins/yoast-seo/4.5/classes/wpseo_open_graph/" class="active">4.5</a></li><li><a href="http://hookr.io/plugins/yoast-seo/4.4/classes/wpseo_open_graph/" class="">4.4</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>WPSEO_OpenGraph</li><li><span></span>Yoast SEO</li><li><span></span>4.7.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>