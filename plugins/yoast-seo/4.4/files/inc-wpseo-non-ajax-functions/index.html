<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="4.4" data-slug="yoast-seo" data-type="file" data-id="14478"><head xmlns="http://www.w3.org/1999/xhtml"><title> inc-wpseo-non-ajax-functions | file | Yoast Seo | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, yoast-seo, 4.4" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=1a9d6d27ea444f382f862a208fe23987' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/inc-wpseo-non-ajax-functions/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Finc-wpseo-non-ajax-functions%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Finc-wpseo-non-ajax-functions%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-yoast-seo-4.4-file-inc-wpseo-non-ajax-functions","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="inc-wpseo-non-ajax-functions" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to yoast-seo." href="http://hookr.io/plugins/yoast-seo/" class="plugin"><span property="name">yoast-seo</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.4." href="http://hookr.io/plugins/yoast-seo/4.4/" class="H_VERSION"><span property="name">4.4</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/yoast-seo/4.4/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">inc-wpseo-non-ajax-functions</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="520"><a href="http://hookr.io/plugins/yoast-seo/4.4/all/" title="All">All <span class="count badge">520</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/yoast-seo/4.4/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="182"><a href="http://hookr.io/plugins/yoast-seo/4.4/hooks/" title="Hooks">Hooks <span class="count badge">182</span></a></li><li class="" data-id="action" data-count="44"><a href="http://hookr.io/plugins/yoast-seo/4.4/actions/" title="Actions">Actions <span class="count badge">44</span></a></li><li class="" data-id="filter" data-count="138"><a href="http://hookr.io/plugins/yoast-seo/4.4/filters/" title="Filters">Filters <span class="count badge">138</span></a></li><li class="" data-id="class" data-count="227"><a href="http://hookr.io/plugins/yoast-seo/4.4/classes/" title="Classes">Classes <span class="count badge">227</span></a></li><li class="" data-id="constant" data-count="10"><a href="http://hookr.io/plugins/yoast-seo/4.4/constants/" title="Constants">Constants <span class="count badge">10</span></a></li><li class="" data-id="function" data-count="99"><a href="http://hookr.io/plugins/yoast-seo/4.4/functions/" title="Functions">Functions <span class="count badge">99</span></a></li><li class="" data-id="shortcode" data-count="2"><a href="http://hookr.io/plugins/yoast-seo/4.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">2</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/inc/wpseo-non-ajax-functions.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * @package WPSEO\Internals</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! defined( 'WPSEO_VERSION' ) ) {&nbsp;</div></li><li><div>  header( 'Status: 403 Forbidden' );&nbsp;</div></li><li><div>  header( 'HTTP/1.1 403 Forbidden' );&nbsp;</div></li><li><div>  exit();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Adds an SEO admin bar menu with several options. If the current user is an admin he can also go straight to several settings menu's from here.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_admin_bar_menu() {&nbsp;</div></li><li><div>  <span class="comment">// If the current user can't write posts, this is all of no use, so let's not output an admin menu.</span>&nbsp;</div></li><li><div>  if ( ! current_user_can( 'edit_posts' ) ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $options = WPSEO_Options::get_options( array( 'wpseo', 'wpseo_ms' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $options['enable_admin_bar_menu'] !== true ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  global $wp_admin_bar, $post;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Determine is user is admin or network admin.</span>&nbsp;</div></li><li><div>  $user_is_admin_or_networkadmin = current_user_can( 'manage_options' );&nbsp;</div></li><li><div>  if ( ! $user_is_admin_or_networkadmin && is_multisite() ) {&nbsp;</div></li><li><div>      $user_is_admin_or_networkadmin = ( $options['access'] === 'superadmin' && is_super_admin() );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $focuskw = '';&nbsp;</div></li><li><div>  $score = '';&nbsp;</div></li><li><div>  <span class="comment">// By default, the top level menu item has no link.</span>&nbsp;</div></li><li><div>  $seo_url = '';&nbsp;</div></li><li><div>  <span class="comment">// By default, make the no-link top level menu item focusable.</span>&nbsp;</div></li><li><div>  $top_level_link_tabindex = '0';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $analysis_seo = new WPSEO_Metabox_Analysis_SEO();&nbsp;</div></li><li><div>  $analysis_readability = new WPSEO_Metabox_Analysis_Readability();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ( is_singular() || ( is_admin() && WPSEO_Metabox::is_post_edit( $GLOBALS['pagenow'] ) ) ) && isset( $post ) && is_object( $post ) && apply_filters( 'wpseo_use_page_analysis', true ) === true&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>      $focuskw = WPSEO_Meta::get_value( 'focuskw', $post-&gt;ID );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $analysis_seo-&gt;is_enabled() ) {&nbsp;</div></li><li><div>          $score = wpseo_adminbar_seo_score();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      elseif ( $analysis_readability-&gt;is_enabled() ) {&nbsp;</div></li><li><div>          $score = wpseo_adminbar_content_score();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_category() || is_tag() || (WPSEO_Taxonomy::is_term_edit( $GLOBALS['pagenow'] ) && ! WPSEO_Taxonomy::is_term_overview( $GLOBALS['pagenow'] ) )  || is_tax() ) {&nbsp;</div></li><li><div>      if ( $analysis_seo-&gt;is_enabled() ) {&nbsp;</div></li><li><div>          $score = wpseo_tax_adminbar_seo_score();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      elseif ( $analysis_readability-&gt;is_enabled() ) {&nbsp;</div></li><li><div>          $score = wpseo_tax_adminbar_content_score();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Never display notifications for network admin.</span>&nbsp;</div></li><li><div>  $counter = $alert_popup = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Set the top level menu item content for admins and network admins.</span>&nbsp;</div></li><li><div>  if ( $user_is_admin_or_networkadmin ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Link the top level menu item to the Yoast Dashboard page.</span>&nbsp;</div></li><li><div>      $seo_url = get_admin_url( null, 'admin.php?page=' . WPSEO_Admin::PAGE_IDENTIFIER );&nbsp;</div></li><li><div>      <span class="comment">// Since admins will get a real link, there's no need for a tabindex attribute.</span>&nbsp;</div></li><li><div>      $top_level_link_tabindex = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( '' === $score ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Notification information.</span>&nbsp;</div></li><li><div>          $notification_center = Yoast_Notification_Center::get();&nbsp;</div></li><li><div>          $notification_count = $notification_center-&gt;get_notification_count();&nbsp;</div></li><li><div>          $new_notifications = $notification_center-&gt;get_new_notifications();&nbsp;</div></li><li><div>          $new_notifications_count = count( $new_notifications );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $notification_count &gt; 0 ) {&nbsp;</div></li><li><div>              <span class="comment">// Always show Alerts page when clicking on the main link.</span>&nbsp;</div></li><li><div>              <span class="comment">/** translators: %s: number of notifications */</span>&nbsp;</div></li><li><div>              $counter_screen_reader_text = sprintf( _n( '%s notification', '%s notifications', $notification_count, 'wordpress-seo' ), number_format_i18n( $notification_count ) );&nbsp;</div></li><li><div>              $counter = sprintf( ' &lt;div class=&quot;wp-core-ui wp-ui-notification yoast-issue-counter&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;screen-reader-text&quot;&gt;%s&lt;/span&gt;&lt;/div&gt;', $notification_count, $counter_screen_reader_text );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if ( $new_notifications_count ) {&nbsp;</div></li><li><div>              if ( $new_notifications_count === 1 ) {&nbsp;</div></li><li><div>                  $notification = sprintf(&nbsp;</div></li><li><div>                      __( 'You have a new issue concerning your SEO!', 'wordpress-seo' ), &nbsp;</div></li><li><div>                      $new_notifications_count&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              else {&nbsp;</div></li><li><div>                  $notification = sprintf(&nbsp;</div></li><li><div>                      <span class="comment">/** translators: %d resolves to the number of alerts being added. */</span>&nbsp;</div></li><li><div>                      _n( 'You have %d new issue concerning your SEO!', 'You have %d new issues concerning your SEO!', $new_notifications_count, 'wordpress-seo' ), &nbsp;</div></li><li><div>                      $new_notifications_count&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>              $alert_popup = '&lt;div class=&quot;yoast-issue-added&quot;&gt;' . $notification . '&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $title = '&lt;div id=&quot;yoast-ab-icon&quot; class=&quot;ab-item yoast-logo svg&quot;&gt;&lt;span class=&quot;screen-reader-text&quot;&gt;' . __( 'SEO', 'wordpress-seo' ) . '&lt;/span&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>      'id' =&gt; 'wpseo-menu', &nbsp;</div></li><li><div>      'title' =&gt; $title . $score . $counter . $alert_popup, &nbsp;</div></li><li><div>      'href' =&gt; $seo_url, &nbsp;</div></li><li><div>      'meta' =&gt; array( 'tabindex' =&gt; $top_level_link_tabindex ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  if ( ! empty( $notification_count ) ) {&nbsp;</div></li><li><div>      $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>          'parent' =&gt; 'wpseo-menu', &nbsp;</div></li><li><div>          'id' =&gt; 'wpseo-notifications', &nbsp;</div></li><li><div>          'title' =&gt; __( 'Notifications', 'wordpress-seo' ) . $counter, &nbsp;</div></li><li><div>          'href' =&gt; $seo_url, &nbsp;</div></li><li><div>          'meta' =&gt; array( 'tabindex' =&gt; $top_level_link_tabindex ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>      'parent' =&gt; 'wpseo-menu', &nbsp;</div></li><li><div>      'id' =&gt; 'wpseo-kwresearch', &nbsp;</div></li><li><div>      'title' =&gt; __( 'Keyword Research', 'wordpress-seo' ), &nbsp;</div></li><li><div>      'meta' =&gt; array( 'tabindex' =&gt; '0' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>      'parent' =&gt; 'wpseo-kwresearch', &nbsp;</div></li><li><div>      'id' =&gt; 'wpseo-adwordsexternal', &nbsp;</div></li><li><div>      'title' =&gt; __( 'AdWords External', 'wordpress-seo' ), &nbsp;</div></li><li><div>      'href' =&gt; 'http:<span class="comment">//adwords.google.com/keywordplanner', </span>&nbsp;</div></li><li><div>      'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>      'parent' =&gt; 'wpseo-kwresearch', &nbsp;</div></li><li><div>      'id' =&gt; 'wpseo-googleinsights', &nbsp;</div></li><li><div>      'title' =&gt; __( 'Google Trends', 'wordpress-seo' ), &nbsp;</div></li><li><div>      'href' =&gt; 'https:<span class="comment">//www.google.com/trends/explore#q=' . urlencode( $focuskw ), </span>&nbsp;</div></li><li><div>      'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>      'parent' =&gt; 'wpseo-kwresearch', &nbsp;</div></li><li><div>      'id' =&gt; 'wpseo-wordtracker', &nbsp;</div></li><li><div>      'title' =&gt; __( 'SEO Book', 'wordpress-seo' ), &nbsp;</div></li><li><div>      'href' =&gt; 'http:<span class="comment">//tools.seobook.com/keyword-tools/seobook/?keyword=' . urlencode( $focuskw ), </span>&nbsp;</div></li><li><div>      'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! is_admin() ) {&nbsp;</div></li><li><div>      $url = WPSEO_Frontend::get_instance()-&gt;canonical( false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_string( $url ) ) {&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-menu', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Analyze this page', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'meta' =&gt; array( 'tabindex' =&gt; '0' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-inlinks-ose', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Check Inlinks (OSE)', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//moz.com/researchtools/ose/links?site=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-kwdensity', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Check Keyword Density', 'wordpress-seo' ), &nbsp;</div></li><li><div>              <span class="comment">// HTTPS not available.</span>&nbsp;</div></li><li><div>              'href' =&gt; 'http:<span class="comment">//www.zippy.co.uk/keyworddensity/index.php?url=' . urlencode( $url ) . '&keyword=' . urlencode( $focuskw ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-cache', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Check Google Cache', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//webcache.googleusercontent.com/search?strip=1&q=cache:' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-header', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Check Headers', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//quixapp.com/headers/?r=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-structureddata', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Google Structured Data Test', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; 'https:<span class="comment">//search.google.com/structured-data/testing-tool#url=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-facebookdebug', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Facebook Debugger', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//developers.facebook.com/tools/debug/og/object?q=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-pinterestvalidator', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Pinterest Rich Pins Validator', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; 'https:<span class="comment">//developers.pinterest.com/tools/url-debugger/?link=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-htmlvalidation', &nbsp;</div></li><li><div>              'title' =&gt; __( 'HTML Validator', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//validator.w3.org/check?uri=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-cssvalidation', &nbsp;</div></li><li><div>              'title' =&gt; __( 'CSS Validator', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//jigsaw.w3.org/css-validator/validator?uri=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-pagespeed', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Google Page Speed Test', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; '<span class="comment">//developers.google.com/speed/pagespeed/insights/?url=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-microsoftedge', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Microsoft Edge Site Scan', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; 'https:<span class="comment">//developer.microsoft.com/en-us/microsoft-edge/tools/staticscan/?url=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-analysis', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-google-mobile-friendly', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Mobile-Friendly Test', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; 'https:<span class="comment">//www.google.com/webmasters/tools/mobile-friendly/?url=' . urlencode( $url ), </span>&nbsp;</div></li><li><div>              'meta' =&gt; array( 'target' =&gt; '_blank' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// @todo: add links to bulk title and bulk description edit pages.</span>&nbsp;</div></li><li><div>  if ( $user_is_admin_or_networkadmin ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $advanced_settings = wpseo_advanced_settings_enabled( $options );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>          'parent' =&gt; 'wpseo-menu', &nbsp;</div></li><li><div>          'id' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>          'title' =&gt; __( 'SEO Settings', 'wordpress-seo' ), &nbsp;</div></li><li><div>          'meta' =&gt; array( 'tabindex' =&gt; '0' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>          'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>          'id' =&gt; 'wpseo-general', &nbsp;</div></li><li><div>          'title' =&gt; __( 'Dashboard', 'wordpress-seo' ), &nbsp;</div></li><li><div>          'href' =&gt; admin_url( 'admin.php?page=wpseo_dashboard' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      if ( $advanced_settings ) {&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-titles', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Titles &amp; Metas', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; admin_url( 'admin.php?page=wpseo_titles' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-social', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Social', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; admin_url( 'admin.php?page=wpseo_social' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-xml', &nbsp;</div></li><li><div>              'title' =&gt; __( 'XML Sitemaps', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; admin_url( 'admin.php?page=wpseo_xml' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-wpseo-advanced', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Advanced', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; admin_url( 'admin.php?page=wpseo_advanced' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>          $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>              'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>              'id' =&gt; 'wpseo-tools', &nbsp;</div></li><li><div>              'title' =&gt; __( 'Tools', 'wordpress-seo' ), &nbsp;</div></li><li><div>              'href' =&gt; admin_url( 'admin.php?page=wpseo_tools' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>          'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>          'id' =&gt; 'wpseo-search-console', &nbsp;</div></li><li><div>          'title' =&gt; __( 'Search Console', 'wordpress-seo' ), &nbsp;</div></li><li><div>          'href' =&gt; admin_url( 'admin.php?page=wpseo_search_console' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      $wp_admin_bar-&gt;add_menu( array(&nbsp;</div></li><li><div>          'parent' =&gt; 'wpseo-settings', &nbsp;</div></li><li><div>          'id' =&gt; 'wpseo-licenses', &nbsp;</div></li><li><div>          'title' =&gt; __( 'Go Premium', 'wordpress-seo' ), &nbsp;</div></li><li><div>          'href' =&gt; admin_url( 'admin.php?page=wpseo_licenses' ), &nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the SEO score element for the admin bar.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_adminbar_seo_score() {&nbsp;</div></li><li><div>  $rating = WPSEO_Meta::get_value( 'linkdex', get_the_ID() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return wpseo_adminbar_score( $rating );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the content score element for the adminbar.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_adminbar_content_score() {&nbsp;</div></li><li><div>  $rating = WPSEO_Meta::get_value( 'content_score', get_the_ID() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return wpseo_adminbar_score( $rating );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the SEO score element for the adminbar.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_tax_adminbar_seo_score() {&nbsp;</div></li><li><div>  $rating = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_tax() || is_category() || is_tag() ) {&nbsp;</div></li><li><div>      $rating = WPSEO_Taxonomy_Meta::get_meta_without_term( 'linkdex' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return wpseo_adminbar_score( $rating );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Returns the Content score element for the adminbar.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_tax_adminbar_content_score() {&nbsp;</div></li><li><div>  $rating = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( is_tax() || is_category() || is_tag() ) {&nbsp;</div></li><li><div>      $rating = WPSEO_Taxonomy_Meta::get_meta_without_term( 'content_score' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return wpseo_adminbar_score( $rating );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Takes The SEO score and makes the score icon for the adminbar with it.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int $score The 0-100 rating of the score. Can be either SEO score or content score.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string $score_adminbar_element</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_adminbar_score( $score ) {&nbsp;</div></li><li><div>  $score = WPSEO_Utils::translate_score( $score );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $score_adminbar_element = '&lt;div class=&quot;wpseo-score-icon adminbar-seo-score ' . $score . '&quot;&gt;&lt;span class=&quot;adminbar-seo-score-text screen-reader-text&quot;&gt;&lt;/span&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  return $score_adminbar_element;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'admin_bar_menu', 'wpseo_admin_bar_menu', 95 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Enqueue CSS to format the Yoast SEO adminbar item.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_admin_bar_style() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( ! is_admin_bar_showing() ) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $asset_manager = new WPSEO_Admin_Asset_Manager();&nbsp;</div></li><li><div>  $asset_manager-&gt;register_assets();&nbsp;</div></li><li><div>  $asset_manager-&gt;enqueue_style( 'adminbar' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'wp_enqueue_scripts', 'wpseo_admin_bar_style' );&nbsp;</div></li><li><div>add_action( 'admin_enqueue_scripts', 'wpseo_admin_bar_style' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Allows editing of the meta fields through weblog editors like Marsedit.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $allcaps Capabilities that must all be true to allow action.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $cap     Array of capabilities to be checked, unused here.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $args    List of arguments for the specific cap to be checked.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return array $allcaps</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function allow_custom_field_edits( $allcaps, $cap, $args ) {&nbsp;</div></li><li><div>  <span class="comment">// $args[0] holds the capability.</span>&nbsp;</div></li><li><div>  <span class="comment">// $args[2] holds the post ID.</span>&nbsp;</div></li><li><div>  <span class="comment">// $args[3] holds the custom field.</span>&nbsp;</div></li><li><div>  <span class="comment">// Make sure the request is to edit or add a post meta (this is usually also the second value in $cap, </span>&nbsp;</div></li><li><div>  <span class="comment">// but this is safer to check).</span>&nbsp;</div></li><li><div>  if ( in_array( $args[0], array( 'edit_post_meta', 'add_post_meta' ) ) ) {&nbsp;</div></li><li><div>      <span class="comment">// Only allow editing rights for users who have the rights to edit this post and make sure</span>&nbsp;</div></li><li><div>      <span class="comment">// the meta value starts with _yoast_wpseo (WPSEO_Meta::$meta_prefix).</span>&nbsp;</div></li><li><div>      if ( ( isset( $args[2] ) && current_user_can( 'edit_post', $args[2] ) ) && ( ( isset( $args[3] ) && $args[3] !== '' ) && strpos( $args[3], WPSEO_Meta::$meta_prefix ) === 0 ) ) {&nbsp;</div></li><li><div>          $allcaps[ $args[0] ] = true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return $allcaps;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_filter( 'user_has_cap', 'allow_custom_field_edits', 0, 3 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Detects if the advanced settings are enabled.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param array $wpseo_options The wpseo settings.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @returns boolean True if the advanced settings are enabled, false if not.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_advanced_settings_enabled( $wpseo_options ) {&nbsp;</div></li><li><div>  return ( $wpseo_options['enable_setting_pages'] === true );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/********************** DEPRECATED FUNCTIONS **********************/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Set the default settings.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 1.5.0</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated use WPSEO_Options::initialize()</span>&nbsp;</div></li><li><div><span class="comment"> * @see        WPSEO_Options::initialize()</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_defaults() {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 1.5.0', 'WPSEO_Options::initialize()' );&nbsp;</div></li><li><div>  WPSEO_Options::initialize();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Translates a decimal analysis score into a textual one.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 1.5.6.1</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated use WPSEO_Utils::translate_score()</span>&nbsp;</div></li><li><div><span class="comment"> * @see        WPSEO_Utils::translate_score()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param int  $val       The decimal score to translate.</span>&nbsp;</div></li><li><div><span class="comment"> * @param bool $css_value Whether to return the i18n translated score or the CSS class value.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return string</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_translate_score( $val, $css_value = true ) {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 1.5.6.1', 'WPSEO_Utils::translate_score()' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return WPSEO_Utils::translate_score();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Check whether file editing is allowed for the .htaccess and robots.txt files</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 1.5.6.1</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated use WPSEO_Utils::allow_system_file_edit()</span>&nbsp;</div></li><li><div><span class="comment"> * @see        WPSEO_Utils::allow_system_file_edit()</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @internal   current_user_can() checks internally whether a user is on wp-ms and adjusts accordingly.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return bool</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_allow_system_file_edit() {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 1.5.6.1', 'WPSEO_Utils::allow_system_file_edit()' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return WPSEO_Utils::allow_system_file_edit();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Test whether force rewrite should be enabled or not.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 3.3</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return void</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_title_test() {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 3.3.0' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Test whether the active theme contains a &lt;meta&gt; description tag.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.4.14 Moved from dashboard.php and adjusted - see changelog</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 3.3</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return void</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_description_test() {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 3.3.0' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Check if the current theme was updated and if so, test the updated theme</span>&nbsp;</div></li><li><div><span class="comment"> * for the title and meta description tag</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since    1.4.14</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 3.3</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param WP_Upgrader $upgrader_object Upgrader object instance.</span>&nbsp;</div></li><li><div><span class="comment"> * @param array       $context_array   Context data array.</span>&nbsp;</div></li><li><div><span class="comment"> * @param mixed       $themes          Optional themes set.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return  void</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_upgrader_process_complete( $upgrader_object, $context_array, $themes = null ) {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 3.3.0' );&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Abuse a filter to check if the current theme was updated and if so, test the updated theme</span>&nbsp;</div></li><li><div><span class="comment"> * for the title and meta description tag</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 1.4.14</span>&nbsp;</div></li><li><div><span class="comment"> * @deprecated 3.3</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @param   array           $update_actions Updated actions set.</span>&nbsp;</div></li><li><div><span class="comment"> * @param   WP_Theme|string $updated_theme  Theme object instance or stylesheet name.</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function wpseo_update_theme_complete_actions( $update_actions, $updated_theme ) {&nbsp;</div></li><li><div>  _deprecated_function( __FUNCTION__, 'WPSEO 3.3.0' );&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Yoast SEO</li><li><span></span>4.7.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>