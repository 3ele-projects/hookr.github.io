<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="3.98" data-slug="ads-ez-plugin-for-google-adsense" data-type="class" data-id="21118"><head xmlns="http://www.w3.org/1999/xhtml"><title> ezplugin | class | Ads Ez Plugin For Google Adsense | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="EzPlugin, class, plugin, ads-ez-plugin-for-google-adsense, 3.98" /><meta name="description" content="The Ads EZ Plugin for Google AdSense EzPlugin class." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.8"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=04581fd0a038dad493794ded84babb8a' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.8' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/ez_plugin/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fez_plugin%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fez_plugin%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-ads-ez-plugin-for-google-adsense-3.98-class-ez_plugin","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="ez_plugin" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to ads-ez-plugin-for-google-adse&hellip;." href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/" class="plugin"><span property="name">ads-ez-plugin-for-google-adse&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.98." href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/" class="H_VERSION"><span property="name">3.98</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">ez_plugin</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="24"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/all/" title="All">All <span class="count badge">24</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="1"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/hooks/" title="Hooks">Hooks <span class="count badge">1</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="1"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/filters/" title="Filters">Filters <span class="count badge">1</span></a></li><li class="active" data-id="class" data-count="12"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/classes/" title="Classes">Classes <span class="count badge">12</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="10"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/functions/" title="Functions">Functions <span class="count badge">10</span></a></li><li class="" data-id="shortcode" data-count="1"><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">1</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>EzPlugin</strong></h1><p>The Ads EZ Plugin for Google AdSense <strong>EzPlugin</strong> class.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/files/ezplugin/" class="file">/EzPlugin.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="4" class="block" start="4"><li><div>class EzPlugin {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  var $name, $key, $slogan, $file, $class;&nbsp;</div></li><li><div>  var $adminLogo, $mainLogo;&nbsp;</div></li><li><div>  var $isPro, $strPro, $plgDir, $plgURL;&nbsp;</div></li><li><div>  var $css = array();&nbsp;</div></li><li><div>  var $wpRoot, $keyEp, $endPoint, $siteUrl;&nbsp;</div></li><li><div>  var $lang = 'en';&nbsp;</div></li><li><div>  static $db = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function __construct($file) { //constructor&nbsp;</div></li><li><div>    if (defined('ABSPATH')) {&nbsp;</div></li><li><div>      $this-&gt;file = $file;&nbsp;</div></li><li><div>      $this-&gt;plgDir = dirname($file);&nbsp;</div></li><li><div>      $this-&gt;plgURL = plugin_dir_url($file);&nbsp;</div></li><li><div>      $this-&gt;siteUrl = network_site_url();&nbsp;</div></li><li><div>      $this-&gt;wpRoot = parse_url($this-&gt;siteUrl, PHP_URL_PATH);&nbsp;</div></li><li><div>      if (empty($this-&gt;wpRoot) || $this-&gt;wpRoot == DIRECTORY_SEPARATOR) {&nbsp;</div></li><li><div>        $this-&gt;wpRoot = &quot;&quot;;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>        $this-&gt;wpRoot .= DIRECTORY_SEPARATOR;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $this-&gt;siteUrl = trailingslashit($this-&gt;siteUrl);&nbsp;</div></li><li><div>      $this-&gt;isPro = file_exists(&quot;{$this-&gt;plgDir}/admin/options-advanced.php&quot;);&nbsp;</div></li><li><div>      $this-&gt;mkEndPoint();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if ($this-&gt;isPro) {&nbsp;</div></li><li><div>      $this-&gt;strPro = 'Pro';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      $this-&gt;strPro = 'Lite';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function mkEndPoint() {&nbsp;</div></li><li><div>    $this-&gt;keyEp = $this-&gt;key . '-ep';&nbsp;</div></li><li><div>    $siteUrl = $this-&gt;siteUrl;&nbsp;</div></li><li><div>    if (defined('SUBDOMAIN_INSTALL')) {&nbsp;</div></li><li><div>      if (SUBDOMAIN_INSTALL) {&nbsp;</div></li><li><div>        $siteUrl = site_url();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (function_exists('wp_get_sites')) {&nbsp;</div></li><li><div>      $info = wp_get_sites();&nbsp;</div></li><li><div>      if (!empty($info[1]) && $info[1]['path'] == &quot;/&quot;) {&nbsp;</div></li><li><div>        $siteUrl = site_url();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $siteUrl = trailingslashit($siteUrl);&nbsp;</div></li><li><div>    $this-&gt;endPoint = $siteUrl . $this-&gt;keyEp;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function isEmptyHtaccess($data) {&nbsp;</div></li><li><div>    if (empty($data)) {&nbsp;</div></li><li><div>      return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $lines = explode(&quot;\n&quot;, $data);&nbsp;</div></li><li><div>    foreach ($lines as $l) {&nbsp;</div></li><li><div>      $l = trim($l);&nbsp;</div></li><li><div>      if (empty($l)) {&nbsp;</div></li><li><div>        continue;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ($l[0] == '#') {&nbsp;</div></li><li><div>        continue;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return false;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    return true;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function getServerSoftware() {&nbsp;</div></li><li><div>    $server = &quot;unknown&quot;;&nbsp;</div></li><li><div>    if (!empty($_SERVER['SERVER_SOFTWARE'])) {&nbsp;</div></li><li><div>      $serverSoftware = strtolower($_SERVER['SERVER_SOFTWARE']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      $serverSoftware = &quot;&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (strpos($serverSoftware, &quot;apache&quot;) !== false) {&nbsp;</div></li><li><div>      $server = &quot;apache&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (strpos($serverSoftware, &quot;nginx&quot;) !== false) {&nbsp;</div></li><li><div>      $server = &quot;nginx&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (strpos($serverSoftware, &quot;microsoft&quot;) !== false) {&nbsp;</div></li><li><div>      $server = &quot;microsoft&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    return $server;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function getNginxMsg() {&nbsp;</div></li><li><div>    $data = 'location / {&nbsp;</div></li><li><div>      try_files $uri $uri/ /index.php?q=$request_uri;&nbsp;</div></li><li><div>}';&nbsp;</div></li><li><div>    return &quot;&lt;p&gt;You are running on &lt;code&gt;nginx&lt;/code&gt;. You may have to edit your config file after enabling Permalinks. Please see &lt;a href='https://codex.wordpress.org/Nginx' target='_blank' class='popup-long'&gt;Nginx instructions&lt;/a&gt;. In most cases, all you have to do is to add this to your &lt;code&gt;location&lt;/code&gt; block:&lt;/p&gt;&lt;pre&gt;$data&lt;/pre&gt;&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function getMSMsg() {&nbsp;</div></li><li><div>    return &quot;&lt;p&gt;You are running on a Microsoft server. Please enable and configure Permalinks. Here is &lt;a href='http://www.iis.net/learn/extensions/url-rewrite-module/enabling-pretty-permalinks-in-wordpress' target='_blank' class='popup-long'&gt;how to do it&lt;/a&gt;.&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function getApacheMsg() {&nbsp;</div></li><li><div>    return &quot;&lt;p&gt;You are running on an Apache or a generic server. Please enable and configure Permalinks. Add the &lt;a href='https://codex.wordpress.org/htaccess' target='_blank' class='popup-long'&gt;standard WordPress directives&lt;/a&gt; to your &lt;code&gt;.htaccess&lt;/code&gt; file or equivalent.&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function checkPerma() {&nbsp;</div></li><li><div>    $permaStructure = get_option('permalink_structure');&nbsp;</div></li><li><div>    if (!empty($permaStructure)) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $server = $this-&gt;getServerSoftware();&nbsp;</div></li><li><div>    $msg = &quot;&quot;;&nbsp;</div></li><li><div>    switch ($server) {&nbsp;</div></li><li><div>      case &quot;nginx&quot;:&nbsp;</div></li><li><div>        return $this-&gt;getNginxMsg();&nbsp;</div></li><li><div>      case &quot;microsoft&quot;:&nbsp;</div></li><li><div>        return $this-&gt;getMSMsg();&nbsp;</div></li><li><div>      default:&nbsp;</div></li><li><div>        $msg = &quot;&lt;p&gt;Depending on your server, follow the steps below.&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>        $msg .= $this-&gt;getNginxMsg();&nbsp;</div></li><li><div>        $msg .= $this-&gt;getMSMsg();&nbsp;</div></li><li><div>        $msg .= $this-&gt;getApacheMsg();&nbsp;</div></li><li><div>      case &quot;apache&quot;:&nbsp;</div></li><li><div>        $file = ABSPATH . &quot;.htaccess&quot;;&nbsp;</div></li><li><div>        if (empty($this-&gt;wpRoot)) {&nbsp;</div></li><li><div>          $wpRoot = &quot;/&quot;;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>          $wpRoot = $this-&gt;wpRoot;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $data = &quot;&nbsp;</div></li><li><div># BEGIN WordPress: Inserted by $this-&gt;name&nbsp;</div></li><li><div>&lt;IfModule mod_rewrite.c&gt;&nbsp;</div></li><li><div>RewriteEngine On&nbsp;</div></li><li><div>RewriteBase $wpRoot&nbsp;</div></li><li><div>RewriteRule ^index\.php$ - [L]&nbsp;</div></li><li><div>RewriteCond %{REQUEST_FILENAME} !-f&nbsp;</div></li><li><div>RewriteCond %{REQUEST_FILENAME} !-d&nbsp;</div></li><li><div>RewriteRule . {$wpRoot}index.php [L]&nbsp;</div></li><li><div>&lt;/IfModule&gt;&nbsp;</div></li><li><div># END WordPress: Inserted by $this-&gt;name&nbsp;</div></li><li><div>&quot;;&nbsp;</div></li><li><div>        if (file_exists($file)) {&nbsp;</div></li><li><div>          // Dangerous to create&nbsp;</div></li><li><div>          $currentData = file_get_contents($file);&nbsp;</div></li><li><div>          if (!self::isEmptyHtaccess($currentData)) {&nbsp;</div></li><li><div>            $currentData = htmlspecialchars($currentData);&nbsp;</div></li><li><div>            $data = htmlspecialchars($data);&nbsp;</div></li><li><div>            return &quot;$msg&lt;p&gt;You already have an &lt;code&gt;.htaccess&lt;/code&gt; file (&lt;code&gt;$file&lt;/code&gt;) with these contents:&lt;/p&gt;&lt;pre&gt;$currentData&lt;/pre&gt;&lt;p&gt;Please edit it and add the &lt;a href='https://codex.wordpress.org/htaccess' target='_blank' class='popup-long'&gt;standard WordPress directives&lt;/a&gt;  (pointing all missing files to &lt;code&gt;index.php&lt;/code&gt;). Here is what you need to add:&lt;/p&gt;&lt;pre&gt;$data&lt;/pre&gt;&quot;;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // No htaccess or it is empty. Safe to create a default one.&nbsp;</div></li><li><div>        $url = wp_nonce_url('plugin-install.php', 'plugin-install');&nbsp;</div></li><li><div>        $creds = request_filesystem_credentials($url, '', false, false, ABSPATH);&nbsp;</div></li><li><div>        if ($creds !== false) {&nbsp;</div></li><li><div>          WP_Filesystem($creds);&nbsp;</div></li><li><div>          global $wp_filesystem;&nbsp;</div></li><li><div>          if (!empty($wp_filesystem)) {&nbsp;</div></li><li><div>            $abspath = trailingslashit($wp_filesystem-&gt;abspath());&nbsp;</div></li><li><div>            $file = &quot;{$abspath}.htaccess&quot;;&nbsp;</div></li><li><div>            if ($wp_filesystem-&gt;put_contents($file, &quot;$currentData\n$data&quot;)) {&nbsp;</div></li><li><div>              return &quot;$msg&lt;p&gt;A default &lt;code&gt;.htaccess&lt;/code&gt; has been created for you.&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        else {&nbsp;</div></li><li><div>          // Cannot create a new one.&nbsp;</div></li><li><div>          $data = htmlspecialchars($data);&nbsp;</div></li><li><div>          return &quot;$msg&lt;p&gt;You do not have an &lt;code&gt;.htaccess&lt;/code&gt; file and it does not look like I can create one for you. Please create &lt;code&gt;$file&lt;/code&gt; and add the &lt;a href='https://codex.wordpress.org/htaccess' target='_blank' class='popup-long'&gt;standard WordPress directives&lt;/a&gt; (pointing all missing files to &lt;code&gt;index.php&lt;/code&gt;). Here is what you need to add:&lt;/p&gt;&lt;pre&gt;$data&lt;/pre&gt;&quot;;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        break;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function install($dir, $mOptions) {&nbsp;</div></li><li><div>    $ezOptions = get_option($mOptions);&nbsp;</div></li><li><div>    if (empty($ezOptions)) {&nbsp;</div></li><li><div>      // create the necessary tables&nbsp;</div></li><li><div>      $GLOBALS['isInstallingWP'] = true;&nbsp;</div></li><li><div>      chdir($dir . '/admin');&nbsp;</div></li><li><div>      require_once('dbSetup.php');&nbsp;</div></li><li><div>      $ezOptions['isSetup'] = true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    update_option($mOptions, $ezOptions);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function uninstall($mOptions) {&nbsp;</div></li><li><div>    delete_option($mOptions);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  static function getDB() {&nbsp;</div></li><li><div>    if (empty(self::$db)) {&nbsp;</div></li><li><div>      require_once 'DbHelper.php';&nbsp;</div></li><li><div>      self::$db = new DbHelper();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    return self::$db;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function printAdminPage() {&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>    &lt;div id=&quot;loading&quot; class=&quot;updated&quot;&gt;&lt;h2&gt;&lt;img src=&quot;&lt;?php echo $this-&gt;plgURL; ?&gt;/admin/img/loading.gif&quot; alt=&quot;Loading&quot;&gt;&emsp; Loading... Please wait!&lt;/h2&gt;&lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    $permaMsg = $this-&gt;checkPerma();&nbsp;</div></li><li><div>    $permalink = admin_url('options-permalink.php');&nbsp;</div></li><li><div>    if (!empty($permaMsg)) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;div class='error' style='padding:10px;margin:10px;color:#a00;font-weight:500;background-color:#fee;display:none' id=&quot;permalinks&quot;&gt;&nbsp;</div></li><li><div>        &lt;p&gt;&lt;strong&gt;Permalinks&lt;/strong&gt; are not enabled on your blog, which this plugin needs. Please &lt;a href='&lt;?php echo $permalink; ?&gt;'&gt;enable a permalink structure&lt;/a&gt; for your blog from &lt;strong&gt;&lt;a href='&lt;?php echo $permalink; ?&gt;'&gt;Settings &rarr; Permalinks&lt;/a&gt;&lt;/strong&gt;. Any structure (other than the ugly default structure using &lt;code&gt;&lt;?php echo network_site_url(); ?&gt;/?p=123&lt;/code&gt;) will do.&lt;/p&gt;&nbsp;</div></li><li><div>        &lt;?php echo $permaMsg; ?&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;div class='error' style='padding:10px;margin:10px;color:#a00;font-weight:500;background-color:#fee;display:none' id=&quot;adBlocked&quot;&gt;&nbsp;</div></li><li><div>        &lt;?php&nbsp;</div></li><li><div>        $server = $this-&gt;getServerSoftware();&nbsp;</div></li><li><div>        echo &quot;&lt;p&gt;&lt;strong&gt;Permalink Configuration&lt;/strong&gt;:  &lt;em&gt;This step is &lt;strong&gt;not&lt;/strong&gt; optional.&lt;/em&gt; This plugin requires Permalinks to be enabled and configured. Looks like they are enabled, but not fully configured. In most cases, you just need to visit &lt;a href='$permalink'&gt;Settings &rarr; Permalinks&lt;/a&gt; and hit the &lt;strong&gt;Save Changes&lt;/strong&gt; button to configure them.&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>        switch ($server) {&nbsp;</div></li><li><div>          case &quot;nginx&quot;:&nbsp;</div></li><li><div>            echo $this-&gt;getNginxMsg();&nbsp;</div></li><li><div>            break;&nbsp;</div></li><li><div>          case &quot;microsoft&quot;:&nbsp;</div></li><li><div>            echo $this-&gt;getMSMsg();&nbsp;</div></li><li><div>            break;&nbsp;</div></li><li><div>          case &quot;apache&quot;:&nbsp;</div></li><li><div>            echo $this-&gt;getApacheMsg();&nbsp;</div></li><li><div>            break;&nbsp;</div></li><li><div>          default:&nbsp;</div></li><li><div>            echo &quot;&lt;p&gt;Depending on your server, follow the steps below.&lt;/p&gt;&quot;;&nbsp;</div></li><li><div>            echo $this-&gt;getNginxMsg();&nbsp;</div></li><li><div>            echo $this-&gt;getMSMsg();&nbsp;</div></li><li><div>            echo $this-&gt;getApacheMsg();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;p&gt;&lt;strong&gt;AdBlock&lt;/strong&gt;: This plugin loads its admin pages in an iFrame, which may look like an ad to some browser-side ad blockers. If you are running AdBlock or similar extensions on your browser, please disable it for your blog domain so that the admin page is not blocked. Looks like your browser is preventing the admin pages from being displayed.&lt;/p&gt;&nbsp;</div></li><li><div>        &lt;p&gt;&nbsp;</div></li><li><div>          If you think this message is in error, and would like the plugin to try to open the admin page any way, please click the button below:&nbsp;</div></li><li><div>        &lt;/p&gt;&nbsp;</div></li><li><div>        &lt;form method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>          &lt;input type=&quot;submit&quot; value=&quot;Force Admin Page&quot; name=&quot;ez_force_admin&quot;&gt;&nbsp;</div></li><li><div>        &lt;/form&gt;&nbsp;</div></li><li><div>        &lt;p&gt;&nbsp;</div></li><li><div>          &lt;strong&gt;&nbsp;</div></li><li><div>            Note that if the plugin still cannot load the admin page after forcing it, you may see a blank or error page here upon reload. If that happens, please deactivate and delete the plugin. It is not compatible with your blog setup.&nbsp;</div></li><li><div>          &lt;/strong&gt;&nbsp;</div></li><li><div>        &lt;/p&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (!empty($_POST['ez_force_admin'])) {&nbsp;</div></li><li><div>      update_option('ez_force_admin', true);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $forceAdmin = get_option('ez_force_admin');&nbsp;</div></li><li><div>    $lastSrc = get_option(&quot;$this-&gt;key-last-src&quot;);&nbsp;</div></li><li><div>    $lastTarget = $this-&gt;plgDir . &quot;/admin/&quot; . str_replace('.ezp', '.php', $lastSrc);&nbsp;</div></li><li><div>    if (!empty($_REQUEST['target'])) {&nbsp;</div></li><li><div>      $src = &quot;{$this-&gt;endPoint}/admin/{$_REQUEST['target']}&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else if (!empty($lastSrc) && file_exists($lastTarget)) {&nbsp;</div></li><li><div>      $src = &quot;{$this-&gt;endPoint}/admin/$lastSrc&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      $src = &quot;{$this-&gt;endPoint}/admin/index.ezp&quot;;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>    &lt;script&gt;&nbsp;</div></li><li><div>      var errorTimeout;&nbsp;</div></li><li><div>      function calcHeight() {&nbsp;</div></li><li><div>        var w = window, &nbsp;</div></li><li><div>                d = document, &nbsp;</div></li><li><div>                e = d.documentElement, &nbsp;</div></li><li><div>                g = d.getElementsByTagName('body')[0], &nbsp;</div></li><li><div>                y = w.innerHeight || e.clientHeight || g.clientHeight;&nbsp;</div></li><li><div>        document.getElementById('the_iframe').height = y - 70;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (window.addEventListener) {&nbsp;</div></li><li><div>        window.addEventListener('resize', calcHeight, false);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else if (window.attachEvent) {&nbsp;</div></li><li><div>        window.attachEvent('onresize', calcHeight);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      jQuery(document).ready(function () {&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    if (empty($forceAdmin)) {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>          errorTimeout = setTimeout(function () {&nbsp;</div></li><li><div>            jQuery(&quot;#the_iframe&quot;).fadeOut();&nbsp;</div></li><li><div>            jQuery(&quot;#adBlocked, #permalinks&quot;).fadeIn();&nbsp;</div></li><li><div>          }, 8000);&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    ?&gt;&nbsp;</div></li><li><div>        jQuery(&quot;#loading&quot;).delay(10000).fadeOut();&nbsp;</div></li><li><div>      });&nbsp;</div></li><li><div>    &lt;/script&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>    echo &quot;&lt;iframe src='$src' frameborder='0' style='width:100%;position:absolute;top:5px;left:-10px;right:0px;bottom:0px;'  width='100%' height='900px' id='the_iframe' onLoad='calcHeight();'&gt;&lt;/iframe&gt;&quot;;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function parseRequest(&$wp) {&nbsp;</div></li><li><div>    if (strpos($_SERVER['REQUEST_URI'], $this-&gt;keyEp) === false) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $request = $_SERVER['REQUEST_URI'];&nbsp;</div></li><li><div>    if (!empty($this-&gt;wpRoot)) {&nbsp;</div></li><li><div>      $request = str_replace($this-&gt;wpRoot, &quot;&quot;, $_SERVER['REQUEST_URI']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $request = trim($request, DIRECTORY_SEPARATOR . &quot;\\/&quot;);&nbsp;</div></li><li><div>    if (strpos($request, $this-&gt;keyEp) !== 0) {&nbsp;</div></li><li><div>      return;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $request = preg_replace('/\?.*/', '', $request);&nbsp;</div></li><li><div>    $request = preg_replace(&quot;/$this-&gt;keyEp/&quot;, basename($this-&gt;plgDir), $request, 1);&nbsp;</div></li><li><div>    $target = WP_PLUGIN_DIR . &quot;/&quot; . $request;&nbsp;</div></li><li><div>    $target = preg_replace(&quot;/\.ezp$/&quot;, &quot;.php&quot;, $target, 1);&nbsp;</div></li><li><div>    if (file_exists($target)) {&nbsp;</div></li><li><div>      chdir(dirname($target));&nbsp;</div></li><li><div>      $ext = pathinfo($target, PATHINFO_EXTENSION);&nbsp;</div></li><li><div>      if ($ext == 'php') {&nbsp;</div></li><li><div>        include $target;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>        $url = str_replace(ABSPATH, $this-&gt;siteUrl, $target);&nbsp;</div></li><li><div>        header(&quot;location: $url&quot;);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      setcookie('ez-last-request', $request, time() + 30);&nbsp;</div></li><li><div>      $url = &quot;$this-&gt;siteUrl$this-&gt;keyEp/admin/index.ezp&quot;;&nbsp;</div></li><li><div>      header(&quot;location: $url&quot;);&nbsp;</div></li><li><div>      exit();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function pluginActionLinks($links, $file) {&nbsp;</div></li><li><div>    if ($file == plugin_basename($this-&gt;file)) {&nbsp;</div></li><li><div>      $settings_link = &quot;&lt;a href='options-general.php?page=&quot;&nbsp;</div></li><li><div>              . basename($this-&gt;file)&nbsp;</div></li><li><div>              . &quot;'&gt;Settings&lt;/a&gt;&quot;;&nbsp;</div></li><li><div>      array_unshift($links, $settings_link);&nbsp;</div></li><li><div>      if (empty($this-&gt;isPro) && !empty($this-&gt;key)) {&nbsp;</div></li><li><div>        $buyLink = &quot;&lt;a href='http://buy.thulasidas.com/$this-&gt;key' class='popup'&gt;&lt;b style='color:red'&gt;Go &lt;i&gt;Pro&lt;/i&gt;!&lt;/b&gt;&lt;/a&gt;&quot;;&nbsp;</div></li><li><div>        array_unshift($links, $buyLink);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    return $links;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function adminMenu() {&nbsp;</div></li><li><div>    $mName = &quot;$this-&gt;name $this-&gt;strPro&quot;;&nbsp;</div></li><li><div>    $adminPage = add_options_page($mName, $mName, 'activate_plugins', basename($this-&gt;file), array($this, 'printAdminPage'));&nbsp;</div></li><li><div>    add_action('load-' . $adminPage, array($this, 'load'));&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function setGoogleTranCookie() {&nbsp;</div></li><li><div>    if (!empty($_GET['lang'])) {&nbsp;</div></li><li><div>      $lang = $_GET['lang'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      $locale = get_locale();&nbsp;</div></li><li><div>      $lang = substr($locale, 0, 2);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $lang = strtolower($lang);&nbsp;</div></li><li><div>    if ($lang == 'en') {&nbsp;</div></li><li><div>      setcookie(&quot;googtrans&quot;, &quot;&quot;, 1, '/');&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    else {&nbsp;</div></li><li><div>      setcookie(&quot;googtrans&quot;, &quot;/en/$lang&quot;, time() + 300, '/');&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $this-&gt;lang = $lang;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function init() {&nbsp;</div></li><li><div>    add_action('parse_request', array($this, 'parseRequest'));&nbsp;</div></li><li><div>    add_action('admin_menu', array($this, 'adminMenu'));&nbsp;</div></li><li><div>    add_filter('plugin_action_links', array($this, 'pluginActionLinks'), -10, 2);&nbsp;</div></li><li><div>    register_activation_hook($this-&gt;file, array($this-&gt;class, 'install'));&nbsp;</div></li><li><div>    register_deactivation_hook($this-&gt;file, array($this-&gt;class, 'uninstall'));&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function load() { // Runs inits specific to the admin page (JS/CSS etc.)&nbsp;</div></li><li><div>    $this-&gt;setGoogleTranCookie();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 3.93</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.98/classes/ez_plugin/" class="active">3.98</a></li><li><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.97/classes/ez_plugin/" class="">3.97</a></li><li><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.96/classes/ez_plugin/" class="">3.96</a></li><li><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.95/classes/ez_plugin/" class="">3.95</a></li><li><a href="http://hookr.io/plugins/ads-ez-plugin-for-google-adsense/3.93/classes/ez_plugin/" class="">3.93</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>EzPlugin</li><li><span></span>Ads EZ Plugin for Google AdSense</li><li><span></span>3.98</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>