<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr function lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr function lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr function lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr function ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr function gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr function" data-site="plugin" data-version="2.8.1" data-slug="woocommerce-pdf-invoices" data-type="function" data-id="20878"><head xmlns="http://www.w3.org/1999/xhtml"><title> print_graph | function | Woocommerce Pdf Invoices | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="print_graph, function, plugin, woocommerce-pdf-invoices, 2.8.1" /><meta name="description" content="The WooCommerce PDF Invoices print graph function." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=065b027c08a0decc309121a7244f5632' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/functions/print_graph/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffunctions%2Fprint_graph%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffunctions%2Fprint_graph%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-pdf-invoices-2.8.1-function-print_graph","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="print_graph" class="single single-function single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce-pdf-invoices." href="http://hookr.io/plugins/woocommerce-pdf-invoices/" class="plugin"><span property="name">woocommerce-pdf-invoices</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.8.1." href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/" class="H_VERSION"><span property="name">2.8.1</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to functions." href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/functions/" class=""><span property="name">functions</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">print_graph</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="function"><ul role="navigation"><li class="" data-id="all" data-count="211"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/all/" title="All">All <span class="count badge">211</span></a></li><li class="" data-id="new" data-count="24"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/new/" title="New">New <span class="count badge">24</span></a></li><li class="" data-id="hooks" data-count="41"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/hooks/" title="Hooks">Hooks <span class="count badge">41</span></a></li><li class="" data-id="action" data-count="13"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/actions/" title="Actions">Actions <span class="count badge">13</span></a></li><li class="" data-id="filter" data-count="28"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/filters/" title="Filters">Filters <span class="count badge">28</span></a></li><li class="" data-id="class" data-count="63"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/" title="Classes">Classes <span class="count badge">63</span></a></li><li class="" data-id="constant" data-count="66"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/" title="Constants">Constants <span class="count badge">66</span></a></li><li class="active" data-id="function" data-count="40"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/functions/" title="Functions">Functions <span class="count badge">40</span></a></li><li class="" data-id="shortcode" data-count="1"><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">1</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>print_graph</strong></h1><p>The WooCommerce PDF Invoices <strong>print graph</strong> function.</p> </section> <section id="description"><h2>Description</h2><pre><div>print_graph( <a href="#" class="param" data-type="" data-desc="The g." data-depr="" data-opt="" title="The g.">$g</a>, <a href="#" class="param" data-type="" data-desc="The pgwidth." data-depr="" data-opt="" title="The pgwidth.">$pgwidth</a> );&nbsp;</div></pre></section> <section id="params"><h2>Parameters <span class="count">(2)</span></h2><dl><dt> <span class="index">0.</span> <span class="param"> $g </span></dt><dd> The g.</dd><dt> <span class="index">1.</span> <span class="param"> $pgwidth </span></dt><dd> The pgwidth.</dd></dl> </section><hr /> <section id="usage"><h2>Usage</h2><pre><ol><li><div>if ( !function_exists( '<span class="func">print_graph</span>' ) ) {&nbsp;</div></li><li><div>    require_once ABSPATH . PLUGINDIR . 'woocommerce-pdf-invoices/vendor/mpdf/mpdf/graph.php';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// The g.</span>&nbsp;</div></li><li><div><span class="param">$g</span> = null;&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// The pgwidth.</span>&nbsp;</div></li><li><div><span class="param">$pgwidth</span> = null;&nbsp;</div></li><li><div> &nbsp;</div></li><li><div><span class="comment">// NOTICE! Understand what this does before running.</span>&nbsp;</div></li><li><div><span class="param">$result</span> = <span class="func">print_graph</span>(<span class="param">$g</span>, <span class="param">$pgwidth</span>);&nbsp;</div></li><li><div>   &nbsp;</div></li></ol></pre></section><hr /> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The function is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/files/vendor-mpdf-mpdf-graph/" class="file">/vendor/mpdf/mpdf/graph.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="26" class="block" start="35"><li><div>function print_graph($g, $pgwidth)&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>    $splines = false;&nbsp;</div></li><li><div>    $bandw = false;&nbsp;</div></li><li><div>    $percent = false;&nbsp;</div></li><li><div>    $show_percent = false;&nbsp;</div></li><li><div>    $stacked = false;&nbsp;</div></li><li><div>    $h = false;&nbsp;</div></li><li><div>    $show_values = false;&nbsp;</div></li><li><div>    $hide_grid = false;&nbsp;</div></li><li><div>    $hide_y_axis = false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['TYPE']) && $g['attr']['TYPE']) {&nbsp;</div></li><li><div>        $type = strtolower($g['attr']['TYPE']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (!in_array($type, array('bar', 'horiz_bar', 'line', 'radar', 'pie', 'pie3d', 'xy', 'scatter'))) {&nbsp;</div></li><li><div>        $type = 'bar';&nbsp;</div></li><li><div>    } // Default=bar&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['STACKED']) && $g['attr']['STACKED']) {&nbsp;</div></li><li><div>        $stacked = true;&nbsp;</div></li><li><div>    } // stacked for bar or horiz_bar&nbsp;</div></li><li><div>    if (isset($g['attr']['SPLINES']) && $g['attr']['SPLINES'] && $type == 'xy') {&nbsp;</div></li><li><div>        $splines = true;&nbsp;</div></li><li><div>    } // splines for XY line graphs&nbsp;</div></li><li><div>    if (isset($g['attr']['BANDW']) && $g['attr']['BANDW']) {&nbsp;</div></li><li><div>        $bandw = true;&nbsp;</div></li><li><div>    } // black and white&nbsp;</div></li><li><div>    if (isset($g['attr']['LEGEND-OVERLAP']) && $g['attr']['LEGEND-OVERLAP']) {&nbsp;</div></li><li><div>        $overlap = true;&nbsp;</div></li><li><div>    } // avoid overlap of Legends over graph (line, bar, horiz_bar only)&nbsp;</div></li><li><div>    if (isset($g['attr']['PERCENT']) && $g['attr']['PERCENT'] && $type != 'xy' && $type != 'scatter') {&nbsp;</div></li><li><div>        $percent = true;&nbsp;</div></li><li><div>    } // Show data series as percent of total in series&nbsp;</div></li><li><div>    if (isset($g['attr']['SHOW-VALUES']) && $g['attr']['SHOW-VALUES']) {&nbsp;</div></li><li><div>        $show_values = true;&nbsp;</div></li><li><div>    } // Show the individual data values&nbsp;</div></li><li><div>    if (isset($g['attr']['HIDE-GRID']) && $g['attr']['HIDE-GRID']) {&nbsp;</div></li><li><div>        $hide_grid = true;&nbsp;</div></li><li><div>    } // Hide the y-axis gridlines&nbsp;</div></li><li><div>    if (isset($g['attr']['HIDE-Y-AXIS']) && $g['attr']['HIDE-Y-AXIS']) {&nbsp;</div></li><li><div>        $hide_y_axis = true;&nbsp;</div></li><li><div>    } // Hide the y-axis&nbsp;</div></li><li><div>    // Antialias: If true - better quality curves, but graph line will only be 1px even in PDF 300dpi&nbsp;</div></li><li><div>    // default=true for most except line and radar&nbsp;</div></li><li><div>    if (isset($g['attr']['ANTIALIAS']) && ($g['attr']['ANTIALIAS'] == '' || $g['attr']['ANTIALIAS'] == 0)) {&nbsp;</div></li><li><div>        $antialias = false;&nbsp;</div></li><li><div>    } else if (isset($g['attr']['ANTIALIAS']) && $g['attr']['ANTIALIAS'] &gt; 0) {&nbsp;</div></li><li><div>        $antialias = true;&nbsp;</div></li><li><div>    } else if ($type == 'line' || $type == 'radar') {&nbsp;</div></li><li><div>        $antialias = false;&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>        $antialias = true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($g['attr']['DPI']) {&nbsp;</div></li><li><div>        $dpi = intval($g['attr']['DPI']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (!$dpi || $dpi &lt; 50 || $dpi &gt; 2400) {&nbsp;</div></li><li><div>        $dpi = 150;&nbsp;</div></li><li><div>    }  // Default dpi 150&nbsp;</div></li><li><div>    $k = (0.2645 / 25.4 * $dpi);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // <a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/m_pdf/" data-id="1401995" title="mPDF" class="class">mPDF</a> 4.5.009&nbsp;</div></li><li><div>    global $JpgUseSVGFormat;&nbsp;</div></li><li><div>    if (isset($JpgUseSVGFormat) && $JpgUseSVGFormat) {&nbsp;</div></li><li><div>        $img_type = svg;&nbsp;</div></li><li><div>        $k = 1; // Overrides as Vector scale does not need DPI&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>        $img_type = 'png';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['TITLE']) && $g['attr']['TITLE']) {&nbsp;</div></li><li><div>        $title = $g['attr']['TITLE'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['LABEL-X']) && $g['attr']['LABEL-X']) {&nbsp;</div></li><li><div>        $xlabel = $g['attr']['LABEL-X'];&nbsp;</div></li><li><div>    }  // NOT IMPLEMENTED??????&nbsp;</div></li><li><div>    if (isset($g['attr']['LABEL-Y']) && $g['attr']['LABEL-Y']) {&nbsp;</div></li><li><div>        $ylabel = $g['attr']['LABEL-Y'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['AXIS-X']) && $g['attr']['AXIS-X']) {&nbsp;</div></li><li><div>        $xaxis = strtolower($g['attr']['AXIS-X']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (!in_array($xaxis, array('text', 'lin', 'linear', 'log'))) {&nbsp;</div></li><li><div>        $xaxis = 'text';&nbsp;</div></li><li><div>    } // Default=text&nbsp;</div></li><li><div>    if ($xaxis == 'linear') {&nbsp;</div></li><li><div>        $xaxis = 'lin';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['AXIS-Y']) && $g['attr']['AXIS-Y']) {&nbsp;</div></li><li><div>        $yaxis = strtolower($g['attr']['AXIS-Y']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (!in_array($yaxis, array('lin', 'linear', 'log', 'percent'))) {&nbsp;</div></li><li><div>        $yaxis = 'lin';&nbsp;</div></li><li><div>    }   // Default=lin&nbsp;</div></li><li><div>    if ($yaxis == 'percent') {&nbsp;</div></li><li><div>        $show_percent = true;&nbsp;</div></li><li><div>        $yaxis = 'lin';&nbsp;</div></li><li><div>    } // Show percent sign on scales&nbsp;</div></li><li><div>    if ($yaxis == 'linear') {&nbsp;</div></li><li><div>        $yaxis = 'lin';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($splines) {&nbsp;</div></li><li><div>        $xaxis = 'lin';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $axes = $xaxis . $yaxis; // e.g.textlin, textlog, loglog, loglin, linlog (XY)&nbsp;</div></li><li><div>    // <a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/m_pdf/" data-id="1401995" title="mPDF" class="class">mPDF</a> 4.0&nbsp;</div></li><li><div>    if (isset($g['attr']['cWIDTH']) && $g['attr']['cWIDTH']) {&nbsp;</div></li><li><div>        $w = ($g['attr']['cWIDTH'] / 0.2645);&nbsp;</div></li><li><div>    } // pixels&nbsp;</div></li><li><div>    if (isset($g['attr']['cHEIGHT']) && $g['attr']['cHEIGHT']) {&nbsp;</div></li><li><div>        $h = ($g['attr']['cHEIGHT'] / 0.2645);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['SERIES']) && strtolower($g['attr']['SERIES']) == 'rows') {&nbsp;</div></li><li><div>        $dataseries = 'rows';&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>        $dataseries = 'cols';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // Defaults - define data&nbsp;</div></li><li><div>    $rowbegin = 2;&nbsp;</div></li><li><div>    $colbegin = 2;&nbsp;</div></li><li><div>    if ($type == 'scatter' || $type == 'xy') {&nbsp;</div></li><li><div>        if ($dataseries == 'rows') {&nbsp;</div></li><li><div>            $rowbegin = 1;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $colbegin = 1;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $rowend = 0;&nbsp;</div></li><li><div>    $colend = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['DATA-ROW-BEGIN']) && ($g['attr']['DATA-ROW-BEGIN'] === '0' || $g['attr']['DATA-ROW-BEGIN'] &gt; 0)) {&nbsp;</div></li><li><div>        $rowbegin = $g['attr']['DATA-ROW-BEGIN'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['DATA-COL-BEGIN']) && ($g['attr']['DATA-COL-BEGIN'] === '0' || $g['attr']['DATA-COL-BEGIN'] &gt; 0)) {&nbsp;</div></li><li><div>        $colbegin = $g['attr']['DATA-COL-BEGIN'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($g['attr']['DATA-ROW-END']) && ($g['attr']['DATA-ROW-END'] === '0' || $g['attr']['DATA-ROW-END'] &lt;&gt; 0)) {&nbsp;</div></li><li><div>        $rowend = $g['attr']['DATA-ROW-END'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (isset($g['attr']['DATA-COL-END']) && ($g['attr']['DATA-COL-END'] === '0' || $g['attr']['DATA-COL-END'] &lt;&gt; 0)) {&nbsp;</div></li><li><div>        $colend = $g['attr']['DATA-COL-END'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $nr = count($g['data']);&nbsp;</div></li><li><div>    $nc = 0;&nbsp;</div></li><li><div>    foreach ($g['data'] AS $r) {&nbsp;</div></li><li><div>        $cc = 0;&nbsp;</div></li><li><div>        foreach ($r AS $c) {&nbsp;</div></li><li><div>            $cc++;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $nc = max($nc, $cc);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if ($colend == 0) {&nbsp;</div></li><li><div>        $colend = $nc;&nbsp;</div></li><li><div>    } else if ($colend &lt; 0) {&nbsp;</div></li><li><div>        $colend = $nc + $colend;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($rowend == 0) {&nbsp;</div></li><li><div>        $rowend = $nr;&nbsp;</div></li><li><div>    } else if ($rowend &lt; 0) {&nbsp;</div></li><li><div>        $rowend = $nr + $rowend;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($colend &lt; $colbegin) {&nbsp;</div></li><li><div>        $colend = $colbegin;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if ($rowend &lt; $rowbegin) {&nbsp;</div></li><li><div>        $rowend = $rowbegin;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>//    if ($type == 'xy' || $type=='scatter') { $colstart=0; }&nbsp;</div></li><li><div>    // Get Data + Totals&nbsp;</div></li><li><div>    $data = array();&nbsp;</div></li><li><div>    $totals = array();&nbsp;</div></li><li><div>    for ($r = ($rowbegin - 1); $r &lt; $rowend; $r++) {&nbsp;</div></li><li><div>        for ($c = ($colbegin - 1); $c &lt; $colend; $c++) {&nbsp;</div></li><li><div>            if (isset($g['data'][$r][$c])) {&nbsp;</div></li><li><div>                $g['data'][$r][$c] = floatval($g['data'][$r][$c]);&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $g['data'][$r][$c] = 0;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($dataseries == 'rows') {&nbsp;</div></li><li><div>                $data[($r + 1 - $rowbegin)][($c + 1 - $colbegin)] = $g['data'][$r][$c];&nbsp;</div></li><li><div>                $totals[($r + 1 - $rowbegin)] += $g['data'][$r][$c];&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $data[($c + 1 - $colbegin)][($r + 1 - $rowbegin)] = $g['data'][$r][$c];&nbsp;</div></li><li><div>                if (isset($totals[($c + 1 - $colbegin)])) {&nbsp;</div></li><li><div>                    $totals[($c + 1 - $colbegin)] += $g['data'][$r][$c];&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $totals[($c + 1 - $colbegin)] = $g['data'][$r][$c];&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    // PERCENT&nbsp;</div></li><li><div>    if ($percent && $type != 'pie' && $type != 'pie3d') {&nbsp;</div></li><li><div>        for ($r = 0; $r &lt; count($data); $r++) {&nbsp;</div></li><li><div>            for ($c = 0; $c &lt; count($data[$r]); $c++) {&nbsp;</div></li><li><div>                $data[$r][$c] = $data[$r][$c] / $totals[$r] * 100;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    // Get Legends and labels&nbsp;</div></li><li><div>    $legends = array();&nbsp;</div></li><li><div>    $labels = array();&nbsp;</div></li><li><div>    $longestlegend = 0;&nbsp;</div></li><li><div>    $longestlabel = 0;&nbsp;</div></li><li><div>    if ($dataseries == 'cols') {&nbsp;</div></li><li><div>        if ($colbegin &gt; 1) {&nbsp;</div></li><li><div>            for ($r = ($rowbegin - 1); $r &lt; $rowend; $r++) {&nbsp;</div></li><li><div>                $legends[($r + 1 - $rowbegin)] = $g['data'][$r][0];&nbsp;</div></li><li><div>                $longestlegend = max($longestlegend, strlen($g['data'][$r][0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($rowbegin &gt; 1) {&nbsp;</div></li><li><div>            for ($c = ($colbegin - 1); $c &lt; $colend; $c++) {&nbsp;</div></li><li><div>                $labels[($c + 1 - $colbegin)] = $g['data'][0][$c];&nbsp;</div></li><li><div>                $longestlabel = max($longestlabel, strlen($g['data'][0][$c]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    } else if ($dataseries == 'rows') {&nbsp;</div></li><li><div>        if ($colbegin &gt; 1) {&nbsp;</div></li><li><div>            for ($r = ($rowbegin - 1); $r &lt; $rowend; $r++) {&nbsp;</div></li><li><div>                $labels[($r + 1 - $rowbegin)] = $g['data'][$r][0];&nbsp;</div></li><li><div>                $longestlabel = max($longestlabel, strlen($g['data'][$r][0]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($rowbegin &gt; 1) {&nbsp;</div></li><li><div>            for ($c = ($colbegin - 1); $c &lt; $colend; $c++) {&nbsp;</div></li><li><div>                $legends[($c + 1 - $colbegin)] = $g['data'][0][$c];&nbsp;</div></li><li><div>                $longestlegend = max($longestlegend, strlen($g['data'][0][$c]));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    // Default sizes&nbsp;</div></li><li><div>    $defsize = array();&nbsp;</div></li><li><div>    $defsize['pie'] = array('w' =&gt; 600, 'h' =&gt; 300);&nbsp;</div></li><li><div>    $defsize['pie3d'] = array('w' =&gt; 600, 'h' =&gt; 300);&nbsp;</div></li><li><div>    $defsize['radar'] = array('w' =&gt; 600, 'h' =&gt; 300);&nbsp;</div></li><li><div>    $defsize['line'] = array('w' =&gt; 600, 'h' =&gt; 400);&nbsp;</div></li><li><div>    $defsize['xy'] = array('w' =&gt; 600, 'h' =&gt; 400);&nbsp;</div></li><li><div>    $defsize['scatter'] = array('w' =&gt; 600, 'h' =&gt; 400);&nbsp;</div></li><li><div>    $defsize['bar'] = array('w' =&gt; 600, 'h' =&gt; 400);&nbsp;</div></li><li><div>    $defsize['horiz_bar'] = array('w' =&gt; 600, 'h' =&gt; 500);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // Use default ratios&nbsp;</div></li><li><div>    if ($w && !$h) {&nbsp;</div></li><li><div>        $h = $w * $defsize[$type]['h'] / $defsize[$type]['w'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if ($h && !$w) {&nbsp;</div></li><li><div>        $w = $h * $defsize[$type]['w'] / $defsize[$type]['h'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    if (!$h && !$w) {&nbsp;</div></li><li><div>        $w = $defsize[$type]['w'];&nbsp;</div></li><li><div>        $h = $defsize[$type]['h'];&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (count($data) &gt; 0 && $type) {&nbsp;</div></li><li><div>        $figure_file = &quot;graph_cache/&quot; . rand(11111, 999999999) . &quot;.&quot; . $img_type;&nbsp;</div></li><li><div>        if ($bandw) {&nbsp;</div></li><li><div>            $colours = array('snow1', 'black', 'snow4', 'snow3', 'snow2', 'cadetblue4', 'cadetblue3', 'cadetblue1', 'bisque4', 'bisque2', 'beige');&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $colours = array('cyan', 'darkorchid4', 'cadetblue3', 'khaki1', 'darkolivegreen2', 'cadetblue4', 'coral', 'cyan4', 'rosybrown3', 'wheat1');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $fills = array('navy', 'orange', 'red', 'yellow', 'purple', 'navy', 'orange', 'red', 'yellow', 'purple');&nbsp;</div></li><li><div>        $patterns = array(PATTERN_DIAG1, PATTERN_CROSS1, PATTERN_STRIPE1, PATTERN_DIAG3, PATTERN_CROSS2, PATTERN_DIAG2, PATTERN_DIAG4, PATTERN_CROSS3, PATTERN_CROSS4, PATTERN_STRIPE1);&nbsp;</div></li><li><div>        $markers = array(MARK_DIAMOND, MARK_SQUARE, MARK_CIRCLE, MARK_UTRIANGLE, MARK_DTRIANGLE, MARK_FILLEDCIRCLE, MARK_CROSS, MARK_STAR, MARK_X);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // LEGENDS&nbsp;</div></li><li><div>        if ($type == 'pie' || $type == 'pie3d') {&nbsp;</div></li><li><div>            $graph = new PieGraph(($w * $k), ($h * $k));&nbsp;</div></li><li><div>        } else if ($type == 'radar') {&nbsp;</div></li><li><div>            $graph = new RadarGraph(($w * $k), ($h * $k));&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $graph = new Graph(($w * $k), ($h * $k));&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // <a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/m_pdf/" data-id="1401995" title="mPDF" class="class">mPDF</a> 4.5.009&nbsp;</div></li><li><div>        //    $graph-&gt;img-&gt;SetImgFormat($img_type) ;&nbsp;</div></li><li><div>        //    if (strtoupper($img_type)=='JPEG') { $graph-&gt;img-&gt;SetQuality(90); }&nbsp;</div></li><li><div>        if ($antialias) {&nbsp;</div></li><li><div>            $graph-&gt;img-&gt;SetAntiAliasing();&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $graph-&gt;SetShadow(true, 2 * $k);&nbsp;</div></li><li><div>        $graph-&gt;SetMarginColor(&quot;white&quot;);&nbsp;</div></li><li><div>        // TITLE&nbsp;</div></li><li><div>        $graph-&gt;title-&gt;Set($title);&nbsp;</div></li><li><div>        $graph-&gt;title-&gt;SetMargin(10 * $k);&nbsp;</div></li><li><div>        $graph-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_BOLD, 11 * $k);&nbsp;</div></li><li><div>        $graph-&gt;title-&gt;SetColor(&quot;black&quot;);&nbsp;</div></li><li><div>        $graph-&gt;legend-&gt;SetLineSpacing(3 * $k);&nbsp;</div></li><li><div>        $graph-&gt;legend-&gt;SetMarkAbsSize(6 * $k);&nbsp;</div></li><li><div>        $graph-&gt;legend-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Set GRAPH IMAGE MARGINS&nbsp;</div></li><li><div>        if ($type == 'pie' || $type == 'pie3d') {&nbsp;</div></li><li><div>            $psize = 0.3;&nbsp;</div></li><li><div>            $pposxabs = ($w / 2);&nbsp;</div></li><li><div>            $pposy = 0.55;&nbsp;</div></li><li><div>            if ($longestlegend) { // if legend showing&nbsp;</div></li><li><div>                $pposxabs -= ((($longestlegend * 5) + 20) / 2);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $pposx = ($pposxabs / $w);&nbsp;</div></li><li><div>            $graph-&gt;legend-&gt;Pos(0.02, 0.5, 'right', 'center');&nbsp;</div></li><li><div>        } else if ($type == 'radar') {&nbsp;</div></li><li><div>            $psize = 0.5;&nbsp;</div></li><li><div>            $pposxabs = ($w / 2);&nbsp;</div></li><li><div>            $pposy = 0.55;&nbsp;</div></li><li><div>            if ($longestlabel) { // if legend showing&nbsp;</div></li><li><div>                $pposxabs -= ((($longestlabel * 5) + 20) / 2);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $pposx = ($pposxabs / $w);&nbsp;</div></li><li><div>            $graph-&gt;legend-&gt;Pos(0.02, 0.5, 'right', 'center');&nbsp;</div></li><li><div>        } else if ($type == 'xy' || $type == 'scatter') {&nbsp;</div></li><li><div>            $pml = 50;&nbsp;</div></li><li><div>            $pmr = 20;&nbsp;</div></li><li><div>            $pmt = 60;&nbsp;</div></li><li><div>            $pmb = 50;&nbsp;</div></li><li><div>            $xaxislblmargin = $pmb - 30;&nbsp;</div></li><li><div>            $yaxislblmargin = $pml - 15;&nbsp;</div></li><li><div>            $graph-&gt;legend-&gt;Pos(0.02, 0.1, 'right', 'top');&nbsp;</div></li><li><div>        } else if ($type == 'line' || $type == 'bar') {&nbsp;</div></li><li><div>            $pml = 50;&nbsp;</div></li><li><div>            $pmr = 20;&nbsp;</div></li><li><div>            $pmt = 60;&nbsp;</div></li><li><div>            $pmb = 50;&nbsp;</div></li><li><div>            $xlangle = 0;&nbsp;</div></li><li><div>            $ll = ($longestlegend * 5); // 45 degrees 8pt fontsize&nbsp;</div></li><li><div>            if ($ll &gt; 5 || ($ll &gt; 3 && count($data) &gt; 10)) {&nbsp;</div></li><li><div>                $pmb = max($pmb, $ll + 30);&nbsp;</div></li><li><div>                $xlangle = 50;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $xaxislblmargin = $pmb - 30;&nbsp;</div></li><li><div>            $yaxislblmargin = $pml - 15;&nbsp;</div></li><li><div>            if ($longestlabel && !$overlap) { // if legend showing&nbsp;</div></li><li><div>                $pmr = ((($longestlabel * 5) + 40));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $graph-&gt;legend-&gt;Pos(0.02, 0.1, 'right', 'top');&nbsp;</div></li><li><div>        } else if ($type == 'horiz_bar') {&nbsp;</div></li><li><div>            $pml = 50;&nbsp;</div></li><li><div>            $pmr = 20;&nbsp;</div></li><li><div>            $pmt = 50;&nbsp;</div></li><li><div>            $pmb = 45;&nbsp;</div></li><li><div>            $ll = ($longestlegend * 6.5); // 8pt fontsize&nbsp;</div></li><li><div>            $pml = max($pml, $ll + 20);&nbsp;</div></li><li><div>            $xaxislblmargin = $pml - 20;&nbsp;</div></li><li><div>            $yaxislblmargin = $pmb - 15;&nbsp;</div></li><li><div>            if ($longestlabel && !$overlap) { // if legend showing&nbsp;</div></li><li><div>                $pmr = ((($longestlabel * 5) + 40));&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $graph-&gt;legend-&gt;Pos(0.02, 0.1, 'right', 'top');&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // DRAW THE GRAPHS&nbsp;</div></li><li><div>        if ($type == 'pie') {&nbsp;</div></li><li><div>            $p1 = new PiePlot($data[0]);&nbsp;</div></li><li><div>            $p1-&gt;SetSliceColors($colours);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ($show_values) {&nbsp;</div></li><li><div>                $p1-&gt;value-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                if ($percent) {&nbsp;</div></li><li><div>                    $p1-&gt;SetLabelType(PIE_VALUE_PERADJ);&nbsp;</div></li><li><div>                }   //PIE_VAL_PER = default&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $p1-&gt;SetLabelType(PIE_VALUE_ABS);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ($percent || $show_percent) {&nbsp;</div></li><li><div>                    $p1-&gt;value-&gt;SetFormat(&quot;%d%%&quot;);&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $p1-&gt;value-&gt;SetFormat(&quot;%s&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Enable and set policy for guide-lines. Make labels line up vertically&nbsp;</div></li><li><div>                $p1-&gt;SetGuideLines(true);&nbsp;</div></li><li><div>                $p1-&gt;SetGuideLinesAdjust(1.5);&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $p1-&gt;value-&gt;Show(false);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $p1-&gt;SetLegends($legends);&nbsp;</div></li><li><div>            $p1-&gt;SetSize($psize);&nbsp;</div></li><li><div>            $p1-&gt;SetCenter($pposx, $pposy);&nbsp;</div></li><li><div>            if ($labels[0]) {&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;Set($labels[0]);&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;SetMargin(10 * $k);&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_BOLD, 11 * $k);&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;SetColor(&quot;black&quot;);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $graph-&gt;Add($p1);&nbsp;</div></li><li><div>        } else if ($type == 'pie3d') {&nbsp;</div></li><li><div>            $p1 = new PiePlot3d($data[0]);&nbsp;</div></li><li><div>            $p1-&gt;SetSliceColors($colours);&nbsp;</div></li><li><div>            if ($show_values) {&nbsp;</div></li><li><div>                $p1-&gt;value-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                if ($percent) {&nbsp;</div></li><li><div>                    $p1-&gt;SetLabelType(PIE_VALUE_PERADJ);&nbsp;</div></li><li><div>                }   //PIE_VAL_PER = default&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    $p1-&gt;SetLabelType(PIE_VALUE_ABS);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ($percent || $show_percent) {&nbsp;</div></li><li><div>                    $p1-&gt;value-&gt;SetFormat(&quot;%d%%&quot;);&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $p1-&gt;value-&gt;SetFormat(&quot;%s&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $p1-&gt;value-&gt;Show(false);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $p1-&gt;SetLegends($legends);&nbsp;</div></li><li><div>            $p1-&gt;SetEdge();&nbsp;</div></li><li><div>            $p1-&gt;SetSize($psize);&nbsp;</div></li><li><div>            $p1-&gt;SetCenter($pposx, $pposy);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ($labels[0]) {&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;Set($labels[0]);&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;SetMargin(10 * $k);&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_BOLD, 11 * $k);&nbsp;</div></li><li><div>                $graph-&gt;subtitle-&gt;SetColor(&quot;black&quot;);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $graph-&gt;Add($p1);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // RADAR&nbsp;</div></li><li><div>        else if ($type == 'radar') {&nbsp;</div></li><li><div>            $graph-&gt;SetSize($psize);&nbsp;</div></li><li><div>            $graph-&gt;SetPos($pposx, $pposy);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $graph-&gt;SetTitles($legends); // labels each axis&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $graph-&gt;axis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            $graph-&gt;axis-&gt;title-&gt;SetMargin(5 * $k);&nbsp;</div></li><li><div>            $graph-&gt;axis-&gt;SetWeight(1 * $k);&nbsp;</div></li><li><div>            $graph-&gt;axis-&gt;HideLabels();&nbsp;</div></li><li><div>            $graph-&gt;axis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 6 * $k);&nbsp;</div></li><li><div>            $graph-&gt;HideTickMarks();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $group = array();&nbsp;</div></li><li><div>            foreach ($data AS $series =&gt; $dat) {&nbsp;</div></li><li><div>                $rdata = array();&nbsp;</div></li><li><div>                foreach ($data[$series] AS $row) {&nbsp;</div></li><li><div>                    $rdata[] = $row;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if (count($rdata) &lt; 3) {&nbsp;</div></li><li><div>                    throw new <a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/mpdf_exception/" data-id="1401933" title="MpdfException" class="class">MpdfException</a>(&quot;ERROR::Graph::Cannot create a Radar Plot with less than 3 data points.&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Create the radar plot&nbsp;</div></li><li><div>                $bplot = new RadarPlot($rdata);&nbsp;</div></li><li><div>                $bplot-&gt;mark-&gt;SetType($markers[$series]);&nbsp;</div></li><li><div>                $bplot-&gt;mark-&gt;SetFillColor($colours[$series]);&nbsp;</div></li><li><div>                $bplot-&gt;mark-&gt;SetWidth(3 * $k);&nbsp;</div></li><li><div>                $bplot-&gt;SetColor($colours[$series]);&nbsp;</div></li><li><div>                if ($series == 0) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetFillColor('lightred');&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $bplot-&gt;SetFill(false);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $bplot-&gt;SetLineWeight(1 * $k);&nbsp;</div></li><li><div>                $bplot-&gt;SetLegend($labels[$series]);&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetShadow(&quot;gray5&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $graph-&gt;Add($bplot);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // LINE&nbsp;</div></li><li><div>        else if ($type == 'line') {&nbsp;</div></li><li><div>            // Setup the graph.&nbsp;</div></li><li><div>            $graph-&gt;img-&gt;SetMargin($pml * $k, $pmr * $k, $pmt * $k, $pmb * $k); // LRTB&nbsp;</div></li><li><div>            $graph-&gt;SetScale($axes);&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ($ylabel) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitle($ylabel, 'middle');&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitleMargin($yaxislblmargin * $k);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            if ($percent || $show_percent) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetLabelFormat('%d%%');&nbsp;</div></li><li><div>            } // Percent&nbsp;</div></li><li><div>            // Show 0 label on Y-axis (default is not to show)&nbsp;</div></li><li><div>            $graph-&gt;yscale-&gt;ticks-&gt;SupressZeroLabel(true);&nbsp;</div></li><li><div>            if ($hide_y_axis) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;Hide();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($hide_grid) {&nbsp;</div></li><li><div>                $graph-&gt;ygrid-&gt;Show(false);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Setup X-axis labels&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetTickLabels($legends);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelAngle($xlangle);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            // X-axis title&nbsp;</div></li><li><div>            if ($xlabel) {&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitle($xlabel, 'middle');&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitleMargin($xaxislblmargin * $k);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            foreach ($data AS $series =&gt; $rdata) {&nbsp;</div></li><li><div>                $bplot = new LinePlot($rdata);&nbsp;</div></li><li><div>                $bplot-&gt;mark-&gt;SetType($markers[$series]);&nbsp;</div></li><li><div>                $bplot-&gt;mark-&gt;SetFillColor($colours[$series]);&nbsp;</div></li><li><div>                $bplot-&gt;mark-&gt;SetWidth(4 * $k);&nbsp;</div></li><li><div>                if ($show_values) {&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;Show(); // Not if scatter&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetMargin(6 * $k);&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetColor(&quot;darkred&quot;);&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                    if ($percent || $show_percent) {&nbsp;</div></li><li><div>                        $bplot-&gt;value-&gt;SetFormat('%d%%');&nbsp;</div></li><li><div>                    } else {&nbsp;</div></li><li><div>                        $bplot-&gt;value-&gt;SetFormat(&quot;%s&quot;);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Set color for each line&nbsp;</div></li><li><div>                $bplot-&gt;SetColor($colours[$series]);&nbsp;</div></li><li><div>                $bplot-&gt;SetWeight(2 * $k);&nbsp;</div></li><li><div>                $bplot-&gt;SetLegend($labels[$series]);&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetShadow(&quot;gray5&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Indent the X-scale so the first and last point doesn't fall on the edges&nbsp;</div></li><li><div>                $bplot-&gt;SetCenter();&nbsp;</div></li><li><div>                $graph-&gt;Add($bplot);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // XY or SCATTER&nbsp;</div></li><li><div>        else if ($type == 'xy' || $type == 'scatter') {&nbsp;</div></li><li><div>            // Setup the graph.&nbsp;</div></li><li><div>            $graph-&gt;img-&gt;SetMargin($pml * $k, $pmr * $k, $pmt * $k, $pmb * $k); // LRTB&nbsp;</div></li><li><div>            $graph-&gt;SetScale($axes);&nbsp;</div></li><li><div>            // Setup font for axis&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            // Y-axis title&nbsp;</div></li><li><div>            if ($labels[1]) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitleMargin($yaxislblmargin * $k);&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitle($labels[1], 'middle');&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            if ($percent || $show_percent) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetLabelFormat('%d%%');&nbsp;</div></li><li><div>            } // Percent&nbsp;</div></li><li><div>            // Show 0 label on Y-axis (default is not to show)&nbsp;</div></li><li><div>            $graph-&gt;yscale-&gt;ticks-&gt;SupressZeroLabel(true);&nbsp;</div></li><li><div>            // Just let the maximum be autoscaled&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;scale-&gt;SetAutoMin(0);&nbsp;</div></li><li><div>            if ($hide_y_axis) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;Hide();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($hide_grid) {&nbsp;</div></li><li><div>                $graph-&gt;ygrid-&gt;Show(false);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Setup X-axis labels&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            // <a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/m_pdf/" data-id="1401995" title="mPDF" class="class">mPDF</a> 2.5 Corrects labelling of x-axis&nbsp;</div></li><li><div>            //            $graph-&gt;xaxis-&gt;SetTickLabels($legends);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelAngle(50);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            // X-axis title&nbsp;</div></li><li><div>            if ($labels[0]) {&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitleMargin($xaxislblmargin * $k);&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitle($labels[0], 'middle');&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Create the bar plot&nbsp;</div></li><li><div>            // SPLINES&nbsp;</div></li><li><div>            if ($splines && $type == 'xy') {&nbsp;</div></li><li><div>                $spline = new Spline($data[0], $data[1]);&nbsp;</div></li><li><div>                list($newx, $newy) = $spline-&gt;Get(100);&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                $newx = $data[0];&nbsp;</div></li><li><div>                $newy = $data[1];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if ($type == 'xy') {&nbsp;</div></li><li><div>                // LINE PLOT&nbsp;</div></li><li><div>                $bplot = new LinePlot($newy, $newx);&nbsp;</div></li><li><div>                // Set color for each line&nbsp;</div></li><li><div>                $bplot-&gt;SetColor($fills[0]);&nbsp;</div></li><li><div>                $bplot-&gt;SetWeight(4 * $k);&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetShadow(&quot;gray5&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $graph-&gt;Add($bplot);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // SCATTER PLOT&nbsp;</div></li><li><div>            $cplot = new ScatterPlot($data[1], $data[0]);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $cplot-&gt;mark-&gt;SetType($markers[0]);&nbsp;</div></li><li><div>            $cplot-&gt;mark-&gt;SetFillColor($fills[0]);&nbsp;</div></li><li><div>            $cplot-&gt;mark-&gt;SetWidth(8 * $k);&nbsp;</div></li><li><div>            if ($show_values) {&nbsp;</div></li><li><div>                // <a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/classes/m_pdf/" data-id="1401995" title="mPDF" class="class">mPDF</a> 2.5&nbsp;</div></li><li><div>                if ($type == 'xy') {&nbsp;</div></li><li><div>                    $cplot-&gt;value-&gt;Show();&nbsp;</div></li><li><div>                } // Not if scatter&nbsp;</div></li><li><div>                $cplot-&gt;value-&gt;SetMargin(8 * $k);&nbsp;</div></li><li><div>                $cplot-&gt;value-&gt;SetColor(&quot;darkred&quot;);&nbsp;</div></li><li><div>                $cplot-&gt;value-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 6 * $k);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ($percent || $show_percent) {&nbsp;</div></li><li><div>                    $cplot-&gt;value-&gt;SetFormat('%d%%');&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $cplot-&gt;value-&gt;SetFormat(&quot;%s&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Set color for each line&nbsp;</div></li><li><div>            $cplot-&gt;SetColor($fills[0]);&nbsp;</div></li><li><div>            $cplot-&gt;SetWeight(4 * $k);&nbsp;</div></li><li><div>            if ($bandw) {&nbsp;</div></li><li><div>                $cplot-&gt;SetShadow(&quot;gray5&quot;);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $graph-&gt;Add($cplot);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // BAR&nbsp;</div></li><li><div>        else if ($type == 'bar') {&nbsp;</div></li><li><div>            // Setup the graph.&nbsp;</div></li><li><div>            $graph-&gt;img-&gt;SetMargin($pml * $k, $pmr * $k, $pmt * $k, $pmb * $k); // LRTB&nbsp;</div></li><li><div>            $graph-&gt;SetScale($axes);&nbsp;</div></li><li><div>            // Setup y-axis&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            if ($hide_y_axis) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;Hide();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($hide_grid) {&nbsp;</div></li><li><div>                $graph-&gt;ygrid-&gt;Show(false);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            if ($ylabel) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitle($ylabel, 'middle');&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitleMargin($yaxislblmargin * $k);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // Show 0 label on Y-axis (default is not to show)&nbsp;</div></li><li><div>            $graph-&gt;yscale-&gt;ticks-&gt;SupressZeroLabel(false);&nbsp;</div></li><li><div>            // Setup X-axis labels&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetTickLabels($legends);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelAngle($xlangle);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            // X-axis title&nbsp;</div></li><li><div>            if ($xlabel) {&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitle($xlabel, 'middle');&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitleMargin($xaxislblmargin * $k);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $group = array();&nbsp;</div></li><li><div>            foreach ($data AS $series =&gt; $dat) {&nbsp;</div></li><li><div>                $rdata = array();&nbsp;</div></li><li><div>                foreach ($data[$series] AS $row) {&nbsp;</div></li><li><div>                    $rdata[] = $row;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Create the bar plot&nbsp;</div></li><li><div>                $bplot = new BarPlot($rdata);&nbsp;</div></li><li><div>                $bplot-&gt;SetWidth(0.6); // for SINGLE??&nbsp;</div></li><li><div>                // Setup color for gradient fill style&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetPattern($patterns[$series]);&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $bplot-&gt;SetFillGradient($fills[$series], &quot;#EEEEEE&quot;, GRAD_LEFT_REFLECTION);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Set color for the frame of each bar&nbsp;</div></li><li><div>                $bplot-&gt;SetColor(&quot;darkgray&quot;);&nbsp;</div></li><li><div>                $bplot-&gt;SetLegend($labels[$series]);&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetShadow(&quot;gray5&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ($show_values) {&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;Show();&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetMargin(6 * $k);&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetColor(&quot;darkred&quot;);&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                    if ($percent || $show_percent) {&nbsp;</div></li><li><div>                        $bplot-&gt;value-&gt;SetFormat('%d%%');&nbsp;</div></li><li><div>                    } else {&nbsp;</div></li><li><div>                        $bplot-&gt;value-&gt;SetFormat(&quot;%s&quot;);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $group[] = $bplot;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (count($data) == 1) {&nbsp;</div></li><li><div>                $graph-&gt;Add($group[0]);&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                // Create the grouped bar plot&nbsp;</div></li><li><div>                if ($stacked) {&nbsp;</div></li><li><div>                    $gbplot = new AccBarPlot($group);&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $gbplot = new GroupBarPlot($group);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $graph-&gt;Add($gbplot);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        } else if ($type == 'horiz_bar') {&nbsp;</div></li><li><div>            $graph-&gt;SetScale($axes);&nbsp;</div></li><li><div>            $graph-&gt;Set90AndMargin($pml * $k, $pmr * $k, $pmt * $k, $pmb * $k); // LRTB&nbsp;</div></li><li><div>            // Setup y-axis&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetPos('max'); // Intersect at top of x-axis i.e. y axis is at bottom&nbsp;</div></li><li><div>            // First make the labels look right&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetLabelAlign('center', 'top');&nbsp;</div></li><li><div>            if ($percent || $show_percent) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetLabelFormat('%d%%');&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetLabelSide(SIDE_RIGHT);&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;scale-&gt;SetGrace(10);  // sets 10% headroom&nbsp;</div></li><li><div>            if ($hide_y_axis) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;Hide();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if ($hide_grid) {&nbsp;</div></li><li><div>                $graph-&gt;ygrid-&gt;Show(false);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // The fix the tick marks&nbsp;</div></li><li><div>            $graph-&gt;yaxis-&gt;SetTickSide(SIDE_LEFT);&nbsp;</div></li><li><div>            if ($ylabel) {&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitle($ylabel, 'middle');&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitleMargin($yaxislblmargin * $k);&nbsp;</div></li><li><div>                // Finally setup the title&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;SetTitleSide(SIDE_RIGHT);&nbsp;</div></li><li><div>                // To align the title to the right use :&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;title-&gt;Align('right');&nbsp;</div></li><li><div>                $graph-&gt;yaxis-&gt;title-&gt;SetAngle(0);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Show 0 label on Y-axis (default is not to show)&nbsp;</div></li><li><div>            $graph-&gt;yscale-&gt;ticks-&gt;SupressZeroLabel(false);&nbsp;</div></li><li><div>            // Setup X-axis labels&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;title-&gt;SetAngle(90);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetTickLabels($legends);&nbsp;</div></li><li><div>            $graph-&gt;xaxis-&gt;SetLabelMargin(4 * $k);&nbsp;</div></li><li><div>            // X-axis title&nbsp;</div></li><li><div>            if ($xlabel) {&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;title-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitleMargin($xaxislblmargin * $k);&nbsp;</div></li><li><div>                $graph-&gt;xaxis-&gt;SetTitle($xlabel, 'middle');&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $group = array();&nbsp;</div></li><li><div>            foreach ($data AS $series =&gt; $dat) {&nbsp;</div></li><li><div>                $rdata = array();&nbsp;</div></li><li><div>                foreach ($data[$series] AS $row) {&nbsp;</div></li><li><div>                    $rdata[] = $row;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Create the bar pot&nbsp;</div></li><li><div>                $bplot = new BarPlot($rdata);&nbsp;</div></li><li><div>                $bplot-&gt;SetWidth(0.6); // for SINGLE??&nbsp;</div></li><li><div>                // Setup color for gradient fill style&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetPattern($patterns[$series]);&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $bplot-&gt;SetFillGradient($fills[$series], &quot;#EEEEEE&quot;, GRAD_LEFT_REFLECTION);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Set color for the frame of each bar&nbsp;</div></li><li><div>                $bplot-&gt;SetColor(&quot;darkgray&quot;);&nbsp;</div></li><li><div>                $bplot-&gt;SetLegend($labels[$series]);&nbsp;</div></li><li><div>                if ($bandw) {&nbsp;</div></li><li><div>                    $bplot-&gt;SetShadow(&quot;gray5&quot;);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                if ($show_values) {&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;Show();&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetMargin(6 * $k);&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetColor(&quot;darkred&quot;);&nbsp;</div></li><li><div>                    $bplot-&gt;value-&gt;SetFont(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/ff_userfont/" data-id="1401908" title="FF_USERFONT" class="constant">FF_USERFONT</a>, FS_NORMAL, 8 * $k);&nbsp;</div></li><li><div>                    if ($percent || $show_percent) {&nbsp;</div></li><li><div>                        $bplot-&gt;value-&gt;SetFormat('%d%%');&nbsp;</div></li><li><div>                    } else {&nbsp;</div></li><li><div>                        $bplot-&gt;value-&gt;SetFormat(&quot;%s&quot;);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $group[] = $bplot;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            if (count($data) == 1) {&nbsp;</div></li><li><div>                $graph-&gt;Add($group[0]);&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                // Create the grouped bar plot&nbsp;</div></li><li><div>                if ($stacked) {&nbsp;</div></li><li><div>                    $gbplot = new AccBarPlot($group);&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $gbplot = new GroupBarPlot($group);&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $graph-&gt;Add($gbplot);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ($graph) {&nbsp;</div></li><li><div>            $graph-&gt;Stroke(<a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/constants/mpdf_path/" data-id="1402014" title="_MPDF_PATH" class="constant">_MPDF_PATH</a> . $figure_file);&nbsp;</div></li><li><div>            $srcpath = str_replace(&quot;\\&quot;, &quot;/&quot;, dirname(__FILE__)) . &quot;/&quot;;&nbsp;</div></li><li><div>            $srcpath .= $figure_file;&nbsp;</div></li><li><div>            return array('file' =&gt; $srcpath, 'w' =&gt; $w, 'h' =&gt; $h);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 2.7.1</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.1/functions/print_graph/" class="active">2.8.1</a></li><li><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.8.0/functions/print_graph/" class="">2.8.0</a></li><li><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.7.3/functions/print_graph/" class="">2.7.3</a></li><li><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.7.2/functions/print_graph/" class="">2.7.2</a></li><li><a href="http://hookr.io/plugins/woocommerce-pdf-invoices/2.7.1/functions/print_graph/" class="">2.7.1</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>function</li><li><span></span>print_graph</li><li><span></span>WooCommerce PDF Invoices</li><li><span></span>2.8.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>