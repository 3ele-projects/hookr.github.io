<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="6.1.7" data-slug="google-analytics-for-wordpress-by-monsterinsights" data-type="class" data-id="10117"><head xmlns="http://www.w3.org/1999/xhtml"><title> monsterinsights_ga_lib_service_resource | class | Google Analytics For WordPress By Monsterinsights | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="MonsterInsights_GA_Lib_Service_Resource, class, plugin, google-analytics-for-wordpress-by-monsterinsights, 6.1.7" /><meta name="description" content="Implements the actual methods/resources of the discovered Google API using magic function calling overloading (__call()), which on call will see if the method name (plus.activities.list) is available in this service, and if so construct an apiHttpRequest representing it." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=528dc9106183cb9d1211ae4a221407f2' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/monster_insights_ga_lib_service_resource/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fmonster_insights_ga_lib_service_resource%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fmonster_insights_ga_lib_service_resource%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-google-analytics-for-wordpress-by-monsterinsights-6.1.7-class-monster_insights_ga_lib_service_resource","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="monster_insights_ga_lib_service_resource" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to google-analytics-for-wordpres&hellip;." href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/" class="plugin"><span property="name">google-analytics-for-wordpres&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 6.1.7." href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/" class="H_VERSION"><span property="name">6.1.7</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">monster_insights_ga_lib_servi&hellip;</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="578"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/all/" title="All">All <span class="count badge">578</span></a></li><li class="" data-id="new" data-count="2"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/new/" title="New">New <span class="count badge">2</span></a></li><li class="" data-id="hooks" data-count="105"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/hooks/" title="Hooks">Hooks <span class="count badge">105</span></a></li><li class="" data-id="action" data-count="35"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/actions/" title="Actions">Actions <span class="count badge">35</span></a></li><li class="" data-id="filter" data-count="70"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/filters/" title="Filters">Filters <span class="count badge">70</span></a></li><li class="active" data-id="class" data-count="287"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/classes/" title="Classes">Classes <span class="count badge">287</span></a></li><li class="" data-id="constant" data-count="11"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/constants/" title="Constants">Constants <span class="count badge">11</span></a></li><li class="" data-id="function" data-count="175"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/functions/" title="Functions">Functions <span class="count badge">175</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>MonsterInsights_GA_Lib_Service_Resource</strong></h1><p>Implements the actual methods/resources of the discovered Google API using magic function calling overloading (__call()), which on call will see if the method name (plus.activities.list) is available in this service, and if so construct an apiHttpRequest representing it.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/files/assets-lib-google-src-google-service-resource/" class="file">/assets/lib/google/src/Google/Service/Resource.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="28" class="block" start="28"><li><div>class MonsterInsights_GA_Lib_Service_Resource&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  // Valid query parameters that work, but don't appear in discovery.&nbsp;</div></li><li><div>  private $stackParameters = array(&nbsp;</div></li><li><div>      'alt' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'fields' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'trace' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'userIp' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'quotaUser' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'data' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'body'), &nbsp;</div></li><li><div>      'mimeType' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'header'), &nbsp;</div></li><li><div>      'uploadType' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'mediaUpload' =&gt; array('type' =&gt; 'complex', 'location' =&gt; 'query'), &nbsp;</div></li><li><div>      'prettyPrint' =&gt; array('type' =&gt; 'string', 'location' =&gt; 'query'), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /** @var string $rootUrl */&nbsp;</div></li><li><div>  private $rootUrl;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /** @var MonsterInsights_GA_Lib_Client $client */&nbsp;</div></li><li><div>  private $client;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /** @var string $serviceName */&nbsp;</div></li><li><div>  private $serviceName;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /** @var string $servicePath */&nbsp;</div></li><li><div>  private $servicePath;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /** @var string $resourceName */&nbsp;</div></li><li><div>  private $resourceName;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /** @var array $methods */&nbsp;</div></li><li><div>  private $methods;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function __construct($service, $serviceName, $resourceName, $resource)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>    $this-&gt;rootUrl = $service-&gt;rootUrl;&nbsp;</div></li><li><div>    $this-&gt;client = $service-&gt;getClient();&nbsp;</div></li><li><div>    $this-&gt;servicePath = $service-&gt;servicePath;&nbsp;</div></li><li><div>    $this-&gt;serviceName = $serviceName;&nbsp;</div></li><li><div>    $this-&gt;resourceName = $resourceName;&nbsp;</div></li><li><div>    $this-&gt;methods = is_array($resource) && isset($resource['methods']) ?&nbsp;</div></li><li><div>        $resource['methods'] :&nbsp;</div></li><li><div>        array($resourceName =&gt; $resource);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  /**&nbsp;</div></li><li><div>   * TODO: This function needs simplifying.&nbsp;</div></li><li><div>   * @param $name&nbsp;</div></li><li><div>   * @param $arguments&nbsp;</div></li><li><div>   * @param $expected_class - optional, the expected class name&nbsp;</div></li><li><div>   * @return MonsterInsights_GA_Lib_Http_Request|expected_class&nbsp;</div></li><li><div>   * @throws MonsterInsights_GA_Lib_Exception&nbsp;</div></li><li><div>   */&nbsp;</div></li><li><div>  public function call($name, $arguments, $expected_class = null)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>    if (! isset($this-&gt;methods[$name])) {&nbsp;</div></li><li><div>      $this-&gt;client-&gt;getLogger()-&gt;error(&nbsp;</div></li><li><div>          'Service method unknown', &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'service' =&gt; $this-&gt;serviceName, &nbsp;</div></li><li><div>              'resource' =&gt; $this-&gt;resourceName, &nbsp;</div></li><li><div>              'method' =&gt; $name&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      throw new MonsterInsights_GA_Lib_Exception(&nbsp;</div></li><li><div>          &quot;Unknown function: &quot; .&nbsp;</div></li><li><div>          &quot;{$this-&gt;serviceName}-&gt;{$this-&gt;resourceName}-&gt;{$name}()&quot;&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    $method = $this-&gt;methods[$name];&nbsp;</div></li><li><div>    $parameters = $arguments[0];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // postBody is a special case since it's not defined in the discovery&nbsp;</div></li><li><div>    // document as parameter, but we abuse the param entry for storing it.&nbsp;</div></li><li><div>    $postBody = null;&nbsp;</div></li><li><div>    if (isset($parameters['postBody'])) {&nbsp;</div></li><li><div>      if ($parameters['postBody'] instanceof MonsterInsights_GA_Lib_Model) {&nbsp;</div></li><li><div>        // In the cases the post body is an existing object, we want&nbsp;</div></li><li><div>        // to use the smart method to create a simple object for&nbsp;</div></li><li><div>        // for JSONification.&nbsp;</div></li><li><div>        $parameters['postBody'] = $parameters['postBody']-&gt;toSimpleObject();&nbsp;</div></li><li><div>      } else if (is_object($parameters['postBody'])) {&nbsp;</div></li><li><div>        // If the post body is another kind of object, we will try and&nbsp;</div></li><li><div>        // wrangle it into a sensible format.&nbsp;</div></li><li><div>        $parameters['postBody'] =&nbsp;</div></li><li><div>            $this-&gt;convertToArrayAndStripNulls($parameters['postBody']);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $postBody = json_encode($parameters['postBody']);&nbsp;</div></li><li><div>      if ($postBody === false && $parameters['postBody'] !== false) {&nbsp;</div></li><li><div>        throw new MonsterInsights_GA_Lib_Exception(&quot;JSON encoding failed. Ensure all strings in the request are UTF-8 encoded.&quot;);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      unset($parameters['postBody']);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    // TODO: optParams here probably should have been&nbsp;</div></li><li><div>    // handled already - this may well be redundant code.&nbsp;</div></li><li><div>    if (isset($parameters['optParams'])) {&nbsp;</div></li><li><div>      $optParams = $parameters['optParams'];&nbsp;</div></li><li><div>      unset($parameters['optParams']);&nbsp;</div></li><li><div>      $parameters = array_merge($parameters, $optParams);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (!isset($method['parameters'])) {&nbsp;</div></li><li><div>      $method['parameters'] = array();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $method['parameters'] = array_merge(&nbsp;</div></li><li><div>        $this-&gt;stackParameters, &nbsp;</div></li><li><div>        $method['parameters']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    foreach ($parameters as $key =&gt; $val) {&nbsp;</div></li><li><div>      if ($key != 'postBody' && ! isset($method['parameters'][$key])) {&nbsp;</div></li><li><div>        $this-&gt;client-&gt;getLogger()-&gt;error(&nbsp;</div></li><li><div>            'Service parameter unknown', &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'service' =&gt; $this-&gt;serviceName, &nbsp;</div></li><li><div>                'resource' =&gt; $this-&gt;resourceName, &nbsp;</div></li><li><div>                'method' =&gt; $name, &nbsp;</div></li><li><div>                'parameter' =&gt; $key&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        throw new MonsterInsights_GA_Lib_Exception(&quot;($name) unknown parameter: '$key'&quot;);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    foreach ($method['parameters'] as $paramName =&gt; $paramSpec) {&nbsp;</div></li><li><div>      if (isset($paramSpec['required']) &&&nbsp;</div></li><li><div>          $paramSpec['required'] &&&nbsp;</div></li><li><div>          ! isset($parameters[$paramName])&nbsp;</div></li><li><div> ) {&nbsp;</div></li><li><div>        $this-&gt;client-&gt;getLogger()-&gt;error(&nbsp;</div></li><li><div>            'Service parameter missing', &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'service' =&gt; $this-&gt;serviceName, &nbsp;</div></li><li><div>                'resource' =&gt; $this-&gt;resourceName, &nbsp;</div></li><li><div>                'method' =&gt; $name, &nbsp;</div></li><li><div>                'parameter' =&gt; $paramName&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        throw new MonsterInsights_GA_Lib_Exception(&quot;($name) missing required param: '$paramName'&quot;);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if (isset($parameters[$paramName])) {&nbsp;</div></li><li><div>        $value = $parameters[$paramName];&nbsp;</div></li><li><div>        $parameters[$paramName] = $paramSpec;&nbsp;</div></li><li><div>        $parameters[$paramName]['value'] = $value;&nbsp;</div></li><li><div>        unset($parameters[$paramName]['required']);&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>        // Ensure we don't pass nulls.&nbsp;</div></li><li><div>        unset($parameters[$paramName]);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $this-&gt;client-&gt;getLogger()-&gt;info(&nbsp;</div></li><li><div>        'Service Call', &nbsp;</div></li><li><div>        array(&nbsp;</div></li><li><div>            'service' =&gt; $this-&gt;serviceName, &nbsp;</div></li><li><div>            'resource' =&gt; $this-&gt;resourceName, &nbsp;</div></li><li><div>            'method' =&gt; $name, &nbsp;</div></li><li><div>            'arguments' =&gt; $parameters, &nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $url = MonsterInsights_GA_Lib_Http_REST::createRequestUri(&nbsp;</div></li><li><div>        $this-&gt;servicePath, &nbsp;</div></li><li><div>        $method['path'], &nbsp;</div></li><li><div>        $parameters&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    $httpRequest = new MonsterInsights_GA_Lib_Http_Request(&nbsp;</div></li><li><div>        $url, &nbsp;</div></li><li><div>        $method['httpMethod'], &nbsp;</div></li><li><div>        null, &nbsp;</div></li><li><div>        $postBody&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($this-&gt;rootUrl) {&nbsp;</div></li><li><div>      $httpRequest-&gt;setBaseComponent($this-&gt;rootUrl);&nbsp;</div></li><li><div>    } else {&nbsp;</div></li><li><div>      $httpRequest-&gt;setBaseComponent($this-&gt;client-&gt;getBasePath());&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($postBody) {&nbsp;</div></li><li><div>      $contentTypeHeader = array();&nbsp;</div></li><li><div>      $contentTypeHeader['content-type'] = 'application/json; charset=UTF-8';&nbsp;</div></li><li><div>      $httpRequest-&gt;setRequestHeaders($contentTypeHeader);&nbsp;</div></li><li><div>      $httpRequest-&gt;setPostBody($postBody);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $httpRequest = $this-&gt;client-&gt;getAuth()-&gt;sign($httpRequest);&nbsp;</div></li><li><div>    $httpRequest-&gt;setExpectedClass($expected_class);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($parameters['data']) &&&nbsp;</div></li><li><div>        ($parameters['uploadType']['value'] == 'media' || $parameters['uploadType']['value'] == 'multipart')) {&nbsp;</div></li><li><div>      // If we are doing a simple media upload, trigger that as a convenience.&nbsp;</div></li><li><div>      $mfu = new MonsterInsights_GA_Lib_Http_MediaFileUpload(&nbsp;</div></li><li><div>          $this-&gt;client, &nbsp;</div></li><li><div>          $httpRequest, &nbsp;</div></li><li><div>          isset($parameters['mimeType']) ? $parameters['mimeType']['value'] : 'application/octet-stream', &nbsp;</div></li><li><div>          $parameters['data']['value']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if (isset($parameters['alt']) && $parameters['alt']['value'] == 'media') {&nbsp;</div></li><li><div>      $httpRequest-&gt;enableExpectedRaw();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    if ($this-&gt;client-&gt;shouldDefer()) {&nbsp;</div></li><li><div>      // If we are in batch or upload mode, return the raw request.&nbsp;</div></li><li><div>      return $httpRequest;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    return $this-&gt;client-&gt;execute($httpRequest);&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  protected function convertToArrayAndStripNulls($o)&nbsp;</div></li><li><div>  {&nbsp;</div></li><li><div>    $o = (array) $o;&nbsp;</div></li><li><div>    foreach ($o as $k =&gt; $v) {&nbsp;</div></li><li><div>      if ($v === null) {&nbsp;</div></li><li><div>        unset($o[$k]);&nbsp;</div></li><li><div>      } elseif (is_object($v) || is_array($v)) {&nbsp;</div></li><li><div>        $o[$k] = $this-&gt;convertToArrayAndStripNulls($o[$k]);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>    return $o;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 6.1.3</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/classes/monster_insights_ga_lib_service_resource/" class="active">6.1.7</a></li><li><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.6/classes/monster_insights_ga_lib_service_resource/" class="">6.1.6</a></li><li><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.5/classes/monster_insights_ga_lib_service_resource/" class="">6.1.5</a></li><li><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.4/classes/monster_insights_ga_lib_service_resource/" class="">6.1.4</a></li><li><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.3/classes/monster_insights_ga_lib_service_resource/" class="">6.1.3</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>MonsterInsights_GA_Lib_Service_Resource</li><li><span></span>Google Analytics for WordPress by MonsterInsights</li><li><span></span>6.1.7</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>