<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="6.1.7" data-slug="google-analytics-for-wordpress-by-monsterinsights" data-type="file" data-id="9618"><head xmlns="http://www.w3.org/1999/xhtml"><title> includes-admin-settings-tab-general | file | Google Analytics For WordPress By Monsterinsights | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, google-analytics-for-wordpress-by-monsterinsights, 6.1.7" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=557b3f6a32e8ec3269ebbee3e550d6a5' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/includes-admin-settings-tab-general/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fincludes-admin-settings-tab-general%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fincludes-admin-settings-tab-general%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-google-analytics-for-wordpress-by-monsterinsights-6.1.7-file-includes-admin-settings-tab-general","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="includes-admin-settings-tab-general" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to google-analytics-for-wordpres&hellip;." href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/" class="plugin"><span property="name">google-analytics-for-wordpres&hellip;</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 6.1.7." href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/" class="H_VERSION"><span property="name">6.1.7</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">includes-admin-settings-tab-g&hellip;</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="578"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/all/" title="All">All <span class="count badge">578</span></a></li><li class="" data-id="new" data-count="2"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/new/" title="New">New <span class="count badge">2</span></a></li><li class="" data-id="hooks" data-count="105"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/hooks/" title="Hooks">Hooks <span class="count badge">105</span></a></li><li class="" data-id="action" data-count="35"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/actions/" title="Actions">Actions <span class="count badge">35</span></a></li><li class="" data-id="filter" data-count="70"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/filters/" title="Filters">Filters <span class="count badge">70</span></a></li><li class="" data-id="class" data-count="287"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/classes/" title="Classes">Classes <span class="count badge">287</span></a></li><li class="" data-id="constant" data-count="11"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/constants/" title="Constants">Constants <span class="count badge">11</span></a></li><li class="" data-id="function" data-count="175"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/functions/" title="Functions">Functions <span class="count badge">175</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/google-analytics-for-wordpress-by-monsterinsights/6.1.7/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/includes/admin/settings/tab-general.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * General Settings Tab.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 6.0.0</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @package MonsterInsights</span>&nbsp;</div></li><li><div><span class="comment"> * @subpackage Settings</span>&nbsp;</div></li><li><div><span class="comment"> * @author  Chris Christoff</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Exit if accessed directly</span>&nbsp;</div></li><li><div>if ( ! defined( 'ABSPATH' ) ) {&nbsp;</div></li><li><div>  exit;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Callback for displaying the UI for general settings tab.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 6.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @access public</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return void</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function monsterinsights_settings_general_tab() {&nbsp;</div></li><li><div>  <span class="comment">// Get settings</span>&nbsp;</div></li><li><div>  $manual_ua_code = monsterinsights_get_option( 'manual_ua_code', '' );&nbsp;</div></li><li><div>  $manual_ua_code = esc_html( $manual_ua_code );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $ua_code = monsterinsights_get_ua();&nbsp;</div></li><li><div>  $license_key_type = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $network_license = get_site_option( 'monsterinsights_license' );&nbsp;</div></li><li><div>  if ( ! monsterinsights_is_network_active() || ( monsterinsights_is_network_active() && empty ( $network_license ) ) ) {&nbsp;</div></li><li><div>      $site_license = get_option( 'monsterinsights_license' );&nbsp;</div></li><li><div>      $license_key = ! empty( $site_license['key'] ) ? esc_attr( $site_license['key'] ) : '';&nbsp;</div></li><li><div>      $license_key_type = ! empty( $site_license['type'] ) ? esc_html( $site_license['type'] ) : '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $profile_name = monsterinsights_get_option( 'analytics_profile_name', '' );&nbsp;</div></li><li><div>  $profile_id = monsterinsights_get_option( 'analytics_profile', '' );&nbsp;</div></li><li><div>  $tracking_mode = monsterinsights_get_option( 'tracking_mode', 'analytics' );&nbsp;</div></li><li><div>  $events_mode = monsterinsights_get_option( 'events_mode', 'js' );&nbsp;</div></li><li><div>  $anon_tracking = monsterinsights_get_option( 'anonymous_data', false );&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;div id=&quot;monsterinsights-settings-general&quot;&gt;&nbsp;</div></li><li><div>      &lt;div class=&quot;monsterinsights-tab-settings-notices&quot;&gt;&nbsp;</div></li><li><div>      &lt;?php &nbsp;</div></li><li><div>      <span class="comment">// Output any notices now</span>&nbsp;</div></li><li><div>      <span class="comment">/** </span>&nbsp;</div></li><li><div><span class="comment">       * Developer Alert:</span>&nbsp;</div></li><li><div><span class="comment">       *</span>&nbsp;</div></li><li><div><span class="comment">       * Per the README, this is considered an internal hook and should</span>&nbsp;</div></li><li><div><span class="comment">       * not be used by other developers. This hook's behavior may be modified</span>&nbsp;</div></li><li><div><span class="comment">       * or the hook may be removed at any time, without warning.</span>&nbsp;</div></li><li><div><span class="comment">       */</span>&nbsp;</div></li><li><div>      do_action( 'monsterinsights_settings_general_tab_notice' );&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>          &lt;tbody&gt;&nbsp;</div></li><li><div>              &lt;?php if ( ( ! monsterinsights_is_network_active() || ( monsterinsights_is_network_active() && empty ( $network_license ) ) ) && monsterinsights_is_pro_version() ) { ?&gt;&nbsp;</div></li><li><div>                  &lt;tr id=&quot;monsterinsights-settings-key-box&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-settings-key&quot;&gt;&lt;?php esc_html_e( 'License Key', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;form id=&quot;monsterinsights-settings-verify-key&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>                              &lt;input type=&quot;password&quot; name=&quot;monsterinsights-license-key&quot; id=&quot;monsterinsights-settings-key&quot; value=&quot;&lt;?php echo $license_key; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                              &lt;?php wp_nonce_field( 'monsterinsights-key-nonce', 'monsterinsights-key-nonce' ); ?&gt;&nbsp;</div></li><li><div>                              &lt;?php submit_button( esc_html__( 'Verify Key', 'google-analytics-for-wordpress' ), 'button-action', 'monsterinsights-verify-submit', false ); ?&gt;&nbsp;</div></li><li><div>                              &lt;?php submit_button( esc_html__( 'Deactivate Key', 'google-analytics-for-wordpress' ), 'button-danger', 'monsterinsights-deactivate-submit', false ); ?&gt;&nbsp;</div></li><li><div>                              &lt;p class=&quot;description&quot;&gt;&lt;?php esc_html_e( 'License key to enable automatic updates for MonsterInsights Pro & addons. Deactivate your license if you want to use it on another WordPress site.', 'google-analytics-for-wordpress' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                          &lt;/form&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php if ( ! empty( $license_key_type ) && monsterinsights_is_pro_version() ) : ?&gt;&nbsp;</div></li><li><div>                  &lt;tr id=&quot;monsterinsights-settings-key-type-box&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-settings-key-type&quot;&gt;&lt;?php esc_html_e( 'License Key Type', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;form id=&quot;monsterinsights-settings-key-type&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>                              &lt;span class=&quot;monsterinsights-license-type&quot;&gt;&lt;?php printf( esc_html__( 'Your license key type for this site is %s.', 'google-analytics-for-wordpress' ), '&lt;strong&gt;' . $license_key_type . '&lt;/strong&gt;' ); ?&gt;&nbsp;</div></li><li><div>                              &lt;input type=&quot;hidden&quot; name=&quot;monsterinsights-license-key&quot; value=&quot;&lt;?php echo $license_key; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                              &lt;?php wp_nonce_field( 'monsterinsights-key-nonce', 'monsterinsights-key-nonce' ); ?&gt;&nbsp;</div></li><li><div>                              &lt;?php submit_button( esc_html__( 'Refresh Key', 'google-analytics-for-wordpress' ), 'button-action', 'monsterinsights-refresh-submit', false ); ?&gt;&nbsp;</div></li><li><div>                              &lt;p class=&quot;description&quot;&gt;&lt;?php esc_html_e( 'Your license key type (handles updates and Addons). Click refresh if your license has been upgraded or the type is incorrect.', 'google-analytics-for-wordpress' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                          &lt;/form&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php endif; ?&gt;&nbsp;</div></li><li><div>              &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;tr id=&quot;monsterinsights-google-authenticate-box&quot;&gt;&nbsp;</div></li><li><div>                  &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                      &lt;?php if ( $profile_name && $ua_code ) { ?&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-google-authenticate&quot;&gt;&lt;?php esc_html_e( 'Analytics Profile', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-google-authenticate&quot;&gt;&lt;?php esc_html_e( 'Google Authentication', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;?php } ?&gt;&nbsp;</div></li><li><div>                  &lt;/th&gt;&nbsp;</div></li><li><div>                  &lt;td&gt;&nbsp;</div></li><li><div>                      &lt;form id=&quot;monsterinsights-google-authenticate&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>                          &lt;?php if ( $profile_name && $ua_code ) { ?&gt;&nbsp;</div></li><li><div>                              &lt;p&gt;&lt;?php echo esc_html__( 'Profile Active: ', 'google-analytics-for-wordpress' ) . $profile_name; ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                              &lt;p&gt;&lt;?php wp_nonce_field( 'monsterinsights-google-authenticated-nonce', 'monsterinsights-google-authenticated-nonce' ); ?&gt;&nbsp;</div></li><li><div>                              &lt;?php submit_button( esc_html__( 'Re-Authenticate with your Google account', 'google-analytics-for-wordpress' ), 'button-action', 'monsterinsights-google-reauthenticate-submit', false ); ?&gt;&nbsp;</div></li><li><div>                              &lt;?php submit_button( esc_html__( 'Deauthenticate', 'google-analytics-for-wordpress' ), 'button-danger', 'monsterinsights-google-deauthenticate-submit', false ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                          &lt;?php } else { ?&gt;&nbsp;</div></li><li><div>                              &lt;?php wp_nonce_field( 'monsterinsights-google-authenticate-nonce', 'monsterinsights-google-authenticate-nonce' ); ?&gt;&nbsp;</div></li><li><div>                              &lt;?php submit_button( esc_html__( 'Authenticate with your Google account', 'google-analytics-for-wordpress' ), 'button-action', 'monsterinsights-google-authenticate-submit', false ); ?&gt;&nbsp;</div></li><li><div>                              &lt;p class=&quot;description&quot;&gt;&lt;?php printf( esc_html__( 'Having issues automatically authenticating? %s Click here to authenticate manually %s.', 'google-analytics-for-wordpress' ), '&lt;a href=&quot;javascript:monsterinsights_show_manual()&quot; data-action=&quot;show-manual-ua-box&quot;&gt;', '&lt;/a&gt;' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                          &lt;?php } ?&gt;&nbsp;</div></li><li><div>                      &lt;/form&gt;&nbsp;</div></li><li><div>                  &lt;/td&gt;&nbsp;</div></li><li><div>              &lt;/tr&gt;&nbsp;</div></li><li><div>          &lt;/tbody&gt;&nbsp;</div></li><li><div>      &lt;/table&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;!-- &lt;hr /&gt; --&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      &lt;!-- Settings Form --&gt;&nbsp;</div></li><li><div>      &lt;form id=&quot;monsterinsights-general-tab&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>          &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>              &lt;tbody&gt;&nbsp;</div></li><li><div>                  &lt;?php if ( ! $profile_name ) { ?&gt;&nbsp;</div></li><li><div>                  &lt;!-- Manual UA --&gt;&nbsp;</div></li><li><div>                  &lt;tr id=&quot;monsterinsights-google-ua-box&quot; &lt;?php echo ( ! $ua_code ? 'class=&quot;monsterinsights-hideme&quot;' : ''); ?&gt; &gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-google-ua&quot;&gt;&lt;?php esc_html_e( 'Manually enter your UA code', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;input type=&quot;text&quot; id=&quot;monsterinsights-google-ua&quot; name=&quot;manual_ua_code&quot; value=&quot;&lt;?php echo $manual_ua_code; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                          &lt;p class=&quot;description&quot;&gt;&lt;?php esc_html_e( 'Warning: If you use a manual UA code, you won\'t be able to use the dashboard or reports.', 'google-analytics-for-wordpress' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;!-- Disable Dashboard --&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  $title = esc_html__( 'Disable Dashboard', 'google-analytics-for-wordpress' );&nbsp;</div></li><li><div>                  $description = esc_html__( 'Hide the dashboard and reports pages.', 'google-analytics-for-wordpress' );&nbsp;</div></li><li><div>                  echo monsterinsights_make_checkbox( 'dashboards_disabled', $title, $description );&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php if ( $tracking_mode === 'ga' || monsterinsights_is_debug_mode() ) {  ?&gt;&nbsp;</div></li><li><div>                  &lt;tr id=&quot;monsterinsights-tracking-mode&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-tracking-mode&quot;&gt;&lt;?php esc_html_e( 'Pick Tracking Mode', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                          $url = esc_url( wp_nonce_url( add_query_arg( array( 'monsterinsights-action' =&gt; 'switch_to_analyticsjs', 'return' =&gt; 'general' ) ), 'monsterinsights-switch-to-analyticsjs-nonce' ) );&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;tracking_mode&quot; value=&quot;ga&quot; &lt;?php checked( $tracking_mode, 'ga' ); ?&gt; &gt;&lt;?php esc_html_e('GA.js (Deprecated)', 'google-analytics-for-wordpress'); ?&gt; &lt;/label&gt;&nbsp;</div></li><li><div>                          &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;tracking_mode&quot; value=&quot;analytics&quot; &lt;?php checked( $tracking_mode, 'analytics' ); ?&gt; &gt;&lt;?php esc_html_e( 'Analytics.js (Universal Analytics)', 'google-analytics-for-wordpress'); ?&gt; &lt;/label&gt;&nbsp;</div></li><li><div>                          &lt;?php if ($tracking_mode === 'ga' ) { ?&gt;&nbsp;</div></li><li><div>                          &lt;?php echo monsterinsights_get_message( 'error', sprintf( esc_html__( 'Warning: You\'re currently using deprecated ga.js tracking. We recommend switching to analytics.js, as it is significantly more accurate than ga.js, and allows for functionality (like the more accurate Javascript based events tracking we offer). Further Google Analytics has deprecated support for ga.js, and it may stop working at any time when Google decides to disable it from their server. To switch to using the newer Universal Analytics (analytics.js) %1$sclick here%2$s.', 'google-analytics-for-wordpress' ), '&lt;a href=&quot;' . $url .'&quot;&gt;', '&lt;/a&gt;' ) );&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;?php } ?&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php if ( $tracking_mode !== 'ga' && $events_mode === 'php' ) {  ?&gt;&nbsp;</div></li><li><div>                  &lt;tr id=&quot;monsterinsights-tracking-mode&quot;&gt;&nbsp;</div></li><li><div>                      &lt;th scope=&quot;row&quot;&gt;&nbsp;</div></li><li><div>                          &lt;label for=&quot;monsterinsights-tracking-mode&quot;&gt;&lt;?php esc_html_e( 'Switch to JS events tracking', 'google-analytics-for-wordpress' ); ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                      &lt;/th&gt;&nbsp;</div></li><li><div>                      &lt;td&gt;&nbsp;</div></li><li><div>                          &lt;?php&nbsp;</div></li><li><div>                          $url = esc_url( wp_nonce_url( add_query_arg( array( 'monsterinsights-action' =&gt; 'switch_to_jsevents', 'return' =&gt; 'general' ) ), 'monsterinsights-switch-to-jsevents-nonce' ) );&nbsp;</div></li><li><div>                          ?&gt;&nbsp;</div></li><li><div>                          &lt;?php echo monsterinsights_get_message( 'error', sprintf( esc_html__( 'Warning: You\'re currently using deprecated PHP based events tracking. We recommend switching to JS events tracking, as it is significantly more accurate than PHP based events tracking and we will eventually discontinue PHP based events tracking. To switch %1$sclick here%2$s.', 'google-analytics-for-wordpress' ), '&lt;a href=&quot;' . $url .'&quot;&gt;', '&lt;/a&gt;' ) );&nbsp;</div></li><li><div>                       ?&gt;&nbsp;</div></li><li><div>                      &lt;/td&gt;&nbsp;</div></li><li><div>                  &lt;/tr&gt;&nbsp;</div></li><li><div>                  &lt;?php } ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;!-- Tracking --&gt;&nbsp;</div></li><li><div>                  &lt;?php&nbsp;</div></li><li><div>                  $title = esc_html__( 'Allow Usage Tracking', 'google-analytics-for-wordpress' );&nbsp;</div></li><li><div>                  $description = esc_html__( 'By allowing us to track usage data we can better help you, because we know with which WordPress configurations, themes and plugins we should test.', 'google-analytics-for-wordpress' );&nbsp;</div></li><li><div>                  if ( ! $anon_tracking || monsterinsights_is_debug_mode() ) {&nbsp;</div></li><li><div>                      echo monsterinsights_make_checkbox( 'anonymous_data', $title, $description );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  &lt;?php &nbsp;</div></li><li><div>                  <span class="comment">/** </span>&nbsp;</div></li><li><div><span class="comment">                   * Developer Alert:</span>&nbsp;</div></li><li><div><span class="comment">                   *</span>&nbsp;</div></li><li><div><span class="comment">                   * Per the README, this is considered an internal hook and should</span>&nbsp;</div></li><li><div><span class="comment">                   * not be used by other developers. This hook's behavior may be modified</span>&nbsp;</div></li><li><div><span class="comment">                   * or the hook may be removed at any time, without warning.</span>&nbsp;</div></li><li><div><span class="comment">                   */</span>&nbsp;</div></li><li><div>                  do_action( 'monsterinsights_settings_general_box' ); &nbsp;</div></li><li><div>                  ?&gt;&nbsp;</div></li><li><div>              &lt;/tbody&gt;&nbsp;</div></li><li><div>          &lt;/table&gt;&nbsp;</div></li><li><div>          &lt;input type=&quot;hidden&quot; name=&quot;monsterinsights_settings_tab&quot; value=&quot;general&quot;/&gt;&nbsp;</div></li><li><div>          &lt;?php wp_nonce_field( 'monsterinsights-settings-nonce', 'monsterinsights-settings-nonce' ); ?&gt;&nbsp;</div></li><li><div>          &lt;?php submit_button( esc_html__( 'Save Changes', 'google-analytics-for-wordpress' ), 'primary', 'monsterinsights-settings-submit', false ); ?&gt;&nbsp;</div></li><li><div>      &lt;/form&gt;&nbsp;</div></li><li><div>  &lt;/div&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'monsterinsights_tab_settings_general', 'monsterinsights_settings_general_tab' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Callback for saving the general settings tab.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 6.0.0</span>&nbsp;</div></li><li><div><span class="comment"> * @access public</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @return void</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function monsterinsights_settings_save_general() {&nbsp;</div></li><li><div>  $throw_notice = false;&nbsp;</div></li><li><div>  $manual_ua_code = isset( $_POST['manual_ua_code'] ) ? $_POST['manual_ua_code'] : '';&nbsp;</div></li><li><div>  $manual_ua_code = monsterinsights_is_valid_ua( $manual_ua_code ); <span class="comment">// also sanitizes the string</span>&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  if ( $manual_ua_code ) {&nbsp;</div></li><li><div>      monsterinsights_update_option( 'manual_ua_code', $manual_ua_code );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      if ( empty ( $manual_ua_code ) && isset( $_POST['manual_ua_code'] ) ) {&nbsp;</div></li><li><div>           $throw_notice = true;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      monsterinsights_update_option( 'manual_ua_code', '' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $dashboards_disabled = isset( $_POST['dashboards_disabled'] ) ? 1 : 0;&nbsp;</div></li><li><div>  monsterinsights_update_option( 'dashboards_disabled', $dashboards_disabled );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $old_tracking_mode = monsterinsights_get_option( 'tracking_mode', 'analytics' );&nbsp;</div></li><li><div>  $tracking_mode = isset( $_POST['tracking_mode'] ) ? $_POST['tracking_mode'] : 'analytics';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if ( $old_tracking_mode === 'ga' || monsterinsights_is_debug_mode() ) {&nbsp;</div></li><li><div>      if ( $tracking_mode !== 'analytics' && $tracking_mode !== 'ga' ) {&nbsp;</div></li><li><div>          <span class="comment">/** </span>&nbsp;</div></li><li><div><span class="comment">           * Developer Alert:</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * Per the README, this is considered an internal hook and should</span>&nbsp;</div></li><li><div><span class="comment">           * not be used by other developers. This hook's behavior may be modified</span>&nbsp;</div></li><li><div><span class="comment">           * or the hook may be removed at any time, without warning.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $tracking_mode = apply_filters( 'monsterinsights_settings_save_general_tracking_mode', 'analytics' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      monsterinsights_update_option( 'tracking_mode', $tracking_mode );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      if ( $tracking_mode !== 'analytics' ) {&nbsp;</div></li><li><div>          <span class="comment">/** </span>&nbsp;</div></li><li><div><span class="comment">           * Developer Alert:</span>&nbsp;</div></li><li><div><span class="comment">           *</span>&nbsp;</div></li><li><div><span class="comment">           * Per the README, this is considered an internal hook and should</span>&nbsp;</div></li><li><div><span class="comment">           * not be used by other developers. This hook's behavior may be modified</span>&nbsp;</div></li><li><div><span class="comment">           * or the hook may be removed at any time, without warning.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          $tracking_mode = apply_filters( 'monsterinsights_settings_save_general_tracking_mode', 'analytics' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      monsterinsights_update_option( 'tracking_mode', $tracking_mode );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $anonymous_data = isset( $_POST['anonymous_data'] ) ? 1 : 0;&nbsp;</div></li><li><div>  if ( $anonymous_data ) {&nbsp;</div></li><li><div>      monsterinsights_update_option( 'anonymous_data', $anonymous_data );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/** </span>&nbsp;</div></li><li><div><span class="comment">   * Developer Alert:</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Per the README, this is considered an internal hook and should</span>&nbsp;</div></li><li><div><span class="comment">   * not be used by other developers. This hook's behavior may be modified</span>&nbsp;</div></li><li><div><span class="comment">   * or the hook may be removed at any time, without warning.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  do_action( 'monsterinsights_settings_save_general_end' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Output an admin notice so the user knows what happened</span>&nbsp;</div></li><li><div>  if ( $throw_notice ) {&nbsp;</div></li><li><div>      add_action( 'monsterinsights_settings_general_tab_notice', 'monsterinsights_invalid_ua_code' );&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      add_action( 'monsterinsights_settings_general_tab_notice', 'monsterinsights_updated_settings' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>add_action( 'monsterinsights_settings_save_general', 'monsterinsights_settings_save_general', 11 );&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Google Analytics for WordPress by MonsterInsights</li><li><span></span>6.1.7</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>