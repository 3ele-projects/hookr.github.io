<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="1.5.4" data-slug="woocommerce-show-attributes" data-type="class" data-id="77386"><head xmlns="http://www.w3.org/1999/xhtml"><title> woocommerce_show_attributes | class | Woocommerce Show Attributes | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="WooCommerce_Show_Attributes, class, plugin, woocommerce-show-attributes, 1.5.4" /><meta name="description" content="Plugin Name: WooCommerce Show Attributes Plugin URI: https://isabelcastillo.com/docs/woocommerce-show-attributes Description: Show WooCommerce custom product attributes on the Product, Shop and Cart pages, admin Order Details page and emails." /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=729bf3a8d03fba587eaaf009414fe4a8' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/woo_commerce_show_attributes/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwoo_commerce_show_attributes%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fwoo_commerce_show_attributes%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-show-attributes-1.5.4-class-woo_commerce_show_attributes","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="woo_commerce_show_attributes" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce-show-attributes." href="http://hookr.io/plugins/woocommerce-show-attributes/" class="plugin"><span property="name">woocommerce-show-attributes</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 1.5.4." href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/" class="H_VERSION"><span property="name">1.5.4</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">woo_commerce_show_attributes</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="5"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/all/" title="All">All <span class="count badge">5</span></a></li><li class="" data-id="new" data-count="1"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/new/" title="New">New <span class="count badge">1</span></a></li><li class="" data-id="hooks" data-count="3"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/hooks/" title="Hooks">Hooks <span class="count badge">3</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="3"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/filters/" title="Filters">Filters <span class="count badge">3</span></a></li><li class="active" data-id="class" data-count="1"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/classes/" title="Classes">Classes <span class="count badge">1</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="1"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/functions/" title="Functions">Functions <span class="count badge">1</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>WooCommerce_Show_Attributes</strong></h1><p>Plugin Name: WooCommerce Show Attributes Plugin URI: https://isabelcastillo.com/docs/woocommerce-show-attributes Description: Show WooCommerce custom product attributes on the Product, Shop and Cart pages, admin Order Details page and emails.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/files/woocommerce-show-attributes/" class="file">/woocommerce-show-attributes.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="29" class="block" start="29"><li><div>class WooCommerce_Show_Attributes {&nbsp;</div></li><li><div>    private static $instance = null;&nbsp;</div></li><li><div>    public static function get_instance() {&nbsp;</div></li><li><div>        if ( null == self::$instance ) {&nbsp;</div></li><li><div>            self::$instance = new self;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return self::$instance;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    private function __construct() {&nbsp;</div></li><li><div>        add_action( 'init', array( $this, 'load_textdomain' ) );&nbsp;</div></li><li><div>        add_action( 'woocommerce_single_product_summary', array( $this, 'show_atts_on_product_page' ), 25);&nbsp;</div></li><li><div>        add_filter( 'woocommerce_product_tabs', array( $this, 'additional_info_tab' ), 98 );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_cart_item_name', array( $this, 'show_atts_on_cart' ), 10, 2 );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_order_item_name', array( $this, 'show_atts_on_customer_order' ), 99, 2 );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_order_item_name', array( $this, 'show_admin_new_order_email' ), 99, 2 );&nbsp;</div></li><li><div>        add_action( 'woocommerce_admin_order_item_values', array( $this, 'show_atts_in_admin_order'), 10, 3 );&nbsp;</div></li><li><div>        add_action( 'woocommerce_admin_order_item_headers', array( $this, 'admin_order_item_header' ) );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_get_settings_products', array( $this, 'all_settings' ), 10, 2 );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_get_sections_products', array( $this, 'add_section' ) );&nbsp;</div></li><li><div>        add_action( 'init', array( $this, 'if_show_atts_on_shop' ) );&nbsp;</div></li><li><div>        add_action( 'woocommerce_grouped_product_list_before_price', array( $this, 'show_atts_grouped_product' ) );&nbsp;</div></li><li><div>        add_filter( 'woocommerce_email_styles', array( $this, 'email_style' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Load plugin's textdomain&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function load_textdomain() {&nbsp;</div></li><li><div>        load_plugin_textdomain( 'woocommerce-show-attributes', false, dirname( plugin_basename( __FILE__ ) ) . '/languages/' );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Get the attributes.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * Returns the HTML string for the custom product attributes.&nbsp;</div></li><li><div>    * This does not affect nor include attributes which are used for Variations.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * @param object $product The product object. Default null to avoid errors.&nbsp;</div></li><li><div>    * @param string $element HTML element to wrap each attribute with, accepts span or li.&nbsp;</div></li><li><div>    * @param boolean $show_weight whether to show the product weight&nbsp;</div></li><li><div>    * @param boolean $show_dimensions whether to show the product dimensions&nbsp;</div></li><li><div>    * @param boolean $skip_atts whether to skip the attributes and only honor weight and dimensions&nbsp;</div></li><li><div>    * @param mixed $single_product true when on single product page&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function the_attributes( $product = null, $element, $show_weight = null, $show_dimensions = null, $skip_atts = null, $single_product = null ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $out = '';&nbsp;</div></li><li><div>        $out_middle = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( isset( $product ) ) {&nbsp;</div></li><li><div>            if ( is_object( $product ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $show_weight ) {&nbsp;</div></li><li><div>                    if ( $product-&gt;has_weight() ) {&nbsp;</div></li><li><div>                        $weight = $product-&gt;get_weight();&nbsp;</div></li><li><div>                        $unit = esc_attr( get_option( 'woocommerce_weight_unit' ) );&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $show_dimensions ) {&nbsp;</div></li><li><div>                    if ( $product-&gt;has_dimensions() ) {&nbsp;</div></li><li><div>                        $dimensions = $product-&gt;get_dimensions();&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                   $colon = get_option( 'wcsa_remove_semicolon' ) == 'yes' ? ' ' : ': ';&nbsp;</div></li><li><div>                $hide_labels = get_option( 'woocommerce_show_attributes_hide_labels' );&nbsp;</div></li><li><div>                // check if they choose span element over li&nbsp;</div></li><li><div>                if ( get_option( 'woocommerce_show_attributes_span' ) == 'yes' ) {&nbsp;</div></li><li><div>                    $element = 'span';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                   if ( ! $skip_atts ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    $attributes = $product-&gt;get_attributes();&nbsp;</div></li><li><div>                    if ( ! $attributes ) {&nbsp;</div></li><li><div>                        return;&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    foreach ( $attributes as $attribute ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // skip variations&nbsp;</div></li><li><div>                        if ( $attribute['is_variation'] ) {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        // honor the visibility setting&nbsp;</div></li><li><div>                        if ( ! $attribute['is_visible'] ) {&nbsp;</div></li><li><div>                            continue;&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        if ( $attribute['is_taxonomy'] ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $product_id = $product-&gt;get_id();&nbsp;</div></li><li><div>                            $terms = wp_get_post_terms( $product_id, $attribute['name'], 'all' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            if ( ! empty( $terms ) ) {&nbsp;</div></li><li><div>                                if ( ! is_wp_error( $terms ) ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    // get the taxonomy&nbsp;</div></li><li><div>                                    $tax = $terms[0]-&gt;taxonomy;&nbsp;</div></li><li><div>                                    // get the tax object&nbsp;</div></li><li><div>                                    $tax_object = get_taxonomy($tax);&nbsp;</div></li><li><div>                                    // get tax label&nbsp;</div></li><li><div>                                    if ( isset ( $tax_object-&gt;labels-&gt;singular_name ) ) {&nbsp;</div></li><li><div>                                        $tax_label = $tax_object-&gt;labels-&gt;singular_name;&nbsp;</div></li><li><div>                                    } elseif ( isset( $tax_object-&gt;label ) ) {&nbsp;</div></li><li><div>                                        $tax_label = $tax_object-&gt;label;&nbsp;</div></li><li><div>                                        // Trim label prefix&nbsp;</div></li><li><div>                                        $label_prefix = __( 'Product', 'woocommerce-show-attributes' ) . ' ';&nbsp;</div></li><li><div>                                        if ( 0 === strpos( $tax_label, $label_prefix ) ) {&nbsp;</div></li><li><div>                                            $tax_label = substr( $tax_label, strlen( $label_prefix ) );&nbsp;</div></li><li><div>                                        }                                        &nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $out_middle .= '&lt;' . esc_attr( $element ) . ' class=&quot;' . esc_attr( $attribute['name'] ) . '&quot;&gt;';&nbsp;</div></li><li><div>                                    // Hide labels if they want to&nbsp;</div></li><li><div>                                    if ( $hide_labels != 'yes' ) {&nbsp;</div></li><li><div>                                        $out_middle .= '&lt;span class=&quot;attribute-label&quot;&gt;&lt;span class=&quot;attribute-label-text&quot;&gt;' . sprintf( __( '%s', 'woocommerce-show-attributes' ), esc_html( $tax_label ) ) . '&lt;/span&gt;' . $colon . ' &lt;/span&gt; ';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $out_middle .= '&lt;span class=&quot;attribute-value&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    $tax_terms = array();&nbsp;</div></li><li><div>                                    foreach ( $terms as $term ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        $single_term = sprintf( __( '%s', 'woocommerce-show-attributes' ), esc_html( $term-&gt;name ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        // Show terms as links?&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                        if ( $single_product ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                            if ( get_option( 'wcsa_terms_as_links' ) == 'yes' ) {&nbsp;</div></li><li><div>                                                $term_link = get_term_link( $term );&nbsp;</div></li><li><div>                                                if ( ! is_wp_error( $term_link ) ) {&nbsp;</div></li><li><div>                                                    $single_term = '&lt;a href=&quot;' . esc_url( $term_link ) . '&quot;&gt;' . sprintf( __( '%s', 'woocommerce-show-attributes' ), esc_html( $term-&gt;name ) ) . '&lt;/a&gt;';&nbsp;</div></li><li><div>                                                }&nbsp;</div></li><li><div>                                            }&nbsp;</div></li><li><div>                                        }&nbsp;</div></li><li><div>                                        array_push( $tax_terms, $single_term );&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                    $out_middle .= implode(', ', $tax_terms);&nbsp;</div></li><li><div>                                     $out_middle .= '&lt;/span&gt;&lt;/' . esc_attr( $element ) . '&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                                    if ('span' == $element) {&nbsp;</div></li><li><div>                                        $out_middle .= '&lt;br /&gt;';&nbsp;</div></li><li><div>                                    }&nbsp;</div></li><li><div>                                }&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            $out_middle .= '&lt;' . esc_attr( $element ) . ' class=&quot;' . sanitize_title( $attribute['name'] ) . ' ' . sprintf( __( '%s', 'woocommerce-show-attributes' ), sanitize_title( $attribute['value'] ) ) . '&quot;&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                            // Hide labels if they want to&nbsp;</div></li><li><div>                            if ( $hide_labels != 'yes' ) {&nbsp;</div></li><li><div>                                $out_middle .= '&lt;span class=&quot;attribute-label&quot;&gt;&lt;span class=&quot;attribute-label-text&quot;&gt;' . sprintf( __( '%s', 'woocommerce-show-attributes' ), esc_html( $attribute['name'] ) ) . '&lt;/span&gt;' . $colon . ' &lt;/span&gt; ';&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>                            $out_middle .= '&lt;span class=&quot;attribute-value&quot;&gt;' . sprintf( __( '%s', 'woocommerce-show-attributes' ), esc_html( $attribute['value'] ) ) . '&lt;/span&gt;&lt;/' . esc_attr( $element ) . '&gt;';&nbsp;</div></li><li><div>                            if ('span' == $element) {&nbsp;</div></li><li><div>                                $out_middle .= '&lt;br /&gt;';&nbsp;</div></li><li><div>                            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    } // ends foreach attribute&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // Add weight and dimensions if they opted in&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( ! empty( $weight ) ) {&nbsp;</div></li><li><div>                    $unit = empty( $unit ) ? '' : $unit;&nbsp;</div></li><li><div>                    // weight&nbsp;</div></li><li><div>                    $out_middle .= '&lt;' . esc_attr( $element ) . ' class=&quot;show-attributes-weight&quot;&gt;';&nbsp;</div></li><li><div>                    // Hide labels if they want to&nbsp;</div></li><li><div>                    if ( $hide_labels != 'yes' ) {&nbsp;</div></li><li><div>                        $out_middle .= '&lt;span class=&quot;attribute-label&quot;&gt;' . __( 'Weight', 'woocommerce-show-attributes' ) . $colon . ' &lt;/span&gt; ';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $out_middle .= '&lt;span class=&quot;attribute-value&quot;&gt;' . esc_html( $weight ) . ' ' . esc_html( $unit ) . ' &lt;/span&gt;&lt;/' . esc_attr( $element ) . '&gt;';&nbsp;</div></li><li><div>                    if ( 'span' == $element ) {&nbsp;</div></li><li><div>                        $out_middle .= '&lt;br /&gt;';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( ! empty( $dimensions ) ) {&nbsp;</div></li><li><div>                    // dimensions&nbsp;</div></li><li><div>                    $out_middle .= '&lt;' . esc_attr( $element ) . ' class=&quot;show-attributes-dimensions&quot;&gt;';&nbsp;</div></li><li><div>                    // Hide labels if they want to&nbsp;</div></li><li><div>                    if ( $hide_labels != 'yes' ) {&nbsp;</div></li><li><div>                        $out_middle .= '&lt;span class=&quot;attribute-label&quot;&gt;' . __( 'Dimensions', 'woocommerce-show-attributes' ) . $colon . ' &lt;/span&gt; ';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $out_middle .= '&lt;span class=&quot;attribute-value&quot;&gt;' . esc_html( $dimensions ) . '&lt;/span&gt;&lt;/' . esc_attr( $element ) . '&gt;';&nbsp;</div></li><li><div>                    if ('span' == $element) {&nbsp;</div></li><li><div>                        $out_middle .= '&lt;br /&gt;';&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( $out_middle ) {&nbsp;</div></li><li><div>                    $out = ('li' == $element) ? '&lt;ul ' : '&lt;span ';&nbsp;</div></li><li><div>                    $out .= 'class=&quot;custom-attributes&quot;&gt;' . $out_middle;&nbsp;</div></li><li><div>                    $out .= ('li' == $element) ? '&lt;/ul&gt;' : '&lt;/span&gt;';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $out;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Show product attributes on the product page.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * Show product attributes above the Add to Cart button on the single product page&nbsp;</div></li><li><div>    * and on the Parent of Grouped products.&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function show_atts_on_product_page() {&nbsp;</div></li><li><div>        $show_weight = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_weight_product' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_weight = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $show_dimensions = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_dimensions_product' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_dimensions = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // add a flag to skip the attributes.&nbsp;</div></li><li><div>        // this way i'll know to only honor weight and dimensions&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_product' ) != 'no') {&nbsp;</div></li><li><div>            $skip_atts = null;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $skip_atts = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        global $product;&nbsp;</div></li><li><div>        echo wp_kses_post( $this-&gt;the_attributes( $product, 'li', $show_weight, $show_dimensions, $skip_atts, true ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Show attributes on Customer emails and View Order page.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * Show product attributes below the item on the View Order page, &nbsp;</div></li><li><div>    * and on Order emails that go to customer.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * @param string $item_name the product title&nbsp;</div></li><li><div>    * @param object $item the product object&nbsp;</div></li><li><div>    * @since 1.4.0&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function show_atts_on_customer_order( $item_name, $item ) {&nbsp;</div></li><li><div>        // Do not show this on the admin main Orders page&nbsp;</div></li><li><div>        if ( function_exists( 'get_current_screen' ) ) {&nbsp;</div></li><li><div>            $screen = get_current_screen();&nbsp;</div></li><li><div>            if ( ! empty( $screen ) && isset( $screen-&gt;id ) && 'edit-shop_order' == $screen-&gt;id ) {&nbsp;</div></li><li><div>                return $item_name;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $show_weight = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_weight_customer_order_emails' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_weight = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $show_dimensions = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_dimensions_customer_order_emails' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_dimensions = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $out = $item_name;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_customer_order_emails' ) != 'no' ) {&nbsp;</div></li><li><div>            $skip_atts = null;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $skip_atts = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get the name of templates used for this email call&nbsp;</div></li><li><div>        $templates_used = array();&nbsp;</div></li><li><div>        foreach ( debug_backtrace() as $called_file ) {&nbsp;</div></li><li><div>            foreach ( $called_file as $index ) {&nbsp;</div></li><li><div>                if ( is_array( $index ) ) { // avoid errors&nbsp;</div></li><li><div>                    if ( ! empty( $index[0] ) ) {&nbsp;</div></li><li><div>                        if ( is_string( $index[0] ) ) { // eliminate long arrays&nbsp;</div></li><li><div>                            $templates_used[] = $index[0];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Do not add atts to admin emails&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $is_customer_email = true;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        foreach ( $templates_used as $template_name ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // check each file name for '/emails/admin-'&nbsp;</div></li><li><div>            if ( strpos( $template_name, '/emails/admin-' ) !== false ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                // admin email so do not add atts&nbsp;</div></li><li><div>                $is_customer_email = false;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Only add atts to customer emails, and included here is the customer View Order page.&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $is_customer_email ) {&nbsp;</div></li><li><div>            $product = get_product( $item['product_id'] );&nbsp;</div></li><li><div>            $atts = $this-&gt;the_attributes( $product, 'span', $show_weight, $show_dimensions, $skip_atts );&nbsp;</div></li><li><div>            if ( $atts ) {&nbsp;</div></li><li><div>                $out = $item_name . '&lt;br /&gt;' . wp_kses_post( $atts ) . '&lt;br /&gt;';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $out;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Show product attributes on the Cart page.&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function show_atts_on_cart( $cart_item, $cart_item_key ) {&nbsp;</div></li><li><div>        $show_weight = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_weight_cart' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_weight = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $show_dimensions = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_dimensions_cart' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_dimensions = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $out = $cart_item;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_cart' ) != 'no' ) {&nbsp;</div></li><li><div>            $skip_atts = null;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $skip_atts = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $product = $cart_item_key['data'];&nbsp;</div></li><li><div>        $out = $cart_item . '&lt;br /&gt;' . wp_kses_post( $this-&gt;the_attributes( $product, 'span', $show_weight, $show_dimensions, $skip_atts ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $out;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Show product attributes on the admin Order Details page.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * @param object, the product object&nbsp;</div></li><li><div>    * @param $item&nbsp;</div></li><li><div>    * @param integer, product id&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function show_atts_in_admin_order( $product, $item, $item_id ) {&nbsp;</div></li><li><div>        $show_weight = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_weight_admin_order_details' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_weight = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $show_dimensions = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_dimensions_admin_order_details' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_dimensions = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_admin_order_details' ) != 'no' ) {&nbsp;</div></li><li><div>            $skip_atts = null;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $skip_atts = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( is_object($product) ) {&nbsp;</div></li><li><div>            echo '&lt;td&gt;&lt;div class=&quot;view&quot;&gt;' . wp_kses_post( $this-&gt;the_attributes( $product, 'span', $show_weight, $show_dimensions, $skip_atts ) ) . '&lt;/div&gt;&lt;/td&gt;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Add Attributes to the Order Items header on the admin Order Details page.&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function admin_order_item_header() {&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_admin_order_details' ) != 'no' ) {&nbsp;</div></li><li><div>            echo '&lt;th class=&quot;wsa-custom-attributes&quot;&gt;' . __( 'Attributes', 'woocommerce-show-attributes' ) . '&lt;/th&gt;';&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>    * Show product attributes on the child products of a Grouped Product page.&nbsp;</div></li><li><div>    *&nbsp;</div></li><li><div>    * @param object, the product object&nbsp;</div></li><li><div>    * @since 1.2.4&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function show_atts_grouped_product( $product ) {&nbsp;</div></li><li><div>        $show_weight = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_weight_product' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_weight = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $show_dimensions = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_dimensions_product' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_dimensions = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_product' ) != 'no') {&nbsp;</div></li><li><div>            $skip_atts = null;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $skip_atts = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        echo '&lt;td class=&quot;grouped-product-custom-attributes&quot;&gt;' . wp_kses_post( $this-&gt;the_attributes( $product, 'span', $show_weight, $show_dimensions, $skip_atts ) ) . '&lt;/td&gt;';&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Show the attributes on the main shop page.&nbsp;</div></li><li><div>     * @since 1.2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function show_atts_on_shop() {&nbsp;</div></li><li><div>            global $product;&nbsp;</div></li><li><div>            echo wp_kses_post( $this-&gt;the_attributes( $product, 'li' ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check if option to show attributes on main shop is enabled.&nbsp;</div></li><li><div>      * @since 1.2.3&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function if_show_atts_on_shop() {&nbsp;</div></li><li><div>        $show = get_option( 'woocommerce_show_attributes_on_shop' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // if option to show on shop page is enabled, do it&nbsp;</div></li><li><div>        if ( 'above_price' == $show ) {&nbsp;</div></li><li><div>            add_action ( 'woocommerce_after_shop_loop_item_title', array( $this, 'show_atts_on_shop' ), 4 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        } elseif ( 'above_add2cart' == $show ) {&nbsp;</div></li><li><div>            add_action ( 'woocommerce_after_shop_loop_item', array( $this, 'show_atts_on_shop' ), 4 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>     /**&nbsp;</div></li><li><div>    * Customize the Additional Information tab to NOT show our custom attributes&nbsp;</div></li><li><div>    */&nbsp;</div></li><li><div>    public function additional_info_tab( $tabs ) {&nbsp;</div></li><li><div>        global $product;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( ! is_object( $product ) ) {&nbsp;</div></li><li><div>            return $tabs;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $product-&gt;has_attributes() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // check if any of the attributes are variations&nbsp;</div></li><li><div>            $attributes = $product-&gt;get_attributes();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $need_tab = array();&nbsp;</div></li><li><div>            foreach ( $attributes as $attribute ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( ( ! empty( $attribute['is_variation'] ) ) && ( ! empty( $attribute['is_visible'] ) ) ) {&nbsp;</div></li><li><div>                    $need_tab[] = 1;                    &nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $need_tab[] = '';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // if all $need_tab array values are empty, none of the attributes are visible variations&nbsp;</div></li><li><div>            // so we would not need the tab except for dimensions or weight&nbsp;</div></li><li><div>            if ( count(array_filter($need_tab)) == 0 ) {&nbsp;</div></li><li><div>                // if no dimensions & no weight, unset the tab&nbsp;</div></li><li><div>                if ( ! $product-&gt;has_dimensions() && ! $product-&gt;has_weight() ) {&nbsp;</div></li><li><div>                    unset( $tabs['additional_information'] );&nbsp;</div></li><li><div>                // if dimensions and weight have both been moved up by option, unset the tab&nbsp;</div></li><li><div>                } elseif ( get_option( 'wcsa_weight_product' ) == 'yes' && get_option( 'wcsa_dimensions_product' ) == 'yes' ) {&nbsp;</div></li><li><div>                        unset( $tabs['additional_information'] );&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // we have to show weight and/or height so do tab&nbsp;</div></li><li><div>                    $tabs['additional_information']['callback'] = 'additional_info_tab_content';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            } else {&nbsp;</div></li><li><div>                // we have visible variations so do tab&nbsp;</div></li><li><div>                $tabs['additional_information']['callback'] = 'additional_info_tab_content';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // we have no attributes&nbsp;</div></li><li><div>            if ( $product-&gt;has_dimensions() || $product-&gt;has_weight() ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                if ( get_option( 'wcsa_weight_product' ) == 'yes' && get_option( 'wcsa_dimensions_product' ) == 'yes' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    // weight and dimensions have been moved up so unset tab&nbsp;</div></li><li><div>                    unset( $tabs['additional_information'] );&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    // we have to show weight and/or height so do tab&nbsp;</div></li><li><div>                    $tabs['additional_information']['callback'] = 'additional_info_tab_content';&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $tabs;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add settings to the Show Attributes section.&nbsp;</div></li><li><div>     * @since 1.4.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function all_settings( $settings, $current_section ) {&nbsp;</div></li><li><div>        if ( $current_section == 'wc_show_attributes' ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $settings_wsa = array(&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'WooCommerce Show Attributes Options', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'type' =&gt; 'title', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Where would you like to show your custom product attributes?', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wc_show_attributes' ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes on Product Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_product', &nbsp;</div></li><li><div>                'default' =&gt; 'yes', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show attributes on the single product above Add To Cart, and on Grouped products.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes on Shop Pages', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Whether to show attributes on the main shop page and shop category pages.', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'woocommerce_show_attributes_on_shop', &nbsp;</div></li><li><div>                'css' =&gt; '', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'select', &nbsp;</div></li><li><div>                'options' =&gt; array(&nbsp;</div></li><li><div>                        '' =&gt; __( 'No', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                        'above_price' =&gt; __( 'Show them above the price', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                        'above_add2cart' =&gt; __( 'Show them above &quot;Add to Cart&quot;', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                'desc_tip' =&gt; true, &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes on Cart Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_cart', &nbsp;</div></li><li><div>                'default' =&gt; 'yes', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show attributes on the cart and checkout pages.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes on Customer Order Emails', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_customer_order_emails', &nbsp;</div></li><li><div>                'default' =&gt; 'yes', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show attributes on customer order, invoice, and receipt emails, and on the customer\'s View Order page.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes on Admin New Order Email', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_admin_email', &nbsp;</div></li><li><div>                'default' =&gt; 'yes', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show attributes on the New Order email which goes to the Administrator.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes on Admin Order Details Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_admin_order_details', &nbsp;</div></li><li><div>                'default' =&gt; 'yes', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show attributes on the Order Details page on the back end, listed under &quot;Order Items&quot;.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array( 'type' =&gt; 'sectionend', 'id' =&gt; 'wc_show_attributes' ), &nbsp;</div></li><li><div>            // style&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'title' =&gt; __( 'Style Options', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'desc' =&gt; __( 'These options affect the style or appearance of the attributes.', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'type' =&gt; 'title', &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_style'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Hide the Labels When Showing Product Attributes', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'woocommerce_show_attributes_hide_labels', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Check this box to hide the attribute labels and only show the attribute values.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attributes in a span Element', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'woocommerce_show_attributes_span', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Check this box to use a span element instead of list bullets when showing product attributes on the single product page.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Remove Colon From Attribute Labels', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_remove_semicolon', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Check this box to remove the colon from the attribute labels. Useful for RTL languages.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array( 'type' =&gt; 'sectionend', 'id' =&gt; 'wcsa_style' ), &nbsp;</div></li><li><div>            // weight and Dimensions&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'title' =&gt; __( 'Show Weight and Dimensions', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'desc' =&gt; __( 'These options let you show the product weight and dimensions in various places.', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'type' =&gt; 'title', &nbsp;</div></li><li><div>                'id' =&gt; 'wc_show_weight_dimensions'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Weight on Product Page Above Add To Cart', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_weight_product', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product weight on the single product pages, and Grouped products, above Add To Cart instead of in the Additional Information tab.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Dimensions on Product Page Above Add To Cart', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_dimensions_product', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product dimensions on the single product pages, and Grouped products, above Add To Cart instead of in the Additional Information tab.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Weight on Cart Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_weight_cart', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product weight on the cart and checkout pages.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Dimensions on Cart Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_dimensions_cart', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product dimensions on the cart and checkout pages.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Weight on Customer Order Emails', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_weight_customer_order_emails', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product weight on customer order, invoice, and receipt emails, and on the customer\'s View Order page.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Dimensions on Customer Order Emails', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_dimensions_customer_order_emails', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product dimensions on customer order, invoice, and receipt emails, and on the customer\'s View Order page.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Weight on Admin New Order Email', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_weight_admin_email', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product weight on the New Order email which goes to the Administrator.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Dimensions on Admin New Order Email', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_dimensions_admin_email', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product dimensions on the New Order email which goes to the Administrator.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Weight on Admin Order Details Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_weight_admin_order_details', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product weight on the Order Details page on the back end, listed under &quot;Order Items&quot;.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Dimensions on Admin Order Details Page', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_dimensions_admin_order_details', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'Show product dimensions on the Order Details page on the back end, listed under &quot;Order Items&quot;.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array( 'type' =&gt; 'sectionend', 'id' =&gt; 'wc_show_weight_dimensions' ), &nbsp;</div></li><li><div>            // Extra Options&nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'title' =&gt; __( 'Extra Options', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'type' =&gt; 'title', &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_extra_options'&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>            array(&nbsp;</div></li><li><div>                'name' =&gt; __( 'Show Attribute Terms as Links', 'woocommerce-show-attributes' ), &nbsp;</div></li><li><div>                'id' =&gt; 'wcsa_terms_as_links', &nbsp;</div></li><li><div>                'default' =&gt; 'no', &nbsp;</div></li><li><div>                'type' =&gt; 'checkbox', &nbsp;</div></li><li><div>                'desc' =&gt; __( 'On the single product page, show the attribute terms as links. They will link to their archive pages. This only works with Global Attributes. Global Attributes are created in Products -&gt; Attributes.', 'woocommerce-show-attributes' )&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                array( 'type' =&gt; 'sectionend', 'id' =&gt; 'wcsa_extra_options' ), &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return $settings_wsa;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // If not, return the standard settings&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            return $settings;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add our settings section under the Products tab.&nbsp;</div></li><li><div>     * @since 1.4.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function add_section( $sections ) {&nbsp;</div></li><li><div>        $sections['wc_show_attributes'] = __( 'Show Attributes', 'woocommerce-show-attributes' );&nbsp;</div></li><li><div>        return $sections;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Show attributes on the Admin New Order email.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Add the custom product attributes to the New Order email&nbsp;</div></li><li><div>     * which goes to the Admin.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param string $item_name the product title&nbsp;</div></li><li><div>     * @param object $item the product object&nbsp;</div></li><li><div>     * @since 1.4.0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function show_admin_new_order_email( $item_name, $item ) {&nbsp;</div></li><li><div>        $show_weight = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_weight_admin_email' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_weight = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $show_dimensions = null;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_dimensions_admin_email' ) == 'yes' ) {&nbsp;</div></li><li><div>            $show_dimensions = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $out = $item_name;&nbsp;</div></li><li><div>        if ( get_option( 'wcsa_admin_email' ) != 'no' ) {&nbsp;</div></li><li><div>            $skip_atts = null;&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            $skip_atts = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // get the name of templates used for this email call&nbsp;</div></li><li><div>        $templates_used = array();&nbsp;</div></li><li><div>        foreach ( debug_backtrace() as $called_file ) {&nbsp;</div></li><li><div>            foreach ( $called_file as $index ) {&nbsp;</div></li><li><div>                if ( is_array( $index ) ) { // avoid errors&nbsp;</div></li><li><div>                    if ( ! empty( $index[0] ) ) {&nbsp;</div></li><li><div>                        if ( is_string( $index[0] ) ) { // eliminate long arrays&nbsp;</div></li><li><div>                            $templates_used[] = $index[0];&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Only add atts to admin emails.&nbsp;</div></li><li><div>        $is_admin_email = false;&nbsp;</div></li><li><div>        foreach ( $templates_used as $template_name ) {&nbsp;</div></li><li><div>            // check each file name for '/emails/admin-'&nbsp;</div></li><li><div>            if ( strpos( $template_name, '/emails/admin-' ) !== false ) {&nbsp;</div></li><li><div>                // Eureka! We have an admin email&nbsp;</div></li><li><div>                $is_admin_email = true;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if ( $is_admin_email ) {&nbsp;</div></li><li><div>            $product = get_product( $item['product_id'] );&nbsp;</div></li><li><div>            $atts = $this-&gt;the_attributes( $product, 'span', $show_weight, $show_dimensions, $skip_atts );&nbsp;</div></li><li><div>            if ( $atts ) {&nbsp;</div></li><li><div>                $out = $item_name . '&lt;br /&gt;' . $atts . '&lt;br /&gt;';&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        return $out;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Add CSS for emails.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function email_style( $css ) {&nbsp;</div></li><li><div>        $css .= '.custom-attributes {display: table}.custom-attributes &gt; span {display: table-row}.custom-attributes .attribute-label{white-space: nowrap}.custom-attributes .attribute-value {padding-left: 8px;display: table-cell}.custom-attributes br {display: none}';&nbsp;</div></li><li><div>        return $css;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>} // end class&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 1.5.3</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.6.2/classes/woo_commerce_show_attributes/" class="">1.6.2</a></li><li><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.6.1/classes/woo_commerce_show_attributes/" class="">1.6.1</a></li><li><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.6/classes/woo_commerce_show_attributes/" class="">1.6</a></li><li><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.4/classes/woo_commerce_show_attributes/" class="active">1.5.4</a></li><li><a href="http://hookr.io/plugins/woocommerce-show-attributes/1.5.3/classes/woo_commerce_show_attributes/" class="">1.5.3</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>WooCommerce_Show_Attributes</li><li><span></span>WooCommerce Show Attributes</li><li><span></span>1.6.2</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>