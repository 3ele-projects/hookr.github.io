<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="1.3.8" data-slug="buddypress-activity-privacy" data-type="class" data-id="77016"><head xmlns="http://www.w3.org/1999/xhtml"><title> bpactivityprivacy_admin | class | Buddypress Activity Privacy | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="BPActivityPrivacy_Admin, class, plugin, buddypress-activity-privacy, 1.3.8" /><meta name="description" content="Loads Buddypress Activity privacy plugin admin area" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.8"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=ade6e0c5b9a2116f9a190a047f1c762a' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.8' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/bpactivity_privacy_admin/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fbpactivity_privacy_admin%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fbpactivity_privacy_admin%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-buddypress-activity-privacy-1.3.8-class-bpactivity_privacy_admin","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="bpactivity_privacy_admin" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to buddypress-activity-privacy." href="http://hookr.io/plugins/buddypress-activity-privacy/" class="plugin"><span property="name">buddypress-activity-privacy</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 1.3.8." href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/" class="H_VERSION"><span property="name">1.3.8</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">bpactivity_privacy_admin</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="75"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/all/" title="All">All <span class="count badge">75</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="14"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/hooks/" title="Hooks">Hooks <span class="count badge">14</span></a></li><li class="" data-id="action" data-count="2"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/actions/" title="Actions">Actions <span class="count badge">2</span></a></li><li class="" data-id="filter" data-count="12"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/filters/" title="Filters">Filters <span class="count badge">12</span></a></li><li class="active" data-id="class" data-count="2"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/classes/" title="Classes">Classes <span class="count badge">2</span></a></li><li class="" data-id="constant" data-count="7"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/constants/" title="Constants">Constants <span class="count badge">7</span></a></li><li class="" data-id="function" data-count="52"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/functions/" title="Functions">Functions <span class="count badge">52</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>BPActivityPrivacy_Admin</strong></h1><p>Loads Buddypress Activity privacy plugin admin area.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/files/includes-bp-activity-privacy-admin/" class="file">/includes/bp-activity-privacy-admin.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="16" class="block" start="16"><li><div>class BPActivityPrivacy_Admin {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    var $setting_page = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    function __construct() {&nbsp;</div></li><li><div>        $this-&gt;setup_actions();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    function setup_actions() {&nbsp;</div></li><li><div>        add_action( bp_core_admin_hook(), array( &$this, 'admin_menu' ) );&nbsp;</div></li><li><div>        //Welcome page redirect&nbsp;</div></li><li><div>        add_action( 'admin_init', array( &$this, 'do_activation_redirect' ), 1 );&nbsp;</div></li><li><div>        // Catch save submits&nbsp;</div></li><li><div>        add_action( 'admin_init', array( &$this, 'admin_submit' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Modify Buddypress Activity Privacy admin links&nbsp;</div></li><li><div>        add_filter( 'plugin_action_links', array( $this, 'modify_plugin_action_links' ), 10, 2 );&nbsp;</div></li><li><div>        add_filter( 'network_admin_plugin_action_links', array( $this, 'modify_plugin_action_links' ), 10, 2 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    function admin_menu() {&nbsp;</div></li><li><div>        $welcome_page = add_dashboard_page(&nbsp;</div></li><li><div>                __( 'Welcome to Buddypress Activity Privacy', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                __( 'Welcome to BP Activity Privacy', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                'manage_options', &nbsp;</div></li><li><div>                'bp-activity-privacy-about', &nbsp;</div></li><li><div>                array( $this, 'about_screen' )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $this-&gt;settings_page = bp_core_do_network_admin() ? 'settings.php' : 'options-general.php';&nbsp;</div></li><li><div>        $hook = add_submenu_page( $this-&gt;settings_page, __( 'BuddyPress Activity Privacy', 'bp-activity-privacy' ), __( 'BP Activity Privacy', 'bp-activity-privacy' ), 'manage_options', 'bp-activity-privacy', array( &$this, 'admin_page' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //add_action( &quot;admin_print_styles-$hook&quot;, 'bp_core_add_admin_menu_styles' );&nbsp;</div></li><li><div>        add_action( &quot;admin_print_scripts-$hook&quot;, array( &$this, 'enqueue_scripts' ) );&nbsp;</div></li><li><div>        add_action( &quot;admin_print_styles-$hook&quot;, array( &$this, 'enqueue_styles' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        remove_submenu_page( 'index.php', 'bp-activity-privacy-about' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Modifies the links in plugins table&nbsp;</div></li><li><div>     * &nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function modify_plugin_action_links( $links, $file ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Return normal links if not BuddyPress&nbsp;</div></li><li><div>        if ( plugin_basename( BP_ACTIVITY_PRIVACY_PLUGIN_FILE_LOADER ) != $file )&nbsp;</div></li><li><div>            return $links;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Add a few links to the existing links array&nbsp;</div></li><li><div>        return array_merge( $links, array(&nbsp;</div></li><li><div>            'settings' =&gt; '&lt;a href=&quot;' . add_query_arg( array( 'page' =&gt; 'bp-activity-privacy' ), bp_get_admin_url( $this-&gt;settings_page ) ) . '&quot;&gt;' . esc_html__( 'Settings', 'bp-activity-privacy' ) . '&lt;/a&gt;', &nbsp;</div></li><li><div>            'about' =&gt; '&lt;a href=&quot;' . add_query_arg( array( 'page' =&gt; 'bp-activity-privacy-about' ), bp_get_admin_url( 'index.php' ) ) . '&quot;&gt;' . esc_html__( 'About', 'bp-activity-privacy' ) . '&lt;/a&gt;'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    function admin_submit() {&nbsp;</div></li><li><div>        if ( isset( $_POST['bpap-submit'] ) || isset( $_POST['bpap-reset'] ) ) {&nbsp;</div></li><li><div>          if ( !is_super_admin() ) {&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          check_admin_referer( 'bpap-settings' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if( isset( $_POST['bpap-submit'] ) ) {&nbsp;</div></li><li><div>              // settings &nbsp;</div></li><li><div>              $allow_admin_ve_privacy_levels =  ( @$_POST['allow-admin-view-edit-privacy-levels'] )  ?  true : false;&nbsp;</div></li><li><div>              bp_update_option( 'bp_ap_allow_admin_ve_pl', $allow_admin_ve_privacy_levels );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              $allow_members_e_privacy_levels = ( @$_POST['allow-members-edit-privacy-levels'] )  ? true : false;&nbsp;</div></li><li><div>              bp_update_option( 'bp_ap_allow_members_e_pl', $allow_members_e_privacy_levels );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>            $use_fontawsome = ( $_POST['use-fontawsome'] )  ? true : false;&nbsp;</div></li><li><div>              bp_update_option( 'bp_ap_use_fontawsome', $use_fontawsome );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>            $use_custom_styled_selectbox = ( @$_POST['use-custom-styled-selectbox'] )  ? true : false;&nbsp;</div></li><li><div>              bp_update_option( 'bp_ap_use_custom_styled_selectbox', $use_custom_styled_selectbox );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>            $show_privacy_levels_label = ( @$_POST['show-privacy-levels-label'] )  ? true : false;&nbsp;</div></li><li><div>              bp_update_option( 'bp_ap_show_privacy_ll', $show_privacy_levels_label );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $show_privacy_in_activity_meta = ( @$_POST['show-privacy-in-activity-meta'] )  ? true : false;&nbsp;</div></li><li><div>            bp_update_option( 'bp_ap_show_privacy_in_am', $show_privacy_in_activity_meta);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $pavl = $_POST['pavl'];&nbsp;</div></li><li><div>            $pavl_enabled = $_POST['pavl_enabled'];&nbsp;</div></li><li><div>            $pavl_default = $_POST['pavl_default'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // Register the visibility levels&nbsp;</div></li><li><div>            $profile_activity_visibility_levels = array(&nbsp;</div></li><li><div>                  'public' =&gt; array(&nbsp;</div></li><li><div>                      'id' =&gt; 'public', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Anyone', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $pavl_default ==  'public' )  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('public', array_keys($pavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $pavl_enabled ['public'] )  ? false : true&nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  'loggedin' =&gt; array(&nbsp;</div></li><li><div>                      'id' =&gt; 'loggedin', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Logged In Users', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $pavl_default == 'loggedin')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('loggedin', array_keys($pavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $pavl_enabled ['loggedin'] )  ? false : true&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( bp_is_active( 'friends' ) ) {&nbsp;</div></li><li><div>                  $profile_activity_visibility_levels['friends'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'friends', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'My Friends', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $pavl_default == 'friends')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('friends', array_keys($pavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $pavl_enabled ['friends'] )  ? false : true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              // https://buddypress.trac.wordpress.org/changeset/7193&nbsp;</div></li><li><div>              if ( function_exists('bp_activity_do_mentions') ) {&nbsp;</div></li><li><div>                  if ( bp_activity_do_mentions() ) {&nbsp;</div></li><li><div>                      $profile_activity_visibility_levels['mentionedonly'] = array(&nbsp;</div></li><li><div>                          'id' =&gt; 'mentionedonly', &nbsp;</div></li><li><div>                          'label' =&gt; __( 'Mentioned Only', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                          'default' =&gt; ( $pavl_default == 'mentionedonly')  ? true : false, &nbsp;</div></li><li><div>                          'position' =&gt; 10*( 1 + array_search('mentionedonly', array_keys($pavl))), &nbsp;</div></li><li><div>                          'disabled' =&gt; ( $pavl_enabled ['mentionedonly'] )  ? false : true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    /**&nbsp;</div></li><li><div>                  $profile_activity_visibility_levels['mentionedonly'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'mentionedonly', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Mentioned Only', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $pavl_default == 'mentionedonly')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('mentionedonly', array_keys($pavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $pavl_enabled ['mentionedonly'] )  ? false : true&nbsp;</div></li><li><div> ); */               &nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $profile_activity_visibility_levels['adminsonly'] = array(&nbsp;</div></li><li><div>                  'id' =&gt; 'adminsonly', &nbsp;</div></li><li><div>                  'label' =&gt; __( 'Admins Only', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                  'default' =&gt; ( $pavl_default == 'adminsonly')  ? true : false, &nbsp;</div></li><li><div>                  'position' =&gt; 10*( 1 + array_search('adminsonly', array_keys($pavl))), &nbsp;</div></li><li><div>                  'disabled' =&gt; ( $pavl_enabled ['adminsonly'] )  ? false : true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $profile_activity_visibility_levels['onlyme'] = array(&nbsp;</div></li><li><div>                  'id' =&gt; 'onlyme', &nbsp;</div></li><li><div>                  'label' =&gt; __( 'Only Me', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                  'default' =&gt; ( $pavl_default == 'onlyme')  ? true : false, &nbsp;</div></li><li><div>                  'position' =&gt; 10*( 1 + array_search('onlyme', array_keys($pavl))), &nbsp;</div></li><li><div>                  'disabled' =&gt; ( $pavl_enabled ['onlyme'] )  ? false : true&nbsp;</div></li><li><div> );    &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              //followers plugin integration&nbsp;</div></li><li><div>              if( function_exists('bp_follow_is_following') ) {&nbsp;</div></li><li><div>                  $profile_activity_visibility_levels['followers'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'followers', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'My Followers', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $pavl_default == 'followers')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('followers', array_keys($pavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $pavl_enabled ['followers'] )  ? false : true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              bp_update_option( 'bp_ap_profile_activity_visibility_levels', $profile_activity_visibility_levels );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              //Groups activity privacy&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $gavl = $_POST['gavl'];&nbsp;</div></li><li><div>              $gavl_enabled = $_POST['gavl_enabled'];&nbsp;</div></li><li><div>              $gavl_default = $_POST['gavl_default'];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $groups_activity_visibility_levels = array(&nbsp;</div></li><li><div>                  'public' =&gt; array(&nbsp;</div></li><li><div>                      'id' =&gt; 'public', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Anyone', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'public')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('public', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['public'] )  ? false : true       &nbsp;</div></li><li><div> ), &nbsp;</div></li><li><div>                  'loggedin' =&gt; array(&nbsp;</div></li><li><div>                      'id' =&gt; 'loggedin', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Logged In Users', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'loggedin')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('loggedin', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['loggedin'] )  ? false : true         &nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( bp_is_active( 'friends' ) ) {&nbsp;</div></li><li><div>                  $groups_activity_visibility_levels['friends'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'friends', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'My Friends', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'friends')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('friends', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['friends'] )  ? false : true            &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                  if ( bp_is_active( 'groups' ) ) {&nbsp;</div></li><li><div>                    $groups_activity_visibility_levels['groupfriends'] = array(&nbsp;</div></li><li><div>                        'id' =&gt; 'groupfriends', &nbsp;</div></li><li><div>                        'label' =&gt; __( 'My Friends in Group', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                        'default' =&gt; ( $gavl_default == 'groupfriends')  ? true : false, &nbsp;</div></li><li><div>                        'position' =&gt; 10*( 1 + array_search('groupfriends', array_keys($gavl))), &nbsp;</div></li><li><div>                        'disabled' =&gt; ( $gavl_enabled ['groupfriends'] )  ? false : true          &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>             if ( bp_activity_do_mentions() ) {&nbsp;</div></li><li><div>                    $groups_activity_visibility_levels['mentionedonly'] = array(&nbsp;</div></li><li><div>                       'id' =&gt; 'mentionedonly', &nbsp;</div></li><li><div>                       'label' =&gt; __( 'Mentioned Only', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                       'default' =&gt; ( $gavl_default == 'mentionedonly')  ? true : false, &nbsp;</div></li><li><div>                       'position' =&gt; 10*( 1 + array_search('mentionedonly', array_keys($gavl))), &nbsp;</div></li><li><div>                       'disabled' =&gt; ( $gavl_enabled ['mentionedonly'] )  ? false : true            &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if ( bp_is_active( 'groups' ) ) {&nbsp;</div></li><li><div>                  $groups_activity_visibility_levels['grouponly'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'grouponly', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Group Members', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'grouponly')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('grouponly', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['grouponly'] )  ? false : true         &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $groups_activity_visibility_levels['groupmoderators'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'groupmoderators', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Group Moderators', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'groupmoderators')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('groupmoderators', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['groupmoderators'] )  ? false : true          &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  $groups_activity_visibility_levels['groupadmins'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'groupadmins', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'Group Admins', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'groupadmins')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('groupadmins', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['groupadmins'] )  ? false : true          &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>            }   &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $groups_activity_visibility_levels['adminsonly'] = array(&nbsp;</div></li><li><div>                  'id' =&gt; 'adminsonly', &nbsp;</div></li><li><div>                  'label' =&gt; __( 'Admins Only', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                  'default' =&gt; ( $gavl_default == 'adminsonly')  ? true : false, &nbsp;</div></li><li><div>                  'position' =&gt; 10*( 1 + array_search('adminsonly', array_keys($gavl))), &nbsp;</div></li><li><div>                  'disabled' =&gt; ( $gavl_enabled ['adminsonly'] )  ? false : true      &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            $groups_activity_visibility_levels['onlyme'] = array(&nbsp;</div></li><li><div>                  'id' =&gt; 'onlyme', &nbsp;</div></li><li><div>                  'label' =&gt; __( 'Only Me', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                  'default' =&gt; ( $gavl_default == 'onlyme')  ? true : false, &nbsp;</div></li><li><div>                  'position' =&gt; 10*( 1 + array_search('onlyme', array_keys($gavl))), &nbsp;</div></li><li><div>                  'disabled' =&gt; ( $gavl_enabled ['onlyme'] )  ? false : true    &nbsp;</div></li><li><div> );   &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            //followers plugin integration&nbsp;</div></li><li><div>            if( function_exists('bp_follow_is_following') ) {&nbsp;</div></li><li><div>                $groups_activity_visibility_levels['followers'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'followers', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'My Followers', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'followers')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('followers', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['followers'] )  ? false : true    &nbsp;</div></li><li><div> );               &nbsp;</div></li><li><div>                $groups_activity_visibility_levels['groupfollowers'] = array(&nbsp;</div></li><li><div>                      'id' =&gt; 'groupfollowers', &nbsp;</div></li><li><div>                      'label' =&gt; __( 'My Followers in Group', 'bp-activity-privacy' ), &nbsp;</div></li><li><div>                      'default' =&gt; ( $gavl_default == 'groupfollowers')  ? true : false, &nbsp;</div></li><li><div>                      'position' =&gt; 10*( 1 + array_search('groupfollowers', array_keys($gavl))), &nbsp;</div></li><li><div>                      'disabled' =&gt; ( $gavl_enabled ['groupfollowers'] )  ? false : true    &nbsp;</div></li><li><div> );   &nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            bp_update_option( 'bp_ap_groups_activity_visibility_levels', $groups_activity_visibility_levels );&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;div id=&quot;message&quot; class=&quot;updated&quot;&gt;&lt;p&gt;&lt;?php _e( 'Settings saved.', 'bp-activity-privacy' );?&gt;&lt;/p&gt;&lt;/div&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          } else {&nbsp;</div></li><li><div>                global $bp_activity_privacy;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>                  bp_update_option( 'bp_ap_profile_activity_visibility_levels', $bp_activity_privacy-&gt;profile_activity_visibility_levels );&nbsp;</div></li><li><div>                  bp_update_option( 'bp_ap_groups_activity_visibility_levels', $bp_activity_privacy-&gt;groups_activity_visibility_levels );&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>                  bp_update_option( 'bp_ap_allow_admin_ve_pl', false );&nbsp;</div></li><li><div>                 bp_update_option( 'bp_ap_allow_members_e_pl', true );&nbsp;</div></li><li><div>                  bp_update_option( 'bp_ap_use_fontawsome', true );&nbsp;</div></li><li><div>                 bp_update_option( 'bp_ap_use_custom_styled_selectbox', true );&nbsp;</div></li><li><div>                  bp_update_option( 'bp_ap_show_privacy_ll', true );&nbsp;</div></li><li><div>                  bp_update_option( 'bp_ap_show_privacy_in_am', true);&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>            &lt;div id=&quot;message&quot; class=&quot;updated&quot;&gt;&lt;p&gt;&lt;?php _e( 'Settings reseted.', 'bp-activity-privacy' );?&gt;&lt;/p&gt;&lt;/div&gt;&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>          } &nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    function admin_page() {  &nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>        &lt;div class=&quot;wrap&quot;&gt;&nbsp;</div></li><li><div>            &lt;?php screen_icon( 'buddypress' ); ?&gt;&nbsp;</div></li><li><div>            &lt;h2&gt;&lt;?php _e( 'BuddyPress Activity Privacy', 'bp-activity-privacy' ); ?&gt; &lt;sup&gt;v &lt;?php echo BP_ACTIVITY_PRIVACY_VERSION ?&gt; &lt;/sup&gt;&lt;/h2&gt;&nbsp;</div></li><li><div>         &nbsp;</div></li><li><div>              &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;label&gt;&lt;?php _e('Profil Activity privacy', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&lt;/h3&gt;     &nbsp;</div></li><li><div>              &lt;div class=&quot;bpap-options-box options-box ui-sortable&quot;&gt;&nbsp;</div></li><li><div>              &lt;h4&gt;&lt;?php _e('Please check the box to enable the privacy and Drag&Drop to sort :', 'bp-activity-privacy') ?&gt;&lt;/h4&gt; &nbsp;</div></li><li><div>              &lt;?php &nbsp;</div></li><li><div>              //$html = &quot;&lt;ul&gt;&quot;;&nbsp;</div></li><li><div>              //&nbsp;</div></li><li><div>              $html = &quot;&quot;;&nbsp;</div></li><li><div>              $profile_activity_visibility_levels = bp_get_profile_activity_visibility_levels();&nbsp;</div></li><li><div>              uasort ($profile_activity_visibility_levels, 'bp_activity_privacy_cmp_position');&nbsp;</div></li><li><div>              foreach ($profile_activity_visibility_levels as  $key =&gt; $pavl) {&nbsp;</div></li><li><div>                $disabled = ( !$pavl[&quot;disabled&quot;] ) ? 'checked' : '';&nbsp;</div></li><li><div>                $default = ( $pavl[&quot;default&quot;] ) ? 'checked' : '';&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                $html .= ' &lt;p class=&quot;sortable&quot; style=&quot;&quot;&gt;&lt;span style=&quot;cursor: default;&quot;&gt; * &lt;/span&gt;&lt;label for=&quot;' . $pavl[&quot;id&quot;] .'&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;pavl_enabled[' . $pavl[&quot;id&quot;] .']&quot; ' . $disabled  .' /&gt; &nbsp; ' . $pavl[&quot;label&quot;] .'&lt;/label&gt;';&nbsp;</div></li><li><div>                $html .= '&lt;input type=&quot;hidden&quot; name=&quot;pavl[' . $key .']&quot; value=&quot;' . $pavl[&quot;id&quot;] .'&quot; /&gt;&lt;input name=&quot;pavl_default&quot; id=&quot;pavl_default&quot; value=&quot;' . $key .'&quot; type=&quot;radio&quot; ' . $default . '&gt;&lt;span style=&quot;cursor: move;&quot;&gt;Default Value&lt;/span&gt;';&nbsp;</div></li><li><div>                $html .= ' &lt;/p&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              //  $html .= ' &lt;li&gt;&lt;label for=&quot;' . $pavl[&quot;id&quot;] .'&quot;&gt;Position: &lt;input type=&quot;text&quot; name=&quot;position[' . $pavl[&quot;id&quot;] .']&quot; value=&quot;' . $pavl[&quot;position&quot;] .'&quot; /&gt;&lt;/label&gt;&lt;/p&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>             // $html .= &quot;&lt;/ul&gt;&quot;;&nbsp;</div></li><li><div>              echo $html;&nbsp;</div></li><li><div>              ?&gt;  &nbsp;</div></li><li><div>               &lt;/div&gt;&nbsp;</div></li><li><div>               &nbsp;</div></li><li><div>              &lt;h3&gt;&lt;label&gt;&lt;?php _e('Groups Activity privacy', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;bpap-options-box options-box ui-sortable&quot;&gt;&nbsp;</div></li><li><div>                  &lt;h4&gt;&lt;?php _e('Please check the box to enable the privacy and Drag&Drop to sort :', 'bp-activity-privacy') ?&gt;&lt;/h4&gt; &nbsp;</div></li><li><div>                  &lt;?php &nbsp;</div></li><li><div>                  $groups_activity_visibility_levels = bp_get_groups_activity_visibility_levels();&nbsp;</div></li><li><div>                  uasort ($groups_activity_visibility_levels, 'bp_activity_privacy_cmp_position');    &nbsp;</div></li><li><div>                  $html = '';&nbsp;</div></li><li><div>                  foreach ($groups_activity_visibility_levels as  $key =&gt; $pavl) {&nbsp;</div></li><li><div>                    $disabled = ( !$pavl[&quot;disabled&quot;] ) ? 'checked' : '';&nbsp;</div></li><li><div>                    $default = ( $pavl[&quot;default&quot;] ) ? 'checked' : '';&nbsp;</div></li><li><div>                    &nbsp;</div></li><li><div>                    $html .= ' &lt;p class=&quot;sortable&quot; style=&quot;&quot;&gt;&lt;span style=&quot;cursor: default;&quot;&gt; * &lt;/span&gt;&lt;label for=&quot;' . $pavl[&quot;id&quot;] .'&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;gavl_enabled[' . $pavl[&quot;id&quot;] .']&quot; ' . $disabled  .' /&gt; &nbsp; ' . $pavl[&quot;label&quot;] .'&lt;/label&gt;';&nbsp;</div></li><li><div>                    $html .= '&lt;input type=&quot;hidden&quot; name=&quot;gavl[' . $key .']&quot; value=&quot;' . $pavl[&quot;id&quot;] .'&quot; /&gt;&lt;input name=&quot;gavl_default&quot; id=&quot;gavl_default&quot; value=&quot;' . $key .'&quot; type=&quot;radio&quot; ' . $default . '&gt;&lt;span style=&quot;cursor: move;&quot;&gt;Default Value&lt;/span&gt;';&nbsp;</div></li><li><div>                    $html .= ' &lt;/p&gt;';&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  echo $html;&nbsp;</div></li><li><div>                  ?&gt;  &nbsp;</div></li><li><div>              &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;?php&nbsp;</div></li><li><div>                  $allow_admin_ve_privacy_levels = bp_ap_is_admin_allowed_to_view_edit_privacy_levels();&nbsp;</div></li><li><div>                  $allow_members_e_privacy_levels = bp_ap_is_members_allowed_to_edit_privacy_levels();&nbsp;</div></li><li><div>                $use_fontawsome = bp_ap_is_use_fontawsome();&nbsp;</div></li><li><div>                $use_custom_styled_selectbox = bp_ap_is_use_custom_styled_selectbox();&nbsp;</div></li><li><div>                $show_privacy_levels_label = bp_ap_show_privacy_levels_label();&nbsp;</div></li><li><div>                $show_privacy_in_activity_meta = bp_ap_show_privacy_in_activity_meta();&nbsp;</div></li><li><div>            ?&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;h3&gt;&lt;label&gt;&lt;?php _e('Settings', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&lt;/h3&gt;     &nbsp;</div></li><li><div>                  &lt;h4&gt;&lt;?php _e('Main settings', 'bp-activity-privacy') ?&gt;&lt;/h4&gt; &nbsp;</div></li><li><div>                &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                    &lt;tbody&gt;&lt;tr&gt;&lt;th scope=&quot;row&quot;&gt;&lt;?php _e('Admin privileges', 'bp-activity-privacy') ?&gt;&lt;/th&gt;&lt;td&gt;&nbsp;</div></li><li><div>                    &lt;input id=&quot;allow-admin-view-edit-privacy-levels&quot; name=&quot;allow-admin-view-edit-privacy-levels&quot; &lt;?= ($allow_admin_ve_privacy_levels) ? 'checked' : ''; ?&gt; type=&quot;checkbox&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;label for=&quot;allow-admin-view-edit-privacy-levels&quot;&gt;&lt;?php _e('Allow admin to view and edit the prviacy of all activities', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th scope=&quot;row&quot;&gt;Members privileges&lt;/th&gt;&lt;td&gt;&nbsp;</div></li><li><div>                    &lt;input id=&quot;allow-members-edit-privacy-levels&quot; name=&quot;allow-members-edit-privacy-levels&quot; &lt;?= ($allow_members_e_privacy_levels) ? 'checked' : ''; ?&gt; type=&quot;checkbox&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;label for=&quot;allow-members-edit-privacy-levels&quot;&gt;&lt;?php _e('Allow members to edit the privacy of their activities', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;/td&gt;&lt;/tr&gt;&nbsp;</div></li><li><div>                    &lt;/tbody&gt;&nbsp;</div></li><li><div>                &lt;/table&gt;&nbsp;</div></li><li><div>                &lt;h4&gt;&lt;?php _e('UI settings', 'bp-activity-privacy') ?&gt;&lt;/h4&gt;&nbsp;</div></li><li><div>                &lt;table class=&quot;form-table&quot;&gt;&nbsp;</div></li><li><div>                    &lt;tbody&gt;&nbsp;</div></li><li><div>                    &lt;tr&gt;&nbsp;</div></li><li><div>                        &lt;th scope=&quot;row&quot;&gt;&lt;?php _e('Font Awesome Icons', 'bp-activity-privacy') ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                        &lt;td&gt;&nbsp;</div></li><li><div>                        &lt;input id=&quot;use-fontawsome&quot; name=&quot;use-fontawsome&quot; &lt;?= ($use_fontawsome) ? 'checked' : ''; ?&gt; type=&quot;checkbox&quot; /&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;use-fontawsome&quot;&gt;&lt;?php _e('Use FontAwesome Icons', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;/td&gt;&nbsp;</div></li><li><div>                    &lt;/tr&gt;&nbsp;</div></li><li><div>                    &lt;tr&gt;&nbsp;</div></li><li><div>                        &lt;th scope=&quot;row&quot;&gt;&lt;?php _e('Custom styled selectbox', 'bp-activity-privacy') ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                        &lt;td&gt;&nbsp;</div></li><li><div>                        &lt;input id=&quot;use-custom-styled-selectbox&quot; name=&quot;use-custom-styled-selectbox&quot; &lt;?= ($use_custom_styled_selectbox) ? 'checked' : ''; ?&gt; type=&quot;checkbox&quot; /&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;use-custom-styled-selectbox&quot;&gt;&lt;?php _e('Use custom styled selectbox', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                        &lt;/td&gt;&nbsp;</div></li><li><div>                    &lt;/tr&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                    &lt;tr&gt;&nbsp;</div></li><li><div>                        &lt;th scope=&quot;row&quot;&gt;&lt;?php _e('Privacy labels', 'bp-activity-privacy') ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                        &lt;td&gt;&nbsp;</div></li><li><div>                        &lt;input id=&quot;show-privacy-levels-label&quot; name=&quot;show-privacy-levels-label&quot; &lt;?= ($show_privacy_levels_label) ? 'checked' : ''; ?&gt; type=&quot;checkbox&quot;&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;show-privacy-levels-label&quot;&gt;&lt;?php _e('Show the privacy label in selectbox (Use FontAwesome Icons should be checked if this is unchecked)', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;/td&gt;&nbsp;</div></li><li><div>                    &lt;/tr&gt;&nbsp;</div></li><li><div>                    &lt;tr&gt;&nbsp;</div></li><li><div>                        &lt;th scope=&quot;row&quot;&gt;&lt;?php _e('Privacy in activity meta', 'bp-activity-privacy') ?&gt;&lt;/th&gt;&nbsp;</div></li><li><div>                        &lt;td&gt;&nbsp;</div></li><li><div>                        &lt;input id=&quot;show-privacy-in-activity-meta&quot; name=&quot;show-privacy-in-activity-meta&quot; &lt;?= ($show_privacy_in_activity_meta) ? 'checked' : ''; ?&gt; type=&quot;checkbox&quot;&gt;&nbsp;</div></li><li><div>                        &lt;label for=&quot;show-privacy-in-activity-meta&quot;&gt;&lt;?php _e('Show the privacy in activity meta', 'bp-activity-privacy') ?&gt;&lt;/label&gt;&nbsp;</div></li><li><div>                        &lt;/td&gt;&nbsp;</div></li><li><div>                    &lt;/tr&gt;&nbsp;</div></li><li><div>                    &lt;/tbody&gt;&nbsp;</div></li><li><div>                &lt;/table&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              &lt;?php wp_nonce_field( 'bpap-settings' ) ?&gt;&nbsp;</div></li><li><div>              &lt;br /&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;submit&quot; name=&quot;bpap-submit&quot; class=&quot;button-primary&quot; value=&quot;&lt;?php _e( &quot;Save Settings&quot;, 'bp-activity-privacy' ) ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>              &lt;input type=&quot;submit&quot; name=&quot;bpap-reset&quot; class=&quot;button-secondary&quot; value=&quot;&lt;?php _e( &quot;Reset&quot;, 'bp-activity-privacy' ) ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>          &lt;/form&gt;&nbsp;</div></li><li><div>        &lt;/div&gt;&lt;!-- end-wrap --&gt;  &nbsp;</div></li><li><div>      &lt;?php     &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      public function about_screen() {&nbsp;</div></li><li><div>        $display_version = BP_ACTIVITY_PRIVACY_VERSION;&nbsp;</div></li><li><div>        $settings_url = add_query_arg( array( 'page' =&gt; 'bp-activity-privacy'), bp_get_admin_url( $this-&gt;settings_page ) );&nbsp;</div></li><li><div>        ?&gt;&nbsp;</div></li><li><div>        &lt;style type=&quot;text/css&quot;&gt;&nbsp;</div></li><li><div>            /* Changelog / Update screen */&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section img {&nbsp;</div></li><li><div>                border: none;&nbsp;</div></li><li><div>                margin: 0 1.94% 10px 0;&nbsp;</div></li><li><div>                -webkit-border-radius: 3px;&nbsp;</div></li><li><div>                border-radius: 3px;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section.three-col img {&nbsp;</div></li><li><div>                margin: 0.5em 0 0.5em 5px;&nbsp;</div></li><li><div>                max-width: 100%;&nbsp;</div></li><li><div>                float: none;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .ie8 .about-wrap .feature-section.three-col img {&nbsp;</div></li><li><div>                margin-left: 0;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section.images-stagger-right img {&nbsp;</div></li><li><div>                float: right;&nbsp;</div></li><li><div>                margin: 0 5px 12px 2em;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section.images-stagger-left img {&nbsp;</div></li><li><div>                float: left;&nbsp;</div></li><li><div>                margin: 0 2em 12px 5px;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section img.image-100 {&nbsp;</div></li><li><div>                margin: 0 0 2em 0;&nbsp;</div></li><li><div>                width: 100%;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section img.image-66 {&nbsp;</div></li><li><div>                width: 65%;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section img.image-50 {&nbsp;</div></li><li><div>                max-width: 50%;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section img.image-30 {&nbsp;</div></li><li><div>                max-width: 31.2381%;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .ie8 .about-wrap .feature-section img {&nbsp;</div></li><li><div>                border-width: 1px;&nbsp;</div></li><li><div>                border-style: solid;&nbsp;</div></li><li><div>            }    &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .images-stagger-right img.image-30:nth-child(2) {&nbsp;</div></li><li><div>                margin-left: 1em;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .about-wrap .feature-section img {&nbsp;</div></li><li><div>                background: none repeat scroll 0% 0% #FFF;&nbsp;</div></li><li><div>                border: 1px solid #CCC;&nbsp;</div></li><li><div>                box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.3);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            .bpap-admin-badge {&nbsp;</div></li><li><div>                position: absolute;&nbsp;</div></li><li><div>                top: 0px;&nbsp;</div></li><li><div>                right: 0px;&nbsp;</div></li><li><div>                padding-top: 190px;&nbsp;</div></li><li><div>                height: 25px;&nbsp;</div></li><li><div>                width: 173px;&nbsp;</div></li><li><div>                color: #555;&nbsp;</div></li><li><div>                font-weight: bold;&nbsp;</div></li><li><div>                font-size: 11px;&nbsp;</div></li><li><div>                text-align: center;&nbsp;</div></li><li><div>                margin: 0px -5px;&nbsp;</div></li><li><div>                background: url('&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL; ?&gt;includes/images/badge.png') no-repeat scroll 0% 0% transparent;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        &lt;/style&gt;&nbsp;</div></li><li><div>        &lt;div class=&quot;wrap about-wrap&quot;&gt;&nbsp;</div></li><li><div>            &lt;h1&gt;&lt;?php printf( __( 'Welcome to BuddyPress Activity Privacy %s', 'bp-activity-privacy' ), $display_version ); ?&gt;&lt;/h1&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;about-text&quot;&gt;&lt;?php printf( __( 'Thank you for upgrading to the latest version of BP Activity Privacy! &lt;br \&gt; BP Activity Privacy %s is ready to manage the activity privacy of your Site!', 'bp-activity-privacy' ), $display_version ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>            &lt;div class=&quot;bpap-admin-badge&quot; style=&quot;&quot;&gt;&lt;?php printf( __( 'Version %s', 'bp-activity-privacy' ), $display_version ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;warning-text&quot; style=&quot;color:red;font-weight:bold;text-align:center;&quot;&gt;&lt;?php _e( 'Please go to BP Acitivity Privacy Configuration and save your settings to apply new update.', 'bp-activity-privacy' ); ?&gt;&lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;h2 class=&quot;nav-tab-wrapper&quot;&gt;&nbsp;</div></li><li><div>                &lt;a class=&quot;nav-tab nav-tab-active&quot; href=&quot;&lt;?php echo esc_url(  bp_get_admin_url( add_query_arg( array( 'page' =&gt; 'bp-activity-privacy-about' ), 'index.php' ) ) ); ?&gt;&quot;&gt;&nbsp;</div></li><li><div>                    &lt;?php _e( 'About', 'bp-activity-privacy' ); ?&gt;&nbsp;</div></li><li><div>                &lt;/a&gt;&nbsp;</div></li><li><div>            &lt;/h2&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php _e( 'Add Privacy Controls To The BuddyPress Activity Stream!', 'bp-activity-privacy' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section&quot;&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'BP Activity Privacy is a BuddyPress plugin who gives users the ability to restrict who can see their activity posts. ', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'It gives each member multiple privacy options on activity posts and should encourage more confident participation on your social network.', 'bp-activity-privacy' );?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php printf( __( 'What&#39; new in %s ?', 'bp-activity-privacy' ), $display_version ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section&quot;&gt;&nbsp;</div></li><li><div>                    &lt;ul&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Allow admin to view and edit the prviacy of all activities (Check Admin privileges in plugin settings).', 'bp-activity-privacy' );?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Admin now have a control to enable/disable the members to edit the privacy of their activities.', 'bp-activity-privacy' );?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Admin now have a control to enable/disable the FontAwesome icon.', 'bp-activity-privacy' );?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Admin now have a finer control to enable/disable FontAwesome icon.', 'bp-activity-privacy' );?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Admin now have a control to enable/disable the custom styled selectbox.', 'bp-activity-privacy' );?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Admin now have a control to show/hide printing the privacy of activities in their meta.', 'bp-activity-privacy' );?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &nbsp;</div></li><li><div>                        &lt;strong&gt;&lt;?php _e( 'Updates before current version', 'bp-activity-privacy' ); ?&gt;&lt;/strong&gt;&nbsp;</div></li><li><div>                        &lt;br /&gt;&nbsp;</div></li><li><div>                        &lt;br /&gt;    &nbsp;</div></li><li><div>                        &lt;li class=&quot;&quot;&gt;&lt;?php _e( 'The plugin work now on Multisite Network!', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'A New privacy level (Mentioned only). When a member choose this privacy level, only mentioned members (and admin of course) can see the activity.', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( '&lt;strong&gt;Remark:&lt;/strong&gt; &lt;i&gt;Members mentioned in activity can see it\'s content whatever the privacy level.&lt;/i&gt;', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'New Dropdown system with a nice icons ( By &lt;a target=&quot;_BLANK&quot; href=&quot;http://fontawesome.io/&quot;&gt;Font Awesome&lt;/a&gt; ).', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;/ul&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php _e( 'How it\'s Work ?' , 'bp-activity-privacy' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section images-stagger-right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;img alt=&quot;&quot; src=&quot;&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL;?&gt;/screenshot-1.png&quot; class=&quot;image-50&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'Once installed and activated, BuddyPress Activity Privacy adds following privacy controls to the post update box for members:', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                    &lt;ul&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Anyone', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Logged In Users', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'My Friends', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Mentioned Only', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Admin Only', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Only Me', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;/ul&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'Certain privacy controls are component-dependent. For example, the &quot;Friends Only&quot; privacy option in the dropdown will not show up unless you have the Friends component activated in the BuddyPress settings panel.', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>            &nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section images-stagger-right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;img alt=&quot;&quot; src=&quot;&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL;?&gt;/screenshot-2.png&quot; class=&quot;image-50&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&nbsp;</div></li><li><div>                    &lt;?php _e( 'When posting within a group the group-specific privacy options will be added to the dropdown, inlcluding:', 'bp-activity-privacy' ); ?&gt;&nbsp;&nbsp;</div></li><li><div>                    &lt;ul&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'My Friends in a Group', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Group Members', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Group Moderators', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Group Admins', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;/ul&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php _e( 'Update the Privacy of the ol ', 'bp-activity-privacy' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section images-stagger-right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;img alt=&quot;&quot; src=&quot;&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL;?&gt;/screenshot-6.png&quot; class=&quot;image-50&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'Members can update the privacy of the old activity stream (new selectbox in activity meta).', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'Admin can also update the privacy of all the old activity stream.', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php _e( 'Privacy control for Followers Plugin', 'bp-activity-privacy' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section images-stagger-right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;img alt=&quot;&quot; src=&quot;&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL;?&gt;/screenshot-3.png&quot; class=&quot;image-50&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;h4&gt;&lt;?php _e( 'Fully integrated with Buddypress Follow', 'bp-activity-privacy' ); ?&gt;&lt;/h4&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'If you have &lt;a href=&quot;http://wordpress.org/plugins/buddypress-followers/&quot;&gt;BuddyPress Follow&lt;/a&gt; installed in your site, BP Activity Privacy adds new privacy levels :', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                    &lt;ul&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'My Followers', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'My followers in Group', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;/ul&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php _e( 'Integration for Buddypress Activity Plus Plugin', 'bp-activity-privacy' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section images-stagger-right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;img alt=&quot;&quot; src=&quot;&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL;?&gt;/screenshot-5.png&quot; class=&quot;image-50&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'BP Activity Privacy is released with Integration for &lt;a href=&quot;http://wordpress.org/plugins/buddypress-activity-plus/&quot;&gt;Buddypress Activity Plus&lt;/a&gt;.', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;            &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            &lt;div class=&quot;changelog&quot;&gt;&nbsp;</div></li><li><div>                &lt;h3&gt;&lt;?php _e( 'BP Acitivity Privacy Configuration', 'bp-activity-privacy' ); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                &lt;div class=&quot;feature-section images-stagger-right&quot;&gt;&nbsp;</div></li><li><div>                    &lt;img alt=&quot;&quot; src=&quot;&lt;?php echo BP_ACTIVITY_PRIVACY_PLUGIN_URL;?&gt;/screenshot-7.png&quot; class=&quot;image-50&quot; /&gt;&nbsp;</div></li><li><div>                    &lt;h4&gt;&lt;a href=&quot;&lt;?php echo $settings_url;?&gt;&quot; title=&quot;&lt;?php _e( 'Configure BP Activity Privacy', 'bp-activity-privacy' ); ?&gt;&quot;&gt;&lt;?php _e( 'Configure BP Activity Privacy', 'bp-activity-privacy' ); ?&gt;&lt;/a&gt;&lt;/h4&gt;&nbsp;</div></li><li><div>                    &lt;p&gt;&lt;?php _e( 'From the settings menu of his WordPress administration, the administrator is able to configure BP Activity Privacy by :', 'bp-activity-privacy' ); ?&gt;&lt;/p&gt;&nbsp;</div></li><li><div>                    &lt;ul&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Enable/Disable a privacy level.', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Sort the privacy levels.', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                        &lt;li&gt;&lt;?php _e( 'Change the default privacy level.', 'bp-activity-privacy' ); ?&gt;&lt;/li&gt;&nbsp;</div></li><li><div>                    &lt;/ul&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>                &nbsp;</div></li><li><div>                &lt;div class=&quot;return-to-dashboard&quot;&gt;&nbsp;</div></li><li><div>                    &lt;a href=&quot;&lt;?php echo $settings_url;?&gt;&quot; title=&quot;&lt;?php _e( 'Configure BP Activity Privacy', 'bp-activity-privacy' ); ?&gt;&quot;&gt;&lt;?php _e( 'Go to the BP Activity Privacy Settings page', 'bp-activity-privacy' );?&gt;&lt;/a&gt;&nbsp;</div></li><li><div>                &lt;/div&gt;&nbsp;</div></li><li><div>            &lt;/div&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        &lt;/div&gt;&nbsp;</div></li><li><div>    &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Welcome screen redirect&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function do_activation_redirect() {&nbsp;</div></li><li><div>        // Bail if no activation redirect&nbsp;</div></li><li><div>        if ( ! get_transient( '_bp_activity_privacy_activation_redirect' ) )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Delete the redirect transient&nbsp;</div></li><li><div>        delete_transient( '_bp_activity_privacy_activation_redirect' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Bail if activating from network, or bulk&nbsp;</div></li><li><div>        if ( isset( $_GET['activate-multi'] ) )&nbsp;</div></li><li><div>            return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $query_args = array( 'page' =&gt; 'bp-activity-privacy-about' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Redirect to Buddypress Activity privacy about page&nbsp;</div></li><li><div>        wp_safe_redirect( add_query_arg( $query_args, bp_get_admin_url( 'index.php' ) ) );&nbsp;</div></li><li><div>    }      &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function enqueue_scripts() {&nbsp;</div></li><li><div>        wp_enqueue_script( 'bpap-admin-js', plugins_url( 'js/admin.js' , __FILE__ ), array( 'jquery', 'jquery-ui-sortable' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      function enqueue_styles() {&nbsp;</div></li><li><div>          if(bp_ap_is_use_fontawsome()) {&nbsp;</div></li><li><div>                wp_enqueue_style( 'bp-font-awesome-css', plugins_url( 'css/font-awesome/css/font-awesome.min.css' , __FILE__ )); &nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        wp_enqueue_style( 'bp-activity-privacy-admin-css', plugins_url( 'css/admin.css' , __FILE__ )); &nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      //@TODO&nbsp;</div></li><li><div>      function update() {&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 1.3.4</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.8/classes/bpactivity_privacy_admin/" class="active">1.3.8</a></li><li><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.7/classes/bpactivity_privacy_admin/" class="">1.3.7</a></li><li><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.6/classes/bpactivity_privacy_admin/" class="">1.3.6</a></li><li><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.5/classes/bpactivity_privacy_admin/" class="">1.3.5</a></li><li><a href="http://hookr.io/plugins/buddypress-activity-privacy/1.3.4/classes/bpactivity_privacy_admin/" class="">1.3.4</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>BPActivityPrivacy_Admin</li><li><span></span>BuddyPress Activity Privacy</li><li><span></span>1.3.8</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>