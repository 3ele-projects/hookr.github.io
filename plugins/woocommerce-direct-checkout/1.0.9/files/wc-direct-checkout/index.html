<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="1.0.9" data-slug="woocommerce-direct-checkout" data-type="file" data-id="84848"><head xmlns="http://www.w3.org/1999/xhtml"><title> wc-direct-checkout | file | Woocommerce Direct Checkout | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, woocommerce-direct-checkout, 1.0.9" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.8"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=b137820bdb39c137a495a51357881d03' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.8' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/wc-direct-checkout/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwc-direct-checkout%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwc-direct-checkout%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-direct-checkout-1.0.9-file-wc-direct-checkout","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wc-direct-checkout" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce-direct-checkout." href="http://hookr.io/plugins/woocommerce-direct-checkout/" class="plugin"><span property="name">woocommerce-direct-checkout</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 1.0.9." href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/" class="H_VERSION"><span property="name">1.0.9</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wc-direct-checkout</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="5"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/all/" title="All">All <span class="count badge">5</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="1"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/hooks/" title="Hooks">Hooks <span class="count badge">1</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="1"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/filters/" title="Filters">Filters <span class="count badge">1</span></a></li><li class="" data-id="class" data-count="1"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/classes/" title="Classes">Classes <span class="count badge">1</span></a></li><li class="" data-id="constant" data-count="2"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/constants/" title="Constants">Constants <span class="count badge">2</span></a></li><li class="" data-id="function" data-count="1"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/functions/" title="Functions">Functions <span class="count badge">1</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/woocommerce-direct-checkout/1.0.9/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/wc-direct-checkout.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">Plugin Name: WooCommerce Direct Checkout</span>&nbsp;</div></li><li><div><span class="comment">Plugin URI: http://terrytsang.com/shop/shop/woocommerce-direct-checkout/</span>&nbsp;</div></li><li><div><span class="comment">Description: Allow you to implement direct checkout (skip cart page) for WooCommerce</span>&nbsp;</div></li><li><div><span class="comment">Version: 1.0.9</span>&nbsp;</div></li><li><div><span class="comment">Author: Terry Tsang</span>&nbsp;</div></li><li><div><span class="comment">Author URI: http://shop.terrytsang.com</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**  Copyright 2012-2014 Terry Tsang (email: terrytsang811@gmail.com)</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">  This program is free software; you can redistribute it and/or modify</span>&nbsp;</div></li><li><div><span class="comment">  it under the terms of the GNU General Public License as published by</span>&nbsp;</div></li><li><div><span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>&nbsp;</div></li><li><div><span class="comment">  (at your option) any later version.</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">  This program is distributed in the hope that it will be useful, </span>&nbsp;</div></li><li><div><span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>&nbsp;</div></li><li><div><span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>&nbsp;</div></li><li><div><span class="comment">  GNU General Public License for more details.</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">  You should have received a copy of the GNU General Public License</span>&nbsp;</div></li><li><div><span class="comment">  along with this program; if not, write to the Free Software</span>&nbsp;</div></li><li><div><span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Define plugin name</span>&nbsp;</div></li><li><div>define('wc_plugin_name_direct_checkout', 'WooCommerce Direct Checkout');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Define plugin version</span>&nbsp;</div></li><li><div>define('wc_version_direct_checkout', '1.0.9');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">// Checks if the WooCommerce plugins is installed and active.</span>&nbsp;</div></li><li><div>if(in_array('woocommerce/woocommerce.php', apply_filters('active_plugins', get_option('active_plugins')))) {&nbsp;</div></li><li><div>  if(!class_exists('WooCommerce_Direct_Checkout')) {&nbsp;</div></li><li><div>      class WooCommerce_Direct_Checkout{&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          public static $plugin_prefix;&nbsp;</div></li><li><div>          public static $plugin_url;&nbsp;</div></li><li><div>          public static $plugin_path;&nbsp;</div></li><li><div>          public static $plugin_basefile;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Gets things started by adding an action to initialize this plugin once</span>&nbsp;</div></li><li><div><span class="comment">           * WooCommerce is known to be active and initialized</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          public function __construct() {&nbsp;</div></li><li><div>              load_plugin_textdomain('wc-direct-checkout', false, dirname(plugin_basename(__FILE__)) . '/languages/');&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              WooCommerce_Direct_Checkout::$plugin_prefix = 'wc_direct_checkout_';&nbsp;</div></li><li><div>              WooCommerce_Direct_Checkout::$plugin_basefile = plugin_basename(__FILE__);&nbsp;</div></li><li><div>              WooCommerce_Direct_Checkout::$plugin_url = plugin_dir_url(WooCommerce_Direct_Checkout::$plugin_basefile);&nbsp;</div></li><li><div>              WooCommerce_Direct_Checkout::$plugin_path = trailingslashit(dirname(__FILE__));&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              $this-&gt;textdomain = 'wc-direct-checkout';&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              $this-&gt;options_direct_checkout = array(&nbsp;</div></li><li><div>                  'direct_checkout_enabled' =&gt; '', &nbsp;</div></li><li><div>                  'direct_checkout_cart_button_text' =&gt; '', &nbsp;</div></li><li><div>                  'direct_checkout_exclude_external' =&gt; '', &nbsp;</div></li><li><div>                  'direct_checkout_cart_redirect_url' =&gt; '', &nbsp;</div></li><li><div>                  'direct_checkout_continue_enabled' =&gt; ''&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>              $this-&gt;saved_options_direct_checkout = array();&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              add_action('woocommerce_init', array(&$this, 'init'));&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Initialize extension when WooCommerce is active</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          public function init() {&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              <span class="comment">//add menu link for the plugin (backend)</span>&nbsp;</div></li><li><div>              add_action( 'admin_menu', array( &$this, 'add_menu_direct_checkout' ) );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              if(get_option('direct_checkout_enabled'))&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  <span class="comment">//unset all related options to disabled / not active</span>&nbsp;</div></li><li><div>                  update_option('woocommerce_cart_redirect_after_add', 'no');&nbsp;</div></li><li><div>                  update_option('woocommerce_enable_ajax_add_to_cart', 'no');&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                  add_filter('single_add_to_cart_text', array( &$this, 'custom_cart_button_text') );&nbsp;</div></li><li><div>                  add_filter('add_to_cart_text', array( &$this, 'custom_cart_button_text') );&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                  add_filter('woocommerce_product_single_add_to_cart_text', array( &$this, 'custom_cart_button_text') );&nbsp;</div></li><li><div>                  add_filter('woocommerce_product_add_to_cart_text', array( &$this, 'custom_cart_button_text') );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  add_filter('add_to_cart_redirect', array( &$this, 'custom_add_to_cart_redirect') );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                  if(get_option('direct_checkout_continue_enabled'))&nbsp;</div></li><li><div>                      add_action( 'woocommerce_after_add_to_cart_button', array( &$this, 'direct_checkout_continue_button') );&nbsp;</div></li><li><div>                      &nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Set custom add to cart redirect</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          function custom_add_to_cart_redirect() {&nbsp;</div></li><li><div>              $direct_checkout_cart_redirect_url = get_option( 'direct_checkout_cart_redirect_url' );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              if($direct_checkout_cart_redirect_url != &quot;&quot;)&nbsp;</div></li><li><div>                  return $direct_checkout_cart_redirect_url; <span class="comment">// Replace with the url of your choosing</span>&nbsp;</div></li><li><div>              else &nbsp;</div></li><li><div>                  return get_permalink(get_option('woocommerce_checkout_page_id'));&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Set continue shopping button for single product</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          function direct_checkout_continue_button() {&nbsp;</div></li><li><div>              global $woocommerce, $post, $product;&nbsp;</div></li><li><div>              global $wp_query;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $postID = $wp_query-&gt;post-&gt;ID;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              $direct_checkout_continue_enabled = get_option( 'direct_checkout_continue_enabled' );&nbsp;</div></li><li><div>              $single_product_title = strip_tags($post-&gt;post_title);&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>              if($direct_checkout_continue_enabled == &quot;1&quot;) {&nbsp;</div></li><li><div>                  $additional_button_text = __( 'Continue Shopping', $this-&gt;textdomain );&nbsp;</div></li><li><div>                  $additional_button_url = get_permalink(get_option('woocommerce_shop_page_id'));&nbsp;</div></li><li><div>              } &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              $target_blank = $direct_checkout_continue_enabled ? '' : ' target=&quot;_blank&quot;';&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              if( $direct_checkout_continue_enabled ) {&nbsp;</div></li><li><div>                  $html_button = '&lt;a href=&quot;'.$additional_button_url.'&quot; title=&quot;'.$single_product_title.'&quot; class=&quot;button alt&quot;'.$target_blank.'&gt;'.$additional_button_text.'&lt;/a&gt;';&nbsp;</div></li><li><div>                  echo $html_button;&nbsp;</div></li><li><div>              }    &nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Set custom add to cart text</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          function custom_cart_button_text() {&nbsp;</div></li><li><div>              global $post;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              $direct_checkout_cart_button_text = get_option( 'direct_checkout_cart_button_text' ) ? get_option( 'direct_checkout_cart_button_text' )  : &quot;Add to cart&quot;;&nbsp;</div></li><li><div>              $direct_checkout_exclude_external = get_option( 'direct_checkout_exclude_external' );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              if($direct_checkout_exclude_external) {&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                  if( function_exists('get_product') ) {&nbsp;</div></li><li><div>                      $product = get_product( $post-&gt;ID );&nbsp;</div></li><li><div>                          &nbsp;</div></li><li><div>                      if( !$product-&gt;is_type( 'external' ) && $direct_checkout_cart_button_text && $direct_checkout_cart_button_text != &quot;&quot;) {&nbsp;</div></li><li><div>                          return __($direct_checkout_cart_button_text, $this-&gt;textdomain);&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          $button_text = get_post_meta( $post-&gt;ID, '_button_text', true ) ? get_post_meta( $post-&gt;ID, '_button_text', true ) : 'Buy product';&nbsp;</div></li><li><div>                          return __($button_text, $this-&gt;textdomain);&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>              } else {&nbsp;</div></li><li><div>                  if($direct_checkout_cart_button_text && $direct_checkout_cart_button_text != &quot;&quot;)&nbsp;</div></li><li><div>                      return __($direct_checkout_cart_button_text, $this-&gt;textdomain);&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Add a menu link to the woocommerce section menu</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          function add_menu_direct_checkout() {&nbsp;</div></li><li><div>              $wc_page = 'woocommerce';&nbsp;</div></li><li><div>              $comparable_settings_page = add_submenu_page( $wc_page , __( 'Direct Checkout', $this-&gt;textdomain ), __( 'Direct Checkout', $this-&gt;textdomain ), 'manage_options', 'wc-direct-checkout', array(&nbsp;</div></li><li><div>                      &$this, &nbsp;</div></li><li><div>                      'settings_page_direct_checkout'&nbsp;</div></li><li><div> ));&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Create the settings page content</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          public function settings_page_direct_checkout() {&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              <span class="comment">// If form was submitted</span>&nbsp;</div></li><li><div>              if ( isset( $_POST['submitted'] ) )&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  check_admin_referer( $this-&gt;textdomain );&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>                  $this-&gt;saved_options_direct_checkout['direct_checkout_enabled'] = ! isset( $_POST['direct_checkout_enabled'] ) ? '1' : $_POST['direct_checkout_enabled'];&nbsp;</div></li><li><div>                  $this-&gt;saved_options_direct_checkout['direct_checkout_continue_enabled'] = ! isset( $_POST['direct_checkout_continue_enabled'] ) ? '1' : $_POST['direct_checkout_continue_enabled'];&nbsp;</div></li><li><div>                  $this-&gt;saved_options_direct_checkout['direct_checkout_cart_button_text'] = ! isset( $_POST['direct_checkout_cart_button_text'] ) ? 'Add to cart' : $_POST['direct_checkout_cart_button_text'];&nbsp;</div></li><li><div>                  $this-&gt;saved_options_direct_checkout['direct_checkout_exclude_external'] = ! isset( $_POST['direct_checkout_exclude_external'] ) ? '1' : $_POST['direct_checkout_exclude_external'];&nbsp;</div></li><li><div>                  $this-&gt;saved_options_direct_checkout['direct_checkout_cart_redirect_url'] = ! isset( $_POST['direct_checkout_cart_redirect_url'] ) ? '' : $_POST['direct_checkout_cart_redirect_url'];&nbsp;</div></li><li><div>                      &nbsp;</div></li><li><div>                  foreach($this-&gt;options_direct_checkout as $field =&gt; $value)&nbsp;</div></li><li><div>                  {&nbsp;</div></li><li><div>                      $option_direct_checkout = get_option( $field );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>                      if($option_direct_checkout != $this-&gt;saved_options_direct_checkout[$field])&nbsp;</div></li><li><div>                          update_option( $field, $this-&gt;saved_options_direct_checkout[$field] );&nbsp;</div></li><li><div>                  }&nbsp;</div></li><li><div>                      &nbsp;</div></li><li><div>                  <span class="comment">// Show message</span>&nbsp;</div></li><li><div>                  echo '&lt;div id=&quot;message&quot; class=&quot;updated fade&quot;&gt;&lt;p&gt;' . __( 'You have saved WooCommerce Direct Checkout options.', $this-&gt;textdomain ) . '&lt;/p&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              $direct_checkout_enabled = get_option( 'direct_checkout_enabled' );&nbsp;</div></li><li><div>              $direct_checkout_continue_enabled = get_option( 'direct_checkout_continue_enabled' );&nbsp;</div></li><li><div>              $direct_checkout_cart_button_text = get_option( 'direct_checkout_cart_button_text' ) ? get_option( 'direct_checkout_cart_button_text' ) : 'Add to Cart';&nbsp;</div></li><li><div>              $direct_checkout_exclude_external = get_option( 'direct_checkout_exclude_external' );&nbsp;</div></li><li><div>              $direct_checkout_cart_redirect_url = get_option( 'direct_checkout_cart_redirect_url' );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              $checked_enabled = '';&nbsp;</div></li><li><div>              $checked_enabled_exclude = '';&nbsp;</div></li><li><div>              $checked_continue_enabled = '';&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              if($direct_checkout_enabled)&nbsp;</div></li><li><div>                  $checked_enabled = 'checked=&quot;checked&quot;';&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              if($direct_checkout_exclude_external)&nbsp;</div></li><li><div>                  $checked_enabled_exclude = 'checked=&quot;checked&quot;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              if($direct_checkout_continue_enabled)&nbsp;</div></li><li><div>                  $checked_continue_enabled = 'checked=&quot;checked&quot;';&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              $actionurl = $_SERVER['REQUEST_URI'];&nbsp;</div></li><li><div>              $nonce = wp_create_nonce( $this-&gt;textdomain );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              <span class="comment">// Configuration Page</span>&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>              ?&gt;&nbsp;</div></li><li><div>              &lt;div id=&quot;icon-options-general&quot; class=&quot;icon32&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;h3&gt;&lt;?php _e( 'Direct Checkout Options', $this-&gt;textdomain); ?&gt;&lt;/h3&gt;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              &lt;table style=&quot;width:90%;padding:5px;border-collapse:separate;border-spacing:5px;vertical-align:top;&quot;&gt;&nbsp;</div></li><li><div>              &lt;tr&gt;&nbsp;</div></li><li><div>                  &lt;td colspan=&quot;2&quot;&gt;Checking out is the most important and key part of placing an order online, and many users end up abandoning their order at the end. This plugin will simplify the checkout process, leading to an immediate increase in sales.&lt;/td&gt;&nbsp;</div></li><li><div>              &lt;/tr&gt;&nbsp;</div></li><li><div>              &lt;tr&gt;&nbsp;</div></li><li><div>                  &lt;td width=&quot;70%&quot; style=&quot;vertical-align:top;&quot;&gt;&nbsp;</div></li><li><div>                      &lt;form action=&quot;&lt;?php echo $actionurl; ?&gt;&quot; method=&quot;post&quot;&gt;&nbsp;</div></li><li><div>                      &lt;table&gt;&nbsp;</div></li><li><div>                              &lt;tbody&gt;&nbsp;</div></li><li><div>                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                      &lt;td colspan=&quot;2&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;table class=&quot;widefat auto&quot; cellspacing=&quot;2&quot; cellpadding=&quot;5&quot; border=&quot;0&quot;&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td width=&quot;30%&quot;&gt;&lt;?php _e( 'Enable', $this-&gt;textdomain ); ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&nbsp;</div></li><li><div>                                                      &lt;input class=&quot;checkbox&quot; name=&quot;direct_checkout_enabled&quot; id=&quot;direct_checkout_enabled&quot; value=&quot;0&quot; type=&quot;hidden&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;input class=&quot;checkbox&quot; name=&quot;direct_checkout_enabled&quot; id=&quot;direct_checkout_enabled&quot; value=&quot;1&quot; type=&quot;checkbox&quot; &lt;?php echo $checked_enabled; ?&gt;&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td width=&quot;30%&quot;&gt;&lt;?php _e( 'Add Continue Shopping Button', $this-&gt;textdomain ); ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&nbsp;</div></li><li><div>                                                      &lt;input class=&quot;checkbox&quot; name=&quot;direct_checkout_continue_enabled&quot; id=&quot;direct_checkout_continue_enabled&quot; value=&quot;0&quot; type=&quot;hidden&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;input class=&quot;checkbox&quot; name=&quot;direct_checkout_continue_enabled&quot; id=&quot;direct_checkout_continue_enabled&quot; value=&quot;1&quot; type=&quot;checkbox&quot; &lt;?php echo $checked_continue_enabled; ?&gt;&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td width=&quot;30%&quot;&gt;&lt;?php _e( 'Custom Add to Cart Text', $this-&gt;textdomain ); ?&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&nbsp;</div></li><li><div>                                                      &lt;input name=&quot;direct_checkout_cart_button_text&quot; id=&quot;direct_checkout_cart_button_text&quot; value=&quot;&lt;?php echo $direct_checkout_cart_button_text; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                                                      &lt;input class=&quot;checkbox&quot; name=&quot;direct_checkout_exclude_external&quot; id=&quot;direct_checkout_exclude_external&quot; value=&quot;0&quot; type=&quot;hidden&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;input class=&quot;checkbox&quot; name=&quot;direct_checkout_exclude_external&quot; id=&quot;direct_checkout_exclude_external&quot; value=&quot;1&quot; type=&quot;checkbox&quot; &lt;?php echo $checked_enabled_exclude; ?&gt; type=&quot;checkbox&quot;&gt;&nbsp;&lt;i&gt;Exclude External Product&lt;/i&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                              &lt;tr&gt;&nbsp;</div></li><li><div>                                                  &lt;td width=&quot;30%&quot;&gt;&lt;?php _e( 'Redirect to Page', $this-&gt;textdomain ); ?&gt;&lt;br /&gt;&lt;span style=&quot;color:#ccc;&quot;&gt;&lt;?php _e( '(Default will be checkout page if not set)', $this-&gt;textdomain ); ?&gt;&lt;/span&gt;&lt;/td&gt;&nbsp;</div></li><li><div>                                                  &lt;td&gt;&nbsp;</div></li><li><div>                                                      &lt;select name=&quot;direct_checkout_cart_redirect_url&quot;&gt;&nbsp;</div></li><li><div>                                                      &lt;option value=&quot;&quot;&gt;&lt;?php echo esc_attr( __( 'Select page' ) ); ?&gt;&lt;/option&gt; &nbsp;</div></li><li><div>                                                       &lt;?php &nbsp;</div></li><li><div>                                                        $pages = get_pages(); &nbsp;</div></li><li><div>                                                        foreach ( $pages as $page ) {&nbsp;</div></li><li><div>                                                          if($direct_checkout_cart_redirect_url == get_permalink( $page-&gt;ID ))&nbsp;</div></li><li><div>                                                                $option = '&lt;option value=&quot;' . get_permalink( $page-&gt;ID ) . '&quot; selected=&quot;selected&quot;&gt;';&nbsp;</div></li><li><div>                                                          else &nbsp;</div></li><li><div>                                                              $option = '&lt;option value=&quot;' . get_permalink( $page-&gt;ID ) . '&quot;&gt;';&nbsp;</div></li><li><div>                                                          $option .= $page-&gt;post_title;&nbsp;</div></li><li><div>                                                          $option .= '&lt;/option&gt;';&nbsp;</div></li><li><div>                                                          echo $option;&nbsp;</div></li><li><div>                                                        }&nbsp;</div></li><li><div>                                                       ?&gt;&nbsp;</div></li><li><div>                                                      &lt;/select&gt;&nbsp;</div></li><li><div>                                                  &lt;/td&gt;&nbsp;</div></li><li><div>                                              &lt;/tr&gt;&nbsp;</div></li><li><div>                                          &lt;/table&gt;&nbsp;</div></li><li><div>                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                                  &lt;tr&gt;&nbsp;</div></li><li><div>                                      &lt;td colspan=2&quot;&gt;&nbsp;</div></li><li><div>                                          &lt;input class=&quot;button-primary&quot; type=&quot;submit&quot; name=&quot;Save&quot; value=&quot;&lt;?php _e('Save Options', $this-&gt;textdomain); ?&gt;&quot; id=&quot;submitbutton&quot; /&gt;&nbsp;</div></li><li><div>                                          &lt;input type=&quot;hidden&quot; name=&quot;submitted&quot; value=&quot;1&quot; /&gt; &nbsp;</div></li><li><div>                                          &lt;input type=&quot;hidden&quot; id=&quot;_wpnonce&quot; name=&quot;_wpnonce&quot; value=&quot;&lt;?php echo $nonce; ?&gt;&quot; /&gt;&nbsp;</div></li><li><div>                                      &lt;/td&gt;&nbsp;</div></li><li><div>                                  &lt;/tr&gt;&nbsp;</div></li><li><div>                              &lt;/tbody&gt;&nbsp;</div></li><li><div>                      &lt;/table&gt;&nbsp;</div></li><li><div>                      &lt;/form&gt;&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                  &lt;/td&gt;&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                  &lt;td width=&quot;30%&quot; style=&quot;background:#ececec;padding:10px 5px;&quot; valign=&quot;top&quot;&gt;&nbsp;</div></li><li><div>                      &lt;div style=&quot;float:left;width:200px;&quot;&gt;&nbsp;</div></li><li><div>                          &lt;a href=&quot;https:<span class="comment">//twitter.com/terrytsang811&quot; class=&quot;twitter-follow-button&quot; data-show-count=&quot;false&quot; data-lang=&quot;en&quot;&gt;Follow @terrytsang811&lt;/a&gt;</span>&nbsp;</div></li><li><div>                          &lt;script&gt;!function(d, s, id) {var js, fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)) {js=d.createElement(s);js.id=id;js.src=&quot;<span class="comment">//platform.twitter.com/widgets.js&quot;;fjs.parentNode.insertBefore(js, fjs);}}(document, &quot;script&quot;, &quot;twitter-wjs&quot;);&lt;/script&gt;</span>&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;div&gt;&nbsp;</div></li><li><div>                          &lt;div id=&quot;fb-root&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>                          &lt;script&gt;(function(d, s, id) {&nbsp;</div></li><li><div>                            var js, fjs = d.getElementsByTagName(s)[0];&nbsp;</div></li><li><div>                            if (d.getElementById(id)) return;&nbsp;</div></li><li><div>                            js = d.createElement(s); js.id = id;&nbsp;</div></li><li><div>                            js.src = &quot;<span class="comment">//connect.facebook.net/en_GB/all.js#xfbml=1&appId=354404357988395&quot;;</span>&nbsp;</div></li><li><div>                            fjs.parentNode.insertBefore(js, fjs);&nbsp;</div></li><li><div>                          }(document, 'script', 'facebook-jssdk'));&lt;/script&gt;&nbsp;</div></li><li><div>                          &lt;div class=&quot;fb-like&quot; data-href=&quot;http:<span class="comment">//wordpress.org/plugins/woocommerce-direct-checkout/&quot; data-layout=&quot;button&quot; data-action=&quot;like&quot; data-show-faces=&quot;false&quot; data-share=&quot;false&quot;&gt;&lt;/div&gt;</span>&nbsp;</div></li><li><div>                      &lt;/div&gt;&nbsp;</div></li><li><div>                      &lt;p&gt;&lt;b&gt;WooCommerce Direct Checkout&lt;/b&gt; is a FREE woocommerce plugin developed by &lt;a href=&quot;http:<span class="comment">//shop.terrytsang.com&quot; target=&quot;_blank&quot; title=&quot;Terry Tsang - a PHP Developer and WordPress Consultant&quot;&gt;Terry Tsang&lt;/a&gt;. This plugin aims to add direct checkout for WooCommerce.&lt;/p&gt;</span>&nbsp;</div></li><li><div>                      &nbsp;</div></li><li><div>                      &lt;?php&nbsp;</div></li><li><div>                          $get_pro_image = WooCommerce_Direct_Checkout::$plugin_url . '/images/direct-checkout-pro-version.png';&nbsp;</div></li><li><div>                      ?&gt;&nbsp;</div></li><li><div>                      &lt;div align=&quot;center&quot;&gt;&lt;a href=&quot;http:<span class="comment">//terrytsang.com/shop/shop/woocommerce-direct-checkout-pro/&quot; target=&quot;_blank&quot; title=&quot;WooCommerce Direct Checkout PRO&quot;&gt;&lt;img src=&quot;&lt;?php echo $get_pro_image; ?&gt;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt;&lt;/div&gt;</span>&nbsp;</div></li><li><div>                      &nbsp;</div></li><li><div>                      &lt;h3&gt;Get More Plugins&lt;/h3&gt;&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                      &lt;p&gt;&lt;a href=&quot;http:<span class="comment">//shop.terrytsang.com&quot; target=&quot;_blank&quot; title=&quot;Premium &amp; Free Extensions/Plugins for E-Commerce by Terry Tsang&quot;&gt;Go to My Site&lt;/a&gt; to get more free and premium extensions/plugins for your ecommerce sites.&lt;/p&gt;</span>&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>                      &lt;h3&gt;Spreading the Word&lt;/h3&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      &lt;ul style=&quot;list-style:dash&quot;&gt;If you find this plugin helpful, you can:    &nbsp;</div></li><li><div>                          &lt;li&gt;- Write and review about it in your blog&lt;/li&gt;&nbsp;</div></li><li><div>                          &lt;li&gt;- Rate it on &lt;a href=&quot;http:<span class="comment">//wordpress.org/extend/plugins/woocommerce-direct-checkout/&quot; target=&quot;_blank&quot;&gt;wordpress plugin page&lt;/a&gt;&lt;/li&gt;</span>&nbsp;</div></li><li><div>                          &lt;li&gt;- Share on your social media&lt;br /&gt;&nbsp;</div></li><li><div>                          &lt;a href=&quot;http:<span class="comment">//www.facebook.com/sharer.php?u=http://terrytsang.com/shop/shop/woocommerce-direct-checkout/&amp;t=WooCommerce Direct Checkout&quot; title=&quot;Share this WooCommerce Direct Checkout on Facebook&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://terrytsang.com/shop/images/social_facebook.png&quot; alt=&quot;Share this WooCommerce Direct Checkout plugin on Facebook&quot;&gt;&lt;/a&gt; </span>&nbsp;</div></li><li><div>                          &lt;a href=&quot;https:<span class="comment">//twitter.com/intent/tweet?url=http%3A%2F%2Fterrytsang.com%2Fshop%2Fshop%2Fwoocommerce-direct-checkout%2F&text=WooCommerce Direct Checkout - &via=terrytsang811&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://terrytsang.com/shop/images/social_twitter.png&quot; alt=&quot;Tweet about WooCommerce Direct Checkout plugin&quot;&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                          &lt;a href=&quot;http:<span class="comment">//linkedin.com/shareArticle?mini=true&amp;url=http://terrytsang.com/shop/shop/woocommerce-direct-checkout/&amp;title=WooCommerce Direct Checkout plugin&quot; title=&quot;Share this WooCommerce Direct Checkout plugin on LinkedIn&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://terrytsang.com/shop/images/social_linkedin.png&quot; alt=&quot;Share this WooCommerce Direct Checkout plugin on LinkedIn&quot;&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>                          &lt;/li&gt;&nbsp;</div></li><li><div>                          &lt;li&gt;- Or make a donation&lt;/li&gt;&nbsp;</div></li><li><div>                      &lt;/ul&gt;&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>                      &lt;a href=&quot;https:<span class="comment">//www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=LJWSJDBBLNK7W&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif&quot; border=&quot;0&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                      &lt;h3&gt;Thank you for your support!&lt;/h3&gt;&nbsp;</div></li><li><div>                  &lt;/td&gt;&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>              &lt;/tr&gt;&nbsp;</div></li><li><div>              &lt;/table&gt;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              &lt;br /&gt;&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * Get the setting options</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          function get_options() {&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>              foreach($this-&gt;options_direct_checkout as $field =&gt; $value)&nbsp;</div></li><li><div>              {&nbsp;</div></li><li><div>                  $array_options[$field] = get_option( $field );&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>                  &nbsp;</div></li><li><div>              return $array_options;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>      }<span class="comment">//end class</span>&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>  }<span class="comment">//if class does not exist</span>&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  $woocommerce_direct_checkout = new WooCommerce_Direct_Checkout();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>else{&nbsp;</div></li><li><div>  add_action('admin_notices', 'wc_direct_checkout_error_notice');&nbsp;</div></li><li><div>  function wc_direct_checkout_error_notice() {&nbsp;</div></li><li><div>      global $current_screen;&nbsp;</div></li><li><div>      if($current_screen-&gt;parent_base == 'plugins') {&nbsp;</div></li><li><div>          echo '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;'.__(wc_plugin_name_direct_checkout.' requires &lt;a href=&quot;http:<span class="comment">//www.woothemes.com/woocommerce/&quot; target=&quot;_blank&quot;&gt;WooCommerce&lt;/a&gt; to be activated in order to work. Please install and activate &lt;a href=&quot;'.admin_url('plugin-install.php?tab=search&type=term&s=WooCommerce').'&quot; target=&quot;_blank&quot;&gt;WooCommerce&lt;/a&gt; first.').'&lt;/p&gt;&lt;/div&gt;';</span>&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>?&gt;&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>WooCommerce Direct Checkout</li><li><span></span>1.0.9</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>