<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr class lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr class lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr class lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr class ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr class gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr class" data-site="plugin" data-version="3.1.1" data-slug="ninja-forms" data-type="class" data-id="39522"><head xmlns="http://www.w3.org/1999/xhtml"><title> parser | class | Ninja Forms | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="Parser, class, plugin, ninja-forms, 3.1.1" /><meta name="description" content="Equation Operating System (EOS) Parser" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.10"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=fcb5a6272dc6293399128feb863537fe' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.10' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/classes/parser/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fparser%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Fclasses%2Fparser%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-ninja-forms-3.1.1-class-parser","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="parser" class="single single-class single-format-standard"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to ninja-forms." href="http://hookr.io/plugins/ninja-forms/" class="plugin"><span property="name">ninja-forms</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.1.1." href="http://hookr.io/plugins/ninja-forms/3.1.1/" class="H_VERSION"><span property="name">3.1.1</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to classes." href="http://hookr.io/plugins/ninja-forms/3.1.1/classes/" class=""><span property="name">classes</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">parser</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="class"><ul role="navigation"><li class="" data-id="all" data-count="1326"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/all/" title="All">All <span class="count badge">1326</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="573"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/hooks/" title="Hooks">Hooks <span class="count badge">573</span></a></li><li class="" data-id="action" data-count="122"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/actions/" title="Actions">Actions <span class="count badge">122</span></a></li><li class="" data-id="filter" data-count="451"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/filters/" title="Filters">Filters <span class="count badge">451</span></a></li><li class="active" data-id="class" data-count="193"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/classes/" title="Classes">Classes <span class="count badge">193</span></a></li><li class="" data-id="constant" data-count="31"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/constants/" title="Constants">Constants <span class="count badge">31</span></a></li><li class="" data-id="function" data-count="515"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/functions/" title="Functions">Functions <span class="count badge">515</span></a></li><li class="" data-id="shortcode" data-count="14"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">14</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=hookrio" id="_carbonads_js"></script><noscript>derpy.</noscript> <section><h1><strong>Parser</strong></h1><p>Equation Operating System (EOS) Parser.</p> </section> <section id="defined" class="source"><h2>Defined <span class="count">(1)</span></h2><p>The class is defined in the following location(s).</p><dl><dt><strong><a href="http://hookr.io/plugins/ninja-forms/3.1.1/files/includes-libraries-eos-parser/" class="file">/includes/Libraries/EOS/Parser.php <span>&nbsp;</span></a></strong></dt><dd><pre><ol data-line="51" class="block" start="63"><li><div>class Parser {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * No matching Open/Close pair&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    const E_NO_SET = 5500;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Division by 0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    const E_DIV_ZERO = 5501;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * No Equation&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    const E_NO_EQ = 5502;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * No variable replacement available&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    const E_NO_VAR = 5503;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Not a number&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    const E_NAN = 5504;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * @var bool Activate Debug output.&nbsp;</div></li><li><div>     * @see __construct()&nbsp;</div></li><li><div>     * @see solveIF()&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public static $debug = FALSE;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**#@+&nbsp;</div></li><li><div>     *Private variables&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private $postFix;&nbsp;</div></li><li><div>    private $inFix;&nbsp;</div></li><li><div>    /**#@-*/&nbsp;</div></li><li><div>    /**#@+&nbsp;</div></li><li><div>     * Protected variables&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    //What are opening and closing selectors&nbsp;</div></li><li><div>    protected $SEP = array('open' =&gt; array('(', '['), 'close' =&gt; array(')', ']'));&nbsp;</div></li><li><div>    //Top presedence following operator - not in use&nbsp;</div></li><li><div>    protected $SGL = array('!');&nbsp;</div></li><li><div>    //Order of operations arrays follow&nbsp;</div></li><li><div>    protected $ST = array('^', '!');&nbsp;</div></li><li><div>    protected $ST1 = array('/', '*', '%');&nbsp;</div></li><li><div>    protected $ST2 = array('+', '-');&nbsp;</div></li><li><div>    //Allowed functions&nbsp;</div></li><li><div>    protected $FNC = array('sin', 'cos', 'tan', 'csc', 'sec', 'cot', 'abs', 'log', 'log10', 'sqrt');&nbsp;</div></li><li><div>    /**#@-*/&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Construct method&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Will initiate the class.  If variable given, will assign to&nbsp;</div></li><li><div>     * internal variable to solve with this::solveIF() without needing&nbsp;</div></li><li><div>     * additional input.  Initializing with a variable is not suggested.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @see Parser::solveIF()&nbsp;</div></li><li><div>     * @param String $inFix Standard format equation&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function __construct($inFix = null) {&nbsp;</div></li><li><div>        if(defined('DEBUG') && DEBUG) {&nbsp;</div></li><li><div>            self::$debug = true;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $this-&gt;inFix = (isset($inFix)) ? $inFix : null;&nbsp;</div></li><li><div>        $this-&gt;postFix = array();&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Check Infix for opening closing pair matches.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This function is meant to solely check to make sure every opening&nbsp;</div></li><li><div>     * statement has a matching closing one, and throws an exception if&nbsp;</div></li><li><div>     * it doesn't.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param String $infix Equation to check&nbsp;</div></li><li><div>     * @throws Exception if malformed.&nbsp;</div></li><li><div>     * @return Bool true if passes - throws an exception if not.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    private function checkInfix($infix) {&nbsp;</div></li><li><div>        if(trim($infix) == &quot;&quot;) {&nbsp;</div></li><li><div>            throw new Exception(&quot;No Equation given&quot;, Parser::E_NO_EQ);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        //Make sure we have the same number of '(' as we do ')'&nbsp;</div></li><li><div>        // and the same # of '[' as we do ']'&nbsp;</div></li><li><div>        if(substr_count($infix, '(') != substr_count($infix, ')')) {&nbsp;</div></li><li><div>            throw new Exception(&quot;Mismatched parenthesis in '{$infix}'&quot;, Parser::E_NO_SET);&nbsp;</div></li><li><div>        } elseif(substr_count($infix, '[') != substr_count($infix, ']')) {&nbsp;</div></li><li><div>            throw new Exception(&quot;Mismatched brackets in '{$infix}'&quot;, Parser::E_NO_SET);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        $this-&gt;inFix = $infix;&nbsp;</div></li><li><div>        return true;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Infix to Postfix&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Converts an infix (standard) equation to postfix (RPN) notation.&nbsp;</div></li><li><div>     * Sets the internal variable $this-&gt;postFix for the Parser::solvePF()&nbsp;</div></li><li><div>     * function to use.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://en.wikipedia.org/wiki/Infix_notation Infix Notation&nbsp;</div></li><li><div>     * @link http://en.wikipedia.org/wiki/Reverse_Polish_notation Reverse Polish Notation&nbsp;</div></li><li><div>     * @param String $infix A standard notation equation&nbsp;</div></li><li><div>     * @throws Exception When parenthesis are mismatched.&nbsp;</div></li><li><div>     * @return Array Fully formed RPN Stack&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function in2post($infix = null) {&nbsp;</div></li><li><div>        // if an equation was not passed, use the one that was passed in the constructor&nbsp;</div></li><li><div>        $infix = (isset($infix)) ? $infix : $this-&gt;inFix;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //check to make sure 'valid' equation&nbsp;</div></li><li><div>        $this-&gt;checkInfix($infix);&nbsp;</div></li><li><div>        $pf = array();&nbsp;</div></li><li><div>        $ops = new Stack();&nbsp;</div></li><li><div>        //$vars = new Stack();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // remove all white-space&nbsp;</div></li><li><div>        $infix = preg_replace(&quot;/\s/&quot;, &quot;&quot;, $infix);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Create postfix array index&nbsp;</div></li><li><div>        $pfIndex = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //what was the last character? (useful for decerning between a sign for negation and subtraction)&nbsp;</div></li><li><div>        $lChar = '';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //loop through all the characters and start doing stuff ^^&nbsp;</div></li><li><div>        for($i=0;$i&lt;strlen($infix);$i++) {&nbsp;</div></li><li><div>            // pull out 1 character from the string&nbsp;</div></li><li><div>            $chr = substr($infix, $i, 1);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            // if the character is numerical&nbsp;</div></li><li><div>            if(preg_match('/[0-9.]/i', $chr)) {&nbsp;</div></li><li><div>                // if the previous character was not a '-' or a number&nbsp;</div></li><li><div>                if((!preg_match('/[0-9.]/i', $lChar) && ($lChar != &quot;&quot;)) && (isset($pf[$pfIndex]) && ($pf[$pfIndex]!=&quot;-&quot;)))&nbsp;</div></li><li><div>                    $pfIndex++;    // increase the index so as not to overlap anything&nbsp;</div></li><li><div>                // Add the number character to the array&nbsp;</div></li><li><div>                if(isset($pf[$pfIndex])) {&nbsp;</div></li><li><div>                    $pf[$pfIndex] .= $chr;&nbsp;</div></li><li><div>                } else {&nbsp;</div></li><li><div>                    $pf[$pfIndex] = $chr;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // If the character opens a set e.g. '(' or '['&nbsp;</div></li><li><div>            elseif(in_array($chr, $this-&gt;SEP['open'])) {&nbsp;</div></li><li><div>                // if the last character was a number, place an assumed '*' on the stack&nbsp;</div></li><li><div>                if(preg_match('/[0-9.]/i', $lChar))&nbsp;</div></li><li><div>                    $ops-&gt;push('*');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $ops-&gt;push($chr);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // if the character closes a set e.g. ')' or ']'&nbsp;</div></li><li><div>            elseif(in_array($chr, $this-&gt;SEP['close'])) {&nbsp;</div></li><li><div>                // find what set it was i.e. matches ')' with '(' or ']' with '['&nbsp;</div></li><li><div>                $key = array_search($chr, $this-&gt;SEP['close']);&nbsp;</div></li><li><div>                // while the operator on the stack isn't the matching pair...pop it off&nbsp;</div></li><li><div>                while($ops-&gt;peek() != $this-&gt;SEP['open'][$key]) {&nbsp;</div></li><li><div>                    $nchr = $ops-&gt;pop();&nbsp;</div></li><li><div>                    if($nchr)&nbsp;</div></li><li><div>                        $pf[++$pfIndex] = $nchr;&nbsp;</div></li><li><div>                    else {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Error while searching for '&quot;. $this-&gt;SEP['open'][$key] .&quot;' in '{$infix}'.&quot;, Parser::E_NO_SET);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                $ops-&gt;pop();&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // If a special operator that has precedence over everything else&nbsp;</div></li><li><div>            elseif(in_array($chr, $this-&gt;ST)) {&nbsp;</div></li><li><div>                while(in_array($ops-&gt;peek(), $this-&gt;ST))&nbsp;</div></li><li><div>                    $pf[++$pfIndex] = $ops-&gt;pop();&nbsp;</div></li><li><div>                $ops-&gt;push($chr);&nbsp;</div></li><li><div>                $pfIndex++;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // Any other operator other than '+' and '-'&nbsp;</div></li><li><div>            elseif(in_array($chr, $this-&gt;ST1)) {&nbsp;</div></li><li><div>                while(in_array($ops-&gt;peek(), $this-&gt;ST1) || in_array($ops-&gt;peek(), $this-&gt;ST))&nbsp;</div></li><li><div>                    $pf[++$pfIndex] = $ops-&gt;pop();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>                $ops-&gt;push($chr);&nbsp;</div></li><li><div>                $pfIndex++;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // if a '+' or '-'&nbsp;</div></li><li><div>            elseif(in_array($chr, $this-&gt;ST2)) {&nbsp;</div></li><li><div>                // if it is a '-' and the character before it was an operator or nothingness (e.g. it negates a number)&nbsp;</div></li><li><div>                if((in_array($lChar, array_merge($this-&gt;ST1, $this-&gt;ST2, $this-&gt;ST, $this-&gt;SEP['open'])) || $lChar==&quot;&quot;) && $chr==&quot;-&quot;) {&nbsp;</div></li><li><div>                    // increase the index because there is no reason that it shouldn't..&nbsp;</div></li><li><div>                    $pfIndex++;&nbsp;</div></li><li><div>                    $pf[$pfIndex] = $chr;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Otherwise it will function like a normal operator&nbsp;</div></li><li><div>                else {&nbsp;</div></li><li><div>                    while(in_array($ops-&gt;peek(), array_merge($this-&gt;ST1, $this-&gt;ST2, $this-&gt;ST)))&nbsp;</div></li><li><div>                        $pf[++$pfIndex] = $ops-&gt;pop();&nbsp;</div></li><li><div>                    $ops-&gt;push($chr);&nbsp;</div></li><li><div>                    $pfIndex++;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // make sure we record this character to be referred to by the next one&nbsp;</div></li><li><div>            $lChar = $chr;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // if there is anything on the stack after we are done...add it to the back of the RPN array&nbsp;</div></li><li><div>        while(($tmp = $ops-&gt;pop()) !== false)&nbsp;</div></li><li><div>            $pf[++$pfIndex] = $tmp;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // re-index the array at 0&nbsp;</div></li><li><div>        $pf = array_values($pf);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // set the private variable for later use if needed&nbsp;</div></li><li><div>        $this-&gt;postFix = $pf;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // return the RPN array in case developer wants to use it fro some insane reason (bug testing ;]&nbsp;</div></li><li><div>        return $pf;&nbsp;</div></li><li><div>    } //end function in2post&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Solve Postfix (RPN)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * This function will solve a RPN array. Default action is to solve&nbsp;</div></li><li><div>     * the RPN array stored in the class from Parser::in2post(), can take&nbsp;</div></li><li><div>     * an array input to solve as well, though default action is preferred.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://en.wikipedia.org/wiki/Reverse_Polish_notation Postix Notation&nbsp;</div></li><li><div>     * @param Array $pfArray RPN formatted array. Optional.&nbsp;</div></li><li><div>     * @throws Exception On division by zero.&nbsp;</div></li><li><div>     * @return Float Result of the operation.&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function solvePF($pfArray = null) {&nbsp;</div></li><li><div>        // if no RPN array is passed - use the one stored in the private var&nbsp;</div></li><li><div>        $pf = (!is_array($pfArray)) ? $this-&gt;postFix : $pfArray;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // create our temporary function variables&nbsp;</div></li><li><div>        $temp = array();&nbsp;</div></li><li><div>        //$tot = 0;&nbsp;</div></li><li><div>        $hold = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Loop through each number/operator&nbsp;</div></li><li><div>        for($i=0;$i&lt;count($pf); $i++) {&nbsp;</div></li><li><div>            // If the string isn't an operator, add it to the temp var as a holding place&nbsp;</div></li><li><div>            if(!in_array($pf[$i], array_merge($this-&gt;ST, $this-&gt;ST1, $this-&gt;ST2))) {&nbsp;</div></li><li><div>                $temp[$hold++] = $pf[$i];&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            // ...Otherwise perform the operator on the last two numbers&nbsp;</div></li><li><div>            else {&nbsp;</div></li><li><div>                switch ($pf[$i]) {&nbsp;</div></li><li><div>                    case '+':&nbsp;</div></li><li><div>                        $temp[$hold-2] = $temp[$hold-2] + $temp[$hold-1];&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case '-':&nbsp;</div></li><li><div>                        $temp[$hold-2] = $temp[$hold-2] - $temp[$hold-1];&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case '*':&nbsp;</div></li><li><div>                        $temp[$hold-2] = $temp[$hold-2] * $temp[$hold-1];&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case '/':&nbsp;</div></li><li><div>                        if($temp[$hold-1] == 0) {&nbsp;</div></li><li><div>                            throw new Exception(&quot;Division by 0 on: '{$temp[$hold-2]} / {$temp[$hold-1]}' in {$this-&gt;inFix}&quot;, Parser::E_DIV_ZERO);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        $temp[$hold-2] = $temp[$hold-2] / $temp[$hold-1];&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case '^':&nbsp;</div></li><li><div>                        $temp[$hold-2] = pow($temp[$hold-2], $temp[$hold-1]);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case '!':&nbsp;</div></li><li><div>                        $temp[$hold-1] = $this-&gt;factorial($temp[$hold-1]);&nbsp;</div></li><li><div>                        $hold++;&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                    case '%':&nbsp;</div></li><li><div>                        if($temp[$hold-1] == 0) {&nbsp;</div></li><li><div>                            throw new Exception(&quot;Division by 0 on: '{$temp[$hold-2]} % {$temp[$hold-1]}' in {$this-&gt;inFix}&quot;, Parser::E_DIV_ZERO);&nbsp;</div></li><li><div>                        }&nbsp;</div></li><li><div>                        $temp[$hold-2] = bcmod($temp[$hold-2], $temp[$hold-1]);&nbsp;</div></li><li><div>                        break;&nbsp;</div></li><li><div>                }&nbsp;</div></li><li><div>                // Decrease the hold var to one above where the last number is&nbsp;</div></li><li><div>                $hold = $hold-1;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // return the last number in the array&nbsp;</div></li><li><div>        return $temp[$hold-1];&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    } //end function solvePF&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    public function solve($equation, $values = null) {&nbsp;</div></li><li><div>        if(is_array($equation)) {&nbsp;</div></li><li><div>            return $this-&gt;solvePF($equation);&nbsp;</div></li><li><div>        } else {&nbsp;</div></li><li><div>            return $this-&gt;solveIF($equation, $values);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Solve Infix (Standard) Notation Equation&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Will take a standard equation with optional variables and solve it. Variables&nbsp;</div></li><li><div>     * must begin with '&' or '$'&nbsp;</div></li><li><div>     * The variable array must be in the format of 'variable' =&gt; value. If&nbsp;</div></li><li><div>     * variable array is scalar (ie 5), all variables will be replaced with it.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param String $infix Standard Equation to solve&nbsp;</div></li><li><div>     * @param String|Array $vArray Variable replacement&nbsp;</div></li><li><div>     * @throws Exception On division by zero and on NaN and lack of variable replacement.&nbsp;</div></li><li><div>     * @return Float Solved equation&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    function solveIF($infix, $vArray = null) {&nbsp;</div></li><li><div>        $infix = ($infix != &quot;&quot;) ? $infix : $this-&gt;inFix;&nbsp;</div></li><li><div>        //Check to make sure a 'valid' expression&nbsp;</div></li><li><div>        $this-&gt;checkInfix($infix);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //$ops = new Stack();&nbsp;</div></li><li><div>        //$vars = new Stack();&nbsp;</div></li><li><div>        $hand = null;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //remove all white-space&nbsp;</div></li><li><div>        $infix = preg_replace(&quot;/\s/&quot;, &quot;&quot;, $infix);&nbsp;</div></li><li><div>        if(Parser::$debug) {&nbsp;</div></li><li><div>            $hand=fopen(&quot;eq.txt&quot;, &quot;a&quot;);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        //replace scientific notation with normal notation (2e-9 to 2*10^-9)&nbsp;</div></li><li><div>        $infix = preg_replace('/([\d])([eE])(-?\d)/', '$1*10^$3', $infix);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if(Parser::$debug) {&nbsp;</div></li><li><div>            fwrite($hand, &quot;$infix\n&quot;);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        // Finds all the 'functions' within the equation and calculates them&nbsp;</div></li><li><div>        // NOTE - when using function, only 1 set of parenthesis will be found, instead use brackets for sets within functions!!&nbsp;</div></li><li><div>        //while((preg_match(&quot;/(&quot;. implode(&quot;|&quot;, $this-&gt;FNC) . &quot;)\(([^\)\(]*(\([^\)]*\)[^\(\)]*)*[^\)\(]*)\)/&quot;, $infix, $match)) != 0) {&nbsp;</div></li><li><div>        //Nested parenthesis are now a go!&nbsp;</div></li><li><div>        while((preg_match(&quot;/(&quot;. implode(&quot;|&quot;, $this-&gt;FNC) . &quot;)\(((?:[^()]|\((?2)\))*+)\)/&quot;, $infix, $match)) != 0) {&nbsp;</div></li><li><div>            $func = $this-&gt;solveIF($match[2], $vArray);&nbsp;</div></li><li><div>            switch($match[1]) {&nbsp;</div></li><li><div>                case &quot;cos&quot;:&nbsp;</div></li><li><div>                    $ans = cos($func);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;sin&quot;:&nbsp;</div></li><li><div>                    $ans = sin($func);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;tan&quot;:&nbsp;</div></li><li><div>                    $ans = tan($func);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;sec&quot;:&nbsp;</div></li><li><div>                    $tmp = cos($func);&nbsp;</div></li><li><div>                    if($tmp == 0) {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Division by 0 on: 'sec({$func}) = 1/cos({$func})' in {$this-&gt;inFix}&quot;, Parser::E_DIV_ZERO);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ans = 1/$tmp;&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;csc&quot;:&nbsp;</div></li><li><div>                    $tmp = sin($func);&nbsp;</div></li><li><div>                    if($tmp == 0) {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Division by 0 on: 'csc({$func}) = 1/sin({$func})' in {$this-&gt;inFix}&quot;, Parser::E_DIV_ZERO);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ans = 1/$tmp;&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;cot&quot;:&nbsp;</div></li><li><div>                    $tmp = tan($func);&nbsp;</div></li><li><div>                    if($tmp == 0) {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Division by 0 on: 'cot({$func}) = 1/tan({$func})' in {$this-&gt;inFix}&quot;, Parser::E_DIV_ZERO);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ans = 1/$tmp;&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;abs&quot;:&nbsp;</div></li><li><div>                    $ans = abs($func);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;log&quot;:&nbsp;</div></li><li><div>                    $ans = log($func);&nbsp;</div></li><li><div>                    if(is_nan($ans) || is_infinite($ans)) {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Result of 'log({$func}) = {$ans}' is either infinite or a non-number in {$this-&gt;inFix}&quot;, Parser::E_NAN);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;log10&quot;:&nbsp;</div></li><li><div>                    $ans = log10($func);&nbsp;</div></li><li><div>                    if(is_nan($ans) || is_infinite($ans)) {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Result of 'log10({$func}) = {$ans}' is either infinite or a non-number in {$this-&gt;inFix}&quot;, Parser::E_NAN);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                case &quot;sqrt&quot;:&nbsp;</div></li><li><div>                    if($func &lt; 0) {&nbsp;</div></li><li><div>                        throw new Exception(&quot;Result of 'sqrt({$func}) = i.  We can't handle imaginary numbers&quot;, Parser::E_NAN);&nbsp;</div></li><li><div>                    }&nbsp;</div></li><li><div>                    $ans = sqrt($func);&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>                default:&nbsp;</div></li><li><div>                    $ans = 0;&nbsp;</div></li><li><div>                    break;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>            $infix = str_replace($match[0], &quot;({$ans})&quot;, $infix);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $infix = preg_replace('/[$&]/', &quot;&quot;, $infix);&nbsp;</div></li><li><div>        //Find all the variables that were passed and replaces them&nbsp;</div></li><li><div>        while((preg_match('/([^a-zA-Z]) {0, 1}([a-zA-Z]+)([^a-zA-Z]) {0, 1}/', $infix, $match)) != 0) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            //remove notices by defining if undefined.&nbsp;</div></li><li><div>            if(!isset($match[3])) {&nbsp;</div></li><li><div>                $match[3] = &quot;&quot;;&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if(Parser::$debug)&nbsp;</div></li><li><div>                fwrite($hand, &quot;{$match[1]} || {$match[3]}\n&quot;);&nbsp;</div></li><li><div>            // Ensure that the variable has an operator or something of that sort in front and back - if it doesn't, add an implied '*'&nbsp;</div></li><li><div>            if((!in_array($match[1], array_merge($this-&gt;ST, $this-&gt;ST1, $this-&gt;ST2, $this-&gt;SEP['open'])) && $match[1] != &quot;&quot;) || is_numeric($match[1])) //$this-&gt;SEP['close'] removed&nbsp;</div></li><li><div>                $front = &quot;*&quot;;&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $front = &quot;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            if((!in_array($match[3], array_merge($this-&gt;ST, $this-&gt;ST1, $this-&gt;ST2, $this-&gt;SEP['close'])) && $match[3] != &quot;&quot;) || is_numeric($match[3])) //$this-&gt;SEP['open'] removed&nbsp;</div></li><li><div>                $back = &quot;*&quot;;&nbsp;</div></li><li><div>            else&nbsp;</div></li><li><div>                $back = &quot;&quot;;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>            //Make sure that the variable does have a replacement&nbsp;</div></li><li><div>            //First check for pi and e variables that wll automagically be replaced&nbsp;</div></li><li><div>            if(in_array(strtolower($match[2]), array('pi', 'e'))) {&nbsp;</div></li><li><div>                $t = (strtolower($match[2])=='pi') ? pi() : exp(1);&nbsp;</div></li><li><div>                $infix = str_replace($match[0], $match[1] . $front. $t. $back . $match[3], $infix);&nbsp;</div></li><li><div>            } elseif(!isset($vArray[$match[2]]) && (!is_array($vArray != &quot;&quot;) && !is_numeric($vArray) && 0 !== $vArray)) {&nbsp;</div></li><li><div>                throw new Exception(&quot;Variable replacement does not exist for '&quot;. substr($match[0], 1, 1). $match[2] .&quot;' in {$this-&gt;inFix}&quot;, Parser::E_NO_VAR);&nbsp;</div></li><li><div>            } elseif(!isset($vArray[$match[2]]) && (!is_array($vArray != &quot;&quot;) && is_numeric($vArray))) {&nbsp;</div></li><li><div>                $infix = str_replace($match[0], $match[1] . $front. $vArray. $back . $match[3], $infix);&nbsp;</div></li><li><div>            } elseif(isset($vArray[$match[2]])) {&nbsp;</div></li><li><div>                $infix = str_replace($match[0], $match[1] . $front. $vArray[$match[2]]. $back . $match[3], $infix);&nbsp;</div></li><li><div>            }&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        if(Parser::$debug)&nbsp;</div></li><li><div>            fclose($hand);&nbsp;</div></li><li><div>        return $this-&gt;solvePF($this-&gt;in2post($infix));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    } //end function solveIF&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Solve factorial (!)&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Will take any real positive number and solve for it's factorial. Eg.&nbsp;</div></li><li><div>     * `5!` will become `1*2*3*4*5` = `120` For integers&nbsp;</div></li><li><div>     * and&nbsp;</div></li><li><div>     * 5.2! will become gamma(6.2) for non-integers&nbsp;</div></li><li><div>     * DONE:&nbsp;</div></li><li><div>     *    Solve for non-integer factorials  2015/07/02&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param Float $num Non-negative real number to get factorial of&nbsp;</div></li><li><div>     * @throws Exception if number is at or less than 0&nbsp;</div></li><li><div>     * @return Float Solved factorial&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected function factorial($num) {&nbsp;</div></li><li><div>        if($num &lt; 0) {&nbsp;</div></li><li><div>            throw new Exception(&quot;Factorial Error: Factorials don't exist for numbers &lt; 0&quot;, Parser::E_NAN);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        //A non-integer!  Gamma that sucker up!&nbsp;</div></li><li><div>        if(intval($num) != $num) {&nbsp;</div></li><li><div>            return $this-&gt;gamma($num + 1);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>        $tot = 1;&nbsp;</div></li><li><div>        for($i=1;$i&lt;=$num;$i++) {&nbsp;</div></li><li><div>            $tot *= $i;&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        return $tot;&nbsp;</div></li><li><div>    } //end function factorial&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Gamma Function&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * Because we can. This function exists as a catch-all for different&nbsp;</div></li><li><div>     * numerical approx. of gamma if I decide to add any past Lanczos'.&nbsp;</div></li><li><div>     * This method is public because a function doesn't currently exist&nbsp;</div></li><li><div>     * within this parser to use it.  That will change in the future.&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @param $z Number to compute gamma from&nbsp;</div></li><li><div>     * @return Float The gamma (hopefully, I'll test it after writing the code)&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    public function gamma($z)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        return $this-&gt;laGamma($z);&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    /**&nbsp;</div></li><li><div>     * Lanczos Approximation&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * The Lanczos Approximation method of finding gamma values&nbsp;</div></li><li><div>     *&nbsp;</div></li><li><div>     * @link http://www.rskey.org/CMS/index.php/the-library/11&nbsp;</div></li><li><div>     * @link http://algolist.manual.ru/maths/count_fast/gamma_function.php&nbsp;</div></li><li><div>     * @link https://en.wikipedia.org/wiki/Lanczos_approximation&nbsp;</div></li><li><div>     * @param float $z Number to obtain the gamma of&nbsp;</div></li><li><div>     * @return float Gamma of inputted number&nbsp;</div></li><li><div>     * @throws Exception if Number is less than or equal to 0&nbsp;</div></li><li><div>     */&nbsp;</div></li><li><div>    protected function laGamma($z)&nbsp;</div></li><li><div>    {&nbsp;</div></li><li><div>        //check validity of $z, throw error if not a valid number to be used with gamma&nbsp;</div></li><li><div>        if($z &lt;= 0) {&nbsp;</div></li><li><div>            throw new Exception(&quot;Gamma cannot be calculated on numbers less than or equal to 0&quot;, Parser::E_NAN);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Set up coefficients&nbsp;</div></li><li><div>        $p = array(&nbsp;</div></li><li><div>            0 =&gt; 1.000000000190015, &nbsp;</div></li><li><div>            1 =&gt; 76.18009172947146, &nbsp;</div></li><li><div>            2 =&gt; -86.50532032941677, &nbsp;</div></li><li><div>            3 =&gt; 24.01409824083091, &nbsp;</div></li><li><div>            4 =&gt; -1.231739572450155, &nbsp;</div></li><li><div>            5 =&gt; 1.208650973866179E-3, &nbsp;</div></li><li><div>            6 =&gt; -5.395239384953E-6&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>        //formula:&nbsp;</div></li><li><div>        // ((sqrt(2pi)/z)(p[0]+sum(p[n]/(z+n), 1, 6)))(z+5.5)^(z+0.5)*e^(-(z+5.5))&nbsp;</div></li><li><div>        // Break it down now...&nbsp;</div></li><li><div>        $g1 = sqrt(2*pi())/$z;&nbsp;</div></li><li><div>        //Next comes our summation&nbsp;</div></li><li><div>        $g2 =0;&nbsp;</div></li><li><div>        for($n=1;$n&lt;=6;$n++) {&nbsp;</div></li><li><div>            $g2 += $p[$n]/($z+$n);&nbsp;</div></li><li><div>        }&nbsp;</div></li><li><div>        // Don't forget to add p[0] to it...&nbsp;</div></li><li><div>        $g2 += $p[0];&nbsp;</div></li><li><div>        $g3 = pow($z+5.5, $z + .5);&nbsp;</div></li><li><div>        $g4 = exp(-($z+5.5));&nbsp;</div></li><li><div>        //now just multiply them all together&nbsp;</div></li><li><div>        $gamma = $g1 * $g2 * $g3 * $g4;&nbsp;</div></li><li><div>        return $gamma;&nbsp;</div></li><li><div>    }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>} //end class 'Parser'&nbsp;</div></li></ol></pre></dd></dl> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"><dl><dt>Version(s)</dt><dd><dl><dt>Since</dt><dd> 3.0.5</dd><dt>Others</dt><dd><ul><li><a href="http://hookr.io/plugins/ninja-forms/3.1.1/classes/parser/" class="active">3.1.1</a></li><li><a href="http://hookr.io/plugins/ninja-forms/3.1/classes/parser/" class="">3.1</a></li><li><a href="http://hookr.io/plugins/ninja-forms/3.0.7/classes/parser/" class="">3.0.7</a></li><li><a href="http://hookr.io/plugins/ninja-forms/3.0.6/classes/parser/" class="">3.0.6</a></li><li><a href="http://hookr.io/plugins/ninja-forms/3.0.5/classes/parser/" class="">3.0.5</a></li></ul></dd></dl></dd></dl></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>class</li><li><span></span>Parser</li><li><span></span>Ninja Forms</li><li><span></span>3.1.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>