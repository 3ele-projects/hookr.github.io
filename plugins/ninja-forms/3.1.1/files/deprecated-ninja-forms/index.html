<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="3.1.1" data-slug="ninja-forms" data-type="file" data-id="38170"><head xmlns="http://www.w3.org/1999/xhtml"><title> deprecated-ninja-forms | file | Ninja Forms | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, ninja-forms, 3.1.1" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=ffdee626e624050046be49c439313fb1' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/deprecated-ninja-forms/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fdeprecated-ninja-forms%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fdeprecated-ninja-forms%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-ninja-forms-3.1.1-file-deprecated-ninja-forms","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="deprecated-ninja-forms" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to ninja-forms." href="http://hookr.io/plugins/ninja-forms/" class="plugin"><span property="name">ninja-forms</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 3.1.1." href="http://hookr.io/plugins/ninja-forms/3.1.1/" class="H_VERSION"><span property="name">3.1.1</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/ninja-forms/3.1.1/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">deprecated-ninja-forms</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="1326"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/all/" title="All">All <span class="count badge">1326</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="573"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/hooks/" title="Hooks">Hooks <span class="count badge">573</span></a></li><li class="" data-id="action" data-count="122"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/actions/" title="Actions">Actions <span class="count badge">122</span></a></li><li class="" data-id="filter" data-count="451"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/filters/" title="Filters">Filters <span class="count badge">451</span></a></li><li class="" data-id="class" data-count="193"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/classes/" title="Classes">Classes <span class="count badge">193</span></a></li><li class="" data-id="constant" data-count="31"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/constants/" title="Constants">Constants <span class="count badge">31</span></a></li><li class="" data-id="function" data-count="515"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/functions/" title="Functions">Functions <span class="count badge">515</span></a></li><li class="" data-id="shortcode" data-count="14"><a href="http://hookr.io/plugins/ninja-forms/3.1.1/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">14</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/deprecated/ninja-forms.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">// Exit if accessed directly</span>&nbsp;</div></li><li><div>if ( ! defined( 'ABSPATH' ) )&nbsp;</div></li><li><div>  exit;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>class Ninja_Forms {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * @var Ninja_Forms</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  private static $instance;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * @var registered_notification_types</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  var $notification_types = array();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Main Ninja_Forms Instance</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * Insures that only one instance of Ninja_Forms exists in memory at any one</span>&nbsp;</div></li><li><div><span class="comment">   * time. Also prevents needing to define globals all over the place.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @static</span>&nbsp;</div></li><li><div><span class="comment">   * @staticvar array $instance</span>&nbsp;</div></li><li><div><span class="comment">   * @return The highlander Ninja_Forms</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public static function instance() {&nbsp;</div></li><li><div>      if ( ! isset( self::$instance ) && ! ( self::$instance instanceof Ninja_Forms ) ) {&nbsp;</div></li><li><div>          self::$instance = new Ninja_Forms;&nbsp;</div></li><li><div>          self::$instance-&gt;setup_constants();&nbsp;</div></li><li><div>          self::$instance-&gt;includes();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Start our submissions custom post type class</span>&nbsp;</div></li><li><div>          self::$instance-&gt;subs_cpt = new NF_Subs_CPT();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Add our registration class object</span>&nbsp;</div></li><li><div>          self::$instance-&gt;register = new NF_Register();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// The forms variable won't be interacted with directly.</span>&nbsp;</div></li><li><div>          <span class="comment">// Instead, the forms() methods will act as wrappers for it.</span>&nbsp;</div></li><li><div>          self::$instance-&gt;forms = new NF_Forms();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Our session manager wrapper class</span>&nbsp;</div></li><li><div>          self::$instance-&gt;session = new NF_Session();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          register_activation_hook( __FILE__, 'ninja_forms_activation' );&nbsp;</div></li><li><div>          add_action( 'plugins_loaded', array( self::$instance, 'load_lang' ) );&nbsp;</div></li><li><div>          add_action( 'init', array( self::$instance, 'init' ), 5 );&nbsp;</div></li><li><div>          add_action( 'admin_init', array( self::$instance, 'admin_init' ), 5 );&nbsp;</div></li><li><div>          add_action( 'update_option_ninja_forms_settings', array( self::$instance, 'refresh_plugin_settings' ), 10 );&nbsp;</div></li><li><div>          <span class="comment">// add_action( 'admin_head', array( self::$instance, 'admin_head' ) );</span>&nbsp;</div></li><li><div>          add_action( 'admin_notices', array( self::$instance, 'admin_notice' ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return self::$instance;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Run all of our plugin stuff on init.</span>&nbsp;</div></li><li><div><span class="comment">   * This allows filters and actions to be used by third-party classes.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function init() {&nbsp;</div></li><li><div>      <span class="comment">// The settings variable will hold our plugin settings.</span>&nbsp;</div></li><li><div>      self::$instance-&gt;plugin_settings = self::$instance-&gt;get_plugin_settings();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// The subs variable won't be interacted with directly.</span>&nbsp;</div></li><li><div>      <span class="comment">// Instead, the subs() methods will act as wrappers for it.</span>&nbsp;</div></li><li><div>      self::$instance-&gt;subs = new NF_Subs();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get our notifications up and running.</span>&nbsp;</div></li><li><div>      self::$instance-&gt;notifications = new NF_Notifications();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get our step processor up and running.</span>&nbsp;</div></li><li><div>      <span class="comment">// We only need this in the admin.</span>&nbsp;</div></li><li><div>      if ( is_admin() ) {&nbsp;</div></li><li><div>          self::$instance-&gt;step_processing = new NF_Step_Processing();&nbsp;</div></li><li><div>          self::$instance-&gt;download_all_subs = new NF_Download_All_Subs();&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Fire our Ninja Forms init action.</span></span>&nbsp;</div></li><li><div>      <span class="comment">// This will allow other plugins to register items to the instance.</span>&nbsp;</div></li><li><div>      do_action( 'nf_init', self::$instance );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Run all of our plugin stuff on admin init.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7.4</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function admin_init() {&nbsp;</div></li><li><div>      <span class="comment">// Check and update our version number.</span>&nbsp;</div></li><li><div>      self::$instance-&gt;update_version_number();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Add our &quot;Add Form&quot; button and modal to the tinyMCE editor</span>&nbsp;</div></li><li><div>      self::$instance-&gt;add_form_button = new NF_Admin_AddFormModal();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Get our admin notices up and running.</span>&nbsp;</div></li><li><div>      self::$instance-&gt;notices = new NF_Notices();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Register our admin scripts</span>&nbsp;</div></li><li><div>      self::$instance-&gt;register_admin_scripts();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Fire our Ninja Forms init action.</span></span>&nbsp;</div></li><li><div>      do_action( 'nf_admin_init', self::$instance );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Run some admin stuff on admin_notices hook.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.9</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function admin_notice() {&nbsp;</div></li><li><div>      <span class="comment">// Notices filter and run the notices function.</span>&nbsp;</div></li><li><div>      $admin_notices = apply_filters( 'nf_admin_notices', array() );&nbsp;</div></li><li><div>      self::$instance-&gt;notices-&gt;admin_notice( $admin_notices );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Throw error on object clone</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * The whole idea of the singleton design pattern is that there is a single</span>&nbsp;</div></li><li><div><span class="comment">   * object therefore, we don't want the object to be cloned.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @access protected</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function __clone() {&nbsp;</div></li><li><div>      <span class="comment">// Cloning instances of the class is forbidden</span>&nbsp;</div></li><li><div>      _doing_it_wrong( __FUNCTION__, __( 'Cheatin&#8217; huh?', 'ninja-forms' ), '2.8' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Disable unserializing of the class</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @access protected</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function __wakeup() {&nbsp;</div></li><li><div>      <span class="comment">// Unserializing instances of the class is forbidden</span>&nbsp;</div></li><li><div>      _doing_it_wrong( __FUNCTION__, __( 'Cheatin&#8217; huh?', 'ninja-forms' ), '2.8' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Function that acts as a wrapper for our individual notification objects.</span>&nbsp;</div></li><li><div><span class="comment">   * It checks to see if an object exists for this notification id.</span>&nbsp;</div></li><li><div><span class="comment">   * If it does, it returns that object. Otherwise, it creates a new one and returns it.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $n_id</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.8</span>&nbsp;</div></li><li><div><span class="comment">   * @return object self::$instance-&gt;$n_var</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function notification( $n_id = '' ) {&nbsp;</div></li><li><div>      <span class="comment">// Bail if we don't get a notification id.</span>&nbsp;</div></li><li><div>      if ( '' == $n_id )&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $n_var = 'notification_' . $n_id;&nbsp;</div></li><li><div>      <span class="comment">// Check to see if an object for this notification already exists.</span>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Create one if it doesn't exist.</span></span>&nbsp;</div></li><li><div>      if ( ! isset ( self::$instance-&gt;$n_var ) )&nbsp;</div></li><li><div>          self::$instance-&gt;$n_var = new NF_Notification( $n_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return self::$instance-&gt;$n_var;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Function that acts as a wrapper for our individual sub objects.</span>&nbsp;</div></li><li><div><span class="comment">   * It checks to see if an object exists for this sub id.</span>&nbsp;</div></li><li><div><span class="comment">   * If it does, it returns that object. Otherwise, it creates a new one and returns it.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $sub_id</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return object self::$instance-&gt;$sub_var</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function sub( $sub_id = '' ) {&nbsp;</div></li><li><div>      <span class="comment">// Bail if we don't get a sub id.</span>&nbsp;</div></li><li><div>      if ( $sub_id == '' )&nbsp;</div></li><li><div>          return false;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $sub_var = 'sub_' . $sub_id;&nbsp;</div></li><li><div>      <span class="comment">// Check to see if an object for this sub already exists.</span>&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Create one if it doesn't exist.</span></span>&nbsp;</div></li><li><div>      if ( ! isset( self::$instance-&gt;$sub_var ) )&nbsp;</div></li><li><div>          self::$instance-&gt;$sub_var = new NF_Sub( $sub_id );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return self::$instance-&gt;$sub_var;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Function that acts as a wrapper for our subs_var - NF_Subs() class.</span>&nbsp;</div></li><li><div><span class="comment">   * It doesn't set a sub_id and can be used to interact with methods that affect mulitple submissions</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return object self::$instance-&gt;subs_var</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function subs() {&nbsp;</div></li><li><div>      return self::$instance-&gt;subs;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Function that acts as a wrapper for our form_var - NF_Form() class.</span>&nbsp;</div></li><li><div><span class="comment">   * It sets the form_id and then returns the instance, which is now using the</span>&nbsp;</div></li><li><div><span class="comment">   * proper form id</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @param int $form_id</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.9.11</span>&nbsp;</div></li><li><div><span class="comment">   * @return object self::$instance-&gt;form_var</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function form( $form_id = '' ) {&nbsp;</div></li><li><div>      <span class="comment">// Bail if we don't get a form id.</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $form_var = 'form_' . $form_id;&nbsp;</div></li><li><div>      <span class="comment">// Check to see if an object for this form already exists in memory. If it does, return it.</span>&nbsp;</div></li><li><div>      if ( isset( self::$instance-&gt;$form_var ) )&nbsp;</div></li><li><div>          return self::$instance-&gt;$form_var;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Check to see if we have a transient object stored for this form.</span>&nbsp;</div></li><li><div>      if ( is_object ( ( $form_obj = get_transient( 'nf_form_' . $form_id ) ) ) ) {&nbsp;</div></li><li><div>          self::$instance-&gt;$form_var = $form_obj;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          <span class="comment">// Create a new form object for this form.</span>&nbsp;</div></li><li><div>          self::$instance-&gt;$form_var = new NF_Form( $form_id );&nbsp;</div></li><li><div>          <span class="comment">// Save it into a transient.</span>&nbsp;</div></li><li><div>          set_transient( 'nf_form_' . $form_id, self::$instance-&gt;$form_var, DAY_IN_SECONDS );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return self::$instance-&gt;$form_var;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Function that acts as a wrapper for our forms_var - NF_Form() class.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.9</span>&nbsp;</div></li><li><div><span class="comment">   * @return object self::$instance-&gt;forms_var</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function forms( $form_id = '' ) {&nbsp;</div></li><li><div>      return self::$instance-&gt;forms;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Setup plugin constants</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access private</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  private function setup_constants() {&nbsp;</div></li><li><div>      global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Plugin version</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_PLUGIN_VERSION' ) )&nbsp;</div></li><li><div>          define( 'NF_PLUGIN_VERSION', '3.1.1' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Plugin Folder Path</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_PLUGIN_DIR' ) )&nbsp;</div></li><li><div>          define( 'NF_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Plugin Folder URL</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_PLUGIN_URL' ) )&nbsp;</div></li><li><div>          define( 'NF_PLUGIN_URL', plugin_dir_url( __FILE__ ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Plugin Root File</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_PLUGIN_FILE' ) )&nbsp;</div></li><li><div>          define( 'NF_PLUGIN_FILE', __FILE__ );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Objects table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_OBJECTS_TABLE_NAME') )&nbsp;</div></li><li><div>          define( 'NF_OBJECTS_TABLE_NAME', $wpdb-&gt;prefix . 'nf_objects' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Meta table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_OBJECT_META_TABLE_NAME' ) )&nbsp;</div></li><li><div>          define( 'NF_OBJECT_META_TABLE_NAME', $wpdb-&gt;prefix . 'nf_objectmeta' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Relationships table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NF_OBJECT_RELATIONSHIPS_TABLE_NAME' ) )&nbsp;</div></li><li><div>          define( 'NF_OBJECT_RELATIONSHIPS_TABLE_NAME', $wpdb-&gt;prefix . 'nf_relationships' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Legacy Definitions */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ninja Forms debug mode</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_JS_DEBUG' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_JS_DEBUG', false );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ninja Forms plugin directory</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_DIR' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_DIR', NF_PLUGIN_DIR );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ninja Forms plugin url</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_URL' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_URL', NF_PLUGIN_URL );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ninja Forms Version</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_VERSION' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_VERSION', NF_PLUGIN_VERSION );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Ninja Forms table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_TABLE_NAME' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_TABLE_NAME', $wpdb-&gt;prefix . 'ninja_forms' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Fields table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_FIELDS_TABLE_NAME' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_FIELDS_TABLE_NAME', $wpdb-&gt;prefix . 'ninja_forms_fields' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Fav fields table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_FAV_FIELDS_TABLE_NAME' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_FAV_FIELDS_TABLE_NAME', $wpdb-&gt;prefix . 'ninja_forms_fav_fields' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Subs table name</span>&nbsp;</div></li><li><div>      if ( ! defined( 'NINJA_FORMS_SUBS_TABLE_NAME' ) )&nbsp;</div></li><li><div>          define( 'NINJA_FORMS_SUBS_TABLE_NAME', $wpdb-&gt;prefix . 'ninja_forms_subs' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Include our Class files</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access private</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  private function includes() {&nbsp;</div></li><li><div>      <span class="comment">// Include our session manager</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/session.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our sub object.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/sub.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our subs object.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/subs.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our subs CPT.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/subs-cpt.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our form object.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/form.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our form sobject.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/forms.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our field, notification, and sidebar registration class.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/register.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our 'nf_action' watcher.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/actions.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our single notification object</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/notification.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our notifications object</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/notifications.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our notification table object</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/notifications-table.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include our base notification type</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/notification-base-type.php' );&nbsp;</div></li><li><div>      <span class="comment">// Include add form button and modal</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'classes/add-form-modal.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( is_admin () ) {&nbsp;</div></li><li><div>          <span class="comment">// Include our step processing stuff if we're in the admin.</span>&nbsp;</div></li><li><div>          require_once( NF_PLUGIN_DIR . 'includes/admin/step-processing.php' );&nbsp;</div></li><li><div>          require_once( NF_PLUGIN_DIR . 'classes/step-processing.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">// Include our download all submissions php files</span>&nbsp;</div></li><li><div>          require_once( NF_PLUGIN_DIR . 'classes/download-all-subs.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $upgraded_from = get_option( 'nf_version_upgraded_from', FALSE );&nbsp;</div></li><li><div>          if( $upgraded_from && version_compare( $upgraded_from, '2.9', '&lt;=') ) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">// Include Upgrade Base Class</span>&nbsp;</div></li><li><div>              require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/class-upgrade.php');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">// Include Upgrades</span>&nbsp;</div></li><li><div>              require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/upgrade-functions.php' );&nbsp;</div></li><li><div>              require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/upgrades.php' );&nbsp;</div></li><li><div>              require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/convert-forms-reset.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>              <span class="comment">// Include Upgrade Handler</span>&nbsp;</div></li><li><div>              require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/upgrade-handler-page.php');&nbsp;</div></li><li><div>              require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/class-upgrade-handler.php');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Include our upgrade files.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/welcome.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Include deprecated functions and filters.</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/deprecated.php' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Legacy includes */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Require Core Files */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/ninja-settings.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/database.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/functions.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/activation.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/register.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/shortcode.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/widget.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/field-type-groups.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/eos.class.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/from-setting-check.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/reply-to-check.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/import-export.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/scripts.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/upgrade-functions.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Include Processing Functions if a form has been submitted.</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/class-ninja-forms-processing.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/class-display-loading.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/pre-process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/post-process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/save-sub.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/filter-msgs.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/fields-pre-process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/fields-process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/fields-post-process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/req-fields-pre-process.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/processing/honeypot.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Display Form Functions</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/display-form.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/not-logged-in.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/display-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/response-message.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/label.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/help.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/desc.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/form-title.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/field-error-message.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/form-wrap.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/form-cont.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/fields-wrap.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/required-label.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/open-form-tag.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/close-form-tag.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/hidden-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/form-visibility.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/sub-limit.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/nonce.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/form/honeypot.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/restore-progress.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/inside-label-hidden.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/field-type.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/default-value-filter.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/calc-field-class.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/display/fields/clear-complete.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Require EDD autoupdate file</span>&nbsp;</div></li><li><div>      if( !class_exists( 'EDD_SL_Plugin_Updater' ) ) {&nbsp;</div></li><li><div>          <span class="comment">// load our custom updater if it doesn't already exist</span>&nbsp;</div></li><li><div>          require_once(NINJA_FORMS_DIR.&quot;/includes/EDD_SL_Plugin_Updater.php&quot;);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/class-extension-updater.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/scripts.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/sidebar.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/tabs.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/post-metabox.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/ajax.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/admin.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/sidebar-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/display-screen-options.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/register-screen-options.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/register-screen-help.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/output-tab-metabox.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/form-preview.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/classes/notices-class.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/notices.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Edit Field Functions</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/edit-field.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/label.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/placeholder.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/hr.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/req.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/custom-class.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/help.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/desc.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/li.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/remove-button.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/save-button.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/calc.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/user-info-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/post-meta-values.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/input-limit.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/sub-settings.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/edit-field/autocomplete-off.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** * * * ninja-forms - Main Form Editing Page</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">      /** Tabs */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Form List */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/form-list/form-list.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Form Settings */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/form-settings/form-settings.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/form-settings/help.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Field Settings */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/field-settings.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/empty-rte.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/edit-field-ul.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/help.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/sidebars/def-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/sidebars/fav-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/sidebars/template-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/sidebars/layout-fields.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/sidebars/user-info.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/field-settings/sidebars/payment-fields.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Form Preview */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms/tabs/form-preview/form-preview.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** * * * ninja-forms-settings - Settings Page</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">      /** Tabs */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** General Settings */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-settings/tabs/general-settings/general-settings.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Label Settings */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-settings/tabs/label-settings/label-settings.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** License Settings */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-settings/tabs/license-settings/license-settings.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** * * * ninja-forms-impexp - Import / Export Page</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">      /** Tabs */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Import / Export Forms */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-impexp/tabs/impexp-forms/impexp-forms.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Import / Export Fields */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-impexp/tabs/impexp-fields/impexp-fields.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Import / Export Submissions */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-impexp/tabs/impexp-subs/impexp-subs.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Backup / Restore */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-impexp/tabs/impexp-backup/impexp-backup.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** * * * ninja-forms-subs - Submissions Review Page</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">      /** Tabs */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** * * ninja-forms-addons - Addons Manager Page</span>&nbsp;</div></li><li><div><span class="comment">&nbsp;</span>&nbsp;</div></li><li><div><span class="comment">      /** Tabs */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Manage Addons */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/pages/ninja-forms-addons/tabs/addons/addons.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** System Status */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/classes/class-nf-system-status.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Require Pre-Registered Fields */</span>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/textbox.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/checkbox.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/list.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/hidden.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/organizer.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/submit.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/spam.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/timed-submit.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/hr.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/desc.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/textarea.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/password.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/rating.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/calc.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/country.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/tax.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/credit-card.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/number.php&quot; );&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/fields/recaptcha.php&quot; );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      require_once( NINJA_FORMS_DIR . &quot;/includes/admin/save.php&quot; );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Load our language files</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function load_lang() {&nbsp;</div></li><li><div>      <span class="comment">/** Set our unique textdomain string */</span>&nbsp;</div></li><li><div>      $textdomain = 'ninja-forms';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** The 'plugin_locale' filter is also used by default in load_plugin_textdomain() */</span>&nbsp;</div></li><li><div>      $locale = apply_filters( 'plugin_locale', get_locale(), $textdomain );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Set filter for WordPress languages directory */</span>&nbsp;</div></li><li><div>      $wp_lang_dir = apply_filters(&nbsp;</div></li><li><div>          'ninja_forms_wp_lang_dir', &nbsp;</div></li><li><div>          WP_LANG_DIR . '/ninja-forms/' . $textdomain . '-' . $locale . '.mo'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Translations: First, look in WordPress' &quot;languages&quot; folder = custom & update-secure! */</span>&nbsp;</div></li><li><div>      load_textdomain( $textdomain, $wp_lang_dir );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">/** Translations: Secondly, look in plugin's &quot;lang&quot; folder = default */</span>&nbsp;</div></li><li><div>      $plugin_dir = trailingslashit( basename( dirname( dirname( __FILE__ ) ) ) ) . basename( dirname( __FILE__ ) );&nbsp;</div></li><li><div>      $lang_dir = apply_filters( 'ninja_forms_lang_dir', $plugin_dir . '/lang/' );&nbsp;</div></li><li><div>      load_plugin_textdomain( $textdomain, FALSE, $lang_dir );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Update our version number if necessary</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function update_version_number() {&nbsp;</div></li><li><div>      $plugin_settings = nf_get_settings();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( !isset ( $plugin_settings['version'] ) OR ( NF_PLUGIN_VERSION != $plugin_settings['version'] ) ) {&nbsp;</div></li><li><div>          $plugin_settings['version'] = NF_PLUGIN_VERSION;&nbsp;</div></li><li><div>          update_option( 'ninja_forms_settings', $plugin_settings );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Set Ninja_Forms()-&gt;session variable used for storing items in transient variables</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment">   * @return string $t_id;</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function set_transient_id() {&nbsp;</div></li><li><div>      $transient_id = $this-&gt;session-&gt;get( 'nf_transient_id' );&nbsp;</div></li><li><div>      if ( ! $transient_id && ! is_admin() ) {&nbsp;</div></li><li><div>          $transient_id = ninja_forms_random_string();&nbsp;</div></li><li><div>          <span class="comment">// Make sure that our transient ID isn't currently in use.</span>&nbsp;</div></li><li><div>          while ( get_transient( $transient_id ) !== false ) {&nbsp;</div></li><li><div>              $_id = ninja_forms_random_string();&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $this-&gt;session-&gt;set( 'nf_transient_id', $transient_id );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $transient_id;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get our plugin settings.</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.9</span>&nbsp;</div></li><li><div><span class="comment">   * @return array $settings</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function get_plugin_settings() {&nbsp;</div></li><li><div>    $settings = apply_filters( &quot;ninja_forms_settings&quot;, get_option( &quot;ninja_forms_settings&quot; ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $settings['date_format'] = isset ( $settings['date_format'] ) ? $settings['date_format'] : 'd/m/Y';&nbsp;</div></li><li><div>    $settings['currency_symbol'] = isset ( $settings['currency_symbol'] ) ? $settings['currency_symbol'] : '$';&nbsp;</div></li><li><div>    $settings['recaptcha_lang'] = isset ( $settings['recaptcha_lang'] ) ? $settings['recaptcha_lang'] : 'en';&nbsp;</div></li><li><div>    $settings['req_div_label'] = isset ( $settings['req_div_label'] ) ? $settings['req_div_label'] : sprintf( __( 'Fields marked with an %s*%s are required', 'ninja-forms' ), '&lt;span class=&quot;ninja-forms-req-symbol&quot;&gt;', '&lt;/span&gt;' );&nbsp;</div></li><li><div>    $settings['req_field_symbol'] = isset ( $settings['req_field_symbol'] ) ? $settings['req_field_symbol'] : '&lt;strong&gt;*&lt;/strong&gt;';&nbsp;</div></li><li><div>    $settings['req_error_label'] = isset ( $settings['req_error_label'] ) ? $settings['req_error_label'] : __( 'Please ensure all required fields are completed.', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['req_field_error'] = isset ( $settings['req_field_error'] ) ? $settings['req_field_error'] : __( 'This is a required field', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['spam_error'] = isset ( $settings['spam_error'] ) ? $settings['spam_error'] : __( 'Please answer the anti-spam question correctly.', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['honeypot_error'] = isset ( $settings['honeypot_error'] ) ? $settings['honeypot_error'] : __( 'Please leave the spam field blank.', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['timed_submit_error'] = isset ( $settings['timed_submit_error'] ) ? $settings['timed_submit_error'] : __( 'Please wait to submit the form.', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['javascript_error'] = isset ( $settings['javascript_error'] ) ? $settings['javascript_error'] : __( 'You cannot submit the form without Javascript enabled.', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['invalid_email'] = isset ( $settings['invalid_email'] ) ? $settings['invalid_email'] : __( 'Please enter a valid email address.', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['process_label'] = isset ( $settings['process_label'] ) ? $settings['process_label'] : __( 'Processing', 'ninja-forms' );&nbsp;</div></li><li><div>    $settings['password_mismatch'] = isset ( $settings['password_mismatch'] ) ? $settings['password_mismatch'] : __( 'The passwords provided do not match.', 'ninja-forms' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    $settings['date_format'] = apply_filters( 'ninja_forms_labels/date_format' , $settings['date_format'] );&nbsp;</div></li><li><div>    $settings['currency_symbol'] = apply_filters( 'ninja_forms_labels/currency_symbol' , $settings['currency_symbol'] );&nbsp;</div></li><li><div>    $settings['req_div_label'] = apply_filters( 'ninja_forms_labels/req_div_label' , $settings['req_div_label'] );&nbsp;</div></li><li><div>    $settings['req_field_symbol'] = apply_filters( 'ninja_forms_labels/req_field_symbol' , $settings['req_field_symbol'] );&nbsp;</div></li><li><div>    $settings['req_error_label'] = apply_filters( 'ninja_forms_labels/req_error_label' , $settings['req_error_label'] );&nbsp;</div></li><li><div>    $settings['req_field_error'] = apply_filters( 'ninja_forms_labels/req_field_error' , $settings['req_field_error'] );&nbsp;</div></li><li><div>    $settings['spam_error'] = apply_filters( 'ninja_forms_labels/spam_error' , $settings['spam_error'] );&nbsp;</div></li><li><div>    $settings['honeypot_error'] = apply_filters( 'ninja_forms_labels/honeypot_error' , $settings['honeypot_error'] );&nbsp;</div></li><li><div>    $settings['timed_submit_error'] = apply_filters( 'ninja_forms_labels/timed_submit_error' , $settings['timed_submit_error'] );&nbsp;</div></li><li><div>    $settings['javascript_error'] = apply_filters( 'ninja_forms_labels/javascript_error' , $settings['javascript_error'] );&nbsp;</div></li><li><div>    $settings['invalid_email'] = apply_filters( 'ninja_forms_labels/invalid_email' , $settings['invalid_email'] );&nbsp;</div></li><li><div>    $settings['process_label'] = apply_filters( 'ninja_forms_labels/process_label' , $settings['process_label'] );&nbsp;</div></li><li><div>    $settings['password_mismatch'] = apply_filters( 'ninja_forms_labels/password_mismatch' , $settings['password_mismatch'] );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>    return $settings;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Refresh our plugin settings if we update the ninja_forms_settings option</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @access public</span>&nbsp;</div></li><li><div><span class="comment">   * @since 2.9</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function refresh_plugin_settings() {&nbsp;</div></li><li><div>      self::$instance-&gt;plugin_settings = self::$instance-&gt;get_plugin_settings();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Register our admin scripts so that they can be enqueued later.</span>&nbsp;</div></li><li><div><span class="comment">   * @since  2.9.25</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function register_admin_scripts() {&nbsp;</div></li><li><div>      if ( defined( 'NINJA_FORMS_JS_DEBUG' ) && NINJA_FORMS_JS_DEBUG ) {&nbsp;</div></li><li><div>          $suffix = '';&nbsp;</div></li><li><div>          $src = 'dev';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $suffix = '.min';&nbsp;</div></li><li><div>          $src = 'min';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_script( 'nf-admin-modal', &nbsp;</div></li><li><div>          NF_PLUGIN_URL . 'assets/js/' . $src . '/admin-modal' . $suffix . '.js', &nbsp;</div></li><li><div>          array( 'jquery', 'jquery-ui-core' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>} <span class="comment">// End Class</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * The main function responsible for returning The Highlander Ninja_Forms</span>&nbsp;</div></li><li><div><span class="comment"> * Instance to functions everywhere.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Use this function like you would a global variable, except without needing</span>&nbsp;</div></li><li><div><span class="comment"> * to declare the global.</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * Example: &lt;?php $nf = Ninja_Forms(); ?&gt;</span>&nbsp;</div></li><li><div><span class="comment"> *</span>&nbsp;</div></li><li><div><span class="comment"> * @since 2.7</span>&nbsp;</div></li><li><div><span class="comment"> * @return object The Highlander Ninja_Forms Instance</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>function Ninja_Forms() {&nbsp;</div></li><li><div>  return Ninja_Forms::instance();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>Ninja_Forms();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function nf_aff_link( $link ) {&nbsp;</div></li><li><div>  $u_id = apply_filters( 'ninja_forms_affiliate_id', false );&nbsp;</div></li><li><div>  $u_id = get_option( 'nf_aff', $u_id );&nbsp;</div></li><li><div>  if ( $u_id ) {&nbsp;</div></li><li><div>      $link = 'http:<span class="comment">//www.shareasale.com/r.cfm?u=' . $u_id . '&b=812237&m=63061&afftrack=&urllink=' . urlencode( $link );</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $link;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">|--------------------------------------------------------------------------</span>&nbsp;</div></li><li><div><span class="comment">| Ninja Forms THREE Upgrade</span>&nbsp;</div></li><li><div><span class="comment">|--------------------------------------------------------------------------</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'wp_ajax_nfThreeUpgrade_GetSerializedForm', 'nfThreeUpgrade_GetSerializedForm' );&nbsp;</div></li><li><div>function nfThreeUpgrade_GetSerializedForm() {&nbsp;</div></li><li><div>  $id = absint( $_POST[ 'formID' ] );&nbsp;</div></li><li><div>  $form_row = ninja_forms_serialize_form( $id );&nbsp;</div></li><li><div>  echo json_encode( array( 'id' =&gt; $id, 'serialized' =&gt; $form_row ) );&nbsp;</div></li><li><div>  wp_die();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'wp_ajax_nfThreeUpgrade_GetSerializedFields', 'nfThreeUpgrade_GetSerializedFields' );&nbsp;</div></li><li><div>function nfThreeUpgrade_GetSerializedFields() {&nbsp;</div></li><li><div>  $fields = ninja_forms_get_all_favs();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  echo json_encode( array( 'serialized' =&gt; maybe_serialize( $fields ) ) ) ;&nbsp;</div></li><li><div>  wp_die();&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'init', 'ninja_forms_three_submenu', 9 ); <span class="comment">// Register before general settings.</span>&nbsp;</div></li><li><div>function ninja_forms_three_submenu() {&nbsp;</div></li><li><div>  include plugin_dir_path( __FILE__ ) . 'upgrade/class-submenu.php';&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'admin_notices', 'ninja_forms_three_admin_notice' );&nbsp;</div></li><li><div>function ninja_forms_three_admin_notice() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $settings = Ninja_Forms()-&gt;get_plugin_settings();&nbsp;</div></li><li><div>  if( isset( $settings[ 'disable_admin_notices' ] ) && $settings[ 'disable_admin_notices' ] ) return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $currentScreen = get_current_screen();&nbsp;</div></li><li><div>  if( ! in_array( $currentScreen-&gt;id, array( 'toplevel_page_ninja-forms' ) ) ) return;&nbsp;</div></li><li><div>  wp_enqueue_style( 'nf-admin-notices', NINJA_FORMS_URL .'assets/css/admin-notices.css?nf_ver=' . NF_PLUGIN_VERSION );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if( ! isset( $_GET[ 'nf-rollback' ] ) ) {&nbsp;</div></li><li><div>      if( ninja_forms_three_calc_check() && ninja_forms_three_addons_version_check() && ninja_forms_three_addons_check() ) {&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;nf-admin-notice-upgrade&quot; class=&quot;update-nag nf-admin-notice&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;nf-notice-logo&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;p class=&quot;nf-notice-title&quot;&gt;Achievement Unlocked&lt;/p&gt;&nbsp;</div></li><li><div>              &lt;p class=&quot;nf-notice-body&quot;&gt;&nbsp;</div></li><li><div>                  Cowabunga! You just unlocked Ninja Forms THREE.&nbsp;</div></li><li><div>              &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;ul class=&quot;nf-notice-body nf-red&quot;&gt;&nbsp;</div></li><li><div>                  &lt;li&gt;&lt;span class=&quot;dashicons dashicons-awards&quot;&gt;&lt;/span&gt;&lt;a href=&quot;&lt;?php echo admin_url( 'admin.php?page=ninja-forms-three' ); ?&gt;&quot;&gt;Upgrade to THREE&lt;/a&gt;&lt;/li&gt;&nbsp;</div></li><li><div>              &lt;/ul&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          include plugin_dir_path( __FILE__ ) . 'upgrade/tmpl-notice.html.php';&nbsp;</div></li><li><div>          $three_link = nf_aff_link( 'https:<span class="comment">//ninjaforms.com/three/?utm_medium=plugin&utm_source=admin-notice&utm_campaign=Ninja+Forms+THREE&utm_content=Learn+More' );</span>&nbsp;</div></li><li><div>          ?&gt;&nbsp;</div></li><li><div>          &lt;div id=&quot;nf-admin-notice-three-is-coming&quot; class=&quot;update-nag nf-admin-notice&quot;&gt;&nbsp;</div></li><li><div>              &lt;div class=&quot;nf-notice-logo&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>              &lt;p class=&quot;nf-notice-title&quot;&gt;THREE is coming! &lt;/p&gt;&nbsp;</div></li><li><div>              &lt;p class=&quot;nf-notice-body&quot;&gt;A major update is coming to Ninja Forms. &lt;a target=&quot;_blank&quot;&nbsp;</div></li><li><div>                                                                                    href=&quot;&lt;?php echo $three_link; ?&gt;&quot;&gt;Learn&nbsp;</div></li><li><div>                      more about new features, backwards compatibility, and more Frequently Asked Questions.&lt;/a&gt;&lt;/p&gt;&nbsp;</div></li><li><div>          &lt;/div&gt;&nbsp;</div></li><li><div>          &lt;?php&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  } else {&nbsp;</div></li><li><div>      ?&gt;&nbsp;</div></li><li><div>      &lt;div id=&quot;nf-admin-notice-upgrade&quot; class=&quot;update-nag nf-admin-notice&quot;&gt;&nbsp;</div></li><li><div>          &lt;div class=&quot;nf-notice-logo&quot;&gt;&lt;/div&gt;&nbsp;</div></li><li><div>          &lt;p class=&quot;nf-notice-title&quot;&gt;Rollback Restored&lt;/p&gt;&nbsp;</div></li><li><div>          &lt;p class=&quot;nf-notice-body&quot;&gt;&nbsp;</div></li><li><div>              Your forms have been restored to the state prior to the upgrade.&nbsp;</div></li><li><div>          &lt;/p&gt;&nbsp;</div></li><li><div>          &lt;ul class=&quot;nf-notice-body nf-red&quot;&gt;&nbsp;</div></li><li><div>              &lt;li&gt;&lt;span class=&quot;dashicons dashicons-sos&quot;&gt;&lt;/span&gt;&lt;a href=&quot;https:<span class="comment">//ninjaforms.com/contact/?utm_medium=plugin&utm_source=admin-notice&utm_campaign=Ninja+Forms+Rollback&utm_content=Ninja+Forms+Support&quot; target=&quot;_blank&quot;&gt;Contact Support&lt;/a&gt;&lt;/li&gt;</span>&nbsp;</div></li><li><div>          &lt;/ul&gt;&nbsp;</div></li><li><div>      &lt;/div&gt;&nbsp;</div></li><li><div>      &lt;?php&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>add_action( 'nf_admin_before_form_list', 'ninja_forms_konami' );&nbsp;</div></li><li><div>function ninja_forms_konami() {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if( ! ninja_forms_three_calc_check() ) return;&nbsp;</div></li><li><div>  if( ! ninja_forms_three_addons_version_check() ) return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  wp_enqueue_script( 'cheet', NINJA_FORMS_URL . 'assets/js/lib/cheet.min.js', array( 'jquery' ) );&nbsp;</div></li><li><div>  wp_enqueue_script( 'howler', NINJA_FORMS_URL . 'assets/js/lib/howler.core.min.js', array( 'jquery' ) );&nbsp;</div></li><li><div>  wp_localize_script( 'howler', 'nfUnlock', array( 'audioUrl' =&gt; NINJA_FORMS_URL . 'assets/audio/smw_power_up.wav', 'aboutPage' =&gt; menu_page_url( 'ninja-forms-three', false ) ) );&nbsp;</div></li><li><div>  ?&gt;&nbsp;</div></li><li><div>  &lt;script type=&quot;text/javascript&quot;&gt;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      jQuery( document ).ready( function() {&nbsp;</div></li><li><div>          var sound = new Howl({&nbsp;</div></li><li><div>              src: [ nfUnlock.audioUrl ], &nbsp;</div></li><li><div>              onend: function() {&nbsp;</div></li><li><div>                  window.scrollTo( 0, 0 );&nbsp;</div></li><li><div>                  jQuery( '#nf-admin-notice-three-is-coming' ).fadeOut( 'slow', function() {&nbsp;</div></li><li><div>                      jQuery( '#nf-admin-notice-upgrade' ).fadeIn( 'slow', function() {&nbsp;</div></li><li><div>                          window.location = nfUnlock.aboutPage;&nbsp;</div></li><li><div>                      });&nbsp;</div></li><li><div>                  });&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          cheet('* * * * * * * * b a', function () {&nbsp;</div></li><li><div>              sound.play();&nbsp;</div></li><li><div>          });&nbsp;</div></li><li><div>      } );&nbsp;</div></li><li><div>  &lt;/script&gt;&nbsp;</div></li><li><div>  &lt;?php&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function ninja_forms_three_calc_check()&nbsp;</div></li><li><div>{&nbsp;</div></li><li><div>  return true;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function ninja_forms_three_addons_version_check() {&nbsp;</div></li><li><div><span class="comment">//    $items = wp_remote_get( 'https://ninjaforms.com/?extend_feed=jlhrbgf89734go7387o4g3h' );</span>&nbsp;</div></li><li><div><span class="comment">//    $items = wp_remote_retrieve_body( $items );</span>&nbsp;</div></li><li><div>  $items = file_get_contents( dirname( __FILE__ ) . '/addons-feed.json' );&nbsp;</div></li><li><div>  $items = json_decode( $items, true );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  if( is_array( $items ) ) {&nbsp;</div></li><li><div>      foreach ($items as $item) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (empty($item['plugin'])) continue;&nbsp;</div></li><li><div>          if (!file_exists(WP_PLUGIN_DIR . '/' . $item['plugin'])) continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          $plugin_data = get_plugin_data(WP_PLUGIN_DIR . '/' . $item['plugin'], false, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          if (!$plugin_data['Version']) continue;&nbsp;</div></li><li><div>          if (version_compare($plugin_data['Version'], '3', '&gt;=')) continue;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * There are non-compatible add-ons installed.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>          return FALSE;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  return TRUE;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function ninja_forms_three_addons_check() {&nbsp;</div></li><li><div>  $items = file_get_contents( dirname( __FILE__ ) . '/addons-feed.json' );&nbsp;</div></li><li><div>  $items = json_decode($items, true);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $has_addons = FALSE;&nbsp;</div></li><li><div>  if( is_array( $items ) ) {&nbsp;</div></li><li><div>      foreach ($items as $item) {&nbsp;</div></li><li><div>          if (empty($item['plugin'])) continue;&nbsp;</div></li><li><div>          if (!file_exists(WP_PLUGIN_DIR . '/' . $item['plugin'])) continue;&nbsp;</div></li><li><div>          $has_addons = TRUE;&nbsp;</div></li><li><div>          $plugin_data = get_plugin_data(WP_PLUGIN_DIR . '/' . $item['plugin'], false, true);&nbsp;</div></li><li><div>          if (!$plugin_data['Version']) continue;&nbsp;</div></li><li><div>          if (version_compare($plugin_data['Version'], '3', '&gt;=')) continue;&nbsp;</div></li><li><div>          <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">           * There are non-compatible add-ons installed.</span>&nbsp;</div></li><li><div><span class="comment">           */</span>&nbsp;</div></li><li><div>          return FALSE;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  return $has_addons;&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">|--------------------------------------------------------------------------</span>&nbsp;</div></li><li><div><span class="comment">| Uninstall Hook</span>&nbsp;</div></li><li><div><span class="comment">|--------------------------------------------------------------------------</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>register_uninstall_hook( __FILE__, 'ninja_forms_uninstall' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>function ninja_forms_uninstall() {&nbsp;</div></li><li><div>  global $wpdb;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  $settings = Ninja_Forms()-&gt;get_plugin_settings();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// Bail if we haven't checked the &quot;delete on uninstall&quot; box.</span>&nbsp;</div></li><li><div>  if (isset ($settings['delete_on_uninstall']) && 1 == $settings['delete_on_uninstall']) {&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Remove our options.</span>&nbsp;</div></li><li><div>      delete_option('ninja_forms_settings');&nbsp;</div></li><li><div>      delete_option('nf_version_upgraded_from');&nbsp;</div></li><li><div>      delete_option('nf_upgrade_notice');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      delete_option('nf_database_migrations');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      delete_option('nf_convert_notifications_forms');&nbsp;</div></li><li><div>      delete_option('nf_convert_notifications_complete');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      delete_option('nf_convert_subs_step');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      delete_option('nf_email_fav_updated');&nbsp;</div></li><li><div>      delete_option('nf_update_email_settings_complete');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      delete_option('nf_converted_subs');&nbsp;</div></li><li><div>      delete_option('nf_convert_subs_num');&nbsp;</div></li><li><div>      delete_option('nf_convert_subs_step');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      delete_option('nf_converted_forms');&nbsp;</div></li><li><div>      delete_option('nf_converted_form_reset');&nbsp;</div></li><li><div>      delete_option('nf_convert_forms_complete');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Remove upgrade last step options</span>&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/class-upgrade.php');&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/upgrade-functions.php' );&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/upgrades.php' );&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/convert-forms-reset.php' );&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/upgrade-handler-page.php');&nbsp;</div></li><li><div>      require_once( NF_PLUGIN_DIR . 'includes/admin/upgrades/class-upgrade-handler.php');&nbsp;</div></li><li><div>      $upgrades = NF_UpgradeHandler()-&gt;upgrades;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($upgrades AND is_array($upgrades)) {&nbsp;</div></li><li><div>          foreach ($upgrades as $upgrade) {&nbsp;</div></li><li><div>              delete_option('nf_upgrade_' . $upgrade-&gt;name . '_last_step');&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Remove all of our submissions</span>&nbsp;</div></li><li><div>      $items = get_posts(array('post_type' =&gt; 'nf_sub', 'post_status' =&gt; 'any', 'numberposts' =&gt; -1, 'fields' =&gt; 'ids'));&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($items) {&nbsp;</div></li><li><div>          foreach ($items as $item) {&nbsp;</div></li><li><div>              wp_delete_post($item, true);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Remove all of our custom tables</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NF_OBJECTS_TABLE_NAME);&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NF_OBJECT_META_TABLE_NAME);&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NF_OBJECT_RELATIONSHIPS_TABLE_NAME);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NINJA_FORMS_TABLE_NAME);&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NINJA_FORMS_FIELDS_TABLE_NAME);&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NINJA_FORMS_FAV_FIELDS_TABLE_NAME);&nbsp;</div></li><li><div>      $wpdb-&gt;query('DROP TABLE ' . NINJA_FORMS_SUBS_TABLE_NAME);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Remove our daily cron job</span>&nbsp;</div></li><li><div>      $timestamp = wp_next_scheduled('ninja_forms_daily_action');&nbsp;</div></li><li><div>      wp_unschedule_event($timestamp, 'ninja_forms_daily_action');&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Ninja Forms</li><li><span></span>3.1.1</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>