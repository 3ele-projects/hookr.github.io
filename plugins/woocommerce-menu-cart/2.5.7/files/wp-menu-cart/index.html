<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="2.5.7" data-slug="woocommerce-menu-cart" data-type="file" data-id="56667"><head xmlns="http://www.w3.org/1999/xhtml"><title> wp-menu-cart | file | Woocommerce Menu Cart | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, woocommerce-menu-cart, 2.5.7" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.9"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=0e2463b553a388bdfb7c8ae43342214a' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.9' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/wp-menu-cart/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-menu-cart%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Fwp-menu-cart%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-woocommerce-menu-cart-2.5.7-file-wp-menu-cart","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="wp-menu-cart" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to woocommerce-menu-cart." href="http://hookr.io/plugins/woocommerce-menu-cart/" class="plugin"><span property="name">woocommerce-menu-cart</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 2.5.7." href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/" class="H_VERSION"><span property="name">2.5.7</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">wp-menu-cart</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="16"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/all/" title="All">All <span class="count badge">16</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="9"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/hooks/" title="Hooks">Hooks <span class="count badge">9</span></a></li><li class="" data-id="action" data-count="0"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/actions/" title="Actions">Actions <span class="count badge">0</span></a></li><li class="" data-id="filter" data-count="9"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/filters/" title="Filters">Filters <span class="count badge">9</span></a></li><li class="" data-id="class" data-count="7"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/classes/" title="Classes">Classes <span class="count badge">7</span></a></li><li class="" data-id="constant" data-count="0"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/constants/" title="Constants">Constants <span class="count badge">0</span></a></li><li class="" data-id="function" data-count="0"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/functions/" title="Functions">Functions <span class="count badge">0</span></a></li><li class="" data-id="shortcode" data-count="0"><a href="http://hookr.io/plugins/woocommerce-menu-cart/2.5.7/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">0</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/wp-menu-cart.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">Plugin Name: WooCommerce Menu Cart</span>&nbsp;</div></li><li><div><span class="comment">Plugin URI: www.wpovernight.com/plugins</span>&nbsp;</div></li><li><div><span class="comment">Description: Extension for WooCommerce that places a cart icon with number of items and total cost in the menu bar. Activate the plugin, set your options and you're ready to go! Will automatically conform to your theme styles.</span>&nbsp;</div></li><li><div><span class="comment">Version: 2.5.7</span>&nbsp;</div></li><li><div><span class="comment">Author: Jeremiah Prummer, Ewout Fernhout</span>&nbsp;</div></li><li><div><span class="comment">Author URI: www.wpovernight.com/</span>&nbsp;</div></li><li><div><span class="comment">License: GPL2</span>&nbsp;</div></li><li><div><span class="comment">*/</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>class WpMenuCart {     &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static $plugin_slug;&nbsp;</div></li><li><div>  public static $plugin_basename;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Construct.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function __construct() {&nbsp;</div></li><li><div>      self::$plugin_slug = basename(dirname(__FILE__));&nbsp;</div></li><li><div>      self::$plugin_basename = plugin_basename(__FILE__);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $this-&gt;options = get_option('wpmenucart');&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// load the localisation & classes</span>&nbsp;</div></li><li><div>      add_action( 'plugins_loaded', array( &$this, 'languages' ), 0 ); <span class="comment">// or use init?</span>&nbsp;</div></li><li><div>      add_action( 'init', array( &$this, 'wpml' ), 0 );&nbsp;</div></li><li><div>      add_action( 'init', array( $this, 'load_classes' ) );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// enqueue scripts & ajax</span>&nbsp;</div></li><li><div>      add_action( 'wp_enqueue_scripts', array( &$this, 'load_scripts_styles' ) ); <span class="comment">// Load scripts</span>&nbsp;</div></li><li><div>      add_action( 'wp_ajax_wpmenucart_ajax', array( &$this, 'wpmenucart_ajax' ), 0 );&nbsp;</div></li><li><div>      add_action( 'wp_ajax_nopriv_wpmenucart_ajax', array( &$this, 'wpmenucart_ajax' ), 0 );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// add filters to selected menus to add cart item &lt;li&gt;</span>&nbsp;</div></li><li><div>      add_action( 'init', array( $this, 'filter_nav_menus' ) );&nbsp;</div></li><li><div>      <span class="comment">// $this-&gt;filter_nav_menus();</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Load classes</span>&nbsp;</div></li><li><div><span class="comment">   * @return void</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function load_classes() {&nbsp;</div></li><li><div>      include_once( 'includes/wpmenucart-settings.php' );&nbsp;</div></li><li><div>      $this-&gt;settings = new WpMenuCart_Settings();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $this-&gt;good_to_go() ) {            &nbsp;</div></li><li><div>          if (isset($this-&gt;options['shop_plugin'])) {&nbsp;</div></li><li><div>              switch ($this-&gt;options['shop_plugin']) {&nbsp;</div></li><li><div>                  case 'woocommerce':&nbsp;</div></li><li><div>                      include_once( 'includes/wpmenucart-woocommerce.php' );&nbsp;</div></li><li><div>                      $this-&gt;shop = new WPMenuCart_WooCommerce();&nbsp;</div></li><li><div>                      if ( isset($this-&gt;options['builtin_ajax']) ) {&nbsp;</div></li><li><div>                          add_action(&quot;wp_enqueue_scripts&quot;, array( &$this, 'load_custom_ajax' ), 0 );&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          add_filter( 'add_to_cart_fragments', array( &$this, 'woocommerce_ajax_fragments' ) );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      break;&nbsp;</div></li><li><div>                  case 'jigoshop':&nbsp;</div></li><li><div>                      include_once( 'includes/wpmenucart-jigoshop.php' );&nbsp;</div></li><li><div>                      $this-&gt;shop = new WPMenuCart_Jigoshop();&nbsp;</div></li><li><div>                      if ( isset($this-&gt;options['builtin_ajax']) ) {&nbsp;</div></li><li><div>                          add_action(&quot;wp_enqueue_scripts&quot;, array( &$this, 'load_custom_ajax' ), 0 );&nbsp;</div></li><li><div>                      } else {&nbsp;</div></li><li><div>                          add_filter( 'add_to_cart_fragments', array( &$this, 'woocommerce_ajax_fragments' ) );&nbsp;</div></li><li><div>                      }&nbsp;</div></li><li><div>                      break;&nbsp;</div></li><li><div>                  case 'wp-e-commerce':&nbsp;</div></li><li><div>                      include_once( 'includes/wpmenucart-wpec.php' );&nbsp;</div></li><li><div>                      $this-&gt;shop = new WPMenuCart_WPEC();&nbsp;</div></li><li><div>                      add_action(&quot;wp_enqueue_scripts&quot;, array( &$this, 'load_custom_ajax' ), 0 );&nbsp;</div></li><li><div>                      break;&nbsp;</div></li><li><div>                  case 'eshop':&nbsp;</div></li><li><div>                      include_once( 'includes/wpmenucart-eshop.php' );&nbsp;</div></li><li><div>                      $this-&gt;shop = new WPMenuCart_eShop();&nbsp;</div></li><li><div>                      add_action(&quot;wp_enqueue_scripts&quot;, array( &$this, 'load_custom_ajax' ), 0 );&nbsp;</div></li><li><div>                      break;&nbsp;</div></li><li><div>                  case 'easy-digital-downloads':&nbsp;</div></li><li><div>                      include_once( 'includes/wpmenucart-edd.php' );&nbsp;</div></li><li><div>                      $this-&gt;shop = new WPMenuCart_EDD();&nbsp;</div></li><li><div>                      add_action(&quot;wp_enqueue_scripts&quot;, array( &$this, 'load_custom_ajax' ), 0 );&nbsp;</div></li><li><div>                      break;&nbsp;</div></li><li><div>              }&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Check if a shop is active or if conflicting old versions of the plugin are active</span>&nbsp;</div></li><li><div><span class="comment">   * @return boolean</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function good_to_go() {&nbsp;</div></li><li><div>      $wpmenucart_shop_check = get_option( 'wpmenucart_shop_check' );&nbsp;</div></li><li><div>      $active_plugins = $this-&gt;get_active_plugins();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// check for shop plugins</span>&nbsp;</div></li><li><div>      if ( !$this-&gt;is_shop_active() && $wpmenucart_shop_check != 'hide' ) {&nbsp;</div></li><li><div>          add_action( 'admin_notices', array ( $this, 'need_shop' ) );&nbsp;</div></li><li><div>          return FALSE;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// check for old versions</span>&nbsp;</div></li><li><div>      if ( count( $this-&gt;get_active_old_versions() ) &gt; 0 ) {&nbsp;</div></li><li><div>          add_action( 'admin_notices', array ( $this, 'woocommerce_version_active' ) );&nbsp;</div></li><li><div>          return FALSE;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// we made it! good to go :o)</span>&nbsp;</div></li><li><div>      return TRUE;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Return true if one ore more shops are activated.</span>&nbsp;</div></li><li><div><span class="comment">   * @return boolean</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function is_shop_active() {&nbsp;</div></li><li><div>      if ( count($this-&gt;get_active_shops()) &gt; 0 ) {&nbsp;</div></li><li><div>          return TRUE;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          return FALSE;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get an array of all active plugins, including multisite</span>&nbsp;</div></li><li><div><span class="comment">   * @return array active plugin paths</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public static function get_active_plugins() {&nbsp;</div></li><li><div>      $active_plugins = (array) apply_filters( 'active_plugins', get_option( 'active_plugins' ) );&nbsp;</div></li><li><div>      if (is_multisite()) {&nbsp;</div></li><li><div>          <span class="comment">// get_site_option( 'active_sitewide_plugins', array() ) returns a 'reversed list'</span>&nbsp;</div></li><li><div>          <span class="comment">// like [hello-dolly/hello.php] =&gt; 1369572703 so we do array_keys to make the array</span>&nbsp;</div></li><li><div>          <span class="comment">// compatible with $active_plugins</span>&nbsp;</div></li><li><div>          $active_sitewide_plugins = (array) array_keys( get_site_option( 'active_sitewide_plugins', array() ) );&nbsp;</div></li><li><div>          <span class="comment">// merge arrays and remove doubles</span>&nbsp;</div></li><li><div>          $active_plugins = (array) array_unique( array_merge( $active_plugins, $active_sitewide_plugins ) );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $active_plugins;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get array of active shop plugins</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @return array plugin name =&gt; plugin path</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public static function get_active_shops() {&nbsp;</div></li><li><div>      $active_plugins = self::get_active_plugins();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $shop_plugins = array (&nbsp;</div></li><li><div>          'WooCommerce' =&gt; 'woocommerce/woocommerce.php', &nbsp;</div></li><li><div>          'Jigoshop' =&gt; 'jigoshop/jigoshop.php', &nbsp;</div></li><li><div>          'WP e-Commerce' =&gt; 'wp-e-commerce/wp-shopping-cart.php', &nbsp;</div></li><li><div>          'eShop' =&gt; 'eshop/eshop.php', &nbsp;</div></li><li><div>          'Easy Digital Downloads' =&gt; 'easy-digital-downloads/easy-digital-downloads.php', &nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// filter shop plugins & add shop names as keys</span>&nbsp;</div></li><li><div>      $active_shop_plugins = array_intersect( $shop_plugins, $active_plugins );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $active_shop_plugins;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get array of active old WooCommerce Menu Cart plugins</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @return array plugin paths</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function get_active_old_versions() {&nbsp;</div></li><li><div>      $active_plugins = $this-&gt;get_active_plugins();&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      $old_versions = array (&nbsp;</div></li><li><div>          'woocommerce-menu-bar-cart/wc_cart_nav.php', <span class="comment">//first version</span>&nbsp;</div></li><li><div>          'woocommerce-menu-bar-cart/woocommerce-menu-cart.php', <span class="comment">//last free version</span>&nbsp;</div></li><li><div>          'woocommerce-menu-cart/woocommerce-menu-cart.php', <span class="comment">//never actually released? just in case...</span>&nbsp;</div></li><li><div>          'woocommerce-menu-cart-pro/woocommerce-menu-cart-pro.php', <span class="comment">//old pro version</span>&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>      $active_old_plugins = array_intersect( $old_versions, $active_plugins );&nbsp;</div></li><li><div>              &nbsp;</div></li><li><div>      return $active_old_plugins;&nbsp;</div></li><li><div>  }    &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Fallback admin notices</span>&nbsp;</div></li><li><div><span class="comment">   *</span>&nbsp;</div></li><li><div><span class="comment">   * @return string Fallack notice.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function need_shop() {&nbsp;</div></li><li><div>      $error = __( 'WP Menu Cart Pro could not detect an active shop plugin. Make sure you have activated at least one of the supported plugins.' , 'wpmenucart' );&nbsp;</div></li><li><div>      $message = sprintf('&lt;div class=&quot;error&quot;&gt;&lt;p&gt;%1$s &lt;a href=&quot;%2$s&quot;&gt;%3$s&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;', $error, add_query_arg( 'hide_wpmenucart_shop_check', 'true' ), __( 'Hide this notice', 'wpmenucart' ) );&nbsp;</div></li><li><div>      echo $message;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public function woocommerce_version_active() {&nbsp;</div></li><li><div>      $error = __( 'An old version of WooCommerce Menu Cart is currently activated, you need to disable or uninstall it for WP Menu Cart to function properly' , 'wpmenucart' );&nbsp;</div></li><li><div>      $message = '&lt;div class=&quot;error&quot;&gt;&lt;p&gt;' . $error . '&lt;/p&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>      echo $message;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Load translations.</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function languages() {&nbsp;</div></li><li><div>      load_plugin_textdomain( 'wpmenucart', false, dirname( plugin_basename( __FILE__ ) ) . '/languages/' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">  * Register strings for WPML String Translation</span>&nbsp;</div></li><li><div><span class="comment">  */</span>&nbsp;</div></li><li><div>  public function wpml() {&nbsp;</div></li><li><div>      if ( isset($this-&gt;options['wpml_string_translation']) && function_exists( 'icl_register_string' ) ) {&nbsp;</div></li><li><div>          icl_register_string('WP Menu Cart', 'item text', 'item');&nbsp;</div></li><li><div>          icl_register_string('WP Menu Cart', 'items text', 'items');&nbsp;</div></li><li><div>          icl_register_string('WP Menu Cart', 'empty cart text', 'your cart is currently empty');&nbsp;</div></li><li><div>          icl_register_string('WP Menu Cart', 'hover text', 'View your shopping cart');&nbsp;</div></li><li><div>          icl_register_string('WP Menu Cart', 'empty hover text', 'Start shopping');&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Load custom ajax</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function load_custom_ajax() {&nbsp;</div></li><li><div>      wp_enqueue_script(&nbsp;</div></li><li><div>          'wpmenucart', &nbsp;</div></li><li><div>          plugins_url( '/javascript/wpmenucart.js' , __FILE__ ), &nbsp;</div></li><li><div>          array( 'jquery' ), &nbsp;</div></li><li><div>          '2.5.6', &nbsp;</div></li><li><div>          true&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// get URL to WordPress ajax handling page  </span>&nbsp;</div></li><li><div>      if ( $this-&gt;options['shop_plugin'] == 'easy-digital-downloads' && function_exists( 'edd_get_ajax_url' ) ) {&nbsp;</div></li><li><div>          <span class="comment">// use EDD function to prevent SSL issues http://git.io/V7w76A</span>&nbsp;</div></li><li><div>          $ajax_url = edd_get_ajax_url();&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $ajax_url = admin_url( 'admin-ajax.php' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_localize_script(&nbsp;</div></li><li><div>          'wpmenucart', &nbsp;</div></li><li><div>          'wpmenucart_ajax', &nbsp;</div></li><li><div>          array(&nbsp;</div></li><li><div>              'ajaxurl' =&gt; $ajax_url, &nbsp;</div></li><li><div>              'nonce' =&gt; wp_create_nonce('wpmenucart')&nbsp;</div></li><li><div> )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Load CSS</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function load_scripts_styles() {&nbsp;</div></li><li><div>      if (isset($this-&gt;options['icon_display'])) {&nbsp;</div></li><li><div>          wp_register_style( 'wpmenucart-icons', plugins_url( '/css/wpmenucart-icons.css', __FILE__ ), array(), '', 'all' );&nbsp;</div></li><li><div>          wp_enqueue_style( 'wpmenucart-icons' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      $css = file_exists( get_stylesheet_directory() . '/wpmenucart-main.css' )&nbsp;</div></li><li><div>          ? get_stylesheet_directory_uri() . '/wpmenucart-main.css'&nbsp;</div></li><li><div>          : plugins_url( '/css/wpmenucart-main.css', __FILE__ );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      wp_register_style( 'wpmenucart', $css, array(), '', 'all' );&nbsp;</div></li><li><div>      wp_enqueue_style( 'wpmenucart' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Load Stylesheet if twentytwelve is active</span>&nbsp;</div></li><li><div>      if ( wp_get_theme() == 'Twenty Twelve' ) {&nbsp;</div></li><li><div>          wp_register_style( 'wpmenucart-twentytwelve', plugins_url( '/css/wpmenucart-twentytwelve.css', __FILE__ ), array(), '', 'all' );&nbsp;</div></li><li><div>          wp_enqueue_style( 'wpmenucart-twentytwelve' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">//Load Stylesheet if twentyfourteen is active</span>&nbsp;</div></li><li><div>      if ( wp_get_theme() == 'Twenty Fourteen' ) {&nbsp;</div></li><li><div>          wp_register_style( 'wpmenucart-twentyfourteen', plugins_url( '/css/wpmenucart-twentyfourteen.css', __FILE__ ), array(), '', 'all' );&nbsp;</div></li><li><div>          wp_enqueue_style( 'wpmenucart-twentyfourteen' );&nbsp;</div></li><li><div>      }        &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Add filters to selected menus to add cart item &lt;li&gt;</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function filter_nav_menus() {&nbsp;</div></li><li><div>      <span class="comment">// exit if no shop class is active</span>&nbsp;</div></li><li><div>      if ( !isset($this-&gt;shop) )&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// exit if no menus set</span>&nbsp;</div></li><li><div>      if ( !isset( $this-&gt;options['menu_slugs'] ) || empty( $this-&gt;options['menu_slugs'] ) )&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $this-&gt;options['menu_slugs'][1] != '0' ) {&nbsp;</div></li><li><div>          add_filter( 'wp_nav_menu_' . $this-&gt;options['menu_slugs'][1] . '_items', array( &$this, 'add_itemcart_to_menu' ) , 10, 2 );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Add Menu Cart to menu</span>&nbsp;</div></li><li><div><span class="comment">   * </span>&nbsp;</div></li><li><div><span class="comment">   * @return menu items + Menu Cart item</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function add_itemcart_to_menu( $items ) {&nbsp;</div></li><li><div>      $classes = 'wpmenucartli wpmenucart-display-'.$this-&gt;options['items_alignment'];&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      if ($this-&gt;get_common_li_classes($items) != '')&nbsp;</div></li><li><div>          $classes .= ' ' . $this-&gt;get_common_li_classes($items);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $active_plugins = apply_filters( 'active_plugins', get_option( 'active_plugins' ) );&nbsp;</div></li><li><div>          &nbsp;</div></li><li><div>      <span class="comment">// Filter for &lt;li&gt; item classes</span>&nbsp;</div></li><li><div>      <span class="comment">/** Usage (in the themes functions.php):</span>&nbsp;</div></li><li><div><span class="comment">      add_filter('wpmenucart_menu_item_classes', 'add_wpmenucart_item_class', 1, 1);</span>&nbsp;</div></li><li><div><span class="comment">      function add_wpmenucart_item_class ($classes) {</span>&nbsp;</div></li><li><div><span class="comment">          $classes .= ' yourclass';</span>&nbsp;</div></li><li><div><span class="comment">          return $classes;</span>&nbsp;</div></li><li><div><span class="comment">      }</span>&nbsp;</div></li><li><div><span class="comment">      */</span>&nbsp;</div></li><li><div>      $classes = apply_filters( 'wpmenucart_menu_item_classes', $classes );&nbsp;</div></li><li><div>      $this-&gt;menu_items['menu']['menu_item_li_classes'] = $classes;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// DEPRECATED: These filters are now deprecated in favour of the more precise filters in the functions!</span>&nbsp;</div></li><li><div>      $wpmenucart_menu_item = apply_filters( 'wpmenucart_menu_item_filter', $this-&gt;wpmenucart_menu_item() );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $item_data = $this-&gt;shop-&gt;menu_item();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $menu_item_li = '&lt;li class=&quot;'.$classes.'&quot; id=&quot;wpmenucartli&quot;&gt;' . $wpmenucart_menu_item . '&lt;/li&gt;';&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( apply_filters('wpmenucart_prepend_menu_item', false) ) {&nbsp;</div></li><li><div>          $items = apply_filters( 'wpmenucart_menu_item_wrapper', $menu_item_li ) . $items;&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $items .= apply_filters( 'wpmenucart_menu_item_wrapper', $menu_item_li );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      return $items;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Get a flat list of common classes from all menu items in a menu</span>&nbsp;</div></li><li><div><span class="comment">   * @param  string $items nav_menu HTML containing all &lt;li&gt; menu items</span>&nbsp;</div></li><li><div><span class="comment">   * @return string        flat (imploded) list of common classes</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function get_common_li_classes($items) {&nbsp;</div></li><li><div>      if (empty($items)) return;&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      $libxml_previous_state = libxml_use_internal_errors(true); <span class="comment">// enable user error handling</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $dom_items = new DOMDocument;&nbsp;</div></li><li><div>      $dom_items-&gt;loadHTML( $items );&nbsp;</div></li><li><div>      $lis = $dom_items-&gt;getElementsByTagName('li');&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      if (empty($lis)) {&nbsp;</div></li><li><div>          libxml_clear_errors();&nbsp;</div></li><li><div>          libxml_use_internal_errors($libxml_previous_state);&nbsp;</div></li><li><div>          return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      foreach($lis as $li) {&nbsp;</div></li><li><div>          if ($li-&gt;parentNode-&gt;tagName != 'ul')&nbsp;</div></li><li><div>              $li_classes[] = explode( ' ', $li-&gt;getAttribute('class') );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// Uncomment to dump DOM errors / warnings</span>&nbsp;</div></li><li><div>      <span class="comment">//$errors = libxml_get_errors();</span>&nbsp;</div></li><li><div>      <span class="comment">//print_r ($errors);</span>&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      <span class="comment">// clear errors and reset to previous error handling state</span>&nbsp;</div></li><li><div>      libxml_clear_errors();&nbsp;</div></li><li><div>      libxml_use_internal_errors($libxml_previous_state);&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      if ( !empty($li_classes) ) {&nbsp;</div></li><li><div>          $common_li_classes = array_shift($li_classes);&nbsp;</div></li><li><div>          foreach ($li_classes as $li_class) {&nbsp;</div></li><li><div>              $common_li_classes = array_intersect($li_class, $common_li_classes);&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $common_li_classes_flat = implode(' ', $common_li_classes);&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $common_li_classes_flat;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Ajaxify Menu Cart</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function woocommerce_ajax_fragments( $fragments ) {&nbsp;</div></li><li><div>      $fragments['a.wpmenucart-contents'] = $this-&gt;wpmenucart_menu_item();&nbsp;</div></li><li><div>      return $fragments;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment">   * Create HTML for Menu Cart item</span>&nbsp;</div></li><li><div><span class="comment">   */</span>&nbsp;</div></li><li><div>  public function wpmenucart_menu_item() {&nbsp;</div></li><li><div>      $item_data = $this-&gt;shop-&gt;menu_item();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// Check empty cart settings</span>&nbsp;</div></li><li><div>      if ($item_data['cart_contents_count'] == 0 && ( !isset($this-&gt;options['always_display']) ) ) {&nbsp;</div></li><li><div>          $empty_menu_item = '&lt;a class=&quot;wpmenucart-contents empty-wpmenucart&quot; style=&quot;display:none&quot;&gt;&nbsp;&lt;/a&gt;';&nbsp;</div></li><li><div>          return $empty_menu_item;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      if ( isset($this-&gt;options['wpml_string_translation']) && function_exists( 'icl_t' ) ) {&nbsp;</div></li><li><div>          <span class="comment">//use WPML</span>&nbsp;</div></li><li><div>          $viewing_cart = icl_t('WP Menu Cart', 'hover text', 'View your shopping cart');&nbsp;</div></li><li><div>          $start_shopping = icl_t('WP Menu Cart', 'empty hover text', 'Start shopping');&nbsp;</div></li><li><div>          $cart_contents = $item_data['cart_contents_count'] .' '. ( $item_data['cart_contents_count'] == 1 ?  icl_t('WP Menu Cart', 'item text', 'item') :  icl_t('WP Menu Cart', 'items text', 'items') );&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          <span class="comment">//use regular WP i18n</span>&nbsp;</div></li><li><div>          $viewing_cart = __('View your shopping cart', 'wpmenucart');&nbsp;</div></li><li><div>          $start_shopping = __('Start shopping', 'wpmenucart');&nbsp;</div></li><li><div>          $cart_contents = sprintf(_n('%d item', '%d items', $item_data['cart_contents_count'], 'wpmenucart'), $item_data['cart_contents_count']);&nbsp;</div></li><li><div>      }    &nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $this-&gt;menu_items['menu']['cart_contents'] = $cart_contents;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ($item_data['cart_contents_count'] == 0) {&nbsp;</div></li><li><div>          $menu_item_href = apply_filters ('wpmenucart_emptyurl', $item_data['shop_page_url'] );&nbsp;</div></li><li><div>          $menu_item_title = apply_filters ('wpmenucart_emptytitle', $start_shopping );&nbsp;</div></li><li><div>          $menu_item_classes = 'wpmenucart-contents empty-wpmenucart-visible';&nbsp;</div></li><li><div>      } else {&nbsp;</div></li><li><div>          $menu_item_href = apply_filters ('wpmenucart_fullurl', $item_data['cart_url'] );&nbsp;</div></li><li><div>          $menu_item_title = apply_filters ('wpmenucart_fulltitle', $viewing_cart );&nbsp;</div></li><li><div>          $menu_item_classes = 'wpmenucart-contents';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $this-&gt;menu_items['menu']['menu_item_href'] = $menu_item_href;&nbsp;</div></li><li><div>      $this-&gt;menu_items['menu']['menu_item_title'] = $menu_item_title;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if(defined('UBERMENU_VERSION') && (version_compare(UBERMENU_VERSION, '3.0.0') &gt;= 0)) {&nbsp;</div></li><li><div>          $menu_item_classes .= ' ubermenu-target';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $menu_item = '&lt;a class=&quot;'.$menu_item_classes.'&quot; href=&quot;'.$menu_item_href.'&quot; title=&quot;'.$menu_item_title.'&quot;&gt;';&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      $menu_item_a_content = '';    &nbsp;</div></li><li><div>      if (isset($this-&gt;options['icon_display'])) {&nbsp;</div></li><li><div>          $icon = isset($this-&gt;options['cart_icon']) ? $this-&gt;options['cart_icon'] : '0';&nbsp;</div></li><li><div>          $menu_item_icon = '&lt;i class=&quot;wpmenucart-icon-shopping-cart-'.$icon.'&quot;&gt;&lt;/i&gt;';&nbsp;</div></li><li><div>          $menu_item_a_content .= $menu_item_icon;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      switch ($this-&gt;options['items_display']) {&nbsp;</div></li><li><div>          case 1: <span class="comment">//items only</span>&nbsp;</div></li><li><div>              $menu_item_a_content .= '&lt;span class=&quot;cartcontents&quot;&gt;'.$cart_contents.'&lt;/span&gt;';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 2: <span class="comment">//price only</span>&nbsp;</div></li><li><div>              $menu_item_a_content .= '&lt;span class=&quot;amount&quot;&gt;'.$item_data['cart_total'].'&lt;/span&gt;';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 3: <span class="comment">//items & price</span>&nbsp;</div></li><li><div>              $menu_item_a_content .= '&lt;span class=&quot;cartcontents&quot;&gt;'.$cart_contents.'&lt;/span&gt;&lt;span class=&quot;amount&quot;&gt;'.$item_data['cart_total'].'&lt;/span&gt;';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      $menu_item_a_content = apply_filters ('wpmenucart_menu_item_a_content', $menu_item_a_content, $menu_item_icon, $cart_contents, $item_data );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $this-&gt;menu_items['menu']['menu_item_a_content'] = $menu_item_a_content;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $menu_item .= $menu_item_a_content . '&lt;/a&gt;';&nbsp;</div></li><li><div>      &nbsp;</div></li><li><div>      $menu_item = apply_filters ('wpmenucart_menu_item_a', $menu_item, $item_data, $this-&gt;options, $menu_item_a_content, $viewing_cart, $start_shopping, $cart_contents);&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if( !empty( $menu_item ) ) return $menu_item;        &nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>  &nbsp;</div></li><li><div>  public function wpmenucart_ajax() {&nbsp;</div></li><li><div>      $variable = $this-&gt;wpmenucart_menu_item();&nbsp;</div></li><li><div>      echo $variable;&nbsp;</div></li><li><div>      die();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>$wpMenuCart = new WpMenuCart();&nbsp;</div></li><li><div>&nbsp;</div></li><li><div><span class="comment">/**</span>&nbsp;</div></li><li><div><span class="comment"> * Hide notifications</span>&nbsp;</div></li><li><div><span class="comment"> */</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>if ( ! empty( $_GET['hide_wpmenucart_shop_check'] ) ) {&nbsp;</div></li><li><div>  update_option( 'wpmenucart_shop_check', 'hide' );&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>WooCommerce Menu Cart</li><li><span></span>2.5.7</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2017 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer> <script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>