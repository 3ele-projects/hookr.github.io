<!DOCTYPE html> <!--[if lt IE 7]><html class="hookr file lt-ie9 lt-ie8 lt-ie7 ie"><![endif]--> <!--[if IE 7]><html class="hookr file lt-ie9 lt-ie8 ie7 ie"><![endif]--> <!--[if IE 8]><html class="hookr file lt-ie9 ie8 ie"><![endif]--> <!--[if IE 9]><html class="hookr file ie9 ie"><![endif]--> <!--[if gt IE 9]><html class="hookr file gt-ie9 ie"><![endif]--><html lang="en-US" id="single" class="hookr file" data-site="plugin" data-version="4.9.9" data-slug="shortcodes-ultimate" data-type="file" data-id="10997"><head xmlns="http://www.w3.org/1999/xhtml"><title> inc-core-shortcodes | file | Shortcodes Ultimate | hookr.io</title><meta charset="UTF-8"><meta name="author" content="thepassionofthechris \m/," /><meta name="keywords" content="file, plugin, shortcodes-ultimate, 4.9.9" /><meta name="description" content="The WordPress Hook/API Index" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel="shortcut icon" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.ico" /><link rel="icon" type="image/png" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.png"><link rel="icon" type="image/gif" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.gif"><link rel="icon" type="image/jpeg" href="http://hookr.io/wp-content/themes/hookr/assets/images/favicon.jpg"><meta name="google-site-verification" content="Q5dnl0YziNqRLCBxFtc2Rd8vUuueYAt6VIUYZItvEL4" /><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/hookr.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.16"}};!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel='stylesheet' id='screen-css'  href='http://hookr.io/wp-content/themes/hookr/assets/css/hookr.css?ver=b678199047aa986a286040b245793e74' type='text/css' media='screen' /><link rel='stylesheet' id='qtip-css'  href='http://hookr.io/wp-content/themes/hookr/assets/vendor/jquery.qtip.custom/jquery.qtip.min.css?ver=4.4.16' type='text/css' media='screen' /><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fU9dGoIwDLsQW_XbHbyAXmCMAsNBsS2otxcYvqFP_UmaJg66x4T8LtzemD427BVtH4fiBC3RncGLoAp0AqWYRDS2lA4ZMw4VMZREKsp-NM46e14PlShpHJc_UwSsawz6R6CbURX38oNzDUwp3egSX1iZ3osif0PIhinVK3YQI9NsWNYRs6dAnCNt0zNWDW4OPw.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdTPzS8tTtXLzcwDAA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/fZBBDsIwDAQ_RG1Kn8AvuKWJUQ1JHBIXVF5PKOoFKZV8Gc_KK3nAmVHNWCBwPAxfKp4d5ZWPOIncM5pSSAve6jxmygskbyxN4mvwP_Sk6KRSSJ6vS9dDD6eNGkdXbu3hV9nUs7JvSpNqrzXK0uwFKyFJpKg7V3jPwZPp1XjDm7JYz2kUk10XTFHK6LgoXqo5b-YD.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9DPyM_PLtJPLC5OLSnWL0vNS8kv0s8qLE0tqtQrLMks0EsuLS7Jz0URys3MAwA.js"></script><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9YvzdRPTUtLTS7RzchMz8gB4hK93Mw8HQP9jPz87CL9xOLi1JJi_axiCF8vsSBTrzgzLz0nFQA.js"></script><link rel='https://api.w.org/' href='http://hookr.io/wp-json/' /><link rel="canonical" href="http://hookr.io/files/inc-core-shortcodes/" /><link rel="alternate" type="application/json+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Finc-core-shortcodes%2F" /><link rel="alternate" type="text/xml+oembed" href="http://hookr.io/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fhookr.io%2Ffiles%2Finc-core-shortcodes%2F&#038;format=xml" /><script>/*<![CDATA[*/if('undefined'===typeof Hookr)
var Hookr={};if('undefined'===typeof Hookr.Util)
Hookr.Util={};Hookr.Util=jQuery&&jQuery.extend(Hookr.Util,{"adminAjax":"http:\/\/hookr.io\/wp-admin\/admin-ajax.php","themeUrl":"http:\/\/hookr.io\/wp-content\/themes\/hookr\/","apiKey":"plugin-shortcodes-ultimate-4.9.9-file-inc-core-shortcodes","actions":{"popover":0,"range":1,"search":2,"stat":3}});/*]]>*/</script><!--[if lt IE 9]><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv.js"></script><script src="http://hookr.io/wp-content/themes/hookr/assets/js/html5shiv-printshiv.js"></script><![endif]--></head><body id="inc-core-shortcodes" class="single single-file"><div id="gutter"><div><ul id="nav-breadcrumb" role="navigation" class="pivot clear fix"><li class="home"><a title="Go to hookr.io." href="http://hookr.io" class="home">hookr.io</a></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to plugins." href="http://hookr.io/plugins/" class=""><span property="name">plugins</span></a><meta property="position" content="2"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to shortcodes-ultimate." href="http://hookr.io/plugins/shortcodes-ultimate/" class="plugin"><span property="name">shortcodes-ultimate</span></a><meta property="position" content="3"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to 4.9.9." href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/" class="H_VERSION"><span property="name">4.9.9</span></a><meta property="position" content="4"></span></li><li>/</li><li><span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to files." href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/files/" class=""><span property="name">files</span></a><meta property="position" content="5"></span></li><li>/</li><li class="current_item"><span property="itemListElement" typeof="ListItem"><span property="name">inc-core-shortcodes</span><meta property="position" content="6"></span></li></ul></div></div><header class="jv-fixed"><div> <button class="btn" data-jv-trigger="left"><span></span></button><h1 title="hookr.io"><a href="http://hookr.io" title="hookr.io"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/hookr.svg" title="The WordPress Hook/API Index" alt="The WordPress Hook/API Index"/></a></h1> <nav id="nav-api-types" class="pivot clearfix" data-jv-order="0" data-jv-content="left" data-active="file"><ul role="navigation"><li class="" data-id="all" data-count="94"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/all/" title="All">All <span class="count badge">94</span></a></li><li class="" data-id="new" data-count="0"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/new/" title="New">New <span class="count badge">0</span></a></li><li class="" data-id="hooks" data-count="52"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/hooks/" title="Hooks">Hooks <span class="count badge">52</span></a></li><li class="" data-id="action" data-count="31"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/actions/" title="Actions">Actions <span class="count badge">31</span></a></li><li class="" data-id="filter" data-count="21"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/filters/" title="Filters">Filters <span class="count badge">21</span></a></li><li class="" data-id="class" data-count="19"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/classes/" title="Classes">Classes <span class="count badge">19</span></a></li><li class="" data-id="constant" data-count="3"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/constants/" title="Constants">Constants <span class="count badge">3</span></a></li><li class="" data-id="function" data-count="18"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/functions/" title="Functions">Functions <span class="count badge">18</span></a></li><li class="" data-id="shortcode" data-count="2"><a href="http://hookr.io/plugins/shortcodes-ultimate/4.9.9/shortcodes/" title="Shortcodes">Shortcodes <span class="count badge">2</span></a></li></ul> </nav> <nav id="nav-main" class="pivot" data-jv-order="1" data-jv-content="left"><ul role="navigation"><li class=""><a href="http://hookr.io/all/" title="Core">Core</a></li><li class="active"><a href="http://hookr.io/plugins/" title="Plugins">Plugins</a></li><li class=""><a href="http://hookr.io/themes/" title="Themes">Themes</a></li><li class=""><a href="http://hookr.io/features/" title="Features">Features</a></li><li class=""><a href="http://hookr.io/plugin/" title="Plugin">Plugin</a></li><li class=""><a href="http://hookr.io/about/" title="About">About</a></li><li class=""><a href="http://hookr.io/contact/" title="Contact">Contact</a></li></ul> </nav></div> </header><div role="main" id="middle"><div><div id="mainbar"> <article> <section><h1>/inc/core/shortcodes.php</h1><p><pre><ol  class="block" start="1"><li><div>&lt;?php&nbsp;</div></li><li><div>class Su_Shortcodes {&nbsp;</div></li><li><div>  static $tabs = array();&nbsp;</div></li><li><div>  static $tab_count = 0;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  function __construct() {}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function heading( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'size' =&gt; 13, &nbsp;</div></li><li><div>              'align' =&gt; 'center', &nbsp;</div></li><li><div>              'margin' =&gt; '20', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'heading' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      do_action( 'su/shortcode/heading', $atts );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-heading su-heading-style-' . $atts['style'] . ' su-heading-align-' . $atts['align'] . su_ecssc( $atts ) . '&quot; style=&quot;font-size:' . intval( $atts['size'] ) . 'px;margin-bottom:' . $atts['margin'] . 'px&quot;&gt;&lt;div class=&quot;su-heading-inner&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function tabs( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'active' =&gt; 1, &nbsp;</div></li><li><div>              'vertical' =&gt; 'no', &nbsp;</div></li><li><div>              'style' =&gt; 'default', <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'tabs' );&nbsp;</div></li><li><div>      if ( $atts['style'] === '3' ) $atts['vertical'] = 'yes';&nbsp;</div></li><li><div>      do_shortcode( $content );&nbsp;</div></li><li><div>      $return = '';&nbsp;</div></li><li><div>      $tabs = $panes = array();&nbsp;</div></li><li><div>      if ( is_array( self::$tabs ) ) {&nbsp;</div></li><li><div>          if ( self::$tab_count &lt; $atts['active'] ) $atts['active'] = self::$tab_count;&nbsp;</div></li><li><div>          foreach ( self::$tabs as $tab ) {&nbsp;</div></li><li><div>              $tabs[] = '&lt;span class=&quot;' . su_ecssc( $tab ) . $tab['disabled'] . '&quot;' . $tab['anchor'] . $tab['url'] . $tab['target'] . '&gt;' . su_scattr( $tab['title'] ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>              $panes[] = '&lt;div class=&quot;su-tabs-pane su-clearfix' . su_ecssc( $tab ) . '&quot;&gt;' . $tab['content'] . '&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $atts['vertical'] = ( $atts['vertical'] === 'yes' ) ? ' su-tabs-vertical' : '';&nbsp;</div></li><li><div>          $return = '&lt;div class=&quot;su-tabs su-tabs-style-' . $atts['style'] . $atts['vertical'] . su_ecssc( $atts ) . '&quot; data-active=&quot;' . (string) $atts['active'] . '&quot;&gt;&lt;div class=&quot;su-tabs-nav&quot;&gt;' . implode( '', $tabs ) . '&lt;/div&gt;&lt;div class=&quot;su-tabs-panes&quot;&gt;' . implode( &quot;\n&quot;, $panes ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Reset tabs</span>&nbsp;</div></li><li><div>      self::$tabs = array();&nbsp;</div></li><li><div>      self::$tab_count = 0;&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      do_action( 'su/shortcode/tabs', $atts );&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function tab( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'title' =&gt; __( 'Tab title', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'disabled' =&gt; 'no', &nbsp;</div></li><li><div>              'anchor' =&gt; '', &nbsp;</div></li><li><div>              'url' =&gt; '', &nbsp;</div></li><li><div>              'target' =&gt; 'blank', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'tab' );&nbsp;</div></li><li><div>      $x = self::$tab_count;&nbsp;</div></li><li><div>      self::$tabs[$x] = array(&nbsp;</div></li><li><div>          'title' =&gt; $atts['title'], &nbsp;</div></li><li><div>          'content' =&gt; do_shortcode( $content ), &nbsp;</div></li><li><div>          'disabled' =&gt; ( $atts['disabled'] === 'yes' ) ? ' su-tabs-disabled' : '', &nbsp;</div></li><li><div>          'anchor' =&gt; ( $atts['anchor'] ) ? ' data-anchor=&quot;' . str_replace( array( ' ', '#' ), '', sanitize_text_field( $atts['anchor'] ) ) . '&quot;' : '', &nbsp;</div></li><li><div>          'url' =&gt; ' data-url=&quot;' . $atts['url'] . '&quot;', &nbsp;</div></li><li><div>          'target' =&gt; ' data-target=&quot;' . $atts['target'] . '&quot;', &nbsp;</div></li><li><div>          'class' =&gt; $atts['class']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      self::$tab_count++;&nbsp;</div></li><li><div>      do_action( 'su/shortcode/tab', $atts );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function spoiler( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'title' =&gt; __( 'Spoiler title', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'open' =&gt; 'no', &nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'icon' =&gt; 'plus', &nbsp;</div></li><li><div>              'anchor' =&gt; '', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'spoiler' );&nbsp;</div></li><li><div>      $atts['style'] = str_replace( array( '1', '2' ), array( 'default', 'fancy' ), $atts['style'] );&nbsp;</div></li><li><div>      $atts['anchor'] = ( $atts['anchor'] ) ? ' data-anchor=&quot;' . str_replace( array( ' ', '#' ), '', sanitize_text_field( $atts['anchor'] ) ) . '&quot;' : '';&nbsp;</div></li><li><div>      if ( $atts['open'] !== 'yes' ) $atts['class'] .= ' su-spoiler-closed';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'font-awesome' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      do_action( 'su/shortcode/spoiler', $atts );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-spoiler su-spoiler-style-' . $atts['style'] . ' su-spoiler-icon-' . $atts['icon'] . su_ecssc( $atts ) . '&quot;' . $atts['anchor'] . '&gt;&lt;div class=&quot;su-spoiler-title&quot;&gt;&lt;span class=&quot;su-spoiler-icon&quot;&gt;&lt;/span&gt;' . su_scattr( $atts['title'] ) . '&lt;/div&gt;&lt;div class=&quot;su-spoiler-content su-clearfix&quot; style=&quot;display:none&quot;&gt;' . su_do_shortcode( $content, 's' ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function accordion( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array( 'class' =&gt; '' ), $atts, 'accordion' );&nbsp;</div></li><li><div>      do_action( 'su/shortcode/accordion', $atts );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-accordion' . su_ecssc( $atts ) . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function divider( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'top' =&gt; 'yes', &nbsp;</div></li><li><div>              'text' =&gt; __( 'Go to top', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'divider_color' =&gt; '#999999', &nbsp;</div></li><li><div>              'link_color' =&gt; '#999999', &nbsp;</div></li><li><div>              'size' =&gt; '3', &nbsp;</div></li><li><div>              'margin' =&gt; '15', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'divider' );&nbsp;</div></li><li><div>      <span class="comment">// Prepare TOP link</span>&nbsp;</div></li><li><div>      $top = ( $atts['top'] === 'yes' ) ? '&lt;a href=&quot;#&quot; style=&quot;color:' . $atts['link_color'] . '&quot;&gt;' . su_scattr( $atts['text'] ) . '&lt;/a&gt;' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-divider su-divider-style-' . $atts['style'] . su_ecssc( $atts ) . '&quot; style=&quot;margin:' . $atts['margin'] . 'px 0;border-width:' . $atts['size'] . 'px;border-color:' . $atts['divider_color'] . '&quot;&gt;' . $top . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function spacer( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'size' =&gt; '20', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'spacer' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-spacer' . su_ecssc( $atts ) . '&quot; style=&quot;height:' . (string) $atts['size'] . 'px&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function highlight( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'background' =&gt; '#ddff99', &nbsp;</div></li><li><div>              'bg' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'color' =&gt; '#000000', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'highlight' );&nbsp;</div></li><li><div>      if ( $atts['bg'] !== null ) $atts['background'] = $atts['bg'];&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-highlight' . su_ecssc( $atts ) . '&quot; style=&quot;background:' . $atts['background'] . ';color:' . $atts['color'] . '&quot;&gt;&nbsp;' . do_shortcode( $content ) . '&nbsp;&lt;/span&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function label( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'type' =&gt; 'default', &nbsp;</div></li><li><div>              'style' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'label' );&nbsp;</div></li><li><div>      if ( $atts['style'] !== null ) $atts['type'] = $atts['style'];&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-label su-label-type-' . $atts['type'] . su_ecssc( $atts ) . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function quote( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'cite' =&gt; false, &nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'quote' );&nbsp;</div></li><li><div>      $cite_link = ( $atts['url'] && $atts['cite'] ) ? '&lt;a href=&quot;' . $atts['url'] . '&quot; target=&quot;_blank&quot;&gt;' . $atts['cite'] . '&lt;/a&gt;'&nbsp;</div></li><li><div>      : $atts['cite'];&nbsp;</div></li><li><div>      $cite = ( $atts['cite'] ) ? '&lt;span class=&quot;su-quote-cite&quot;&gt;' . $cite_link . '&lt;/span&gt;' : '';&nbsp;</div></li><li><div>      $cite_class = ( $atts['cite'] ) ? ' su-quote-has-cite' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      do_action( 'su/shortcode/quote', $atts );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-quote su-quote-style-' . $atts['style'] . $cite_class . su_ecssc( $atts ) . '&quot;&gt;&lt;div class=&quot;su-quote-inner su-clearfix&quot;&gt;' . do_shortcode( $content ) . su_scattr( $cite ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function pullquote( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'align' =&gt; 'left', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'pullquote' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-pullquote su-pullquote-align-' . $atts['align'] . su_ecssc( $atts ) . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function dropcap( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'size' =&gt; 3, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'dropcap' );&nbsp;</div></li><li><div>      $atts['style'] = str_replace( array( '1', '2', '3' ), array( 'default', 'light', 'default' ), $atts['style'] ); <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      <span class="comment">// Calculate font-size</span>&nbsp;</div></li><li><div>      $em = $atts['size'] * 0.5 . 'em';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-dropcap su-dropcap-style-' . $atts['style'] . su_ecssc( $atts ) . '&quot; style=&quot;font-size:' . $em . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function frame( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'align' =&gt; 'left', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'frame' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-frame su-frame-align-' . $atts['align'] . ' su-frame-style-' . $atts['style'] . su_ecssc( $atts ) . '&quot;&gt;&lt;span class=&quot;su-frame-inner&quot;&gt;' . do_shortcode( $content ) . '&lt;/span&gt;&lt;/span&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function row( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array( 'class' =&gt; '' ), $atts );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-row' . su_ecssc( $atts ) . '&quot;&gt;' . su_do_shortcode( $content, 'r' ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function column( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'size' =&gt; '1/2', &nbsp;</div></li><li><div>              'center' =&gt; 'no', &nbsp;</div></li><li><div>              'last' =&gt; null, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'column' );&nbsp;</div></li><li><div>      if ( $atts['last'] !== null && $atts['last'] == '1' ) $atts['class'] .= ' su-column-last';&nbsp;</div></li><li><div>      if ( $atts['center'] === 'yes' ) $atts['class'] .= ' su-column-centered';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-column su-column-size-' . str_replace( '/', '-', $atts['size'] ) . su_ecssc( $atts ) . '&quot;&gt;&lt;div class=&quot;su-column-inner su-clearfix&quot;&gt;' . su_do_shortcode( $content, 'c' ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function su_list( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'icon' =&gt; 'icon: star', &nbsp;</div></li><li><div>              'icon_color' =&gt; '#333', &nbsp;</div></li><li><div>              'style' =&gt; null, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'list' );&nbsp;</div></li><li><div>      <span class="comment">// Backward compatibility // 4.2.3+</span>&nbsp;</div></li><li><div>      if ( $atts['style'] !== null ) {&nbsp;</div></li><li><div>          switch ( $atts['style'] ) {&nbsp;</div></li><li><div>          case 'star':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: star';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#ffd647';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'arrow':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: arrow-right';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#00d1ce';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'check':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: check';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#17bf20';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'cross':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: remove';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#ff142b';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'thumbs':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: thumbs-o-up';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#8a8a8a';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'link':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: external-link';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#5c5c5c';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'gear':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: cog';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#ccc';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'time':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: time';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#a8a8a8';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'note':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: edit';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#f7d02c';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'plus':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: plus-sign';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#61dc3c';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'guard':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: shield';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#1bbe08';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'event':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: bullhorn';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#ff4c42';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'idea':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: sun';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#ffd880';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'settings':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: cogs';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#8a8a8a';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          case 'twitter':&nbsp;</div></li><li><div>              $atts['icon'] = 'icon: twitter-sign';&nbsp;</div></li><li><div>              $atts['icon_color'] = '#00ced6';&nbsp;</div></li><li><div>              break;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( strpos( $atts['icon'], 'icon:' ) !== false ) {&nbsp;</div></li><li><div>          $atts['icon'] = '&lt;i class=&quot;fa fa-' . trim( str_replace( 'icon:', '', $atts['icon'] ) ) . '&quot; style=&quot;color:' . $atts['icon_color'] . '&quot;&gt;&lt;/i&gt;';&nbsp;</div></li><li><div>          su_query_asset( 'css', 'font-awesome' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else $atts['icon'] = '&lt;img src=&quot;' . $atts['icon'] . '&quot; alt=&quot;&quot; /&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-list su-list-style-' . $atts['style'] . su_ecssc( $atts ) . '&quot;&gt;' . str_replace( '&lt;li&gt;', '&lt;li&gt;' . $atts['icon'] . ' ', su_do_shortcode( $content, 'l' ) ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function button( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; get_option( 'home' ), &nbsp;</div></li><li><div>              'link' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'target' =&gt; 'self', &nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'background' =&gt; '#2D89EF', &nbsp;</div></li><li><div>              'color' =&gt; '#FFFFFF', &nbsp;</div></li><li><div>              'dark' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'size' =&gt; 3, &nbsp;</div></li><li><div>              'wide' =&gt; 'no', &nbsp;</div></li><li><div>              'center' =&gt; 'no', &nbsp;</div></li><li><div>              'radius' =&gt; 'auto', &nbsp;</div></li><li><div>              'icon' =&gt; false, &nbsp;</div></li><li><div>              'icon_color' =&gt; '#FFFFFF', &nbsp;</div></li><li><div>              'ts_color' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment">// Dep. 4.3.2</span></span></span></span>&nbsp;</div></li><li><div>              'ts_pos' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment">// Dep. 4.3.2</span></span></span></span>&nbsp;</div></li><li><div>              'text_shadow' =&gt; 'none', &nbsp;</div></li><li><div>              'desc' =&gt; '', &nbsp;</div></li><li><div>              'onclick' =&gt; '', &nbsp;</div></li><li><div>              'rel' =&gt; '', &nbsp;</div></li><li><div>              'title' =&gt; '', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'button' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      if ( $atts['link'] !== null ) $atts['url'] = $atts['link'];&nbsp;</div></li><li><div>      if ( $atts['dark'] !== null ) {&nbsp;</div></li><li><div>          $atts['background'] = $atts['color'];&nbsp;</div></li><li><div>          $atts['color'] = ( $atts['dark'] ) ? '#000' : '#fff';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( is_numeric( $atts['style'] ) ) $atts['style'] = str_replace( array( '1', '2', '3', '4', '5' ), array( 'default', 'glass', 'bubbles', 'noise', 'stroked' ), $atts['style'] ); <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      <span class="comment">// Prepare vars</span>&nbsp;</div></li><li><div>      $a_css = array();&nbsp;</div></li><li><div>      $span_css = array();&nbsp;</div></li><li><div>      $img_css = array();&nbsp;</div></li><li><div>      $small_css = array();&nbsp;</div></li><li><div>      $radius = '0px';&nbsp;</div></li><li><div>      $before = $after = '';&nbsp;</div></li><li><div>      <span class="comment">// Text shadow values</span>&nbsp;</div></li><li><div>      $shadows = array(&nbsp;</div></li><li><div>          'none' =&gt; '0 0', &nbsp;</div></li><li><div>          'top' =&gt; '0 -1px', &nbsp;</div></li><li><div>          'right' =&gt; '1px 0', &nbsp;</div></li><li><div>          'bottom' =&gt; '0 1px', &nbsp;</div></li><li><div>          'left' =&gt; '-1px 0', &nbsp;</div></li><li><div>          'top-right' =&gt; '1px -1px', &nbsp;</div></li><li><div>          'top-left' =&gt; '-1px -1px', &nbsp;</div></li><li><div>          'bottom-right' =&gt; '1px 1px', &nbsp;</div></li><li><div>          'bottom-left' =&gt; '-1px 1px'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// Common styles for button</span>&nbsp;</div></li><li><div>      $styles = array(&nbsp;</div></li><li><div>          'size' =&gt; round( ( $atts['size'] + 7 ) * 1.3 ), &nbsp;</div></li><li><div>          'ts_color' =&gt; ( $atts['ts_color'] === 'light' ) ? su_hex_shift( $atts['background'], 'lighter', 50 ) : su_hex_shift( $atts['background'], 'darker', 40 ), &nbsp;</div></li><li><div>          'ts_pos' =&gt; ( $atts['ts_pos'] !== null ) ? $shadows[$atts['ts_pos']] : $shadows['none']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// Calculate border-radius</span>&nbsp;</div></li><li><div>      if ( $atts['radius'] == 'auto' ) $radius = round( $atts['size'] + 2 ) . 'px';&nbsp;</div></li><li><div>      elseif ( $atts['radius'] == 'round' ) $radius = round( ( ( $atts['size'] * 2 ) + 2 ) * 2 + $styles['size'] ) . 'px';&nbsp;</div></li><li><div>      elseif ( is_numeric( $atts['radius'] ) ) $radius = intval( $atts['radius'] ) . 'px';&nbsp;</div></li><li><div>      <span class="comment">// CSS rules for &lt;a&gt; tag</span>&nbsp;</div></li><li><div>      $a_rules = array(&nbsp;</div></li><li><div>          'color' =&gt; $atts['color'], &nbsp;</div></li><li><div>          'background-color' =&gt; $atts['background'], &nbsp;</div></li><li><div>          'border-color' =&gt; su_hex_shift( $atts['background'], 'darker', 20 ), &nbsp;</div></li><li><div>          'border-radius' =&gt; $radius, &nbsp;</div></li><li><div>          '-moz-border-radius' =&gt; $radius, &nbsp;</div></li><li><div>          '-webkit-border-radius' =&gt; $radius&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// CSS rules for &lt;span&gt; tag</span>&nbsp;</div></li><li><div>      $span_rules = array(&nbsp;</div></li><li><div>          'color' =&gt; $atts['color'], &nbsp;</div></li><li><div>          'padding' =&gt; ( $atts['icon'] ) ? round( ( $atts['size'] ) / 2 + 4 ) . 'px ' . round( $atts['size'] * 2 + 10 ) . 'px' : '0px ' . round( $atts['size'] * 2 + 10 ) . 'px', &nbsp;</div></li><li><div>          'font-size' =&gt; $styles['size'] . 'px', &nbsp;</div></li><li><div>          'line-height' =&gt; ( $atts['icon'] ) ? round( $styles['size'] * 1.5 ) . 'px' : round( $styles['size'] * 2 ) . 'px', &nbsp;</div></li><li><div>          'border-color' =&gt; su_hex_shift( $atts['background'], 'lighter', 30 ), &nbsp;</div></li><li><div>          'border-radius' =&gt; $radius, &nbsp;</div></li><li><div>          '-moz-border-radius' =&gt; $radius, &nbsp;</div></li><li><div>          '-webkit-border-radius' =&gt; $radius, &nbsp;</div></li><li><div>          'text-shadow' =&gt; $styles['ts_pos'] . ' 1px ' . $styles['ts_color'], &nbsp;</div></li><li><div>          '-moz-text-shadow' =&gt; $styles['ts_pos'] . ' 1px ' . $styles['ts_color'], &nbsp;</div></li><li><div>          '-webkit-text-shadow' =&gt; $styles['ts_pos'] . ' 1px ' . $styles['ts_color']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// Apply new text-shadow value</span>&nbsp;</div></li><li><div>      if ( $atts['ts_color'] === null && $atts['ts_pos'] === null ) {&nbsp;</div></li><li><div>          $span_rules['text-shadow'] = $atts['text_shadow'];&nbsp;</div></li><li><div>          $span_rules['-moz-text-shadow'] = $atts['text_shadow'];&nbsp;</div></li><li><div>          $span_rules['-webkit-text-shadow'] = $atts['text_shadow'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// CSS rules for &lt;img&gt; tag</span>&nbsp;</div></li><li><div>      $img_rules = array(&nbsp;</div></li><li><div>          'width' =&gt; round( $styles['size'] * 1.5 ) . 'px', &nbsp;</div></li><li><div>          'height' =&gt; round( $styles['size'] * 1.5 ) . 'px'&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// CSS rules for &lt;small&gt; tag</span>&nbsp;</div></li><li><div>      $small_rules = array(&nbsp;</div></li><li><div>          'padding-bottom' =&gt; round( ( $atts['size'] ) / 2 + 4 ) . 'px', &nbsp;</div></li><li><div>          'color' =&gt; $atts['color']&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// Create style attr value for &lt;a&gt; tag</span>&nbsp;</div></li><li><div>      foreach ( $a_rules as $a_rule =&gt; $a_value ) $a_css[] = $a_rule . ':' . $a_value;&nbsp;</div></li><li><div>      <span class="comment">// Create style attr value for &lt;span&gt; tag</span>&nbsp;</div></li><li><div>      foreach ( $span_rules as $span_rule =&gt; $span_value ) $span_css[] = $span_rule . ':' . $span_value;&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Create style attr value for &lt;img&gt; tag</span></span>&nbsp;</div></li><li><div>      foreach ( $img_rules as $img_rule =&gt; $img_value ) $img_css[] = $img_rule . ':' . $img_value;&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Create style attr value for &lt;img&gt; tag</span></span>&nbsp;</div></li><li><div>      foreach ( $small_rules as $small_rule =&gt; $small_value ) $small_css[] = $small_rule . ':' . $small_value;&nbsp;</div></li><li><div>      <span class="comment">// Prepare button classes</span>&nbsp;</div></li><li><div>      $classes = array( 'su-button', 'su-button-style-' . $atts['style'] );&nbsp;</div></li><li><div>      <span class="comment">// Additional classes</span>&nbsp;</div></li><li><div>      if ( $atts['class'] ) $classes[] = $atts['class'];&nbsp;</div></li><li><div>      <span class="comment">// Wide class</span>&nbsp;</div></li><li><div>      if ( $atts['wide'] === 'yes' ) $classes[] = 'su-button-wide';&nbsp;</div></li><li><div>      <span class="comment">// Prepare icon</span>&nbsp;</div></li><li><div>      if ( $atts['icon'] ) {&nbsp;</div></li><li><div>          if ( strpos( $atts['icon'], 'icon:' ) !== false ) {&nbsp;</div></li><li><div>              $icon = '&lt;i class=&quot;fa fa-' . trim( str_replace( 'icon:', '', $atts['icon'] ) ) . '&quot; style=&quot;font-size:' . $styles['size'] . 'px;color:' . $atts['icon_color'] . '&quot;&gt;&lt;/i&gt;';&nbsp;</div></li><li><div>              su_query_asset( 'css', 'font-awesome' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          else $icon = '&lt;img src=&quot;' . $atts['icon'] . '&quot; alt=&quot;' . esc_attr( $content ) . '&quot; style=&quot;' . implode( $img_css, ';' ) . '&quot; /&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      else $icon = '';&nbsp;</div></li><li><div>      <span class="comment">// Prepare &lt;small&gt; with description</span>&nbsp;</div></li><li><div>      $desc = ( $atts['desc'] ) ? '&lt;small style=&quot;' . implode( $small_css, ';' ) . '&quot;&gt;' . su_scattr( $atts['desc'] ) . '&lt;/small&gt;' : '';&nbsp;</div></li><li><div>      <span class="comment">// Wrap with div if button centered</span>&nbsp;</div></li><li><div>      if ( $atts['center'] === 'yes' ) {&nbsp;</div></li><li><div>          $before .= '&lt;div class=&quot;su-button-center&quot;&gt;';&nbsp;</div></li><li><div>          $after .= '&lt;/div&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Replace icon marker in content, </span>&nbsp;</div></li><li><div>      <span class="comment">// add float-icon class to rearrange margins</span>&nbsp;</div></li><li><div>      if ( strpos( $content, '%icon%' ) !== false ) {&nbsp;</div></li><li><div>          $content = str_replace( '%icon%', $icon, $content );&nbsp;</div></li><li><div>          $classes[] = 'su-button-float-icon';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Button text has no icon marker, append icon to begin of the text</span>&nbsp;</div></li><li><div>      else $content = $icon . ' ' . $content;&nbsp;</div></li><li><div>      <span class="comment">// Prepare onclick action</span>&nbsp;</div></li><li><div>      $atts['onclick'] = ( $atts['onclick'] ) ? ' onClick=&quot;' . $atts['onclick'] . '&quot;' : '';&nbsp;</div></li><li><div>      <span class="comment">// Prepare rel attribute</span>&nbsp;</div></li><li><div>      $atts['rel'] = ( $atts['rel'] ) ? ' rel=&quot;' . $atts['rel'] . '&quot;' : '';&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Prepare title</span></span> attribute</span>&nbsp;</div></li><li><div>      $atts['title'] = ( $atts['title'] ) ? ' title=&quot;' . $atts['title'] . '&quot;' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      return $before . '&lt;a href=&quot;' . su_scattr( $atts['url'] ) . '&quot; class=&quot;' . implode( $classes, ' ' ) . '&quot; style=&quot;' . implode( $a_css, ';' ) . '&quot; target=&quot;_' . $atts['target'] . '&quot;' . $atts['onclick'] . $atts['rel'] . $atts['title'] . '&gt;&lt;span style=&quot;' . implode( $span_css, ';' ) . '&quot;&gt;' . do_shortcode( stripcslashes( $content ) ) . $desc . '&lt;/span&gt;&lt;/a&gt;' . $after;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function service( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'title' =&gt; __( 'Service title', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'icon' =&gt; plugins_url( 'assets/images/service.png', SU_PLUGIN_FILE ), &nbsp;</div></li><li><div>              'icon_color' =&gt; '#333', &nbsp;</div></li><li><div>              'size' =&gt; 32, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'service' );&nbsp;</div></li><li><div>      <span class="comment">// RTL</span>&nbsp;</div></li><li><div>      $rtl = ( is_rtl() ) ? 'right' : 'left';&nbsp;</div></li><li><div>      <span class="comment">// Built-in icon</span>&nbsp;</div></li><li><div>      if ( strpos( $atts['icon'], 'icon:' ) !== false ) {&nbsp;</div></li><li><div>          $atts['icon'] = '&lt;i class=&quot;fa fa-' . trim( str_replace( 'icon:', '', $atts['icon'] ) ) . '&quot; style=&quot;font-size:' . $atts['size'] . 'px;color:' . $atts['icon_color'] . '&quot;&gt;&lt;/i&gt;';&nbsp;</div></li><li><div>          su_query_asset( 'css', 'font-awesome' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Uploaded icon</span>&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          $atts['icon'] = '&lt;img src=&quot;' . $atts['icon'] . '&quot; width=&quot;' . $atts['size'] . '&quot; height=&quot;' . $atts['size'] . '&quot; alt=&quot;' . $atts['title'] . '&quot; /&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-service' . su_ecssc( $atts ) . '&quot;&gt;&lt;div class=&quot;su-service-title&quot; style=&quot;padding-' . $rtl . ':' . round( $atts['size'] + 14 ) . 'px;min-height:' . $atts['size'] . 'px;line-height:' . $atts['size'] . 'px&quot;&gt;' . $atts['icon'] . ' ' . su_scattr( $atts['title'] ) . '&lt;/div&gt;&lt;div class=&quot;su-service-content su-clearfix&quot; style=&quot;padding-' . $rtl . ':' . round( $atts['size'] + 14 ) . 'px&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function box( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'title' =&gt; __( 'This is box title', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'style' =&gt; 'default', &nbsp;</div></li><li><div>              'box_color' =&gt; '#333333', &nbsp;</div></li><li><div>              'title_color' =&gt; '#FFFFFF', &nbsp;</div></li><li><div>              'color' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'radius' =&gt; '3', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'box' );&nbsp;</div></li><li><div>      if ( $atts['color'] !== null ) $atts['box_color'] = $atts['color'];&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare border-radius</span></span>&nbsp;</div></li><li><div>      $radius = ( $atts['radius'] != '0' ) ? 'border-radius:' . $atts['radius'] . 'px;-moz-border-radius:' . $atts['radius'] . 'px;-webkit-border-radius:' . $atts['radius'] . 'px;' : '';&nbsp;</div></li><li><div>      $title_radius = ( $atts['radius'] != '0' ) ? $atts['radius'] - 1 : '';&nbsp;</div></li><li><div>      $title_radius = ( $title_radius ) ? '-webkit-border-top-left-radius:' . $title_radius . 'px;-webkit-border-top-right-radius:' . $title_radius . 'px;-moz-border-radius-topleft:' . $title_radius . 'px;-moz-border-radius-topright:' . $title_radius . 'px;border-top-left-radius:' . $title_radius . 'px;border-top-right-radius:' . $title_radius . 'px;' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-box su-box-style-' . $atts['style'] . su_ecssc( $atts ) . '&quot; style=&quot;border-color:' . su_hex_shift( $atts['box_color'], 'darker', 20 ) . ';' . $radius . '&quot;&gt;&lt;div class=&quot;su-box-title&quot; style=&quot;background-color:' . $atts['box_color'] . ';color:' . $atts['title_color'] . ';' . $title_radius . '&quot;&gt;' . su_scattr( $atts['title'] ) . '&lt;/div&gt;&lt;div class=&quot;su-box-content su-clearfix&quot;&gt;' . su_do_shortcode( $content, 'b' ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function note( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'note_color' =&gt; '#FFFF66', &nbsp;</div></li><li><div>              'text_color' =&gt; '#333333', &nbsp;</div></li><li><div>              'background' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'color' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'radius' =&gt; '3', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'note' );&nbsp;</div></li><li><div>      if ( $atts['color'] !== null ) $atts['note_color'] = $atts['color'];&nbsp;</div></li><li><div>      if ( $atts['background'] !== null ) $atts['note_color'] = $atts['background'];&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare border-radius</span></span>&nbsp;</div></li><li><div>      $radius = ( $atts['radius'] != '0' ) ? 'border-radius:' . $atts['radius'] . 'px;-moz-border-radius:' . $atts['radius'] . 'px;-webkit-border-radius:' . $atts['radius'] . 'px;' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-note' . su_ecssc( $atts ) . '&quot; style=&quot;border-color:' . su_hex_shift( $atts['note_color'], 'darker', 10 ) . ';' . $radius . '&quot;&gt;&lt;div class=&quot;su-note-inner su-clearfix&quot; style=&quot;background-color:' . $atts['note_color'] . ';border-color:' . su_hex_shift( $atts['note_color'], 'lighter', 80 ) . ';color:' . $atts['text_color'] . ';' . $radius . '&quot;&gt;' . su_do_shortcode( $content, 'n' ) . '&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function expand( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'more_text' =&gt; __( 'Show more', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'less_text' =&gt; __( 'Show less', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'height' =&gt; '100', &nbsp;</div></li><li><div>              'hide_less' =&gt; 'no', &nbsp;</div></li><li><div>              'text_color' =&gt; '#333333', &nbsp;</div></li><li><div>              'link_color' =&gt; '#0088FF', &nbsp;</div></li><li><div>              'link_style' =&gt; 'default', &nbsp;</div></li><li><div>              'link_align' =&gt; 'left', &nbsp;</div></li><li><div>              'more_icon' =&gt; '', &nbsp;</div></li><li><div>              'less_icon' =&gt; '', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'expand' );&nbsp;</div></li><li><div>      <span class="comment">// Prepare more icon</span>&nbsp;</div></li><li><div>      $more_icon = ( $atts['more_icon'] ) ? Su_Tools::icon( $atts['more_icon'] ) : '';&nbsp;</div></li><li><div>      $less_icon = ( $atts['less_icon'] ) ? Su_Tools::icon( $atts['less_icon'] ) : '';&nbsp;</div></li><li><div>      if ( $more_icon || $less_icon ) su_query_asset( 'css', 'font-awesome' );&nbsp;</div></li><li><div>      <span class="comment">// Prepare less link</span>&nbsp;</div></li><li><div>      $less = ( $atts['hide_less'] !== 'yes' ) ? '&lt;div class=&quot;su-expand-link su-expand-link-less&quot; style=&quot;text-align:' . $atts['link_align'] . '&quot;&gt;&lt;a href=&quot;javascript:;&quot; style=&quot;color:' . $atts['link_color'] . ';border-color:' . $atts['link_color'] . '&quot;&gt;' . $less_icon . '&lt;span style=&quot;border-color:' . $atts['link_color'] . '&quot;&gt;' . $atts['less_text'] . '&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-expand su-expand-collapsed su-expand-link-style-' . $atts['link_style'] . su_ecssc( $atts ) . '&quot; data-height=&quot;' . $atts['height'] . '&quot;&gt;&lt;div class=&quot;su-expand-content&quot; style=&quot;color:' . $atts['text_color'] . ';max-height:' . intval( $atts['height'] ) . 'px;overflow:hidden&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;&lt;div class=&quot;su-expand-link su-expand-link-more&quot; style=&quot;text-align:' . $atts['link_align'] . '&quot;&gt;&lt;a href=&quot;javascript:;&quot; style=&quot;color:' . $atts['link_color'] . ';border-color:' . $atts['link_color'] . '&quot;&gt;' . $more_icon . '&lt;span style=&quot;border-color:' . $atts['link_color'] . '&quot;&gt;' . $atts['more_text'] . '&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;' . $less . '&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function lightbox( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'src' =&gt; false, &nbsp;</div></li><li><div>              'type' =&gt; 'iframe', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'lightbox' );&nbsp;</div></li><li><div>      if ( !$atts['src'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct source', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'magnific-popup' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'magnific-popup' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-lightbox' . su_ecssc( $atts ) . '&quot; data-mfp-src=&quot;' . su_scattr( $atts['src'] ) . '&quot; data-mfp-type=&quot;' . $atts['type'] . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function lightbox_content( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'id' =&gt; '', &nbsp;</div></li><li><div>              'width' =&gt; '50%', &nbsp;</div></li><li><div>              'margin' =&gt; '40', &nbsp;</div></li><li><div>              'padding' =&gt; '40', &nbsp;</div></li><li><div>              'text_align' =&gt; 'center', &nbsp;</div></li><li><div>              'background' =&gt; '#FFFFFF', &nbsp;</div></li><li><div>              'color' =&gt; '#333333', &nbsp;</div></li><li><div>              'shadow' =&gt; '0px 0px 15px #333333', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'lightbox_content' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-box-shortcodes' );&nbsp;</div></li><li><div>      if ( !$atts['id'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct ID for this block. You should use same ID as in the Content source field (when inserting lightbox shortcode)', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $return = '&lt;div class=&quot;su-lightbox-content ' . su_ecssc( $atts ) . '&quot; id=&quot;' . trim( $atts['id'], '#' ) . '&quot; style=&quot;display:none;width:' . $atts['width'] . ';margin-top:' . $atts['margin'] . 'px;margin-bottom:' . $atts['margin'] . 'px;padding:' . $atts['padding'] . 'px;background-color:' . $atts['background'] . ';color:' . $atts['color'] . ';box-shadow:' . $atts['shadow'] . ';text-align:' . $atts['text_align'] . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>      if ( did_action( 'su/generator/preview/before' ) ) return '&lt;div class=&quot;su-lightbox-content-preview&quot;&gt;' . $return . '&lt;/div&gt;';&nbsp;</div></li><li><div>      else return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function tooltip( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'style' =&gt; 'yellow', &nbsp;</div></li><li><div>              'position' =&gt; 'north', &nbsp;</div></li><li><div>              'shadow' =&gt; 'no', &nbsp;</div></li><li><div>              'rounded' =&gt; 'no', &nbsp;</div></li><li><div>              'size' =&gt; 'default', &nbsp;</div></li><li><div>              'title' =&gt; '', &nbsp;</div></li><li><div>              'content' =&gt; __( 'Tooltip text', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'behavior' =&gt; 'hover', &nbsp;</div></li><li><div>              'close' =&gt; 'no', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'tooltip' );&nbsp;</div></li><li><div>      <span class="comment">// Prepare style</span>&nbsp;</div></li><li><div>      $atts['style'] = ( in_array( $atts['style'], array( 'light', 'dark', 'green', 'red', 'blue', 'youtube', 'tipsy', 'bootstrap', 'jtools', 'tipped', 'cluetip' ) ) ) ? $atts['style'] : 'plain';&nbsp;</div></li><li><div>      <span class="comment">// Position</span>&nbsp;</div></li><li><div>      $atts['position'] = str_replace( array( 'top', 'right', 'bottom', 'left' ), array( 'north', 'east', 'south', 'west' ), $atts['position'] );&nbsp;</div></li><li><div>      $position = array(&nbsp;</div></li><li><div>          'my' =&gt; str_replace( array( 'north', 'east', 'south', 'west' ), array( 'bottom center', 'center left', 'top center', 'center right' ), $atts['position'] ), &nbsp;</div></li><li><div>          'at' =&gt; str_replace( array( 'north', 'east', 'south', 'west' ), array( 'top center', 'center right', 'bottom center', 'center left' ), $atts['position'] )&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// Prepare classes</span>&nbsp;</div></li><li><div>      $classes = array( 'su-qtip qtip-' . $atts['style'] );&nbsp;</div></li><li><div>      $classes[] = 'su-qtip-size-' . $atts['size'];&nbsp;</div></li><li><div>      if ( $atts['shadow'] === 'yes' ) $classes[] = 'qtip-shadow';&nbsp;</div></li><li><div>      if ( $atts['rounded'] === 'yes' ) $classes[] = 'qtip-rounded';&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Query assets</span></span>&nbsp;</div></li><li><div>      su_query_asset( 'css', 'qtip' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'qtip' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-tooltip' . su_ecssc( $atts ) . '&quot; data-close=&quot;' . $atts['close'] . '&quot; data-behavior=&quot;' . $atts['behavior'] . '&quot; data-my=&quot;' . $position['my'] . '&quot; data-at=&quot;' . $position['at'] . '&quot; data-classes=&quot;' . implode( ' ', $classes ) . '&quot; data-title=&quot;' . $atts['title'] . '&quot; title=&quot;' . esc_attr( $atts['content'] ) . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/span&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function su_private( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array( 'class' =&gt; '' ), $atts, 'private' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return ( current_user_can( 'publish_posts' ) ) ? '&lt;div class=&quot;su-private' . su_ecssc( $atts ) . '&quot;&gt;&lt;div class=&quot;su-private-shell&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;&lt;/div&gt;' : '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function media( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment">// Check YouTube video</span>&nbsp;</div></li><li><div>      if ( strpos( $atts['url'], 'youtu' ) !== false ) return Su_Shortcodes::youtube( $atts );&nbsp;</div></li><li><div>      <span class="comment">// Check Vimeo video</span>&nbsp;</div></li><li><div>      elseif ( strpos( $atts['url'], 'vimeo' ) !== false ) return Su_Shortcodes::vimeo( $atts );&nbsp;</div></li><li><div>      <span class="comment">// Image</span>&nbsp;</div></li><li><div>      else return '&lt;img src=&quot;' . $atts['url'] . '&quot; width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; style=&quot;max-width:100%&quot; /&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function youtube( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Prepare data</span></span></span></span></span>&nbsp;</div></li><li><div>      $return = array();&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'autoplay' =&gt; 'no', &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'youtube' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      $id = ( preg_match( '%(?:youtube(?:-nocookie)?\.com/(?:[^/]+/.+/|(?:v|e(?:mbed)?)/|.*[?&]v=)|youtu\.be/)([^&quot;&?/ ]{11})%i', $atts['url'], $match ) ) ? $match[1] : false;&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$id ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare autoplay</span></span>&nbsp;</div></li><li><div>      $autoplay = ( $atts['autoplay'] === 'yes' ) ? '?autoplay=1' : '';&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      $return[] = '&lt;div class=&quot;su-youtube su-responsive-media-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $return[] = '&lt;iframe width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; src=&quot;http:<span class="comment">//www.youtube.com/embed/' . $id . $autoplay . '&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;';</span>&nbsp;</div></li><li><div>      $return[] = '&lt;/div&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return implode( '', $return );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function youtube_advanced( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Prepare data</span></span></span></span></span>&nbsp;</div></li><li><div>      $return = array();&nbsp;</div></li><li><div>      $params = array();&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'autohide' =&gt; 'alt', &nbsp;</div></li><li><div>              'autoplay' =&gt; 'no', &nbsp;</div></li><li><div>              'controls' =&gt; 'yes', &nbsp;</div></li><li><div>              'fs' =&gt; 'yes', &nbsp;</div></li><li><div>              'loop' =&gt; 'no', &nbsp;</div></li><li><div>              'modestbranding' =&gt; 'no', &nbsp;</div></li><li><div>              'playlist' =&gt; '', &nbsp;</div></li><li><div>              'rel' =&gt; 'yes', &nbsp;</div></li><li><div>              'showinfo' =&gt; 'yes', &nbsp;</div></li><li><div>              'theme' =&gt; 'dark', &nbsp;</div></li><li><div>              'https' =&gt; 'no', &nbsp;</div></li><li><div>              'wmode' =&gt; '', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'youtube_advanced' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      $id = ( preg_match( '%(?:youtube(?:-nocookie)?\.com/(?:[^/]+/.+/|(?:v|e(?:mbed)?)/|.*[?&]v=)|youtu\.be/)([^&quot;&?/ ]{11})%i', $atts['url'], $match ) ) ? $match[1] : false;&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$id ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare params</span></span>&nbsp;</div></li><li><div>      foreach ( array( 'autohide', 'autoplay', 'controls', 'fs', 'loop', 'modestbranding', 'playlist', 'rel', 'showinfo', 'theme', 'wmode' ) as $param ) $params[$param] = str_replace( array( 'no', 'yes', 'alt' ), array( '0', '1', '2' ), $atts[$param] );&nbsp;</div></li><li><div>      <span class="comment">// Correct loop</span>&nbsp;</div></li><li><div>      if ( $params['loop'] === '1' && $params['playlist'] === '' ) $params['playlist'] = $id;&nbsp;</div></li><li><div>      <span class="comment">// Prepare protocol</span>&nbsp;</div></li><li><div>      $protocol = ( $atts['https'] === 'yes' ) ? 'https' : 'http';&nbsp;</div></li><li><div>      <span class="comment">// Prepare player parameters</span>&nbsp;</div></li><li><div>      $params = http_build_query( $params );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      $return[] = '&lt;div class=&quot;su-youtube su-responsive-media-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $return[] = '&lt;iframe width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; src=&quot;' . $protocol . ':<span class="comment">//www.youtube.com/embed/' . $id . '?' . $params . '&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;';</span>&nbsp;</div></li><li><div>      $return[] = '&lt;/div&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return implode( '', $return );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function vimeo( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Prepare data</span></span></span></span></span>&nbsp;</div></li><li><div>      $return = array();&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'autoplay' =&gt; 'no', &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'vimeo' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      $id = ( preg_match( '~(?:&lt;iframe [^&gt;]*src=&quot;)?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w]*\/videos?)?\/([0-9]+)[^\s]*)&quot;?(?:[^&gt;]*&gt;&lt;/iframe&gt;)?(?:&lt;p&gt;.*&lt;/p&gt;)?~ix', $atts['url'], $match ) ) ? $match[1] : false;&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$id ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare autoplay</span></span>&nbsp;</div></li><li><div>      $autoplay = ( $atts['autoplay'] === 'yes' ) ? '&amp;autoplay=1' : '';&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      $return[] = '&lt;div class=&quot;su-vimeo su-responsive-media-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $return[] = '&lt;iframe width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; src=&quot;<span class="comment">//player.vimeo.com/video/' . $id . '?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff' . $autoplay . '&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;';</span>&nbsp;</div></li><li><div>      $return[] = '&lt;/div&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return implode( '', $return );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function screenr( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Prepare data</span></span></span></span></span>&nbsp;</div></li><li><div>      $return = array();&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'screenr' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      $id = ( preg_match( '~(?:&lt;iframe [^&gt;]*src=&quot;)?(?:https?:\/\/(?:[\w]+\.)*screenr\.com(?:[\/\w]*\/videos?)?\/([a-zA-Z0-9]+)[^\s]*)&quot;?(?:[^&gt;]*&gt;&lt;/iframe&gt;)?(?:&lt;p&gt;.*&lt;/p&gt;)?~ix', $atts['url'], $match ) ) ? $match[1] : false;&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$id ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      $return[] = '&lt;div class=&quot;su-screenr su-responsive-media-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $return[] = '&lt;iframe width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; src=&quot;http:<span class="comment">//screenr.com/embed/' . $id . '&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;';</span>&nbsp;</div></li><li><div>      $return[] = '&lt;/div&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return implode( '', $return );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function dailymotion( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Prepare data</span></span></span></span></span>&nbsp;</div></li><li><div>      $return = array();&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'autoplay' =&gt; 'no', &nbsp;</div></li><li><div>              'background' =&gt; '#FFC300', &nbsp;</div></li><li><div>              'foreground' =&gt; '#F7FFFD', &nbsp;</div></li><li><div>              'highlight' =&gt; '#171D1B', &nbsp;</div></li><li><div>              'logo' =&gt; 'yes', &nbsp;</div></li><li><div>              'quality' =&gt; '380', &nbsp;</div></li><li><div>              'related' =&gt; 'yes', &nbsp;</div></li><li><div>              'info' =&gt; 'yes', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'dailymotion' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      $id = strtok( basename( $atts['url'] ), '_' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$id ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare params</span></span>&nbsp;</div></li><li><div>      $params = array();&nbsp;</div></li><li><div>      foreach ( array( 'autoplay', 'background', 'foreground', 'highlight', 'logo', 'quality', 'related', 'info' ) as $param )&nbsp;</div></li><li><div>          $params[] = $param . '=' . str_replace( array( 'yes', 'no', '#' ), array( '1', '0', '' ), $atts[$param] );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      $return[] = '&lt;div class=&quot;su-dailymotion su-responsive-media-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $return[] = '&lt;iframe width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; src=&quot;http:<span class="comment">//www.dailymotion.com/embed/video/' . $id . '?' . implode( '&', $params ) . '&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;';</span>&nbsp;</div></li><li><div>      $return[] = '&lt;/div&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return implode( '', $return );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function audio( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'width' =&gt; 'auto', &nbsp;</div></li><li><div>              'title' =&gt; '', &nbsp;</div></li><li><div>              'autoplay' =&gt; 'no', &nbsp;</div></li><li><div>              'loop' =&gt; 'no', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'audio' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Generate unique ID</span></span>&nbsp;</div></li><li><div>      $id = uniqid( 'su_audio_player_' );&nbsp;</div></li><li><div>      <span class="comment">// Prepare width</span>&nbsp;</div></li><li><div>      $width = ( $atts['width'] !== 'auto' ) ? 'max-width:' . $atts['width'] : '';&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-players-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jplayer' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-players-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-players-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-audio' . su_ecssc( $atts ) . '&quot; data-id=&quot;' . $id . '&quot; data-audio=&quot;' . $atts['url'] . '&quot; data-swf=&quot;' . plugins_url( 'assets/other/Jplayer.swf', SU_PLUGIN_FILE ) . '&quot; data-autoplay=&quot;' . $atts['autoplay'] . '&quot; data-loop=&quot;' . $atts['loop'] . '&quot; style=&quot;' . $width . '&quot;&gt;&lt;div id=&quot;' . $id . '&quot; class=&quot;jp-jplayer&quot;&gt;&lt;/div&gt;&lt;div id=&quot;' . $id . '_container&quot; class=&quot;jp-audio&quot;&gt;&lt;div class=&quot;jp-type-single&quot;&gt;&lt;div class=&quot;jp-gui jp-interface&quot;&gt;&lt;div class=&quot;jp-controls&quot;&gt;&lt;span class=&quot;jp-play&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-pause&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-stop&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-mute&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-unmute&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-volume-max&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;jp-progress&quot;&gt;&lt;div class=&quot;jp-seek-bar&quot;&gt;&lt;div class=&quot;jp-play-bar&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;jp-volume-bar&quot;&gt;&lt;div class=&quot;jp-volume-bar-value&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;jp-current-time&quot;&gt;&lt;/div&gt;&lt;div class=&quot;jp-duration&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;jp-title&quot;&gt;' . $atts['title'] . '&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function video( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'poster' =&gt; false, &nbsp;</div></li><li><div>              'title' =&gt; '', &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 300, &nbsp;</div></li><li><div>              'controls' =&gt; 'yes', &nbsp;</div></li><li><div>              'autoplay' =&gt; 'no', &nbsp;</div></li><li><div>              'loop' =&gt; 'no', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'video' );&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $atts['url'] = su_scattr( $atts['url'] );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Generate unique ID</span></span>&nbsp;</div></li><li><div>      $id = uniqid( 'su_video_player_' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Check that url is specified</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      if ( !$atts['url'] ) return Su_Tools::error( __FUNCTION__, __( 'please specify correct url', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare title</span></span>&nbsp;</div></li><li><div>      $title = ( $atts['title'] ) ? '&lt;div class=&quot;jp-title&quot;&gt;' . $atts['title'] . '&lt;/div&gt;' : '';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-players-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jplayer' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-players-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Create player</span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return '&lt;div style=&quot;width:' . $atts['width'] . 'px&quot;&gt;&lt;div id=&quot;' . $id . '&quot; class=&quot;su-video jp-video su-video-controls-' . $atts['controls'] . su_ecssc( $atts ) . '&quot; data-id=&quot;' . $id . '&quot; data-video=&quot;' . $atts['url'] . '&quot; data-swf=&quot;' . plugins_url( 'assets/other/Jplayer.swf', SU_PLUGIN_FILE ) . '&quot; data-autoplay=&quot;' . $atts['autoplay'] . '&quot; data-loop=&quot;' . $atts['loop'] . '&quot; data-poster=&quot;' . $atts['poster'] . '&quot;&gt;&lt;div id=&quot;' . $id . '_player&quot; class=&quot;jp-jplayer&quot; style=&quot;width:' . $atts['width'] . 'px;height:' . $atts['height'] . 'px&quot;&gt;&lt;/div&gt;' . $title . '&lt;div class=&quot;jp-start jp-play&quot;&gt;&lt;/div&gt;&lt;div class=&quot;jp-gui&quot;&gt;&lt;div class=&quot;jp-interface&quot;&gt;&lt;div class=&quot;jp-progress&quot;&gt;&lt;div class=&quot;jp-seek-bar&quot;&gt;&lt;div class=&quot;jp-play-bar&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;jp-current-time&quot;&gt;&lt;/div&gt;&lt;div class=&quot;jp-duration&quot;&gt;&lt;/div&gt;&lt;div class=&quot;jp-controls-holder&quot;&gt;&lt;span class=&quot;jp-play&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-pause&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-mute&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-unmute&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-full-screen&quot;&gt;&lt;/span&gt;&lt;span class=&quot;jp-restore-screen&quot;&gt;&lt;/span&gt;&lt;div class=&quot;jp-volume-bar&quot;&gt;&lt;div class=&quot;jp-volume-bar-value&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function table( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; false, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'table' );&nbsp;</div></li><li><div>      $return = '&lt;div class=&quot;su-table' . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      $return .= ( $atts['url'] ) ? su_parse_csv( $atts['url'] ) : do_shortcode( $content );&nbsp;</div></li><li><div>      $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function permalink( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'id' =&gt; 1, &nbsp;</div></li><li><div>              'p' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'target' =&gt; 'self', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'permalink' );&nbsp;</div></li><li><div>      if ( $atts['p'] !== null ) $atts['id'] = $atts['p'];&nbsp;</div></li><li><div>      $atts['id'] = su_scattr( $atts['id'] );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare link</span> text</span>&nbsp;</div></li><li><div>      $text = ( $content ) ? $content : get_the_title( $atts['id'] );&nbsp;</div></li><li><div>      return '&lt;a href=&quot;' . get_permalink( $atts['id'] ) . '&quot; class=&quot;' . su_ecssc( $atts ) . '&quot; title=&quot;' . $text . '&quot; target=&quot;_' . $atts['target'] . '&quot;&gt;' . $text . '&lt;/a&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function members( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'message' =&gt; __( 'This content is for registered users only. Please %login%.', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'color' =&gt; '#ffcc00', &nbsp;</div></li><li><div>              'style' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'login_text' =&gt; __( 'login', 'shortcodes-ultimate' ), &nbsp;</div></li><li><div>              'login_url' =&gt; wp_login_url(), &nbsp;</div></li><li><div>              'login' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'members' );&nbsp;</div></li><li><div>      if ( $atts['style'] !== null ) $atts['color'] = str_replace( array( '0', '1', '2' ), array( '#fff', '#FFFF29', '#1F9AFF' ), $atts['style'] );&nbsp;</div></li><li><div>      <span class="comment">// Check feed</span>&nbsp;</div></li><li><div>      if ( is_feed() ) return;&nbsp;</div></li><li><div>      <span class="comment">// Check authorization</span>&nbsp;</div></li><li><div>      if ( !is_user_logged_in() ) {&nbsp;</div></li><li><div>          if ( $atts['login'] !== null && $atts['login'] == '0' ) return; <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>          <span class="comment">// Prepare login link</span>&nbsp;</div></li><li><div>          $login = '&lt;a href=&quot;' . esc_attr( $atts['login_url'] ) . '&quot;&gt;' . $atts['login_text'] . '&lt;/a&gt;';&nbsp;</div></li><li><div>          su_query_asset( 'css', 'su-other-shortcodes' );&nbsp;</div></li><li><div>          return '&lt;div class=&quot;su-members' . su_ecssc( $atts ) . '&quot; style=&quot;background-color:' . su_hex_shift( $atts['color'], 'lighter', 50 ) . ';border-color:' .su_hex_shift( $atts['color'], 'darker', 20 ) . ';color:' .su_hex_shift( $atts['color'], 'darker', 60 ) . '&quot;&gt;' . str_replace( '%login%', $login, su_scattr( $atts['message'] ) ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Return original content</span>&nbsp;</div></li><li><div>      else return do_shortcode( $content );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function guests( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array( 'class' =&gt; '' ), $atts, 'guests' );&nbsp;</div></li><li><div>      $return = '';&nbsp;</div></li><li><div>      if ( !is_user_logged_in() && !is_null( $content ) ) {&nbsp;</div></li><li><div>          su_query_asset( 'css', 'su-other-shortcodes' );&nbsp;</div></li><li><div>          $return = '&lt;div class=&quot;su-guests' . su_ecssc( $atts ) . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function feed( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; get_bloginfo_rss( 'rss2_url' ), &nbsp;</div></li><li><div>              'limit' =&gt; 3, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'feed' );&nbsp;</div></li><li><div>      if ( !function_exists( 'wp_rss' ) ) include_once ABSPATH . WPINC . '/rss.php';&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>      echo '&lt;div class=&quot;su-feed' . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>      wp_rss( $atts['url'], $atts['limit'] );&nbsp;</div></li><li><div>      echo '&lt;/div&gt;';&nbsp;</div></li><li><div>      $return = ob_get_contents();&nbsp;</div></li><li><div>      ob_end_clean();&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function subpages( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'depth' =&gt; 1, &nbsp;</div></li><li><div>              'p' =&gt; false, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'subpages' );&nbsp;</div></li><li><div>      global $post;&nbsp;</div></li><li><div>      $child_of = ( $atts['p'] ) ? $atts['p'] : get_the_ID();&nbsp;</div></li><li><div>      $return = wp_list_pages( array(&nbsp;</div></li><li><div>              'title_li' =&gt; '', &nbsp;</div></li><li><div>              'echo' =&gt; 0, &nbsp;</div></li><li><div>              'child_of' =&gt; $child_of, &nbsp;</div></li><li><div>              'depth' =&gt; $atts['depth']&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      return ( $return ) ? '&lt;ul class=&quot;su-subpages' . su_ecssc( $atts ) . '&quot;&gt;' . $return . '&lt;/ul&gt;' : false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function siblings( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array( 'depth' =&gt; 1, 'class' =&gt; '' ), $atts, 'siblings' );&nbsp;</div></li><li><div>      global $post;&nbsp;</div></li><li><div>      $return = wp_list_pages( array( 'title_li' =&gt; '', &nbsp;</div></li><li><div>              'echo' =&gt; 0, &nbsp;</div></li><li><div>              'child_of' =&gt; $post-&gt;post_parent, &nbsp;</div></li><li><div>              'depth' =&gt; $atts['depth'], &nbsp;</div></li><li><div>              'exclude' =&gt; $post-&gt;ID ) );&nbsp;</div></li><li><div>      return ( $return ) ? '&lt;ul class=&quot;su-siblings' . su_ecssc( $atts ) . '&quot;&gt;' . $return . '&lt;/ul&gt;' : false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function menu( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'name' =&gt; false, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'menu' );&nbsp;</div></li><li><div>      $return = wp_nav_menu( array(&nbsp;</div></li><li><div>              'echo' =&gt; false, &nbsp;</div></li><li><div>              'menu' =&gt; $atts['name'], &nbsp;</div></li><li><div>              'container' =&gt; false, &nbsp;</div></li><li><div>              'fallback_cb' =&gt; array( __CLASS__, 'menu_fb' ), &nbsp;</div></li><li><div>              'items_wrap' =&gt; '&lt;ul id=&quot;%1$s&quot; class=&quot;%2$s' . su_ecssc( $atts ) . '&quot;&gt;%3$s&lt;/ul&gt;'&nbsp;</div></li><li><div> ) );&nbsp;</div></li><li><div>      return ( $atts['name'] ) ? $return : false;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function menu_fb() {&nbsp;</div></li><li><div>      return __( 'This menu doesn\'t exists, or has no elements', 'shortcodes-ultimate' );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function document( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'url' =&gt; '', &nbsp;</div></li><li><div>              'file' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// 3.x</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'document' );&nbsp;</div></li><li><div>      if ( $atts['file'] !== null ) $atts['url'] = $atts['file'];&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-document su-responsive-media-' . $atts['responsive'] . '&quot;&gt;&lt;iframe src=&quot;<span class="comment">//docs.google.com/viewer?embedded=true&url=' . $atts['url'] . '&quot; width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; class=&quot;su-document' . su_ecssc( $atts ) . '&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;';</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function gmap( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 400, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'address' =&gt; 'New York', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'gmap' );&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-media-shortcodes' );&nbsp;</div></li><li><div>      return '&lt;div class=&quot;su-gmap su-responsive-media-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot;&gt;&lt;iframe width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; src=&quot;http:<span class="comment">//maps.google.com/maps?q=' . urlencode( su_scattr( $atts['address'] ) ) . '&amp;output=embed&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;';</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function slider( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $return = '';&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'source' =&gt; 'none', &nbsp;</div></li><li><div>              'limit' =&gt; 20, &nbsp;</div></li><li><div>              'gallery' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment">// Dep. 4.3.2</span></span></span></span>&nbsp;</div></li><li><div>              'link' =&gt; 'none', &nbsp;</div></li><li><div>              'target' =&gt; 'self', &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 300, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'title' =&gt; 'yes', &nbsp;</div></li><li><div>              'centered' =&gt; 'yes', &nbsp;</div></li><li><div>              'arrows' =&gt; 'yes', &nbsp;</div></li><li><div>              'pages' =&gt; 'yes', &nbsp;</div></li><li><div>              'mousewheel' =&gt; 'yes', &nbsp;</div></li><li><div>              'autoplay' =&gt; 3000, &nbsp;</div></li><li><div>              'speed' =&gt; 600, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'slider' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Get slides</span></span>&nbsp;</div></li><li><div>      $slides = (array) Su_Tools::get_slides( $atts );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Loop slides</span></span></span>&nbsp;</div></li><li><div>      if ( count( $slides ) ) {&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Prepare unique ID</span></span>&nbsp;</div></li><li><div>          $id = uniqid( 'su_slider_' );&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Links target</span></span>&nbsp;</div></li><li><div>          $target = ( $atts['target'] === 'yes' || $atts['target'] === 'blank' ) ? ' target=&quot;_blank&quot;' : '';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Centered class</span></span>&nbsp;</div></li><li><div>          $centered = ( $atts['centered'] === 'yes' ) ? ' su-slider-centered' : '';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Wheel control</span></span>&nbsp;</div></li><li><div>          $mousewheel = ( $atts['mousewheel'] === 'yes' ) ? 'true' : 'false';&nbsp;</div></li><li><div>          <span class="comment">// Prepare width</span> and height&nbsp;</div></li><li><div>          $size = ( $atts['responsive'] === 'yes' ) ? 'width:100%' : 'width:' . intval( $atts['width'] ) . 'px;height:' . intval( $atts['height'] ) . 'px';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Add lightbox class</span></span></span>&nbsp;</div></li><li><div>          if ( $atts['link'] === 'lightbox' ) $atts['class'] .= ' su-lightbox-gallery';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment"><span class="comment">// Open slide</span></span></span>r</span>&nbsp;</div></li><li><div>          $return .= '&lt;div id=&quot;' . $id . '&quot; class=&quot;su-slider' . $centered . ' su-slider-pages-' . $atts['pages'] . ' su-slider-responsive-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot; style=&quot;' . $size . '&quot; data-autoplay=&quot;' . $atts['autoplay'] . '&quot; data-speed=&quot;' . $atts['speed'] . '&quot; data-mousewheel=&quot;' . $mousewheel . '&quot;&gt;&lt;div class=&quot;su-slider-slides&quot;&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Create slides</span></span></span>&nbsp;</div></li><li><div>          foreach ( $slides as $slide ) {&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">// Crop the image</span></span>&nbsp;</div></li><li><div>              $image = su_image_resize( $slide['image'], $atts['width'], $atts['height'] );&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Prepare slide title</span></span></span>&nbsp;</div></li><li><div>              $title = ( $atts['title'] === 'yes' && $slide['title'] ) ? '&lt;span class=&quot;su-slider-slide-title&quot;&gt;' . stripslashes( $slide['title'] ) . '&lt;/span&gt;' : '';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Open slide</span></span></span>&nbsp;</div></li><li><div>              $return .= '&lt;div class=&quot;su-slider-slide&quot;&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Slide content with link</span></span></span>&nbsp;</div></li><li><div>              if ( $slide['link'] ) $return .= '&lt;a href=&quot;' . $slide['link'] . '&quot;' . $target . 'title=&quot;' . esc_attr( $slide['title'] ) . '&quot;&gt;&lt;img src=&quot;' . $image['url'] . '&quot; alt=&quot;' . esc_attr( $slide['title'] ) . '&quot; /&gt;' . $title . '&lt;/a&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Slide content without link</span></span></span>&nbsp;</div></li><li><div>              else $return .= '&lt;a&gt;&lt;img src=&quot;' . $image['url'] . '&quot; alt=&quot;' . esc_attr( $slide['title'] ) . '&quot; /&gt;' . $title . '&lt;/a&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>&nbsp;</div></li><li><div>              $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>s&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Open nav section</span></span>&nbsp;</div></li><li><div>          $return .= '&lt;div class=&quot;su-slider-nav&quot;&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Append direction nav</span></span>&nbsp;</div></li><li><div>          if ( $atts['arrows'] === 'yes' ) $return .= '&lt;div class=&quot;su-slider-direction&quot;&gt;&lt;span class=&quot;su-slider-prev&quot;&gt;&lt;/span&gt;&lt;span class=&quot;su-slider-next&quot;&gt;&lt;/span&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Append pagination nav</span></span>&nbsp;</div></li><li><div>          $return .= '&lt;div class=&quot;su-slider-pagination&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Close nav section</span></span>&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>r&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Add lightbox assets</span></span></span>&nbsp;</div></li><li><div>          if ( $atts['link'] === 'lightbox' ) {&nbsp;</div></li><li><div>              su_query_asset( 'css', 'magnific-popup' );&nbsp;</div></li><li><div>              su_query_asset( 'js', 'magnific-popup' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          su_query_asset( 'css', 'su-galleries-shortcodes' );&nbsp;</div></li><li><div>          su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>          su_query_asset( 'js', 'swiper' );&nbsp;</div></li><li><div>          su_query_asset( 'js', 'su-galleries-shortcodes' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Slides not found</span></span></span>&nbsp;</div></li><li><div>      else $return = Su_Tools::error( __FUNCTION__, __( 'images not found', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function carousel( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $return = '';&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'source' =&gt; 'none', &nbsp;</div></li><li><div>              'limit' =&gt; 20, &nbsp;</div></li><li><div>              'gallery' =&gt; null, <span class="comment"><span class="comment"><span class="comment"><span class="comment">// Dep. 4.3.2</span></span></span></span>&nbsp;</div></li><li><div>              'link' =&gt; 'none', &nbsp;</div></li><li><div>              'target' =&gt; 'self', &nbsp;</div></li><li><div>              'width' =&gt; 600, &nbsp;</div></li><li><div>              'height' =&gt; 100, &nbsp;</div></li><li><div>              'responsive' =&gt; 'yes', &nbsp;</div></li><li><div>              'items' =&gt; 3, &nbsp;</div></li><li><div>              'scroll' =&gt; 1, &nbsp;</div></li><li><div>              'title' =&gt; 'yes', &nbsp;</div></li><li><div>              'centered' =&gt; 'yes', &nbsp;</div></li><li><div>              'arrows' =&gt; 'yes', &nbsp;</div></li><li><div>              'pages' =&gt; 'no', &nbsp;</div></li><li><div>              'mousewheel' =&gt; 'yes', &nbsp;</div></li><li><div>              'autoplay' =&gt; 3000, &nbsp;</div></li><li><div>              'speed' =&gt; 600, &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'carousel' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Get slides</span></span>&nbsp;</div></li><li><div>      $slides = (array) Su_Tools::get_slides( $atts );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Loop slides</span></span></span>&nbsp;</div></li><li><div>      if ( count( $slides ) ) {&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Prepare unique ID</span></span>&nbsp;</div></li><li><div>          $id = uniqid( 'su_carousel_' );&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Links target</span></span>&nbsp;</div></li><li><div>          $target = ( $atts['target'] === 'yes' || $atts['target'] === 'blank' ) ? ' target=&quot;_blank&quot;' : '';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Centered class</span></span>&nbsp;</div></li><li><div>          $centered = ( $atts['centered'] === 'yes' ) ? ' su-carousel-centered' : '';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Wheel control</span></span>&nbsp;</div></li><li><div>          $mousewheel = ( $atts['mousewheel'] === 'yes' ) ? 'true' : 'false';&nbsp;</div></li><li><div>          <span class="comment">// Prepare width</span> and height&nbsp;</div></li><li><div>          $size = ( $atts['responsive'] === 'yes' ) ? 'width:100%' : 'width:' . intval( $atts['width'] ) . 'px;height:' . intval( $atts['height'] ) . 'px';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Add lightbox class</span></span></span>&nbsp;</div></li><li><div>          if ( $atts['link'] === 'lightbox' ) $atts['class'] .= ' su-lightbox-gallery';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment"><span class="comment">// Open slide</span></span></span>r</span>&nbsp;</div></li><li><div>          $return .= '&lt;div id=&quot;' . $id . '&quot; class=&quot;su-carousel' . $centered . ' su-carousel-pages-' . $atts['pages'] . ' su-carousel-responsive-' . $atts['responsive'] . su_ecssc( $atts ) . '&quot; style=&quot;' . $size . '&quot; data-autoplay=&quot;' . $atts['autoplay'] . '&quot; data-speed=&quot;' . $atts['speed'] . '&quot; data-mousewheel=&quot;' . $mousewheel . '&quot; data-items=&quot;' . $atts['items'] . '&quot; data-scroll=&quot;' . $atts['scroll'] . '&quot;&gt;&lt;div class=&quot;su-carousel-slides&quot;&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Create slides</span></span></span>&nbsp;</div></li><li><div>          foreach ( (array) $slides as $slide ) {&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">// Crop the image</span></span>&nbsp;</div></li><li><div>              $image = su_image_resize( $slide['image'], ( round( $atts['width'] / $atts['items'] ) - 18 ), $atts['height'] );&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Prepare slide title</span></span></span>&nbsp;</div></li><li><div>              $title = ( $atts['title'] === 'yes' && $slide['title'] ) ? '&lt;span class=&quot;su-carousel-slide-title&quot;&gt;' . stripslashes( $slide['title'] ) . '&lt;/span&gt;' : '';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Open slide</span></span></span>&nbsp;</div></li><li><div>              $return .= '&lt;div class=&quot;su-carousel-slide&quot;&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Slide content with link</span></span></span>&nbsp;</div></li><li><div>              if ( $slide['link'] ) $return .= '&lt;a href=&quot;' . $slide['link'] . '&quot;' . $target . 'title=&quot;' . esc_attr( $slide['title'] ) . '&quot;&gt;&lt;img src=&quot;' . $image['url'] . '&quot; alt=&quot;' . esc_attr( $slide['title'] ) . '&quot; /&gt;' . $title . '&lt;/a&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Slide content without link</span></span></span>&nbsp;</div></li><li><div>              else $return .= '&lt;a&gt;&lt;img src=&quot;' . $image['url'] . '&quot; alt=&quot;' . esc_attr( $slide['title'] ) . '&quot; /&gt;' . $title . '&lt;/a&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>&nbsp;</div></li><li><div>              $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>s&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Open nav section</span></span>&nbsp;</div></li><li><div>          $return .= '&lt;div class=&quot;su-carousel-nav&quot;&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Append direction nav</span></span>&nbsp;</div></li><li><div>          if ( $atts['arrows'] === 'yes'&nbsp;</div></li><li><div> ) $return .= '&lt;div class=&quot;su-carousel-direction&quot;&gt;&lt;span class=&quot;su-carousel-prev&quot;&gt;&lt;/span&gt;&lt;span class=&quot;su-carousel-next&quot;&gt;&lt;/span&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Append pagination nav</span></span>&nbsp;</div></li><li><div>          $return .= '&lt;div class=&quot;su-carousel-pagination&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Close nav section</span></span>&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>r&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Add lightbox assets</span></span></span>&nbsp;</div></li><li><div>          if ( $atts['link'] === 'lightbox' ) {&nbsp;</div></li><li><div>              su_query_asset( 'css', 'magnific-popup' );&nbsp;</div></li><li><div>              su_query_asset( 'js', 'magnific-popup' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          su_query_asset( 'css', 'su-galleries-shortcodes' );&nbsp;</div></li><li><div>          su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>          su_query_asset( 'js', 'swiper' );&nbsp;</div></li><li><div>          su_query_asset( 'js', 'su-galleries-shortcodes' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Slides not found</span></span></span>&nbsp;</div></li><li><div>      else $return = Su_Tools::error( __FUNCTION__, __( 'images not found', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function custom_gallery( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $return = '';&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'source' =&gt; 'none', &nbsp;</div></li><li><div>              'limit' =&gt; 20, &nbsp;</div></li><li><div>              'gallery' =&gt; null, <span class="comment">// Dep. 4.4.0</span>&nbsp;</div></li><li><div>              'link' =&gt; 'none', &nbsp;</div></li><li><div>              'width' =&gt; 90, &nbsp;</div></li><li><div>              'height' =&gt; 90, &nbsp;</div></li><li><div>              'title' =&gt; 'hover', &nbsp;</div></li><li><div>              'target' =&gt; 'self', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'custom_gallery' );&nbsp;</div></li><li><div>      $slides = (array) Su_Tools::get_slides( $atts );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Loop slides</span></span></span>&nbsp;</div></li><li><div>      if ( count( $slides ) ) {&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Prepare link</span>s target</span>&nbsp;</div></li><li><div>          $atts['target'] = ( $atts['target'] === 'yes' || $atts['target'] === 'blank' ) ? ' target=&quot;_blank&quot;' : '';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Add lightbox class</span></span></span>&nbsp;</div></li><li><div>          if ( $atts['link'] === 'lightbox' ) $atts['class'] .= ' su-lightbox-gallery';&nbsp;</div></li><li><div>          <span class="comment">// Open gallery</span>&nbsp;</div></li><li><div>          $return = '&lt;div class=&quot;su-custom-gallery su-custom-gallery-title-' . $atts['title'] . su_ecssc( $atts ) . '&quot;&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Create slides</span></span></span>&nbsp;</div></li><li><div>          foreach ( $slides as $slide ) {&nbsp;</div></li><li><div>              <span class="comment">// Crop image</span>&nbsp;</div></li><li><div>              $image = su_image_resize( $slide['image'], $atts['width'], $atts['height'] );&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Prepare slide title</span></span></span>&nbsp;</div></li><li><div>              $title = ( $slide['title'] ) ? '&lt;span class=&quot;su-custom-gallery-title&quot;&gt;' . stripslashes( $slide['title'] ) . '&lt;/span&gt;' : '';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Open slide</span></span></span>&nbsp;</div></li><li><div>              $return .= '&lt;div class=&quot;su-custom-gallery-slide&quot;&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Slide content with link</span></span></span>&nbsp;</div></li><li><div>              if ( $slide['link'] ) $return .= '&lt;a href=&quot;' . $slide['link'] . '&quot;' . $atts['target'] . 'title=&quot;' . esc_attr( $slide['title'] ) . '&quot;&gt;&lt;img src=&quot;' . $image['url'] . '&quot; alt=&quot;' . esc_attr( $slide['title'] ) . '&quot; width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; /&gt;' . $title . '&lt;/a&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Slide content without link</span></span></span>&nbsp;</div></li><li><div>              else $return .= '&lt;a&gt;&lt;img src=&quot;' . $image['url'] . '&quot; alt=&quot;' . esc_attr( $slide['title'] ) . '&quot; width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; /&gt;' . $title . '&lt;/a&gt;';&nbsp;</div></li><li><div>              <span class="comment"><span class="comment"><span class="comment">// Close slide</span></span></span>&nbsp;</div></li><li><div>              $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          <span class="comment">// Clear floats</span>&nbsp;</div></li><li><div>          $return .= '&lt;div class=&quot;su-clear&quot;&gt;&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment">// Close gallery</span>&nbsp;</div></li><li><div>          $return .= '&lt;/div&gt;';&nbsp;</div></li><li><div>          <span class="comment"><span class="comment"><span class="comment">// Add lightbox assets</span></span></span>&nbsp;</div></li><li><div>          if ( $atts['link'] === 'lightbox' ) {&nbsp;</div></li><li><div>              su_query_asset( 'css', 'magnific-popup' );&nbsp;</div></li><li><div>              su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>              su_query_asset( 'js', 'magnific-popup' );&nbsp;</div></li><li><div>              su_query_asset( 'js', 'su-galleries-shortcodes' );&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          su_query_asset( 'css', 'su-galleries-shortcodes' );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Slides not found</span></span></span>&nbsp;</div></li><li><div>      else $return = Su_Tools::error( __FUNCTION__, __( 'images not found', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function posts( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      <span class="comment">// Prepare error var</span>&nbsp;</div></li><li><div>      $error = null;&nbsp;</div></li><li><div>      <span class="comment">// Parse attributes</span>&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'template' =&gt; 'templates/default-loop.php', &nbsp;</div></li><li><div>              'id' =&gt; false, &nbsp;</div></li><li><div>              'posts_per_page' =&gt; get_option( 'posts_per_page' ), &nbsp;</div></li><li><div>              'post_type' =&gt; 'post', &nbsp;</div></li><li><div>              'taxonomy' =&gt; 'category', &nbsp;</div></li><li><div>              'tax_term' =&gt; false, &nbsp;</div></li><li><div>              'tax_operator' =&gt; 'IN', &nbsp;</div></li><li><div>              'author' =&gt; '', &nbsp;</div></li><li><div>              'tag' =&gt; '', &nbsp;</div></li><li><div>              'meta_key' =&gt; '', &nbsp;</div></li><li><div>              'offset' =&gt; 0, &nbsp;</div></li><li><div>              'order' =&gt; 'DESC', &nbsp;</div></li><li><div>              'orderby' =&gt; 'date', &nbsp;</div></li><li><div>              'post_parent' =&gt; false, &nbsp;</div></li><li><div>              'post_status' =&gt; 'publish', &nbsp;</div></li><li><div>              'ignore_sticky_posts' =&gt; 'no'&nbsp;</div></li><li><div> ), $atts, 'posts' );&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $original_atts = $atts;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      $author = sanitize_text_field( $atts['author'] );&nbsp;</div></li><li><div>      $id = $atts['id']; <span class="comment"><span class="comment">// Sanitize</span>d later as an array of integers</span>&nbsp;</div></li><li><div>      $ignore_sticky_posts = (bool) ( $atts['ignore_sticky_posts'] === 'yes' ) ? true : false;&nbsp;</div></li><li><div>      $meta_key = sanitize_text_field( $atts['meta_key'] );&nbsp;</div></li><li><div>      $offset = intval( $atts['offset'] );&nbsp;</div></li><li><div>      $order = sanitize_key( $atts['order'] );&nbsp;</div></li><li><div>      $orderby = sanitize_key( $atts['orderby'] );&nbsp;</div></li><li><div>      $post_parent = $atts['post_parent'];&nbsp;</div></li><li><div>      $post_status = $atts['post_status'];&nbsp;</div></li><li><div>      $post_type = sanitize_text_field( $atts['post_type'] );&nbsp;</div></li><li><div>      $posts_per_page = intval( $atts['posts_per_page'] );&nbsp;</div></li><li><div>      $tag = sanitize_text_field( $atts['tag'] );&nbsp;</div></li><li><div>      $tax_operator = $atts['tax_operator'];&nbsp;</div></li><li><div>      $tax_term = sanitize_text_field( $atts['tax_term'] );&nbsp;</div></li><li><div>      $taxonomy = sanitize_key( $atts['taxonomy'] );&nbsp;</div></li><li><div>      <span class="comment">// Set up initial query for post</span>&nbsp;</div></li><li><div>      $args = array(&nbsp;</div></li><li><div>          'category_name' =&gt; '', &nbsp;</div></li><li><div>          'order' =&gt; $order, &nbsp;</div></li><li><div>          'orderby' =&gt; $orderby, &nbsp;</div></li><li><div>          'post_type' =&gt; explode( ', ', $post_type ), &nbsp;</div></li><li><div>          'posts_per_page' =&gt; $posts_per_page, &nbsp;</div></li><li><div>          'tag' =&gt; $tag&nbsp;</div></li><li><div> );&nbsp;</div></li><li><div>      <span class="comment">// Ignore Sticky Posts</span>&nbsp;</div></li><li><div>      if ( $ignore_sticky_posts ) $args['ignore_sticky_posts'] = true;&nbsp;</div></li><li><div>      <span class="comment">// Meta key (for ordering)</span>&nbsp;</div></li><li><div>      if ( !empty( $meta_key ) ) $args['meta_key'] = $meta_key;&nbsp;</div></li><li><div>      <span class="comment">// If Post IDs</span>&nbsp;</div></li><li><div>      if ( $id ) {&nbsp;</div></li><li><div>          $posts_in = array_map( 'intval', explode( ', ', $id ) );&nbsp;</div></li><li><div>          $args['post__in'] = $posts_in;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Post Author</span>&nbsp;</div></li><li><div>      if ( !empty( $author ) ) $args['author'] = $author;&nbsp;</div></li><li><div>      <span class="comment">// Offset</span>&nbsp;</div></li><li><div>      if ( !empty( $offset ) ) $args['offset'] = $offset;&nbsp;</div></li><li><div>      <span class="comment">// Post Status</span>&nbsp;</div></li><li><div>      $post_status = explode( ', ', $post_status );&nbsp;</div></li><li><div>      $validated = array();&nbsp;</div></li><li><div>      $available = array( 'publish', 'pending', 'draft', 'auto-draft', 'future', 'private', 'inherit', 'trash', 'any' );&nbsp;</div></li><li><div>      foreach ( $post_status as $unvalidated ) {&nbsp;</div></li><li><div>          if ( in_array( $unvalidated, $available ) ) $validated[] = $unvalidated;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      if ( !empty( $validated ) ) $args['post_status'] = $validated;&nbsp;</div></li><li><div>      <span class="comment">// If taxonomy attributes, create a taxonomy query</span>&nbsp;</div></li><li><div>      if ( !empty( $taxonomy ) && !empty( $tax_term ) ) {&nbsp;</div></li><li><div>          <span class="comment">// Term string to array</span>&nbsp;</div></li><li><div>          $tax_term = explode( ', ', $tax_term );&nbsp;</div></li><li><div>          <span class="comment">// Validate operator</span>&nbsp;</div></li><li><div>          if ( !in_array( $tax_operator, array( 'IN', 'NOT IN', 'AND' ) ) ) $tax_operator = 'IN';&nbsp;</div></li><li><div>          $tax_args = array( 'tax_query' =&gt; array( array(&nbsp;</div></li><li><div>                      'taxonomy' =&gt; $taxonomy, &nbsp;</div></li><li><div>                      'field' =&gt; ( is_numeric( $tax_term[0] ) ) ? 'id' : 'slug', &nbsp;</div></li><li><div>                      'terms' =&gt; $tax_term, &nbsp;</div></li><li><div>                      'operator' =&gt; $tax_operator ) ) );&nbsp;</div></li><li><div>          <span class="comment">// Check for multiple taxonomy queries</span>&nbsp;</div></li><li><div>          $count = 2;&nbsp;</div></li><li><div>          $more_tax_queries = false;&nbsp;</div></li><li><div>          while ( isset( $original_atts['taxonomy_' . $count] ) && !empty( $original_atts['taxonomy_' . $count] ) &&&nbsp;</div></li><li><div>              isset( $original_atts['tax_' . $count . '_term'] ) &&&nbsp;</div></li><li><div>              !empty( $original_atts['tax_' . $count . '_term'] ) ) {&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">// Sanitize</span> values</span>&nbsp;</div></li><li><div>              $more_tax_queries = true;&nbsp;</div></li><li><div>              $taxonomy = sanitize_key( $original_atts['taxonomy_' . $count] );&nbsp;</div></li><li><div>              $terms = explode( ', ', sanitize_text_field( $original_atts['tax_' . $count . '_term'] ) );&nbsp;</div></li><li><div>              $tax_operator = isset( $original_atts['tax_' . $count . '_operator'] ) ? $original_atts[&nbsp;</div></li><li><div>              'tax_' . $count . '_operator'] : 'IN';&nbsp;</div></li><li><div>              $tax_operator = in_array( $tax_operator, array( 'IN', 'NOT IN', 'AND' ) ) ? $tax_operator : 'IN';&nbsp;</div></li><li><div>              $tax_args['tax_query'][] = array( 'taxonomy' =&gt; $taxonomy, &nbsp;</div></li><li><div>                  'field' =&gt; 'slug', &nbsp;</div></li><li><div>                  'terms' =&gt; $terms, &nbsp;</div></li><li><div>                  'operator' =&gt; $tax_operator );&nbsp;</div></li><li><div>              $count++;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          if ( $more_tax_queries ):&nbsp;</div></li><li><div>              $tax_relation = 'AND';&nbsp;</div></li><li><div>          if ( isset( $original_atts['tax_relation'] ) &&&nbsp;</div></li><li><div>              in_array( $original_atts['tax_relation'], array( 'AND', 'OR' ) )&nbsp;</div></li><li><div> ) $tax_relation = $original_atts['tax_relation'];&nbsp;</div></li><li><div>          $args['tax_query']['relation'] = $tax_relation;&nbsp;</div></li><li><div>          endif;&nbsp;</div></li><li><div>          $args = array_merge( $args, $tax_args );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>      <span class="comment">// If post parent attribute, set up parent</span>&nbsp;</div></li><li><div>      if ( $post_parent ) {&nbsp;</div></li><li><div>          if ( 'current' == $post_parent ) {&nbsp;</div></li><li><div>              global $post;&nbsp;</div></li><li><div>              $post_parent = $post-&gt;ID;&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>          $args['post_parent'] = intval( $post_parent );&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Save original posts</span>&nbsp;</div></li><li><div>      global $posts;&nbsp;</div></li><li><div>      $original_posts = $posts;&nbsp;</div></li><li><div>      <span class="comment">// Query posts</span>&nbsp;</div></li><li><div>      $posts = new WP_Query( $args );&nbsp;</div></li><li><div>      <span class="comment">// Buffer output</span>&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>      <span class="comment">// Search for template in stylesheet directory</span>&nbsp;</div></li><li><div>      if ( file_exists( STYLESHEETPATH . '/' . $atts['template'] ) ) load_template( STYLESHEETPATH . '/' . $atts['template'], false );&nbsp;</div></li><li><div>      <span class="comment">// Search for template in theme directory</span>&nbsp;</div></li><li><div>      elseif ( file_exists( TEMPLATEPATH . '/' . $atts['template'] ) ) load_template( TEMPLATEPATH . '/' . $atts['template'], false );&nbsp;</div></li><li><div>      <span class="comment">// Search for template in plugin directory</span>&nbsp;</div></li><li><div>      elseif ( path_join( dirname( SU_PLUGIN_FILE ), $atts['template'] ) ) load_template( path_join( dirname( SU_PLUGIN_FILE ), $atts['template'] ), false );&nbsp;</div></li><li><div>      <span class="comment">// Template not found</span>&nbsp;</div></li><li><div>      else echo Su_Tools::error( __FUNCTION__, __( 'template not found', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      $output = ob_get_contents();&nbsp;</div></li><li><div>      ob_end_clean();&nbsp;</div></li><li><div>      <span class="comment">// Return original posts</span>&nbsp;</div></li><li><div>      $posts = $original_posts;&nbsp;</div></li><li><div>      <span class="comment">// Reset the query</span>&nbsp;</div></li><li><div>      wp_reset_postdata();&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return $output;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function dummy_text( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'amount' =&gt; 1, &nbsp;</div></li><li><div>              'what' =&gt; 'paras', &nbsp;</div></li><li><div>              'cache' =&gt; 'yes', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'dummy_text' );&nbsp;</div></li><li><div>      $transient = 'su/cache/dummy_text/' . sanitize_text_field( $atts['what'] ) . '/' . intval( $atts['amount'] );&nbsp;</div></li><li><div>      $return = get_transient( $transient );&nbsp;</div></li><li><div>      if ( $return && $atts['cache'] === 'yes' && SU_ENABLE_CACHE ) return $return;&nbsp;</div></li><li><div>      else {&nbsp;</div></li><li><div>          $xml = simplexml_load_file( 'http:<span class="comment">//www.lipsum.com/feed/xml?amount=' . $atts['amount'] . '&what=' . $atts['what'] . '&start=0' );</span>&nbsp;</div></li><li><div>          $return = '&lt;div class=&quot;su-dummy-text' . su_ecssc( $atts ) . '&quot;&gt;' . wpautop( str_replace( &quot;\n&quot;, &quot;\n\n&quot;, $xml-&gt;lipsum ) ) . '&lt;/div&gt;';&nbsp;</div></li><li><div>          set_transient( $transient, $return, 60*60*24*30 );&nbsp;</div></li><li><div>          return $return;&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function dummy_image( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'width' =&gt; 500, &nbsp;</div></li><li><div>              'height' =&gt; 300, &nbsp;</div></li><li><div>              'theme' =&gt; 'any', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'dummy_image' );&nbsp;</div></li><li><div>      $url = 'http:<span class="comment">//lorempixel.com/' . $atts['width'] . '/' . $atts['height'] . '/';</span>&nbsp;</div></li><li><div>      if ( $atts['theme'] !== 'any' ) $url .= $atts['theme'] . '/' . rand( 0, 10 ) . '/';&nbsp;</div></li><li><div>      return '&lt;img src=&quot;' . $url . '&quot; alt=&quot;' . __( 'Dummy image', 'shortcodes-ultimate' ) . '&quot; width=&quot;' . $atts['width'] . '&quot; height=&quot;' . $atts['height'] . '&quot; class=&quot;su-dummy-image' . su_ecssc( $atts ) . '&quot; /&gt;';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function animate( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'type' =&gt; 'bounceIn', &nbsp;</div></li><li><div>              'duration' =&gt; 1, &nbsp;</div></li><li><div>              'delay' =&gt; 0, &nbsp;</div></li><li><div>              'inline' =&gt; 'no', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'animate' );&nbsp;</div></li><li><div>      $tag = ( $atts['inline'] === 'yes' ) ? 'span' : 'div';&nbsp;</div></li><li><div>      $time = '-webkit-animation-duration:' . $atts['duration'] . 's;-webkit-animation-delay:' . $atts['delay'] . 's;animation-duration:' . $atts['duration'] . 's;animation-delay:' . $atts['delay'] . 's;';&nbsp;</div></li><li><div>      $return = '&lt;' . $tag . ' class=&quot;su-animate' . su_ecssc( $atts ) . '&quot; style=&quot;visibility:hidden;' . $time . '&quot; data-animation=&quot;' . $atts['type'] . '&quot; data-duration=&quot;' . $atts['duration'] . '&quot; data-delay=&quot;' . $atts['delay'] . '&quot;&gt;' . do_shortcode( $content ) . '&lt;/' . $tag . '&gt;';&nbsp;</div></li><li><div>      su_query_asset( 'css', 'animate' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'jquery' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'inview' );&nbsp;</div></li><li><div>      su_query_asset( 'js', 'su-other-shortcodes' );&nbsp;</div></li><li><div>      return $return;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function meta( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'key' =&gt; '', &nbsp;</div></li><li><div>              'default' =&gt; '', &nbsp;</div></li><li><div>              'before' =&gt; '', &nbsp;</div></li><li><div>              'after' =&gt; '', &nbsp;</div></li><li><div>              'post_id' =&gt; '', &nbsp;</div></li><li><div>              'filter' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'meta' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Define current post ID</span></span>&nbsp;</div></li><li><div>      if ( !$atts['post_id'] ) $atts['post_id'] = get_the_ID();&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Check post ID</span></span>&nbsp;</div></li><li><div>      if ( !is_numeric( $atts['post_id'] ) || $atts['post_id'] &lt; 1 ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;Meta: %s&lt;/p&gt;', __( 'post ID is incorrect', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment">// Check key name</span>&nbsp;</div></li><li><div>      if ( !$atts['key'] ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;Meta: %s&lt;/p&gt;', __( 'please specify meta key name', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment">// Get the meta</span>&nbsp;</div></li><li><div>      $meta = get_post_meta( $atts['post_id'], $atts['key'], true );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Set default value if meta is empty</span></span>&nbsp;</div></li><li><div>      if ( !$meta ) $meta = $atts['default'];&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Apply cutom filter</span></span></span>&nbsp;</div></li><li><div>      if ( $atts['filter'] && function_exists( $atts['filter'] ) ) $meta = call_user_func( $atts['filter'], $meta );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return ( $meta ) ? $atts['before'] . $meta . $atts['after'] : '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function user( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'field' =&gt; 'display_name', &nbsp;</div></li><li><div>              'default' =&gt; '', &nbsp;</div></li><li><div>              'before' =&gt; '', &nbsp;</div></li><li><div>              'after' =&gt; '', &nbsp;</div></li><li><div>              'user_id' =&gt; '', &nbsp;</div></li><li><div>              'filter' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'user' );&nbsp;</div></li><li><div>      <span class="comment">// Check for password requests</span>&nbsp;</div></li><li><div>      if ( $atts['field'] === 'user_pass' ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;User: %s&lt;/p&gt;', __( 'password field is not allowed', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment">// Define current user ID</span>&nbsp;</div></li><li><div>      if ( !$atts['user_id'] ) $atts['user_id'] = get_current_user_id();&nbsp;</div></li><li><div>      <span class="comment">// Check user ID</span>&nbsp;</div></li><li><div>      if ( !is_numeric( $atts['user_id'] ) || $atts['user_id'] &lt; 1 ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;User: %s&lt;/p&gt;', __( 'user ID is incorrect', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment">// Get user data</span>&nbsp;</div></li><li><div>      $user = get_user_by( 'id', $atts['user_id'] );&nbsp;</div></li><li><div>      <span class="comment">// Get user data</span> if user was found&nbsp;</div></li><li><div>      $user = ( $user && isset( $user-&gt;data-&gt;$atts['field'] ) ) ? $user-&gt;data-&gt;$atts['field'] : $atts['default'];&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Apply cutom filter</span></span></span>&nbsp;</div></li><li><div>      if ( $atts['filter'] && function_exists( $atts['filter'] ) ) $user = call_user_func( $atts['filter'], $user );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return ( $user ) ? $atts['before'] . $user . $atts['after'] : '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function post( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'field' =&gt; 'post_title', &nbsp;</div></li><li><div>              'default' =&gt; '', &nbsp;</div></li><li><div>              'before' =&gt; '', &nbsp;</div></li><li><div>              'after' =&gt; '', &nbsp;</div></li><li><div>              'post_id' =&gt; '', &nbsp;</div></li><li><div>              'filter' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'post' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Define current post ID</span></span>&nbsp;</div></li><li><div>      if ( !$atts['post_id'] ) $atts['post_id'] = get_the_ID();&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Check post ID</span></span>&nbsp;</div></li><li><div>      if ( !is_numeric( $atts['post_id'] ) || $atts['post_id'] &lt; 1 ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;Post: %s&lt;/p&gt;', __( 'post ID is incorrect', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment">// Get the post</span>&nbsp;</div></li><li><div>      $post = get_post( $atts['post_id'] );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Set default value if meta is empty</span></span>&nbsp;</div></li><li><div>      $post = ( empty( $post ) || empty( $post-&gt;$atts['field'] ) ) ? $atts['default'] : $post-&gt;$atts['field'];&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment">// Apply cutom filter</span></span></span>&nbsp;</div></li><li><div>      if ( $atts['filter'] && function_exists( $atts['filter'] ) ) $post = call_user_func( $atts['filter'], $post );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return ( $post ) ? $atts['before'] . $post . $atts['after'] : '';&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  <span class="comment">// public static function post_terms( $atts = null, $content = null ) {</span>&nbsp;</div></li><li><div>  <span class="comment">//  $atts = shortcode_atts( array(</span>&nbsp;</div></li><li><div>  <span class="comment">//    'post_id' =&gt; '', </span>&nbsp;</div></li><li><div>  <span class="comment">//    'taxonomy' =&gt; 'category', </span>&nbsp;</div></li><li><div>  <span class="comment">//    'limit' =&gt; '5', </span>&nbsp;</div></li><li><div>  <span class="comment">//    'links' =&gt; '', </span>&nbsp;</div></li><li><div>  <span class="comment">//    'format' =&gt; ''</span>&nbsp;</div></li><li><div>  <span class="comment">// ), $atts, 'post_terms' );</span>&nbsp;</div></li><li><div>  //  <span class="comment"><span class="comment">// Define current post ID</span></span>&nbsp;</div></li><li><div>  <span class="comment">//  if ( !$atts['post_id'] ) $atts['post_id'] = get_the_ID();</span>&nbsp;</div></li><li><div>  //  <span class="comment"><span class="comment">// Check post ID</span></span>&nbsp;</div></li><li><div>  <span class="comment">//  if ( !is_numeric( $atts['post_id'] ) || $atts['post_id'] &lt; 1 ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;Post terms: %s&lt;/p&gt;', __( 'post ID is incorrect', 'shortcodes-ultimate' ) );</span>&nbsp;</div></li><li><div>  <span class="comment">// }</span>&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function template( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'name' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'template' );&nbsp;</div></li><li><div>      <span class="comment">// Check template name</span>&nbsp;</div></li><li><div>      if ( !$atts['name'] ) return sprintf( '&lt;p class=&quot;su-error&quot;&gt;Template: %s&lt;/p&gt;', __( 'please specify template name', 'shortcodes-ultimate' ) );&nbsp;</div></li><li><div>      <span class="comment">// Get template output</span>&nbsp;</div></li><li><div>      ob_start();&nbsp;</div></li><li><div>      get_template_part( str_replace( '.php', '', $atts['name'] ) );&nbsp;</div></li><li><div>      $output = ob_get_contents();&nbsp;</div></li><li><div>      ob_end_clean();&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return $output;&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function qrcode( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'data' =&gt; '', &nbsp;</div></li><li><div>              'title' =&gt; '', &nbsp;</div></li><li><div>              'size' =&gt; 200, &nbsp;</div></li><li><div>              'margin' =&gt; 0, &nbsp;</div></li><li><div>              'align' =&gt; 'none', &nbsp;</div></li><li><div>              'link' =&gt; '', &nbsp;</div></li><li><div>              'target' =&gt; 'blank', &nbsp;</div></li><li><div>              'color' =&gt; '#000000', &nbsp;</div></li><li><div>              'background' =&gt; '#ffffff', &nbsp;</div></li><li><div>              'class' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'qrcode' );&nbsp;</div></li><li><div>      <span class="comment">// Check the data</span>&nbsp;</div></li><li><div>      if ( !$atts['data'] ) return 'QR code: ' . __( 'please specify the data', 'shortcodes-ultimate' );&nbsp;</div></li><li><div>      <span class="comment">// Prepare link</span>&nbsp;</div></li><li><div>      $href = ( $atts['link'] ) ? ' href=&quot;' . $atts['link'] . '&quot;' : '';&nbsp;</div></li><li><div>      <span class="comment">// Prepare clickable class</span>&nbsp;</div></li><li><div>      if ( $atts['link'] ) $atts['class'] .= ' su-qrcode-clickable';&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Prepare title</span></span>&nbsp;</div></li><li><div>      $atts['title'] = esc_attr( $atts['title'] );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Query assets</span></span>&nbsp;</div></li><li><div>      su_query_asset( 'css', 'su-content-shortcodes' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span>&nbsp;</div></li><li><div>      return '&lt;span class=&quot;su-qrcode su-qrcode-align-' . $atts['align'] . su_ecssc( $atts ) . '&quot;&gt;&lt;a' . $href . ' target=&quot;_' . $atts['target'] . '&quot; title=&quot;' . $atts['title'] . '&quot;&gt;&lt;img src=&quot;https:<span class="comment">//api.qrserver.com/v1/create-qr-code/?data=' . urlencode( $atts['data'] ) . '&size=' . $atts['size'] . 'x' . $atts['size'] . '&format=png&margin=' . $atts['margin'] . '&color=' . su_hex2rgb( $atts['color'] ) . '&bgcolor=' . su_hex2rgb( $atts['background'] ) . '&quot; alt=&quot;' . $atts['title'] . '&quot; /&gt;&lt;/a&gt;&lt;/span&gt;';</span>&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>  public static function scheduler( $atts = null, $content = null ) {&nbsp;</div></li><li><div>      $atts = shortcode_atts( array(&nbsp;</div></li><li><div>              'time' =&gt; 'all', &nbsp;</div></li><li><div>              'days_week' =&gt; 'all', &nbsp;</div></li><li><div>              'days_month' =&gt; 'all', &nbsp;</div></li><li><div>              'months' =&gt; 'all', &nbsp;</div></li><li><div>              'years' =&gt; 'all', &nbsp;</div></li><li><div>              'alt' =&gt; ''&nbsp;</div></li><li><div> ), $atts, 'scheduler' );&nbsp;</div></li><li><div>      <span class="comment"><span class="comment">// Check time</span></span>&nbsp;</div></li><li><div>      if ( $atts['time'] !== 'all' ) {&nbsp;</div></li><li><div>          <span class="comment">// Get current time</span>&nbsp;</div></li><li><div>          $now = current_time( 'timestamp', 0 );&nbsp;</div></li><li><div>          <span class="comment">// Sanitize</span>&nbsp;</div></li><li><div>          $atts['time'] = preg_replace( &quot;/[^0-9-, :]/&quot;, '', $atts['time'] );&nbsp;</div></li><li><div>          <span class="comment">// Loop time ranges</span>&nbsp;</div></li><li><div>          foreach( explode( ', ', $atts['time'] ) as $range ) {&nbsp;</div></li><li><div>              <span class="comment">// Check for range symbol</span>&nbsp;</div></li><li><div>              if ( strpos( $range, '-' ) === false ) return Su_Tools::error( __FUNCTION__, sprintf( __( 'Incorrect time range (%s). Please use - (minus) symbol to specify time range. Example: 14:00 - 18:00', 'shortcodes-ultimate' ), $range ) );&nbsp;</div></li><li><div>              <span class="comment">// Split begin/end time</span>&nbsp;</div></li><li><div>              $time = explode( '-', $range );&nbsp;</div></li><li><div>              <span class="comment">// Add minutes</span>&nbsp;</div></li><li><div>              if ( strpos( $time[0], ':' ) === false ) $time[0] .= ':00';&nbsp;</div></li><li><div>              if ( strpos( $time[1], ':' ) === false ) $time[1] .= ':00';&nbsp;</div></li><li><div>              <span class="comment">// Parse begin/end time</span>&nbsp;</div></li><li><div>              $time[0] = strtotime( $time[0] );&nbsp;</div></li><li><div>              $time[1] = strtotime( $time[1] );&nbsp;</div></li><li><div>              <span class="comment"><span class="comment">// Check time</span></span>&nbsp;</div></li><li><div>              if ( $now &lt; $time[0] || $now &gt; $time[1] ) return $atts['alt'];&nbsp;</div></li><li><div>          }&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Check day of the week</span>&nbsp;</div></li><li><div>      if ( $atts['days_week'] !== 'all' ) {&nbsp;</div></li><li><div>          <span class="comment">// Get current day of the week</span>&nbsp;</div></li><li><div>          $today = date( 'w', current_time( 'timestamp', 0 ) );&nbsp;</div></li><li><div>          <span class="comment">// Sanitize</span> input&nbsp;</div></li><li><div>          $atts['days_week'] = preg_replace( &quot;/[^0-9-, ]/&quot;, '', $atts['days_week'] );&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Parse days range</span></span>&nbsp;</div></li><li><div>          $days = Su_Tools::range( $atts['days_week'] );&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Check current day</span></span>&nbsp;</div></li><li><div>          if ( !in_array( $today, $days ) ) return $atts['alt'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Check day of the month</span>&nbsp;</div></li><li><div>      if ( $atts['days_month'] !== 'all' ) {&nbsp;</div></li><li><div>          <span class="comment">// Get current day of the month</span>&nbsp;</div></li><li><div>          $today = date( 'j', current_time( 'timestamp', 0 ) );&nbsp;</div></li><li><div>          <span class="comment">// Sanitize</span> input&nbsp;</div></li><li><div>          $atts['days_month'] = preg_replace( &quot;/[^0-9-, ]/&quot;, '', $atts['days_month'] );&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Parse days range</span></span>&nbsp;</div></li><li><div>          $days = Su_Tools::range( $atts['days_month'] );&nbsp;</div></li><li><div>          <span class="comment"><span class="comment">// Check current day</span></span>&nbsp;</div></li><li><div>          if ( !in_array( $today, $days ) ) return $atts['alt'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Check month</span>&nbsp;</div></li><li><div>      if ( $atts['months'] !== 'all' ) {&nbsp;</div></li><li><div>          <span class="comment">// Get current month</span>&nbsp;</div></li><li><div>          $now = date( 'n', current_time( 'timestamp', 0 ) );&nbsp;</div></li><li><div>          <span class="comment">// Sanitize</span> input&nbsp;</div></li><li><div>          $atts['months'] = preg_replace( &quot;/[^0-9-, ]/&quot;, '', $atts['months'] );&nbsp;</div></li><li><div>          <span class="comment">// Parse months range</span>&nbsp;</div></li><li><div>          $months = Su_Tools::range( $atts['months'] );&nbsp;</div></li><li><div>          <span class="comment">// Check current month</span>&nbsp;</div></li><li><div>          if ( !in_array( $now, $months ) ) return $atts['alt'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment">// Check year</span>&nbsp;</div></li><li><div>      if ( $atts['years'] !== 'all' ) {&nbsp;</div></li><li><div>          <span class="comment">// Get current year</span>&nbsp;</div></li><li><div>          $now = date( 'Y', current_time( 'timestamp', 0 ) );&nbsp;</div></li><li><div>          <span class="comment">// Sanitize</span> input&nbsp;</div></li><li><div>          $atts['years'] = preg_replace( &quot;/[^0-9-, ]/&quot;, '', $atts['years'] );&nbsp;</div></li><li><div>          <span class="comment">// Parse years range</span>&nbsp;</div></li><li><div>          $years = Su_Tools::range( $atts['years'] );&nbsp;</div></li><li><div>          <span class="comment">// Check current year</span>&nbsp;</div></li><li><div>          if ( !in_array( $now, $years ) ) return $atts['alt'];&nbsp;</div></li><li><div>      }&nbsp;</div></li><li><div>      <span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">// Return result</span></span></span></span></span></span></span></span></span></span></span> (all check passed)&nbsp;</div></li><li><div>      return do_shortcode( $content );&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>}&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>new Su_Shortcodes;&nbsp;</div></li><li><div>&nbsp;</div></li><li><div>class Shortcodes_Ultimate_Shortcodes extends Su_Shortcodes {&nbsp;</div></li><li><div>  function __construct() {&nbsp;</div></li><li><div>      parent::__construct();&nbsp;</div></li><li><div>  }&nbsp;</div></li><li><div>}&nbsp;</div></li></ol></pre>.</p> </section> </article></div><div id="sidebar"><ul class="widgets"><li> <a href="http://hookr.io/plugin/"><img src="http://hookr.io/wp-content/themes/hookr/assets/images/plugin-download.jpg" /></a></li><li id="versions"></li><li id="tags"><dl><dt>Tags</dt><dd><ul><li><span></span>plugin</li><li><span></span>file</li><li><span></span></li><li><span></span>Shortcodes Ultimate</li><li><span></span>4.9.9</li></ul></dd></dl></li></ul></div></div></div><script>Hookr.View.init();Hookr.Single.init();</script><footer><div><ul id="nav-social" class="pivot" role="navigation"><li id="twitter"><a href="http://twitter.com/hookr_io" title="Follow me!"></a></li></ul><div> &copy; 2018 hookr.io <strong>(beta)</strong> | <a href="http://hookr.io/privacy/" title="Privacy">Privacy</a> | Proudly Powered by WordPress</div></div> </footer><script type="text/javascript" src="http://hookr.io/wp-content/cache/minify/000000/M9EvL9BNzU1KTdHLzcwDAA.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49583310-1','hookr.io');ga('send','pageview');</script></body></html>